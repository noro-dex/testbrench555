var Wie=Object.defineProperty;var BN=n=>{throw TypeError(n)};var Hie=(n,e,r)=>e in n?Wie(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r;var Te=(n,e,r)=>Hie(n,typeof e!="symbol"?e+"":e,r),a1=(n,e,r)=>e.has(n)||BN("Cannot "+r);var oe=(n,e,r)=>(a1(n,e,"read from private field"),r?r.call(n):e.get(n)),Xe=(n,e,r)=>e.has(n)?BN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,r),Pe=(n,e,r,i)=>(a1(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),It=(n,e,r)=>(a1(n,e,"access private method"),r);var I0=(n,e,r,i)=>({set _(s){Pe(n,e,s,r)},get _(){return oe(n,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function lx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Gie(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}),r}var AH={exports:{}},cx={},RH={exports:{}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg=Symbol.for("react.element"),Yie=Symbol.for("react.portal"),Vie=Symbol.for("react.fragment"),Kie=Symbol.for("react.strict_mode"),Xie=Symbol.for("react.profiler"),Qie=Symbol.for("react.provider"),Zie=Symbol.for("react.context"),Jie=Symbol.for("react.forward_ref"),ese=Symbol.for("react.suspense"),tse=Symbol.for("react.memo"),nse=Symbol.for("react.lazy"),zN=Symbol.iterator;function rse(n){return n===null||typeof n!="object"?null:(n=zN&&n[zN]||n["@@iterator"],typeof n=="function"?n:null)}var NH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jH=Object.assign,LH={};function Kf(n,e,r){this.props=n,this.context=e,this.refs=LH,this.updater=r||NH}Kf.prototype.isReactComponent={};Kf.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Kf.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function FH(){}FH.prototype=Kf.prototype;function uO(n,e,r){this.props=n,this.context=e,this.refs=LH,this.updater=r||NH}var dO=uO.prototype=new FH;dO.constructor=uO;jH(dO,Kf.prototype);dO.isPureReactComponent=!0;var UN=Array.isArray,$H=Object.prototype.hasOwnProperty,fO={current:null},BH={key:!0,ref:!0,__self:!0,__source:!0};function zH(n,e,r){var i,s={},o=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)$H.call(e,i)&&!BH.hasOwnProperty(i)&&(s[i]=e[i]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(n&&n.defaultProps)for(i in l=n.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:Cg,type:n,key:o,ref:a,props:s,_owner:fO.current}}function ise(n,e){return{$$typeof:Cg,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function hO(n){return typeof n=="object"&&n!==null&&n.$$typeof===Cg}function sse(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(r){return e[r]})}var qN=/\/+/g;function l1(n,e){return typeof n=="object"&&n!==null&&n.key!=null?sse(""+n.key):e.toString(36)}function Vb(n,e,r,i,s){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Cg:case Yie:a=!0}}if(a)return a=n,s=s(a),n=i===""?"."+l1(a,0):i,UN(s)?(r="",n!=null&&(r=n.replace(qN,"$&/")+"/"),Vb(s,e,r,"",function(u){return u})):s!=null&&(hO(s)&&(s=ise(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(qN,"$&/")+"/")+n)),e.push(s)),1;if(a=0,i=i===""?".":i+":",UN(n))for(var l=0;l<n.length;l++){o=n[l];var c=i+l1(o,l);a+=Vb(o,e,r,c,s)}else if(c=rse(n),typeof c=="function")for(n=c.call(n),l=0;!(o=n.next()).done;)o=o.value,c=i+l1(o,l++),a+=Vb(o,e,r,c,s);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function O0(n,e,r){if(n==null)return n;var i=[],s=0;return Vb(n,i,"","",function(o){return e.call(r,o,s++)}),i}function ose(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(r){(n._status===0||n._status===-1)&&(n._status=1,n._result=r)},function(r){(n._status===0||n._status===-1)&&(n._status=2,n._result=r)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Vr={current:null},Kb={transition:null},ase={ReactCurrentDispatcher:Vr,ReactCurrentBatchConfig:Kb,ReactCurrentOwner:fO};function UH(){throw Error("act(...) is not supported in production builds of React.")}Pt.Children={map:O0,forEach:function(n,e,r){O0(n,function(){e.apply(this,arguments)},r)},count:function(n){var e=0;return O0(n,function(){e++}),e},toArray:function(n){return O0(n,function(e){return e})||[]},only:function(n){if(!hO(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Pt.Component=Kf;Pt.Fragment=Vie;Pt.Profiler=Xie;Pt.PureComponent=uO;Pt.StrictMode=Kie;Pt.Suspense=ese;Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ase;Pt.act=UH;Pt.cloneElement=function(n,e,r){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=jH({},n.props),s=n.key,o=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=fO.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(c in e)$H.call(e,c)&&!BH.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:Cg,type:n.type,key:s,ref:o,props:i,_owner:a}};Pt.createContext=function(n){return n={$$typeof:Zie,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Qie,_context:n},n.Consumer=n};Pt.createElement=zH;Pt.createFactory=function(n){var e=zH.bind(null,n);return e.type=n,e};Pt.createRef=function(){return{current:null}};Pt.forwardRef=function(n){return{$$typeof:Jie,render:n}};Pt.isValidElement=hO;Pt.lazy=function(n){return{$$typeof:nse,_payload:{_status:-1,_result:n},_init:ose}};Pt.memo=function(n,e){return{$$typeof:tse,type:n,compare:e===void 0?null:e}};Pt.startTransition=function(n){var e=Kb.transition;Kb.transition={};try{n()}finally{Kb.transition=e}};Pt.unstable_act=UH;Pt.useCallback=function(n,e){return Vr.current.useCallback(n,e)};Pt.useContext=function(n){return Vr.current.useContext(n)};Pt.useDebugValue=function(){};Pt.useDeferredValue=function(n){return Vr.current.useDeferredValue(n)};Pt.useEffect=function(n,e){return Vr.current.useEffect(n,e)};Pt.useId=function(){return Vr.current.useId()};Pt.useImperativeHandle=function(n,e,r){return Vr.current.useImperativeHandle(n,e,r)};Pt.useInsertionEffect=function(n,e){return Vr.current.useInsertionEffect(n,e)};Pt.useLayoutEffect=function(n,e){return Vr.current.useLayoutEffect(n,e)};Pt.useMemo=function(n,e){return Vr.current.useMemo(n,e)};Pt.useReducer=function(n,e,r){return Vr.current.useReducer(n,e,r)};Pt.useRef=function(n){return Vr.current.useRef(n)};Pt.useState=function(n){return Vr.current.useState(n)};Pt.useSyncExternalStore=function(n,e,r){return Vr.current.useSyncExternalStore(n,e,r)};Pt.useTransition=function(){return Vr.current.useTransition()};Pt.version="18.3.1";RH.exports=Pt;var I=RH.exports;const Ae=lx(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lse=I,cse=Symbol.for("react.element"),use=Symbol.for("react.fragment"),dse=Object.prototype.hasOwnProperty,fse=lse.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hse={key:!0,ref:!0,__self:!0,__source:!0};function qH(n,e,r){var i,s={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)dse.call(e,i)&&!hse.hasOwnProperty(i)&&(s[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:cse,type:n,key:o,ref:a,props:s,_owner:fse.current}}cx.Fragment=use;cx.jsx=qH;cx.jsxs=qH;AH.exports=cx;var m=AH.exports,wD={},WH={exports:{}},ji={},HH={exports:{}},GH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(q,H){var X=q.length;q.push(H);e:for(;0<X;){var Y=X-1>>>1,W=q[Y];if(0<s(W,H))q[Y]=H,q[X]=W,X=Y;else break e}}function r(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var H=q[0],X=q.pop();if(X!==H){q[0]=X;e:for(var Y=0,W=q.length,R=W>>>1;Y<R;){var Z=2*(Y+1)-1,J=q[Z],V=Z+1,te=q[V];if(0>s(J,X))V<W&&0>s(te,J)?(q[Y]=te,q[V]=X,Y=V):(q[Y]=J,q[Z]=X,Y=Z);else if(V<W&&0>s(te,X))q[Y]=te,q[V]=X,Y=V;else break e}}return H}function s(q,H){var X=q.sortIndex-H.sortIndex;return X!==0?X:q.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var c=[],u=[],f=1,d=null,h=3,p=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(q){for(var H=r(u);H!==null;){if(H.callback===null)i(u);else if(H.startTime<=q)i(u),H.sortIndex=H.expirationTime,e(c,H);else break;H=r(u)}}function _(q){if(v=!1,k(q),!g)if(r(c)!==null)g=!0,U(S);else{var H=r(u);H!==null&&N(_,H.startTime-q)}}function S(q,H){g=!1,v&&(v=!1,b(D),D=-1),p=!0;var X=h;try{for(k(H),d=r(c);d!==null&&(!(d.expirationTime>H)||q&&!A());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,h=d.priorityLevel;var W=Y(d.expirationTime<=H);H=n.unstable_now(),typeof W=="function"?d.callback=W:d===r(c)&&i(c),k(H)}else i(c);d=r(c)}if(d!==null)var R=!0;else{var Z=r(u);Z!==null&&N(_,Z.startTime-H),R=!1}return R}finally{d=null,h=X,p=!1}}var C=!1,T=null,D=-1,O=5,P=-1;function A(){return!(n.unstable_now()-P<O)}function L(){if(T!==null){var q=n.unstable_now();P=q;var H=!0;try{H=T(!0,q)}finally{H?B():(C=!1,T=null)}}else C=!1}var B;if(typeof w=="function")B=function(){w(L)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,$=F.port2;F.port1.onmessage=L,B=function(){$.postMessage(null)}}else B=function(){y(L,0)};function U(q){T=q,C||(C=!0,B())}function N(q,H){D=y(function(){q(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,U(S))},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return r(c)},n.unstable_next=function(q){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var X=h;h=H;try{return q()}finally{h=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,H){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var X=h;h=q;try{return H()}finally{h=X}},n.unstable_scheduleCallback=function(q,H,X){var Y=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Y+X:Y):X=Y,q){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=X+W,q={id:f++,callback:H,priorityLevel:q,startTime:X,expirationTime:W,sortIndex:-1},X>Y?(q.sortIndex=X,e(u,q),r(c)===null&&q===r(u)&&(v?(b(D),D=-1):v=!0,N(_,X-Y))):(q.sortIndex=W,e(c,q),g||p||(g=!0,U(S))),q},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(q){var H=h;return function(){var X=h;h=H;try{return q.apply(this,arguments)}finally{h=X}}}})(GH);HH.exports=GH;var pse=HH.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mse=I,Ai=pse;function ze(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YH=new Set,lm={};function yu(n,e){pf(n,e),pf(n+"Capture",e)}function pf(n,e){for(lm[n]=e,n=0;n<e.length;n++)YH.add(e[n])}var ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_D=Object.prototype.hasOwnProperty,gse=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,WN={},HN={};function bse(n){return _D.call(HN,n)?!0:_D.call(WN,n)?!1:gse.test(n)?HN[n]=!0:(WN[n]=!0,!1)}function yse(n,e,r,i){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function vse(n,e,r,i){if(e===null||typeof e>"u"||yse(n,e,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kr(n,e,r,i,s,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){vr[n]=new Kr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];vr[e]=new Kr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){vr[n]=new Kr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){vr[n]=new Kr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){vr[n]=new Kr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){vr[n]=new Kr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){vr[n]=new Kr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){vr[n]=new Kr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){vr[n]=new Kr(n,5,!1,n.toLowerCase(),null,!1,!1)});var pO=/[\-:]([a-z])/g;function mO(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(pO,mO);vr[e]=new Kr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(pO,mO);vr[e]=new Kr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(pO,mO);vr[e]=new Kr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){vr[n]=new Kr(n,1,!1,n.toLowerCase(),null,!1,!1)});vr.xlinkHref=new Kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){vr[n]=new Kr(n,1,!1,n.toLowerCase(),null,!0,!0)});function gO(n,e,r,i){var s=vr.hasOwnProperty(e)?vr[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vse(e,r,s,i)&&(r=null),i||s===null?bse(e)&&(r===null?n.removeAttribute(e):n.setAttribute(e,""+r)):s.mustUseProperty?n[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,i=s.attributeNamespace,r===null?n.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,i?n.setAttributeNS(i,e,r):n.setAttribute(e,r))))}var Ca=mse.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M0=Symbol.for("react.element"),sd=Symbol.for("react.portal"),od=Symbol.for("react.fragment"),bO=Symbol.for("react.strict_mode"),SD=Symbol.for("react.profiler"),VH=Symbol.for("react.provider"),KH=Symbol.for("react.context"),yO=Symbol.for("react.forward_ref"),kD=Symbol.for("react.suspense"),CD=Symbol.for("react.suspense_list"),vO=Symbol.for("react.memo"),Xa=Symbol.for("react.lazy"),XH=Symbol.for("react.offscreen"),GN=Symbol.iterator;function Ih(n){return n===null||typeof n!="object"?null:(n=GN&&n[GN]||n["@@iterator"],typeof n=="function"?n:null)}var Dn=Object.assign,c1;function gp(n){if(c1===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);c1=e&&e[1]||""}return`
`+c1+n}var u1=!1;function d1(n,e){if(!n||u1)return"";u1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=i.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=a&&0<=l);break}}}finally{u1=!1,Error.prepareStackTrace=r}return(n=n?n.displayName||n.name:"")?gp(n):""}function xse(n){switch(n.tag){case 5:return gp(n.type);case 16:return gp("Lazy");case 13:return gp("Suspense");case 19:return gp("SuspenseList");case 0:case 2:case 15:return n=d1(n.type,!1),n;case 11:return n=d1(n.type.render,!1),n;case 1:return n=d1(n.type,!0),n;default:return""}}function TD(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case od:return"Fragment";case sd:return"Portal";case SD:return"Profiler";case bO:return"StrictMode";case kD:return"Suspense";case CD:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case KH:return(n.displayName||"Context")+".Consumer";case VH:return(n._context.displayName||"Context")+".Provider";case yO:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case vO:return e=n.displayName||null,e!==null?e:TD(n.type)||"Memo";case Xa:e=n._payload,n=n._init;try{return TD(n(e))}catch{}}return null}function wse(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return TD(e);case 8:return e===bO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ol(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function QH(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _se(n){var e=QH(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,o.call(this,a)}}),Object.defineProperty(n,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function A0(n){n._valueTracker||(n._valueTracker=_se(n))}function ZH(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var r=e.getValue(),i="";return n&&(i=QH(n)?n.checked?"true":"false":n.value),n=i,n!==r?(e.setValue(n),!0):!1}function My(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ED(n,e){var r=e.checked;return Dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??n._wrapperState.initialChecked})}function YN(n,e){var r=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;r=Ol(e.value!=null?e.value:r),n._wrapperState={initialChecked:i,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JH(n,e){e=e.checked,e!=null&&gO(n,"checked",e,!1)}function DD(n,e){JH(n,e);var r=Ol(e.value),i=e.type;if(r!=null)i==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+r):n.value!==""+r&&(n.value=""+r);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?PD(n,e.type,r):e.hasOwnProperty("defaultValue")&&PD(n,e.type,Ol(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function VN(n,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,r||e===n.value||(n.value=e),n.defaultValue=e}r=n.name,r!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,r!==""&&(n.name=r)}function PD(n,e,r){(e!=="number"||My(n.ownerDocument)!==n)&&(r==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+r&&(n.defaultValue=""+r))}var bp=Array.isArray;function kd(n,e,r,i){if(n=n.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<n.length;r++)s=e.hasOwnProperty("$"+n[r].value),n[r].selected!==s&&(n[r].selected=s),s&&i&&(n[r].defaultSelected=!0)}else{for(r=""+Ol(r),e=null,s=0;s<n.length;s++){if(n[s].value===r){n[s].selected=!0,i&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function ID(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ze(91));return Dn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function KN(n,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ze(92));if(bp(r)){if(1<r.length)throw Error(ze(93));r=r[0]}e=r}e==null&&(e=""),r=e}n._wrapperState={initialValue:Ol(r)}}function eG(n,e){var r=Ol(e.value),i=Ol(e.defaultValue);r!=null&&(r=""+r,r!==n.value&&(n.value=r),e.defaultValue==null&&n.defaultValue!==r&&(n.defaultValue=r)),i!=null&&(n.defaultValue=""+i)}function XN(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function tG(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function OD(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?tG(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var R0,nG=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,i,s){MSApp.execUnsafeLocalFunction(function(){return n(e,r,i,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(R0=R0||document.createElement("div"),R0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=R0.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function cm(n,e){if(e){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=e;return}}n.textContent=e}var jp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sse=["Webkit","ms","Moz","O"];Object.keys(jp).forEach(function(n){Sse.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),jp[e]=jp[n]})});function rG(n,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||jp.hasOwnProperty(n)&&jp[n]?(""+e).trim():e+"px"}function iG(n,e){n=n.style;for(var r in e)if(e.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=rG(r,e[r],i);r==="float"&&(r="cssFloat"),i?n.setProperty(r,s):n[r]=s}}var kse=Dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function MD(n,e){if(e){if(kse[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ze(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ze(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ze(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ze(62))}}function AD(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RD=null;function xO(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ND=null,Cd=null,Td=null;function QN(n){if(n=Dg(n)){if(typeof ND!="function")throw Error(ze(280));var e=n.stateNode;e&&(e=px(e),ND(n.stateNode,n.type,e))}}function sG(n){Cd?Td?Td.push(n):Td=[n]:Cd=n}function oG(){if(Cd){var n=Cd,e=Td;if(Td=Cd=null,QN(n),e)for(n=0;n<e.length;n++)QN(e[n])}}function aG(n,e){return n(e)}function lG(){}var f1=!1;function cG(n,e,r){if(f1)return n(e,r);f1=!0;try{return aG(n,e,r)}finally{f1=!1,(Cd!==null||Td!==null)&&(lG(),oG())}}function um(n,e){var r=n.stateNode;if(r===null)return null;var i=px(r);if(i===null)return null;r=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(ze(231,e,typeof r));return r}var jD=!1;if(ba)try{var Oh={};Object.defineProperty(Oh,"passive",{get:function(){jD=!0}}),window.addEventListener("test",Oh,Oh),window.removeEventListener("test",Oh,Oh)}catch{jD=!1}function Cse(n,e,r,i,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(f){this.onError(f)}}var Lp=!1,Ay=null,Ry=!1,LD=null,Tse={onError:function(n){Lp=!0,Ay=n}};function Ese(n,e,r,i,s,o,a,l,c){Lp=!1,Ay=null,Cse.apply(Tse,arguments)}function Dse(n,e,r,i,s,o,a,l,c){if(Ese.apply(this,arguments),Lp){if(Lp){var u=Ay;Lp=!1,Ay=null}else throw Error(ze(198));Ry||(Ry=!0,LD=u)}}function vu(n){var e=n,r=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(r=e.return),n=e.return;while(n)}return e.tag===3?r:null}function uG(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function ZN(n){if(vu(n)!==n)throw Error(ze(188))}function Pse(n){var e=n.alternate;if(!e){if(e=vu(n),e===null)throw Error(ze(188));return e!==n?null:n}for(var r=n,i=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(i=s.return,i!==null){r=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return ZN(s),n;if(o===i)return ZN(s),e;o=o.sibling}throw Error(ze(188))}if(r.return!==i.return)r=s,i=o;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,i=o;break}if(l===i){a=!0,i=s,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,i=s;break}if(l===i){a=!0,i=o,r=s;break}l=l.sibling}if(!a)throw Error(ze(189))}}if(r.alternate!==i)throw Error(ze(190))}if(r.tag!==3)throw Error(ze(188));return r.stateNode.current===r?n:e}function dG(n){return n=Pse(n),n!==null?fG(n):null}function fG(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=fG(n);if(e!==null)return e;n=n.sibling}return null}var hG=Ai.unstable_scheduleCallback,JN=Ai.unstable_cancelCallback,Ise=Ai.unstable_shouldYield,Ose=Ai.unstable_requestPaint,Bn=Ai.unstable_now,Mse=Ai.unstable_getCurrentPriorityLevel,wO=Ai.unstable_ImmediatePriority,pG=Ai.unstable_UserBlockingPriority,Ny=Ai.unstable_NormalPriority,Ase=Ai.unstable_LowPriority,mG=Ai.unstable_IdlePriority,ux=null,go=null;function Rse(n){if(go&&typeof go.onCommitFiberRoot=="function")try{go.onCommitFiberRoot(ux,n,void 0,(n.current.flags&128)===128)}catch{}}var Ns=Math.clz32?Math.clz32:Lse,Nse=Math.log,jse=Math.LN2;function Lse(n){return n>>>=0,n===0?32:31-(Nse(n)/jse|0)|0}var N0=64,j0=4194304;function yp(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function jy(n,e){var r=n.pendingLanes;if(r===0)return 0;var i=0,s=n.suspendedLanes,o=n.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?i=yp(l):(o&=a,o!==0&&(i=yp(o)))}else a=r&~s,a!==0?i=yp(a):o!==0&&(i=yp(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(i&4&&(i|=r&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)r=31-Ns(e),s=1<<r,i|=n[r],e&=~s;return i}function Fse(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $se(n,e){for(var r=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,o=n.pendingLanes;0<o;){var a=31-Ns(o),l=1<<a,c=s[a];c===-1?(!(l&r)||l&i)&&(s[a]=Fse(l,e)):c<=e&&(n.expiredLanes|=l),o&=~l}}function FD(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function gG(){var n=N0;return N0<<=1,!(N0&4194240)&&(N0=64),n}function h1(n){for(var e=[],r=0;31>r;r++)e.push(n);return e}function Tg(n,e,r){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Ns(e),n[e]=r}function Bse(n,e){var r=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<r;){var s=31-Ns(r),o=1<<s;e[s]=0,i[s]=-1,n[s]=-1,r&=~o}}function _O(n,e){var r=n.entangledLanes|=e;for(n=n.entanglements;r;){var i=31-Ns(r),s=1<<i;s&e|n[i]&e&&(n[i]|=e),r&=~s}}var Xt=0;function bG(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var yG,SO,vG,xG,wG,$D=!1,L0=[],bl=null,yl=null,vl=null,dm=new Map,fm=new Map,Za=[],zse="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function e3(n,e){switch(n){case"focusin":case"focusout":bl=null;break;case"dragenter":case"dragleave":yl=null;break;case"mouseover":case"mouseout":vl=null;break;case"pointerover":case"pointerout":dm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fm.delete(e.pointerId)}}function Mh(n,e,r,i,s,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:r,eventSystemFlags:i,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Dg(e),e!==null&&SO(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function Use(n,e,r,i,s){switch(e){case"focusin":return bl=Mh(bl,n,e,r,i,s),!0;case"dragenter":return yl=Mh(yl,n,e,r,i,s),!0;case"mouseover":return vl=Mh(vl,n,e,r,i,s),!0;case"pointerover":var o=s.pointerId;return dm.set(o,Mh(dm.get(o)||null,n,e,r,i,s)),!0;case"gotpointercapture":return o=s.pointerId,fm.set(o,Mh(fm.get(o)||null,n,e,r,i,s)),!0}return!1}function _G(n){var e=yc(n.target);if(e!==null){var r=vu(e);if(r!==null){if(e=r.tag,e===13){if(e=uG(r),e!==null){n.blockedOn=e,wG(n.priority,function(){vG(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Xb(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var r=BD(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(r===null){r=n.nativeEvent;var i=new r.constructor(r.type,r);RD=i,r.target.dispatchEvent(i),RD=null}else return e=Dg(r),e!==null&&SO(e),n.blockedOn=r,!1;e.shift()}return!0}function t3(n,e,r){Xb(n)&&r.delete(e)}function qse(){$D=!1,bl!==null&&Xb(bl)&&(bl=null),yl!==null&&Xb(yl)&&(yl=null),vl!==null&&Xb(vl)&&(vl=null),dm.forEach(t3),fm.forEach(t3)}function Ah(n,e){n.blockedOn===e&&(n.blockedOn=null,$D||($D=!0,Ai.unstable_scheduleCallback(Ai.unstable_NormalPriority,qse)))}function hm(n){function e(s){return Ah(s,n)}if(0<L0.length){Ah(L0[0],n);for(var r=1;r<L0.length;r++){var i=L0[r];i.blockedOn===n&&(i.blockedOn=null)}}for(bl!==null&&Ah(bl,n),yl!==null&&Ah(yl,n),vl!==null&&Ah(vl,n),dm.forEach(e),fm.forEach(e),r=0;r<Za.length;r++)i=Za[r],i.blockedOn===n&&(i.blockedOn=null);for(;0<Za.length&&(r=Za[0],r.blockedOn===null);)_G(r),r.blockedOn===null&&Za.shift()}var Ed=Ca.ReactCurrentBatchConfig,Ly=!0;function Wse(n,e,r,i){var s=Xt,o=Ed.transition;Ed.transition=null;try{Xt=1,kO(n,e,r,i)}finally{Xt=s,Ed.transition=o}}function Hse(n,e,r,i){var s=Xt,o=Ed.transition;Ed.transition=null;try{Xt=4,kO(n,e,r,i)}finally{Xt=s,Ed.transition=o}}function kO(n,e,r,i){if(Ly){var s=BD(n,e,r,i);if(s===null)S1(n,e,i,Fy,r),e3(n,i);else if(Use(s,n,e,r,i))i.stopPropagation();else if(e3(n,i),e&4&&-1<zse.indexOf(n)){for(;s!==null;){var o=Dg(s);if(o!==null&&yG(o),o=BD(n,e,r,i),o===null&&S1(n,e,i,Fy,r),o===s)break;s=o}s!==null&&i.stopPropagation()}else S1(n,e,i,null,r)}}var Fy=null;function BD(n,e,r,i){if(Fy=null,n=xO(i),n=yc(n),n!==null)if(e=vu(n),e===null)n=null;else if(r=e.tag,r===13){if(n=uG(e),n!==null)return n;n=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Fy=n,null}function SG(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mse()){case wO:return 1;case pG:return 4;case Ny:case Ase:return 16;case mG:return 536870912;default:return 16}default:return 16}}var fl=null,CO=null,Qb=null;function kG(){if(Qb)return Qb;var n,e=CO,r=e.length,i,s="value"in fl?fl.value:fl.textContent,o=s.length;for(n=0;n<r&&e[n]===s[n];n++);var a=r-n;for(i=1;i<=a&&e[r-i]===s[o-i];i++);return Qb=s.slice(n,1<i?1-i:void 0)}function Zb(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function F0(){return!0}function n3(){return!1}function Li(n){function e(r,i,s,o,a){this._reactName=r,this._targetInst=s,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(r=n[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?F0:n3,this.isPropagationStopped=n3,this}return Dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=F0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=F0)},persist:function(){},isPersistent:F0}),e}var Xf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},TO=Li(Xf),Eg=Dn({},Xf,{view:0,detail:0}),Gse=Li(Eg),p1,m1,Rh,dx=Dn({},Eg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:EO,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Rh&&(Rh&&n.type==="mousemove"?(p1=n.screenX-Rh.screenX,m1=n.screenY-Rh.screenY):m1=p1=0,Rh=n),p1)},movementY:function(n){return"movementY"in n?n.movementY:m1}}),r3=Li(dx),Yse=Dn({},dx,{dataTransfer:0}),Vse=Li(Yse),Kse=Dn({},Eg,{relatedTarget:0}),g1=Li(Kse),Xse=Dn({},Xf,{animationName:0,elapsedTime:0,pseudoElement:0}),Qse=Li(Xse),Zse=Dn({},Xf,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Jse=Li(Zse),eoe=Dn({},Xf,{data:0}),i3=Li(eoe),toe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},noe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},roe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ioe(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=roe[n])?!!e[n]:!1}function EO(){return ioe}var soe=Dn({},Eg,{key:function(n){if(n.key){var e=toe[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Zb(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?noe[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:EO,charCode:function(n){return n.type==="keypress"?Zb(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Zb(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ooe=Li(soe),aoe=Dn({},dx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),s3=Li(aoe),loe=Dn({},Eg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:EO}),coe=Li(loe),uoe=Dn({},Xf,{propertyName:0,elapsedTime:0,pseudoElement:0}),doe=Li(uoe),foe=Dn({},dx,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),hoe=Li(foe),poe=[9,13,27,32],DO=ba&&"CompositionEvent"in window,Fp=null;ba&&"documentMode"in document&&(Fp=document.documentMode);var moe=ba&&"TextEvent"in window&&!Fp,CG=ba&&(!DO||Fp&&8<Fp&&11>=Fp),o3=" ",a3=!1;function TG(n,e){switch(n){case"keyup":return poe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EG(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ad=!1;function goe(n,e){switch(n){case"compositionend":return EG(e);case"keypress":return e.which!==32?null:(a3=!0,o3);case"textInput":return n=e.data,n===o3&&a3?null:n;default:return null}}function boe(n,e){if(ad)return n==="compositionend"||!DO&&TG(n,e)?(n=kG(),Qb=CO=fl=null,ad=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CG&&e.locale!=="ko"?null:e.data;default:return null}}var yoe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l3(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!yoe[n.type]:e==="textarea"}function DG(n,e,r,i){sG(i),e=$y(e,"onChange"),0<e.length&&(r=new TO("onChange","change",null,r,i),n.push({event:r,listeners:e}))}var $p=null,pm=null;function voe(n){$G(n,0)}function fx(n){var e=ud(n);if(ZH(e))return n}function xoe(n,e){if(n==="change")return e}var PG=!1;if(ba){var b1;if(ba){var y1="oninput"in document;if(!y1){var c3=document.createElement("div");c3.setAttribute("oninput","return;"),y1=typeof c3.oninput=="function"}b1=y1}else b1=!1;PG=b1&&(!document.documentMode||9<document.documentMode)}function u3(){$p&&($p.detachEvent("onpropertychange",IG),pm=$p=null)}function IG(n){if(n.propertyName==="value"&&fx(pm)){var e=[];DG(e,pm,n,xO(n)),cG(voe,e)}}function woe(n,e,r){n==="focusin"?(u3(),$p=e,pm=r,$p.attachEvent("onpropertychange",IG)):n==="focusout"&&u3()}function _oe(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return fx(pm)}function Soe(n,e){if(n==="click")return fx(e)}function koe(n,e){if(n==="input"||n==="change")return fx(e)}function Coe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Fs=typeof Object.is=="function"?Object.is:Coe;function mm(n,e){if(Fs(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var r=Object.keys(n),i=Object.keys(e);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var s=r[i];if(!_D.call(e,s)||!Fs(n[s],e[s]))return!1}return!0}function d3(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function f3(n,e){var r=d3(n);n=0;for(var i;r;){if(r.nodeType===3){if(i=n+r.textContent.length,n<=e&&i>=e)return{node:r,offset:e-n};n=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=d3(r)}}function OG(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?OG(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function MG(){for(var n=window,e=My();e instanceof n.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)n=e.contentWindow;else break;e=My(n.document)}return e}function PO(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Toe(n){var e=MG(),r=n.focusedElem,i=n.selectionRange;if(e!==r&&r&&r.ownerDocument&&OG(r.ownerDocument.documentElement,r)){if(i!==null&&PO(r)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(n,r.value.length);else if(n=(e=r.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=r.textContent.length,o=Math.min(i.start,s);i=i.end===void 0?o:Math.min(i.end,s),!n.extend&&o>i&&(s=i,i=o,o=s),s=f3(r,o);var a=f3(r,i);s&&a&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=r;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)n=e[r],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Eoe=ba&&"documentMode"in document&&11>=document.documentMode,ld=null,zD=null,Bp=null,UD=!1;function h3(n,e,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;UD||ld==null||ld!==My(i)||(i=ld,"selectionStart"in i&&PO(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Bp&&mm(Bp,i)||(Bp=i,i=$y(zD,"onSelect"),0<i.length&&(e=new TO("onSelect","select",null,e,r),n.push({event:e,listeners:i}),e.target=ld)))}function $0(n,e){var r={};return r[n.toLowerCase()]=e.toLowerCase(),r["Webkit"+n]="webkit"+e,r["Moz"+n]="moz"+e,r}var cd={animationend:$0("Animation","AnimationEnd"),animationiteration:$0("Animation","AnimationIteration"),animationstart:$0("Animation","AnimationStart"),transitionend:$0("Transition","TransitionEnd")},v1={},AG={};ba&&(AG=document.createElement("div").style,"AnimationEvent"in window||(delete cd.animationend.animation,delete cd.animationiteration.animation,delete cd.animationstart.animation),"TransitionEvent"in window||delete cd.transitionend.transition);function hx(n){if(v1[n])return v1[n];if(!cd[n])return n;var e=cd[n],r;for(r in e)if(e.hasOwnProperty(r)&&r in AG)return v1[n]=e[r];return n}var RG=hx("animationend"),NG=hx("animationiteration"),jG=hx("animationstart"),LG=hx("transitionend"),FG=new Map,p3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jl(n,e){FG.set(n,e),yu(e,[n])}for(var x1=0;x1<p3.length;x1++){var w1=p3[x1],Doe=w1.toLowerCase(),Poe=w1[0].toUpperCase()+w1.slice(1);jl(Doe,"on"+Poe)}jl(RG,"onAnimationEnd");jl(NG,"onAnimationIteration");jl(jG,"onAnimationStart");jl("dblclick","onDoubleClick");jl("focusin","onFocus");jl("focusout","onBlur");jl(LG,"onTransitionEnd");pf("onMouseEnter",["mouseout","mouseover"]);pf("onMouseLeave",["mouseout","mouseover"]);pf("onPointerEnter",["pointerout","pointerover"]);pf("onPointerLeave",["pointerout","pointerover"]);yu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yu("onBeforeInput",["compositionend","keypress","textInput","paste"]);yu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ioe=new Set("cancel close invalid load scroll toggle".split(" ").concat(vp));function m3(n,e,r){var i=n.type||"unknown-event";n.currentTarget=r,Dse(i,e,void 0,n),n.currentTarget=null}function $G(n,e){e=(e&4)!==0;for(var r=0;r<n.length;r++){var i=n[r],s=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;m3(s,l,u),o=c}else for(a=0;a<i.length;a++){if(l=i[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;m3(s,l,u),o=c}}}if(Ry)throw n=LD,Ry=!1,LD=null,n}function fn(n,e){var r=e[YD];r===void 0&&(r=e[YD]=new Set);var i=n+"__bubble";r.has(i)||(BG(e,n,2,!1),r.add(i))}function _1(n,e,r){var i=0;e&&(i|=4),BG(r,n,i,e)}var B0="_reactListening"+Math.random().toString(36).slice(2);function gm(n){if(!n[B0]){n[B0]=!0,YH.forEach(function(r){r!=="selectionchange"&&(Ioe.has(r)||_1(r,!1,n),_1(r,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[B0]||(e[B0]=!0,_1("selectionchange",!1,e))}}function BG(n,e,r,i){switch(SG(e)){case 1:var s=Wse;break;case 4:s=Hse;break;default:s=kO}r=s.bind(null,e,r,n),s=void 0,!jD||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?n.addEventListener(e,r,{capture:!0,passive:s}):n.addEventListener(e,r,!0):s!==void 0?n.addEventListener(e,r,{passive:s}):n.addEventListener(e,r,!1)}function S1(n,e,r,i,s){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=yc(l),a===null)return;if(c=a.tag,c===5||c===6){i=o=a;continue e}l=l.parentNode}}i=i.return}cG(function(){var u=o,f=xO(r),d=[];e:{var h=FG.get(n);if(h!==void 0){var p=TO,g=n;switch(n){case"keypress":if(Zb(r)===0)break e;case"keydown":case"keyup":p=ooe;break;case"focusin":g="focus",p=g1;break;case"focusout":g="blur",p=g1;break;case"beforeblur":case"afterblur":p=g1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=r3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Vse;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=coe;break;case RG:case NG:case jG:p=Qse;break;case LG:p=doe;break;case"scroll":p=Gse;break;case"wheel":p=hoe;break;case"copy":case"cut":case"paste":p=Jse;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=s3}var v=(e&4)!==0,y=!v&&n==="scroll",b=v?h!==null?h+"Capture":null:h;v=[];for(var w=u,k;w!==null;){k=w;var _=k.stateNode;if(k.tag===5&&_!==null&&(k=_,b!==null&&(_=um(w,b),_!=null&&v.push(bm(w,_,k)))),y)break;w=w.return}0<v.length&&(h=new p(h,g,null,r,f),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",h&&r!==RD&&(g=r.relatedTarget||r.fromElement)&&(yc(g)||g[ya]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?yc(g):null,g!==null&&(y=vu(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=r3,_="onMouseLeave",b="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(v=s3,_="onPointerLeave",b="onPointerEnter",w="pointer"),y=p==null?h:ud(p),k=g==null?h:ud(g),h=new v(_,w+"leave",p,r,f),h.target=y,h.relatedTarget=k,_=null,yc(f)===u&&(v=new v(b,w+"enter",g,r,f),v.target=k,v.relatedTarget=y,_=v),y=_,p&&g)t:{for(v=p,b=g,w=0,k=v;k;k=Uu(k))w++;for(k=0,_=b;_;_=Uu(_))k++;for(;0<w-k;)v=Uu(v),w--;for(;0<k-w;)b=Uu(b),k--;for(;w--;){if(v===b||b!==null&&v===b.alternate)break t;v=Uu(v),b=Uu(b)}v=null}else v=null;p!==null&&g3(d,h,p,v,!1),g!==null&&y!==null&&g3(d,y,g,v,!0)}}e:{if(h=u?ud(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=xoe;else if(l3(h))if(PG)S=koe;else{S=_oe;var C=woe}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Soe);if(S&&(S=S(n,u))){DG(d,S,r,f);break e}C&&C(n,h,u),n==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&PD(h,"number",h.value)}switch(C=u?ud(u):window,n){case"focusin":(l3(C)||C.contentEditable==="true")&&(ld=C,zD=u,Bp=null);break;case"focusout":Bp=zD=ld=null;break;case"mousedown":UD=!0;break;case"contextmenu":case"mouseup":case"dragend":UD=!1,h3(d,r,f);break;case"selectionchange":if(Eoe)break;case"keydown":case"keyup":h3(d,r,f)}var T;if(DO)e:{switch(n){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else ad?TG(n,r)&&(D="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(CG&&r.locale!=="ko"&&(ad||D!=="onCompositionStart"?D==="onCompositionEnd"&&ad&&(T=kG()):(fl=f,CO="value"in fl?fl.value:fl.textContent,ad=!0)),C=$y(u,D),0<C.length&&(D=new i3(D,n,null,r,f),d.push({event:D,listeners:C}),T?D.data=T:(T=EG(r),T!==null&&(D.data=T)))),(T=moe?goe(n,r):boe(n,r))&&(u=$y(u,"onBeforeInput"),0<u.length&&(f=new i3("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=T))}$G(d,e)})}function bm(n,e,r){return{instance:n,listener:e,currentTarget:r}}function $y(n,e){for(var r=e+"Capture",i=[];n!==null;){var s=n,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=um(n,r),o!=null&&i.unshift(bm(n,o,s)),o=um(n,e),o!=null&&i.push(bm(n,o,s))),n=n.return}return i}function Uu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function g3(n,e,r,i,s){for(var o=e._reactName,a=[];r!==null&&r!==i;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===i)break;l.tag===5&&u!==null&&(l=u,s?(c=um(r,o),c!=null&&a.unshift(bm(r,c,l))):s||(c=um(r,o),c!=null&&a.push(bm(r,c,l)))),r=r.return}a.length!==0&&n.push({event:e,listeners:a})}var Ooe=/\r\n?/g,Moe=/\u0000|\uFFFD/g;function b3(n){return(typeof n=="string"?n:""+n).replace(Ooe,`
`).replace(Moe,"")}function z0(n,e,r){if(e=b3(e),b3(n)!==e&&r)throw Error(ze(425))}function By(){}var qD=null,WD=null;function HD(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var GD=typeof setTimeout=="function"?setTimeout:void 0,Aoe=typeof clearTimeout=="function"?clearTimeout:void 0,y3=typeof Promise=="function"?Promise:void 0,Roe=typeof queueMicrotask=="function"?queueMicrotask:typeof y3<"u"?function(n){return y3.resolve(null).then(n).catch(Noe)}:GD;function Noe(n){setTimeout(function(){throw n})}function k1(n,e){var r=e,i=0;do{var s=r.nextSibling;if(n.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(i===0){n.removeChild(s),hm(e);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=s}while(r);hm(e)}function xl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function v3(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return n;e--}else r==="/$"&&e++}n=n.previousSibling}return null}var Qf=Math.random().toString(36).slice(2),uo="__reactFiber$"+Qf,ym="__reactProps$"+Qf,ya="__reactContainer$"+Qf,YD="__reactEvents$"+Qf,joe="__reactListeners$"+Qf,Loe="__reactHandles$"+Qf;function yc(n){var e=n[uo];if(e)return e;for(var r=n.parentNode;r;){if(e=r[ya]||r[uo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(n=v3(n);n!==null;){if(r=n[uo])return r;n=v3(n)}return e}n=r,r=n.parentNode}return null}function Dg(n){return n=n[uo]||n[ya],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ud(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(ze(33))}function px(n){return n[ym]||null}var VD=[],dd=-1;function Ll(n){return{current:n}}function pn(n){0>dd||(n.current=VD[dd],VD[dd]=null,dd--)}function ln(n,e){dd++,VD[dd]=n.current,n.current=e}var Ml={},Ir=Ll(Ml),ci=Ll(!1),Qc=Ml;function mf(n,e){var r=n.type.contextTypes;if(!r)return Ml;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function ui(n){return n=n.childContextTypes,n!=null}function zy(){pn(ci),pn(Ir)}function x3(n,e,r){if(Ir.current!==Ml)throw Error(ze(168));ln(Ir,e),ln(ci,r)}function zG(n,e,r){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(ze(108,wse(n)||"Unknown",s));return Dn({},r,i)}function Uy(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ml,Qc=Ir.current,ln(Ir,n),ln(ci,ci.current),!0}function w3(n,e,r){var i=n.stateNode;if(!i)throw Error(ze(169));r?(n=zG(n,e,Qc),i.__reactInternalMemoizedMergedChildContext=n,pn(ci),pn(Ir),ln(Ir,n)):pn(ci),ln(ci,r)}var Go=null,mx=!1,C1=!1;function UG(n){Go===null?Go=[n]:Go.push(n)}function Foe(n){mx=!0,UG(n)}function Fl(){if(!C1&&Go!==null){C1=!0;var n=0,e=Xt;try{var r=Go;for(Xt=1;n<r.length;n++){var i=r[n];do i=i(!0);while(i!==null)}Go=null,mx=!1}catch(s){throw Go!==null&&(Go=Go.slice(n+1)),hG(wO,Fl),s}finally{Xt=e,C1=!1}}return null}var fd=[],hd=0,qy=null,Wy=0,ns=[],rs=0,Zc=null,ra=1,ia="";function oc(n,e){fd[hd++]=Wy,fd[hd++]=qy,qy=n,Wy=e}function qG(n,e,r){ns[rs++]=ra,ns[rs++]=ia,ns[rs++]=Zc,Zc=n;var i=ra;n=ia;var s=32-Ns(i)-1;i&=~(1<<s),r+=1;var o=32-Ns(e)+s;if(30<o){var a=s-s%5;o=(i&(1<<a)-1).toString(32),i>>=a,s-=a,ra=1<<32-Ns(e)+s|r<<s|i,ia=o+n}else ra=1<<o|r<<s|i,ia=n}function IO(n){n.return!==null&&(oc(n,1),qG(n,1,0))}function OO(n){for(;n===qy;)qy=fd[--hd],fd[hd]=null,Wy=fd[--hd],fd[hd]=null;for(;n===Zc;)Zc=ns[--rs],ns[rs]=null,ia=ns[--rs],ns[rs]=null,ra=ns[--rs],ns[rs]=null}var Pi=null,Di=null,_n=!1,Is=null;function WG(n,e){var r=ss(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=n,e=n.deletions,e===null?(n.deletions=[r],n.flags|=16):e.push(r)}function _3(n,e){switch(n.tag){case 5:var r=n.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Pi=n,Di=xl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Pi=n,Di=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Zc!==null?{id:ra,overflow:ia}:null,n.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ss(18,null,null,0),r.stateNode=e,r.return=n,n.child=r,Pi=n,Di=null,!0):!1;default:return!1}}function KD(n){return(n.mode&1)!==0&&(n.flags&128)===0}function XD(n){if(_n){var e=Di;if(e){var r=e;if(!_3(n,e)){if(KD(n))throw Error(ze(418));e=xl(r.nextSibling);var i=Pi;e&&_3(n,e)?WG(i,r):(n.flags=n.flags&-4097|2,_n=!1,Pi=n)}}else{if(KD(n))throw Error(ze(418));n.flags=n.flags&-4097|2,_n=!1,Pi=n}}}function S3(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Pi=n}function U0(n){if(n!==Pi)return!1;if(!_n)return S3(n),_n=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!HD(n.type,n.memoizedProps)),e&&(e=Di)){if(KD(n))throw HG(),Error(ze(418));for(;e;)WG(n,e),e=xl(e.nextSibling)}if(S3(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(ze(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"){if(e===0){Di=xl(n.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}n=n.nextSibling}Di=null}}else Di=Pi?xl(n.stateNode.nextSibling):null;return!0}function HG(){for(var n=Di;n;)n=xl(n.nextSibling)}function gf(){Di=Pi=null,_n=!1}function MO(n){Is===null?Is=[n]:Is.push(n)}var $oe=Ca.ReactCurrentBatchConfig;function Nh(n,e,r){if(n=r.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ze(309));var i=r.stateNode}if(!i)throw Error(ze(147,n));var s=i,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},e._stringRef=o,e)}if(typeof n!="string")throw Error(ze(284));if(!r._owner)throw Error(ze(290,n))}return n}function q0(n,e){throw n=Object.prototype.toString.call(e),Error(ze(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function k3(n){var e=n._init;return e(n._payload)}function GG(n){function e(b,w){if(n){var k=b.deletions;k===null?(b.deletions=[w],b.flags|=16):k.push(w)}}function r(b,w){if(!n)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function i(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function s(b,w){return b=kl(b,w),b.index=0,b.sibling=null,b}function o(b,w,k){return b.index=k,n?(k=b.alternate,k!==null?(k=k.index,k<w?(b.flags|=2,w):k):(b.flags|=2,w)):(b.flags|=1048576,w)}function a(b){return n&&b.alternate===null&&(b.flags|=2),b}function l(b,w,k,_){return w===null||w.tag!==6?(w=M1(k,b.mode,_),w.return=b,w):(w=s(w,k),w.return=b,w)}function c(b,w,k,_){var S=k.type;return S===od?f(b,w,k.props.children,_,k.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Xa&&k3(S)===w.type)?(_=s(w,k.props),_.ref=Nh(b,w,k),_.return=b,_):(_=sy(k.type,k.key,k.props,null,b.mode,_),_.ref=Nh(b,w,k),_.return=b,_)}function u(b,w,k,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=A1(k,b.mode,_),w.return=b,w):(w=s(w,k.children||[]),w.return=b,w)}function f(b,w,k,_,S){return w===null||w.tag!==7?(w=Bc(k,b.mode,_,S),w.return=b,w):(w=s(w,k),w.return=b,w)}function d(b,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return w=M1(""+w,b.mode,k),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case M0:return k=sy(w.type,w.key,w.props,null,b.mode,k),k.ref=Nh(b,null,w),k.return=b,k;case sd:return w=A1(w,b.mode,k),w.return=b,w;case Xa:var _=w._init;return d(b,_(w._payload),k)}if(bp(w)||Ih(w))return w=Bc(w,b.mode,k,null),w.return=b,w;q0(b,w)}return null}function h(b,w,k,_){var S=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return S!==null?null:l(b,w,""+k,_);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case M0:return k.key===S?c(b,w,k,_):null;case sd:return k.key===S?u(b,w,k,_):null;case Xa:return S=k._init,h(b,w,S(k._payload),_)}if(bp(k)||Ih(k))return S!==null?null:f(b,w,k,_,null);q0(b,k)}return null}function p(b,w,k,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(k)||null,l(w,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case M0:return b=b.get(_.key===null?k:_.key)||null,c(w,b,_,S);case sd:return b=b.get(_.key===null?k:_.key)||null,u(w,b,_,S);case Xa:var C=_._init;return p(b,w,k,C(_._payload),S)}if(bp(_)||Ih(_))return b=b.get(k)||null,f(w,b,_,S,null);q0(w,_)}return null}function g(b,w,k,_){for(var S=null,C=null,T=w,D=w=0,O=null;T!==null&&D<k.length;D++){T.index>D?(O=T,T=null):O=T.sibling;var P=h(b,T,k[D],_);if(P===null){T===null&&(T=O);break}n&&T&&P.alternate===null&&e(b,T),w=o(P,w,D),C===null?S=P:C.sibling=P,C=P,T=O}if(D===k.length)return r(b,T),_n&&oc(b,D),S;if(T===null){for(;D<k.length;D++)T=d(b,k[D],_),T!==null&&(w=o(T,w,D),C===null?S=T:C.sibling=T,C=T);return _n&&oc(b,D),S}for(T=i(b,T);D<k.length;D++)O=p(T,b,D,k[D],_),O!==null&&(n&&O.alternate!==null&&T.delete(O.key===null?D:O.key),w=o(O,w,D),C===null?S=O:C.sibling=O,C=O);return n&&T.forEach(function(A){return e(b,A)}),_n&&oc(b,D),S}function v(b,w,k,_){var S=Ih(k);if(typeof S!="function")throw Error(ze(150));if(k=S.call(k),k==null)throw Error(ze(151));for(var C=S=null,T=w,D=w=0,O=null,P=k.next();T!==null&&!P.done;D++,P=k.next()){T.index>D?(O=T,T=null):O=T.sibling;var A=h(b,T,P.value,_);if(A===null){T===null&&(T=O);break}n&&T&&A.alternate===null&&e(b,T),w=o(A,w,D),C===null?S=A:C.sibling=A,C=A,T=O}if(P.done)return r(b,T),_n&&oc(b,D),S;if(T===null){for(;!P.done;D++,P=k.next())P=d(b,P.value,_),P!==null&&(w=o(P,w,D),C===null?S=P:C.sibling=P,C=P);return _n&&oc(b,D),S}for(T=i(b,T);!P.done;D++,P=k.next())P=p(T,b,D,P.value,_),P!==null&&(n&&P.alternate!==null&&T.delete(P.key===null?D:P.key),w=o(P,w,D),C===null?S=P:C.sibling=P,C=P);return n&&T.forEach(function(L){return e(b,L)}),_n&&oc(b,D),S}function y(b,w,k,_){if(typeof k=="object"&&k!==null&&k.type===od&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case M0:e:{for(var S=k.key,C=w;C!==null;){if(C.key===S){if(S=k.type,S===od){if(C.tag===7){r(b,C.sibling),w=s(C,k.props.children),w.return=b,b=w;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Xa&&k3(S)===C.type){r(b,C.sibling),w=s(C,k.props),w.ref=Nh(b,C,k),w.return=b,b=w;break e}r(b,C);break}else e(b,C);C=C.sibling}k.type===od?(w=Bc(k.props.children,b.mode,_,k.key),w.return=b,b=w):(_=sy(k.type,k.key,k.props,null,b.mode,_),_.ref=Nh(b,w,k),_.return=b,b=_)}return a(b);case sd:e:{for(C=k.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){r(b,w.sibling),w=s(w,k.children||[]),w.return=b,b=w;break e}else{r(b,w);break}else e(b,w);w=w.sibling}w=A1(k,b.mode,_),w.return=b,b=w}return a(b);case Xa:return C=k._init,y(b,w,C(k._payload),_)}if(bp(k))return g(b,w,k,_);if(Ih(k))return v(b,w,k,_);q0(b,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,w!==null&&w.tag===6?(r(b,w.sibling),w=s(w,k),w.return=b,b=w):(r(b,w),w=M1(k,b.mode,_),w.return=b,b=w),a(b)):r(b,w)}return y}var bf=GG(!0),YG=GG(!1),Hy=Ll(null),Gy=null,pd=null,AO=null;function RO(){AO=pd=Gy=null}function NO(n){var e=Hy.current;pn(Hy),n._currentValue=e}function QD(n,e,r){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===r)break;n=n.return}}function Dd(n,e){Gy=n,AO=pd=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ai=!0),n.firstContext=null)}function ds(n){var e=n._currentValue;if(AO!==n)if(n={context:n,memoizedValue:e,next:null},pd===null){if(Gy===null)throw Error(ze(308));pd=n,Gy.dependencies={lanes:0,firstContext:n}}else pd=pd.next=n;return e}var vc=null;function jO(n){vc===null?vc=[n]:vc.push(n)}function VG(n,e,r,i){var s=e.interleaved;return s===null?(r.next=r,jO(e)):(r.next=s.next,s.next=r),e.interleaved=r,va(n,i)}function va(n,e){n.lanes|=e;var r=n.alternate;for(r!==null&&(r.lanes|=e),r=n,n=n.return;n!==null;)n.childLanes|=e,r=n.alternate,r!==null&&(r.childLanes|=e),r=n,n=n.return;return r.tag===3?r.stateNode:null}var Qa=!1;function LO(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KG(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function aa(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function wl(n,e,r){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,$t&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,va(n,r)}return s=i.interleaved,s===null?(e.next=e,jO(i)):(e.next=s.next,s.next=e),i.interleaved=e,va(n,r)}function Jb(n,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,r|=i,e.lanes=r,_O(n,r)}}function C3(n,e){var r=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:i.shared,effects:i.effects},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=e:n.next=e,r.lastBaseUpdate=e}function Yy(n,e,r,i){var s=n.updateQueue;Qa=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var f=n.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(o!==null){var d=s.baseState;a=0,f=u=c=null,l=o;do{var h=l.lane,p=l.eventTime;if((i&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=n,v=l;switch(h=e,p=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=Dn({},d,h);break e;case 2:Qa=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);eu|=a,n.lanes=a,n.memoizedState=d}}function T3(n,e,r){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],s=i.callback;if(s!==null){if(i.callback=null,i=r,typeof s!="function")throw Error(ze(191,s));s.call(i)}}}var Pg={},bo=Ll(Pg),vm=Ll(Pg),xm=Ll(Pg);function xc(n){if(n===Pg)throw Error(ze(174));return n}function FO(n,e){switch(ln(xm,e),ln(vm,n),ln(bo,Pg),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:OD(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=OD(e,n)}pn(bo),ln(bo,e)}function yf(){pn(bo),pn(vm),pn(xm)}function XG(n){xc(xm.current);var e=xc(bo.current),r=OD(e,n.type);e!==r&&(ln(vm,n),ln(bo,r))}function $O(n){vm.current===n&&(pn(bo),pn(vm))}var Tn=Ll(0);function Vy(n){for(var e=n;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var T1=[];function BO(){for(var n=0;n<T1.length;n++)T1[n]._workInProgressVersionPrimary=null;T1.length=0}var ey=Ca.ReactCurrentDispatcher,E1=Ca.ReactCurrentBatchConfig,Jc=0,En=null,Xn=null,nr=null,Ky=!1,zp=!1,wm=0,Boe=0;function wr(){throw Error(ze(321))}function zO(n,e){if(e===null)return!1;for(var r=0;r<e.length&&r<n.length;r++)if(!Fs(n[r],e[r]))return!1;return!0}function UO(n,e,r,i,s,o){if(Jc=o,En=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ey.current=n===null||n.memoizedState===null?Woe:Hoe,n=r(i,s),zp){o=0;do{if(zp=!1,wm=0,25<=o)throw Error(ze(301));o+=1,nr=Xn=null,e.updateQueue=null,ey.current=Goe,n=r(i,s)}while(zp)}if(ey.current=Xy,e=Xn!==null&&Xn.next!==null,Jc=0,nr=Xn=En=null,Ky=!1,e)throw Error(ze(300));return n}function qO(){var n=wm!==0;return wm=0,n}function eo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?En.memoizedState=nr=n:nr=nr.next=n,nr}function fs(){if(Xn===null){var n=En.alternate;n=n!==null?n.memoizedState:null}else n=Xn.next;var e=nr===null?En.memoizedState:nr.next;if(e!==null)nr=e,Xn=n;else{if(n===null)throw Error(ze(310));Xn=n,n={memoizedState:Xn.memoizedState,baseState:Xn.baseState,baseQueue:Xn.baseQueue,queue:Xn.queue,next:null},nr===null?En.memoizedState=nr=n:nr=nr.next=n}return nr}function _m(n,e){return typeof e=="function"?e(n):e}function D1(n){var e=fs(),r=e.queue;if(r===null)throw Error(ze(311));r.lastRenderedReducer=n;var i=Xn,s=i.baseQueue,o=r.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}i.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,i=i.baseState;var l=a=null,c=null,u=o;do{var f=u.lane;if((Jc&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,a=i):c=c.next=d,En.lanes|=f,eu|=f}u=u.next}while(u!==null&&u!==o);c===null?a=i:c.next=l,Fs(i,e.memoizedState)||(ai=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,r.lastRenderedState=i}if(n=r.interleaved,n!==null){s=n;do o=s.lane,En.lanes|=o,eu|=o,s=s.next;while(s!==n)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function P1(n){var e=fs(),r=e.queue;if(r===null)throw Error(ze(311));r.lastRenderedReducer=n;var i=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do o=n(o,a.action),a=a.next;while(a!==s);Fs(o,e.memoizedState)||(ai=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,i]}function QG(){}function ZG(n,e){var r=En,i=fs(),s=e(),o=!Fs(i.memoizedState,s);if(o&&(i.memoizedState=s,ai=!0),i=i.queue,WO(tY.bind(null,r,i,n),[n]),i.getSnapshot!==e||o||nr!==null&&nr.memoizedState.tag&1){if(r.flags|=2048,Sm(9,eY.bind(null,r,i,s,e),void 0,null),lr===null)throw Error(ze(349));Jc&30||JG(r,e,s)}return s}function JG(n,e,r){n.flags|=16384,n={getSnapshot:e,value:r},e=En.updateQueue,e===null?(e={lastEffect:null,stores:null},En.updateQueue=e,e.stores=[n]):(r=e.stores,r===null?e.stores=[n]:r.push(n))}function eY(n,e,r,i){e.value=r,e.getSnapshot=i,nY(e)&&rY(n)}function tY(n,e,r){return r(function(){nY(e)&&rY(n)})}function nY(n){var e=n.getSnapshot;n=n.value;try{var r=e();return!Fs(n,r)}catch{return!0}}function rY(n){var e=va(n,1);e!==null&&js(e,n,1,-1)}function E3(n){var e=eo();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_m,lastRenderedState:n},e.queue=n,n=n.dispatch=qoe.bind(null,En,n),[e.memoizedState,n]}function Sm(n,e,r,i){return n={tag:n,create:e,destroy:r,deps:i,next:null},e=En.updateQueue,e===null?(e={lastEffect:null,stores:null},En.updateQueue=e,e.lastEffect=n.next=n):(r=e.lastEffect,r===null?e.lastEffect=n.next=n:(i=r.next,r.next=n,n.next=i,e.lastEffect=n)),n}function iY(){return fs().memoizedState}function ty(n,e,r,i){var s=eo();En.flags|=n,s.memoizedState=Sm(1|e,r,void 0,i===void 0?null:i)}function gx(n,e,r,i){var s=fs();i=i===void 0?null:i;var o=void 0;if(Xn!==null){var a=Xn.memoizedState;if(o=a.destroy,i!==null&&zO(i,a.deps)){s.memoizedState=Sm(e,r,o,i);return}}En.flags|=n,s.memoizedState=Sm(1|e,r,o,i)}function D3(n,e){return ty(8390656,8,n,e)}function WO(n,e){return gx(2048,8,n,e)}function sY(n,e){return gx(4,2,n,e)}function oY(n,e){return gx(4,4,n,e)}function aY(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function lY(n,e,r){return r=r!=null?r.concat([n]):null,gx(4,4,aY.bind(null,e,n),r)}function HO(){}function cY(n,e){var r=fs();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&zO(e,i[1])?i[0]:(r.memoizedState=[n,e],n)}function uY(n,e){var r=fs();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&zO(e,i[1])?i[0]:(n=n(),r.memoizedState=[n,e],n)}function dY(n,e,r){return Jc&21?(Fs(r,e)||(r=gG(),En.lanes|=r,eu|=r,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ai=!0),n.memoizedState=r)}function zoe(n,e){var r=Xt;Xt=r!==0&&4>r?r:4,n(!0);var i=E1.transition;E1.transition={};try{n(!1),e()}finally{Xt=r,E1.transition=i}}function fY(){return fs().memoizedState}function Uoe(n,e,r){var i=Sl(n);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},hY(n))pY(e,r);else if(r=VG(n,e,r,i),r!==null){var s=Hr();js(r,n,i,s),mY(r,e,i)}}function qoe(n,e,r){var i=Sl(n),s={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(hY(n))pY(e,s);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,r);if(s.hasEagerState=!0,s.eagerState=l,Fs(l,a)){var c=e.interleaved;c===null?(s.next=s,jO(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=VG(n,e,s,i),r!==null&&(s=Hr(),js(r,n,i,s),mY(r,e,i))}}function hY(n){var e=n.alternate;return n===En||e!==null&&e===En}function pY(n,e){zp=Ky=!0;var r=n.pending;r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e}function mY(n,e,r){if(r&4194240){var i=e.lanes;i&=n.pendingLanes,r|=i,e.lanes=r,_O(n,r)}}var Xy={readContext:ds,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useInsertionEffect:wr,useLayoutEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useMutableSource:wr,useSyncExternalStore:wr,useId:wr,unstable_isNewReconciler:!1},Woe={readContext:ds,useCallback:function(n,e){return eo().memoizedState=[n,e===void 0?null:e],n},useContext:ds,useEffect:D3,useImperativeHandle:function(n,e,r){return r=r!=null?r.concat([n]):null,ty(4194308,4,aY.bind(null,e,n),r)},useLayoutEffect:function(n,e){return ty(4194308,4,n,e)},useInsertionEffect:function(n,e){return ty(4,2,n,e)},useMemo:function(n,e){var r=eo();return e=e===void 0?null:e,n=n(),r.memoizedState=[n,e],n},useReducer:function(n,e,r){var i=eo();return e=r!==void 0?r(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=Uoe.bind(null,En,n),[i.memoizedState,n]},useRef:function(n){var e=eo();return n={current:n},e.memoizedState=n},useState:E3,useDebugValue:HO,useDeferredValue:function(n){return eo().memoizedState=n},useTransition:function(){var n=E3(!1),e=n[0];return n=zoe.bind(null,n[1]),eo().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,r){var i=En,s=eo();if(_n){if(r===void 0)throw Error(ze(407));r=r()}else{if(r=e(),lr===null)throw Error(ze(349));Jc&30||JG(i,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,D3(tY.bind(null,i,o,n),[n]),i.flags|=2048,Sm(9,eY.bind(null,i,o,r,e),void 0,null),r},useId:function(){var n=eo(),e=lr.identifierPrefix;if(_n){var r=ia,i=ra;r=(i&~(1<<32-Ns(i)-1)).toString(32)+r,e=":"+e+"R"+r,r=wm++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Boe++,e=":"+e+"r"+r.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Hoe={readContext:ds,useCallback:cY,useContext:ds,useEffect:WO,useImperativeHandle:lY,useInsertionEffect:sY,useLayoutEffect:oY,useMemo:uY,useReducer:D1,useRef:iY,useState:function(){return D1(_m)},useDebugValue:HO,useDeferredValue:function(n){var e=fs();return dY(e,Xn.memoizedState,n)},useTransition:function(){var n=D1(_m)[0],e=fs().memoizedState;return[n,e]},useMutableSource:QG,useSyncExternalStore:ZG,useId:fY,unstable_isNewReconciler:!1},Goe={readContext:ds,useCallback:cY,useContext:ds,useEffect:WO,useImperativeHandle:lY,useInsertionEffect:sY,useLayoutEffect:oY,useMemo:uY,useReducer:P1,useRef:iY,useState:function(){return P1(_m)},useDebugValue:HO,useDeferredValue:function(n){var e=fs();return Xn===null?e.memoizedState=n:dY(e,Xn.memoizedState,n)},useTransition:function(){var n=P1(_m)[0],e=fs().memoizedState;return[n,e]},useMutableSource:QG,useSyncExternalStore:ZG,useId:fY,unstable_isNewReconciler:!1};function Ss(n,e){if(n&&n.defaultProps){e=Dn({},e),n=n.defaultProps;for(var r in n)e[r]===void 0&&(e[r]=n[r]);return e}return e}function ZD(n,e,r,i){e=n.memoizedState,r=r(i,e),r=r==null?e:Dn({},e,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var bx={isMounted:function(n){return(n=n._reactInternals)?vu(n)===n:!1},enqueueSetState:function(n,e,r){n=n._reactInternals;var i=Hr(),s=Sl(n),o=aa(i,s);o.payload=e,r!=null&&(o.callback=r),e=wl(n,o,s),e!==null&&(js(e,n,s,i),Jb(e,n,s))},enqueueReplaceState:function(n,e,r){n=n._reactInternals;var i=Hr(),s=Sl(n),o=aa(i,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=wl(n,o,s),e!==null&&(js(e,n,s,i),Jb(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var r=Hr(),i=Sl(n),s=aa(r,i);s.tag=2,e!=null&&(s.callback=e),e=wl(n,s,i),e!==null&&(js(e,n,i,r),Jb(e,n,i))}};function P3(n,e,r,i,s,o,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,o,a):e.prototype&&e.prototype.isPureReactComponent?!mm(r,i)||!mm(s,o):!0}function gY(n,e,r){var i=!1,s=Ml,o=e.contextType;return typeof o=="object"&&o!==null?o=ds(o):(s=ui(e)?Qc:Ir.current,i=e.contextTypes,o=(i=i!=null)?mf(n,s):Ml),e=new e(r,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bx,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=o),e}function I3(n,e,r,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,i),e.state!==n&&bx.enqueueReplaceState(e,e.state,null)}function JD(n,e,r,i){var s=n.stateNode;s.props=r,s.state=n.memoizedState,s.refs={},LO(n);var o=e.contextType;typeof o=="object"&&o!==null?s.context=ds(o):(o=ui(e)?Qc:Ir.current,s.context=mf(n,o)),s.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ZD(n,e,o,r),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&bx.enqueueReplaceState(s,s.state,null),Yy(n,r,s,i),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function vf(n,e){try{var r="",i=e;do r+=xse(i),i=i.return;while(i);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:s,digest:null}}function I1(n,e,r){return{value:n,source:null,stack:r??null,digest:e??null}}function eP(n,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Yoe=typeof WeakMap=="function"?WeakMap:Map;function bY(n,e,r){r=aa(-1,r),r.tag=3,r.payload={element:null};var i=e.value;return r.callback=function(){Zy||(Zy=!0,uP=i),eP(n,e)},r}function yY(n,e,r){r=aa(-1,r),r.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;r.payload=function(){return i(s)},r.callback=function(){eP(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){eP(n,e),typeof i!="function"&&(_l===null?_l=new Set([this]):_l.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function O3(n,e,r){var i=n.pingCache;if(i===null){i=n.pingCache=new Yoe;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(r)||(s.add(r),n=aae.bind(null,n,e,r),e.then(n,n))}function M3(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function A3(n,e,r,i,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=aa(-1,1),e.tag=2,wl(r,e,1))),r.lanes|=1),n)}var Voe=Ca.ReactCurrentOwner,ai=!1;function Fr(n,e,r,i){e.child=n===null?YG(e,null,r,i):bf(e,n.child,r,i)}function R3(n,e,r,i,s){r=r.render;var o=e.ref;return Dd(e,s),i=UO(n,e,r,i,o,s),r=qO(),n!==null&&!ai?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,xa(n,e,s)):(_n&&r&&IO(e),e.flags|=1,Fr(n,e,i,s),e.child)}function N3(n,e,r,i,s){if(n===null){var o=r.type;return typeof o=="function"&&!JO(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,vY(n,e,o,i,s)):(n=sy(r.type,null,i,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!(n.lanes&s)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:mm,r(a,i)&&n.ref===e.ref)return xa(n,e,s)}return e.flags|=1,n=kl(o,i),n.ref=e.ref,n.return=e,e.child=n}function vY(n,e,r,i,s){if(n!==null){var o=n.memoizedProps;if(mm(o,i)&&n.ref===e.ref)if(ai=!1,e.pendingProps=i=o,(n.lanes&s)!==0)n.flags&131072&&(ai=!0);else return e.lanes=n.lanes,xa(n,e,s)}return tP(n,e,r,i,s)}function xY(n,e,r){var i=e.pendingProps,s=i.children,o=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ln(gd,Si),Si|=r;else{if(!(r&1073741824))return n=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,ln(gd,Si),Si|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:r,ln(gd,Si),Si|=i}else o!==null?(i=o.baseLanes|r,e.memoizedState=null):i=r,ln(gd,Si),Si|=i;return Fr(n,e,s,r),e.child}function wY(n,e){var r=e.ref;(n===null&&r!==null||n!==null&&n.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function tP(n,e,r,i,s){var o=ui(r)?Qc:Ir.current;return o=mf(e,o),Dd(e,s),r=UO(n,e,r,i,o,s),i=qO(),n!==null&&!ai?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,xa(n,e,s)):(_n&&i&&IO(e),e.flags|=1,Fr(n,e,r,s),e.child)}function j3(n,e,r,i,s){if(ui(r)){var o=!0;Uy(e)}else o=!1;if(Dd(e,s),e.stateNode===null)ny(n,e),gY(e,r,i),JD(e,r,i,s),i=!0;else if(n===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=ds(u):(u=ui(r)?Qc:Ir.current,u=mf(e,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==i||c!==u)&&I3(e,a,i,u),Qa=!1;var h=e.memoizedState;a.state=h,Yy(e,i,a,s),c=e.memoizedState,l!==i||h!==c||ci.current||Qa?(typeof f=="function"&&(ZD(e,r,f,i),c=e.memoizedState),(l=Qa||P3(e,r,l,i,h,c,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=u,i=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,KG(n,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ss(e.type,l),a.props=u,d=e.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=ds(c):(c=ui(r)?Qc:Ir.current,c=mf(e,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==d||h!==c)&&I3(e,a,i,c),Qa=!1,h=e.memoizedState,a.state=h,Yy(e,i,a,s);var g=e.memoizedState;l!==d||h!==g||ci.current||Qa?(typeof p=="function"&&(ZD(e,r,p,i),g=e.memoizedState),(u=Qa||P3(e,r,u,i,h,g,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,g,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),a.props=i,a.state=g,a.context=c,i=u):(typeof a.componentDidUpdate!="function"||l===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),i=!1)}return nP(n,e,r,i,o,s)}function nP(n,e,r,i,s,o){wY(n,e);var a=(e.flags&128)!==0;if(!i&&!a)return s&&w3(e,r,!1),xa(n,e,o);i=e.stateNode,Voe.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&a?(e.child=bf(e,n.child,null,o),e.child=bf(e,null,l,o)):Fr(n,e,l,o),e.memoizedState=i.state,s&&w3(e,r,!0),e.child}function _Y(n){var e=n.stateNode;e.pendingContext?x3(n,e.pendingContext,e.pendingContext!==e.context):e.context&&x3(n,e.context,!1),FO(n,e.containerInfo)}function L3(n,e,r,i,s){return gf(),MO(s),e.flags|=256,Fr(n,e,r,i),e.child}var rP={dehydrated:null,treeContext:null,retryLane:0};function iP(n){return{baseLanes:n,cachePool:null,transitions:null}}function SY(n,e,r){var i=e.pendingProps,s=Tn.current,o=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=n!==null&&n.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),ln(Tn,s&1),n===null)return XD(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,n=i.fallback,o?(i=e.mode,o=e.child,a={mode:"hidden",children:a},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=xx(a,i,0,null),n=Bc(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=iP(r),e.memoizedState=rP,n):GO(e,a));if(s=n.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Koe(n,e,a,i,l,s,r);if(o){o=i.fallback,a=e.mode,s=n.child,l=s.sibling;var c={mode:"hidden",children:i.children};return!(a&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=kl(s,c),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=kl(l,o):(o=Bc(o,a,r,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,a=n.child.memoizedState,a=a===null?iP(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=n.childLanes&~r,e.memoizedState=rP,i}return o=n.child,n=o.sibling,i=kl(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=r),i.return=e,i.sibling=null,n!==null&&(r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)),e.child=i,e.memoizedState=null,i}function GO(n,e){return e=xx({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function W0(n,e,r,i){return i!==null&&MO(i),bf(e,n.child,null,r),n=GO(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Koe(n,e,r,i,s,o,a){if(r)return e.flags&256?(e.flags&=-257,i=I1(Error(ze(422))),W0(n,e,a,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=i.fallback,s=e.mode,i=xx({mode:"visible",children:i.children},s,0,null),o=Bc(o,s,a,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&bf(e,n.child,null,a),e.child.memoizedState=iP(a),e.memoizedState=rP,o);if(!(e.mode&1))return W0(n,e,a,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,o=Error(ze(419)),i=I1(o,i,void 0),W0(n,e,a,i)}if(l=(a&n.childLanes)!==0,ai||l){if(i=lr,i!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,va(n,s),js(i,n,s,-1))}return ZO(),i=I1(Error(ze(421))),W0(n,e,a,i)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=lae.bind(null,n),s._reactRetry=e,null):(n=o.treeContext,Di=xl(s.nextSibling),Pi=e,_n=!0,Is=null,n!==null&&(ns[rs++]=ra,ns[rs++]=ia,ns[rs++]=Zc,ra=n.id,ia=n.overflow,Zc=e),e=GO(e,i.children),e.flags|=4096,e)}function F3(n,e,r){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),QD(n.return,e,r)}function O1(n,e,r,i,s){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=r,o.tailMode=s)}function kY(n,e,r){var i=e.pendingProps,s=i.revealOrder,o=i.tail;if(Fr(n,e,i.children,r),i=Tn.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&F3(n,r,e);else if(n.tag===19)F3(n,r,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(ln(Tn,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)n=r.alternate,n!==null&&Vy(n)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),O1(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&Vy(n)===null){e.child=s;break}n=s.sibling,s.sibling=r,r=s,s=n}O1(e,!0,r,null,o);break;case"together":O1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ny(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function xa(n,e,r){if(n!==null&&(e.dependencies=n.dependencies),eu|=e.lanes,!(r&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(ze(153));if(e.child!==null){for(n=e.child,r=kl(n,n.pendingProps),e.child=r,r.return=e;n.sibling!==null;)n=n.sibling,r=r.sibling=kl(n,n.pendingProps),r.return=e;r.sibling=null}return e.child}function Xoe(n,e,r){switch(e.tag){case 3:_Y(e),gf();break;case 5:XG(e);break;case 1:ui(e.type)&&Uy(e);break;case 4:FO(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;ln(Hy,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ln(Tn,Tn.current&1),e.flags|=128,null):r&e.child.childLanes?SY(n,e,r):(ln(Tn,Tn.current&1),n=xa(n,e,r),n!==null?n.sibling:null);ln(Tn,Tn.current&1);break;case 19:if(i=(r&e.childLanes)!==0,n.flags&128){if(i)return kY(n,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ln(Tn,Tn.current),i)break;return null;case 22:case 23:return e.lanes=0,xY(n,e,r)}return xa(n,e,r)}var CY,sP,TY,EY;CY=function(n,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)n.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};sP=function(){};TY=function(n,e,r,i){var s=n.memoizedProps;if(s!==i){n=e.stateNode,xc(bo.current);var o=null;switch(r){case"input":s=ED(n,s),i=ED(n,i),o=[];break;case"select":s=Dn({},s,{value:void 0}),i=Dn({},i,{value:void 0}),o=[];break;case"textarea":s=ID(n,s),i=ID(n,i),o=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=By)}MD(r,i);var a;r=null;for(u in s)if(!i.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(lm.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var c=i[u];if(l=s!=null?s[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(lm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&fn("scroll",n),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};EY=function(n,e,r,i){r!==i&&(e.flags|=4)};function jh(n,e){if(!_n)switch(n.tailMode){case"hidden":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function _r(n){var e=n.alternate!==null&&n.alternate.child===n.child,r=0,i=0;if(e)for(var s=n.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=i,n.childLanes=r,e}function Qoe(n,e,r){var i=e.pendingProps;switch(OO(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(e),null;case 1:return ui(e.type)&&zy(),_r(e),null;case 3:return i=e.stateNode,yf(),pn(ci),pn(Ir),BO(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(U0(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Is!==null&&(hP(Is),Is=null))),sP(n,e),_r(e),null;case 5:$O(e);var s=xc(xm.current);if(r=e.type,n!==null&&e.stateNode!=null)TY(n,e,r,i,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(ze(166));return _r(e),null}if(n=xc(bo.current),U0(e)){i=e.stateNode,r=e.type;var o=e.memoizedProps;switch(i[uo]=e,i[ym]=o,n=(e.mode&1)!==0,r){case"dialog":fn("cancel",i),fn("close",i);break;case"iframe":case"object":case"embed":fn("load",i);break;case"video":case"audio":for(s=0;s<vp.length;s++)fn(vp[s],i);break;case"source":fn("error",i);break;case"img":case"image":case"link":fn("error",i),fn("load",i);break;case"details":fn("toggle",i);break;case"input":YN(i,o),fn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},fn("invalid",i);break;case"textarea":KN(i,o),fn("invalid",i)}MD(r,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?i.textContent!==l&&(o.suppressHydrationWarning!==!0&&z0(i.textContent,l,n),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&z0(i.textContent,l,n),s=["children",""+l]):lm.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&fn("scroll",i)}switch(r){case"input":A0(i),VN(i,o,!0);break;case"textarea":A0(i),XN(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=By)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=tG(r)),n==="http://www.w3.org/1999/xhtml"?r==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=a.createElement(r,{is:i.is}):(n=a.createElement(r),r==="select"&&(a=n,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):n=a.createElementNS(n,r),n[uo]=e,n[ym]=i,CY(n,e,!1,!1),e.stateNode=n;e:{switch(a=AD(r,i),r){case"dialog":fn("cancel",n),fn("close",n),s=i;break;case"iframe":case"object":case"embed":fn("load",n),s=i;break;case"video":case"audio":for(s=0;s<vp.length;s++)fn(vp[s],n);s=i;break;case"source":fn("error",n),s=i;break;case"img":case"image":case"link":fn("error",n),fn("load",n),s=i;break;case"details":fn("toggle",n),s=i;break;case"input":YN(n,i),s=ED(n,i),fn("invalid",n);break;case"option":s=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},s=Dn({},i,{value:void 0}),fn("invalid",n);break;case"textarea":KN(n,i),s=ID(n,i),fn("invalid",n);break;default:s=i}MD(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?iG(n,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nG(n,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&cm(n,c):typeof c=="number"&&cm(n,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(lm.hasOwnProperty(o)?c!=null&&o==="onScroll"&&fn("scroll",n):c!=null&&gO(n,o,c,a))}switch(r){case"input":A0(n),VN(n,i,!1);break;case"textarea":A0(n),XN(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Ol(i.value));break;case"select":n.multiple=!!i.multiple,o=i.value,o!=null?kd(n,!!i.multiple,o,!1):i.defaultValue!=null&&kd(n,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=By)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _r(e),null;case 6:if(n&&e.stateNode!=null)EY(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(ze(166));if(r=xc(xm.current),xc(bo.current),U0(e)){if(i=e.stateNode,r=e.memoizedProps,i[uo]=e,(o=i.nodeValue!==r)&&(n=Pi,n!==null))switch(n.tag){case 3:z0(i.nodeValue,r,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&z0(i.nodeValue,r,(n.mode&1)!==0)}o&&(e.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[uo]=e,e.stateNode=i}return _r(e),null;case 13:if(pn(Tn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(_n&&Di!==null&&e.mode&1&&!(e.flags&128))HG(),gf(),e.flags|=98560,o=!1;else if(o=U0(e),i!==null&&i.dehydrated!==null){if(n===null){if(!o)throw Error(ze(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ze(317));o[uo]=e}else gf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_r(e),o=!1}else Is!==null&&(hP(Is),Is=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Tn.current&1?Zn===0&&(Zn=3):ZO())),e.updateQueue!==null&&(e.flags|=4),_r(e),null);case 4:return yf(),sP(n,e),n===null&&gm(e.stateNode.containerInfo),_r(e),null;case 10:return NO(e.type._context),_r(e),null;case 17:return ui(e.type)&&zy(),_r(e),null;case 19:if(pn(Tn),o=e.memoizedState,o===null)return _r(e),null;if(i=(e.flags&128)!==0,a=o.rendering,a===null)if(i)jh(o,!1);else{if(Zn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=Vy(n),a!==null){for(e.flags|=128,jh(o,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=r,r=e.child;r!==null;)o=r,n=i,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,n=a.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return ln(Tn,Tn.current&1|2),e.child}n=n.sibling}o.tail!==null&&Bn()>xf&&(e.flags|=128,i=!0,jh(o,!1),e.lanes=4194304)}else{if(!i)if(n=Vy(a),n!==null){if(e.flags|=128,i=!0,r=n.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),jh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!_n)return _r(e),null}else 2*Bn()-o.renderingStartTime>xf&&r!==1073741824&&(e.flags|=128,i=!0,jh(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Bn(),e.sibling=null,r=Tn.current,ln(Tn,i?r&1|2:r&1),e):(_r(e),null);case 22:case 23:return QO(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Si&1073741824&&(_r(e),e.subtreeFlags&6&&(e.flags|=8192)):_r(e),null;case 24:return null;case 25:return null}throw Error(ze(156,e.tag))}function Zoe(n,e){switch(OO(e),e.tag){case 1:return ui(e.type)&&zy(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return yf(),pn(ci),pn(Ir),BO(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return $O(e),null;case 13:if(pn(Tn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(ze(340));gf()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return pn(Tn),null;case 4:return yf(),null;case 10:return NO(e.type._context),null;case 22:case 23:return QO(),null;case 24:return null;default:return null}}var H0=!1,Er=!1,Joe=typeof WeakSet=="function"?WeakSet:Set,tt=null;function md(n,e){var r=n.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Mn(n,e,i)}else r.current=null}function oP(n,e,r){try{r()}catch(i){Mn(n,e,i)}}var $3=!1;function eae(n,e){if(qD=Ly,n=MG(),PO(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,f=0,d=n,h=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(l=a+s),d!==o||i!==0&&d.nodeType!==3||(c=a+i),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===n)break t;if(h===r&&++u===s&&(l=a),h===o&&++f===i&&(c=a),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(WD={focusedElem:n,selectionRange:r},Ly=!1,tt=e;tt!==null;)if(e=tt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,tt=n;else for(;tt!==null;){e=tt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ss(e.type,v),y);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(_){Mn(e,e.return,_)}if(n=e.sibling,n!==null){n.return=e.return,tt=n;break}tt=e.return}return g=$3,$3=!1,g}function Up(n,e,r){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&n)===n){var o=s.destroy;s.destroy=void 0,o!==void 0&&oP(e,r,o)}s=s.next}while(s!==i)}}function yx(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&n)===n){var i=r.create;r.destroy=i()}r=r.next}while(r!==e)}}function aP(n){var e=n.ref;if(e!==null){var r=n.stateNode;switch(n.tag){case 5:n=r;break;default:n=r}typeof e=="function"?e(n):e.current=n}}function DY(n){var e=n.alternate;e!==null&&(n.alternate=null,DY(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[uo],delete e[ym],delete e[YD],delete e[joe],delete e[Loe])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function PY(n){return n.tag===5||n.tag===3||n.tag===4}function B3(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||PY(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function lP(n,e,r){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(n,e):r.insertBefore(n,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(n,r)):(e=r,e.appendChild(n)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=By));else if(i!==4&&(n=n.child,n!==null))for(lP(n,e,r),n=n.sibling;n!==null;)lP(n,e,r),n=n.sibling}function cP(n,e,r){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?r.insertBefore(n,e):r.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(cP(n,e,r),n=n.sibling;n!==null;)cP(n,e,r),n=n.sibling}var hr=null,Ds=!1;function Aa(n,e,r){for(r=r.child;r!==null;)IY(n,e,r),r=r.sibling}function IY(n,e,r){if(go&&typeof go.onCommitFiberUnmount=="function")try{go.onCommitFiberUnmount(ux,r)}catch{}switch(r.tag){case 5:Er||md(r,e);case 6:var i=hr,s=Ds;hr=null,Aa(n,e,r),hr=i,Ds=s,hr!==null&&(Ds?(n=hr,r=r.stateNode,n.nodeType===8?n.parentNode.removeChild(r):n.removeChild(r)):hr.removeChild(r.stateNode));break;case 18:hr!==null&&(Ds?(n=hr,r=r.stateNode,n.nodeType===8?k1(n.parentNode,r):n.nodeType===1&&k1(n,r),hm(n)):k1(hr,r.stateNode));break;case 4:i=hr,s=Ds,hr=r.stateNode.containerInfo,Ds=!0,Aa(n,e,r),hr=i,Ds=s;break;case 0:case 11:case 14:case 15:if(!Er&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&oP(r,e,a),s=s.next}while(s!==i)}Aa(n,e,r);break;case 1:if(!Er&&(md(r,e),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(l){Mn(r,e,l)}Aa(n,e,r);break;case 21:Aa(n,e,r);break;case 22:r.mode&1?(Er=(i=Er)||r.memoizedState!==null,Aa(n,e,r),Er=i):Aa(n,e,r);break;default:Aa(n,e,r)}}function z3(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var r=n.stateNode;r===null&&(r=n.stateNode=new Joe),e.forEach(function(i){var s=cae.bind(null,n,i);r.has(i)||(r.add(i),i.then(s,s))})}}function vs(n,e){var r=e.deletions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];try{var o=n,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:hr=l.stateNode,Ds=!1;break e;case 3:hr=l.stateNode.containerInfo,Ds=!0;break e;case 4:hr=l.stateNode.containerInfo,Ds=!0;break e}l=l.return}if(hr===null)throw Error(ze(160));IY(o,a,s),hr=null,Ds=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Mn(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)OY(e,n),e=e.sibling}function OY(n,e){var r=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(vs(e,n),Vs(n),i&4){try{Up(3,n,n.return),yx(3,n)}catch(v){Mn(n,n.return,v)}try{Up(5,n,n.return)}catch(v){Mn(n,n.return,v)}}break;case 1:vs(e,n),Vs(n),i&512&&r!==null&&md(r,r.return);break;case 5:if(vs(e,n),Vs(n),i&512&&r!==null&&md(r,r.return),n.flags&32){var s=n.stateNode;try{cm(s,"")}catch(v){Mn(n,n.return,v)}}if(i&4&&(s=n.stateNode,s!=null)){var o=n.memoizedProps,a=r!==null?r.memoizedProps:o,l=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&JH(s,o),AD(l,a);var u=AD(l,o);for(a=0;a<c.length;a+=2){var f=c[a],d=c[a+1];f==="style"?iG(s,d):f==="dangerouslySetInnerHTML"?nG(s,d):f==="children"?cm(s,d):gO(s,f,d,u)}switch(l){case"input":DD(s,o);break;case"textarea":eG(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?kd(s,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?kd(s,!!o.multiple,o.defaultValue,!0):kd(s,!!o.multiple,o.multiple?[]:"",!1))}s[ym]=o}catch(v){Mn(n,n.return,v)}}break;case 6:if(vs(e,n),Vs(n),i&4){if(n.stateNode===null)throw Error(ze(162));s=n.stateNode,o=n.memoizedProps;try{s.nodeValue=o}catch(v){Mn(n,n.return,v)}}break;case 3:if(vs(e,n),Vs(n),i&4&&r!==null&&r.memoizedState.isDehydrated)try{hm(e.containerInfo)}catch(v){Mn(n,n.return,v)}break;case 4:vs(e,n),Vs(n);break;case 13:vs(e,n),Vs(n),s=n.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(KO=Bn())),i&4&&z3(n);break;case 22:if(f=r!==null&&r.memoizedState!==null,n.mode&1?(Er=(u=Er)||f,vs(e,n),Er=u):vs(e,n),Vs(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!f&&n.mode&1)for(tt=n,f=n.child;f!==null;){for(d=tt=f;tt!==null;){switch(h=tt,p=h.child,h.tag){case 0:case 11:case 14:case 15:Up(4,h,h.return);break;case 1:md(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){i=h,r=h.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Mn(i,r,v)}}break;case 5:md(h,h.return);break;case 22:if(h.memoizedState!==null){q3(d);continue}}p!==null?(p.return=h,tt=p):q3(d)}f=f.sibling}e:for(f=null,d=n;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=rG("display",a))}catch(v){Mn(n,n.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Mn(n,n.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vs(e,n),Vs(n),i&4&&z3(n);break;case 21:break;default:vs(e,n),Vs(n)}}function Vs(n){var e=n.flags;if(e&2){try{e:{for(var r=n.return;r!==null;){if(PY(r)){var i=r;break e}r=r.return}throw Error(ze(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(cm(s,""),i.flags&=-33);var o=B3(n);cP(n,o,s);break;case 3:case 4:var a=i.stateNode.containerInfo,l=B3(n);lP(n,l,a);break;default:throw Error(ze(161))}}catch(c){Mn(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function tae(n,e,r){tt=n,MY(n)}function MY(n,e,r){for(var i=(n.mode&1)!==0;tt!==null;){var s=tt,o=s.child;if(s.tag===22&&i){var a=s.memoizedState!==null||H0;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Er;l=H0;var u=Er;if(H0=a,(Er=c)&&!u)for(tt=s;tt!==null;)a=tt,c=a.child,a.tag===22&&a.memoizedState!==null?W3(s):c!==null?(c.return=a,tt=c):W3(s);for(;o!==null;)tt=o,MY(o),o=o.sibling;tt=s,H0=l,Er=u}U3(n)}else s.subtreeFlags&8772&&o!==null?(o.return=s,tt=o):U3(n)}}function U3(n){for(;tt!==null;){var e=tt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Er||yx(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Er)if(r===null)i.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ss(e.type,r.memoizedProps);i.componentDidUpdate(s,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&T3(e,o,i);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}T3(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&hm(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}Er||e.flags&512&&aP(e)}catch(h){Mn(e,e.return,h)}}if(e===n){tt=null;break}if(r=e.sibling,r!==null){r.return=e.return,tt=r;break}tt=e.return}}function q3(n){for(;tt!==null;){var e=tt;if(e===n){tt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,tt=r;break}tt=e.return}}function W3(n){for(;tt!==null;){var e=tt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{yx(4,e)}catch(c){Mn(e,r,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(c){Mn(e,s,c)}}var o=e.return;try{aP(e)}catch(c){Mn(e,o,c)}break;case 5:var a=e.return;try{aP(e)}catch(c){Mn(e,a,c)}}}catch(c){Mn(e,e.return,c)}if(e===n){tt=null;break}var l=e.sibling;if(l!==null){l.return=e.return,tt=l;break}tt=e.return}}var nae=Math.ceil,Qy=Ca.ReactCurrentDispatcher,YO=Ca.ReactCurrentOwner,cs=Ca.ReactCurrentBatchConfig,$t=0,lr=null,Gn=null,yr=0,Si=0,gd=Ll(0),Zn=0,km=null,eu=0,vx=0,VO=0,qp=null,ri=null,KO=0,xf=1/0,Ho=null,Zy=!1,uP=null,_l=null,G0=!1,hl=null,Jy=0,Wp=0,dP=null,ry=-1,iy=0;function Hr(){return $t&6?Bn():ry!==-1?ry:ry=Bn()}function Sl(n){return n.mode&1?$t&2&&yr!==0?yr&-yr:$oe.transition!==null?(iy===0&&(iy=gG()),iy):(n=Xt,n!==0||(n=window.event,n=n===void 0?16:SG(n.type)),n):1}function js(n,e,r,i){if(50<Wp)throw Wp=0,dP=null,Error(ze(185));Tg(n,r,i),(!($t&2)||n!==lr)&&(n===lr&&(!($t&2)&&(vx|=r),Zn===4&&Ja(n,yr)),di(n,i),r===1&&$t===0&&!(e.mode&1)&&(xf=Bn()+500,mx&&Fl()))}function di(n,e){var r=n.callbackNode;$se(n,e);var i=jy(n,n===lr?yr:0);if(i===0)r!==null&&JN(r),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(r!=null&&JN(r),e===1)n.tag===0?Foe(H3.bind(null,n)):UG(H3.bind(null,n)),Roe(function(){!($t&6)&&Fl()}),r=null;else{switch(bG(i)){case 1:r=wO;break;case 4:r=pG;break;case 16:r=Ny;break;case 536870912:r=mG;break;default:r=Ny}r=BY(r,AY.bind(null,n))}n.callbackPriority=e,n.callbackNode=r}}function AY(n,e){if(ry=-1,iy=0,$t&6)throw Error(ze(327));var r=n.callbackNode;if(Pd()&&n.callbackNode!==r)return null;var i=jy(n,n===lr?yr:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=ev(n,i);else{e=i;var s=$t;$t|=2;var o=NY();(lr!==n||yr!==e)&&(Ho=null,xf=Bn()+500,$c(n,e));do try{sae();break}catch(l){RY(n,l)}while(!0);RO(),Qy.current=o,$t=s,Gn!==null?e=0:(lr=null,yr=0,e=Zn)}if(e!==0){if(e===2&&(s=FD(n),s!==0&&(i=s,e=fP(n,s))),e===1)throw r=km,$c(n,0),Ja(n,i),di(n,Bn()),r;if(e===6)Ja(n,i);else{if(s=n.current.alternate,!(i&30)&&!rae(s)&&(e=ev(n,i),e===2&&(o=FD(n),o!==0&&(i=o,e=fP(n,o))),e===1))throw r=km,$c(n,0),Ja(n,i),di(n,Bn()),r;switch(n.finishedWork=s,n.finishedLanes=i,e){case 0:case 1:throw Error(ze(345));case 2:ac(n,ri,Ho);break;case 3:if(Ja(n,i),(i&130023424)===i&&(e=KO+500-Bn(),10<e)){if(jy(n,0)!==0)break;if(s=n.suspendedLanes,(s&i)!==i){Hr(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=GD(ac.bind(null,n,ri,Ho),e);break}ac(n,ri,Ho);break;case 4:if(Ja(n,i),(i&4194240)===i)break;for(e=n.eventTimes,s=-1;0<i;){var a=31-Ns(i);o=1<<a,a=e[a],a>s&&(s=a),i&=~o}if(i=s,i=Bn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*nae(i/1960))-i,10<i){n.timeoutHandle=GD(ac.bind(null,n,ri,Ho),i);break}ac(n,ri,Ho);break;case 5:ac(n,ri,Ho);break;default:throw Error(ze(329))}}}return di(n,Bn()),n.callbackNode===r?AY.bind(null,n):null}function fP(n,e){var r=qp;return n.current.memoizedState.isDehydrated&&($c(n,e).flags|=256),n=ev(n,e),n!==2&&(e=ri,ri=r,e!==null&&hP(e)),n}function hP(n){ri===null?ri=n:ri.push.apply(ri,n)}function rae(n){for(var e=n;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var s=r[i],o=s.getSnapshot;s=s.value;try{if(!Fs(o(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ja(n,e){for(e&=~VO,e&=~vx,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var r=31-Ns(e),i=1<<r;n[r]=-1,e&=~i}}function H3(n){if($t&6)throw Error(ze(327));Pd();var e=jy(n,0);if(!(e&1))return di(n,Bn()),null;var r=ev(n,e);if(n.tag!==0&&r===2){var i=FD(n);i!==0&&(e=i,r=fP(n,i))}if(r===1)throw r=km,$c(n,0),Ja(n,e),di(n,Bn()),r;if(r===6)throw Error(ze(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,ac(n,ri,Ho),di(n,Bn()),null}function XO(n,e){var r=$t;$t|=1;try{return n(e)}finally{$t=r,$t===0&&(xf=Bn()+500,mx&&Fl())}}function tu(n){hl!==null&&hl.tag===0&&!($t&6)&&Pd();var e=$t;$t|=1;var r=cs.transition,i=Xt;try{if(cs.transition=null,Xt=1,n)return n()}finally{Xt=i,cs.transition=r,$t=e,!($t&6)&&Fl()}}function QO(){Si=gd.current,pn(gd)}function $c(n,e){n.finishedWork=null,n.finishedLanes=0;var r=n.timeoutHandle;if(r!==-1&&(n.timeoutHandle=-1,Aoe(r)),Gn!==null)for(r=Gn.return;r!==null;){var i=r;switch(OO(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&zy();break;case 3:yf(),pn(ci),pn(Ir),BO();break;case 5:$O(i);break;case 4:yf();break;case 13:pn(Tn);break;case 19:pn(Tn);break;case 10:NO(i.type._context);break;case 22:case 23:QO()}r=r.return}if(lr=n,Gn=n=kl(n.current,null),yr=Si=e,Zn=0,km=null,VO=vx=eu=0,ri=qp=null,vc!==null){for(e=0;e<vc.length;e++)if(r=vc[e],i=r.interleaved,i!==null){r.interleaved=null;var s=i.next,o=r.pending;if(o!==null){var a=o.next;o.next=s,i.next=a}r.pending=i}vc=null}return n}function RY(n,e){do{var r=Gn;try{if(RO(),ey.current=Xy,Ky){for(var i=En.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Ky=!1}if(Jc=0,nr=Xn=En=null,zp=!1,wm=0,YO.current=null,r===null||r.return===null){Zn=1,km=e,Gn=null;break}e:{var o=n,a=r.return,l=r,c=e;if(e=yr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=M3(a);if(p!==null){p.flags&=-257,A3(p,a,l,o,e),p.mode&1&&O3(o,u,e),e=p,c=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(c),e.updateQueue=v}else g.add(c);break e}else{if(!(e&1)){O3(o,u,e),ZO();break e}c=Error(ze(426))}}else if(_n&&l.mode&1){var y=M3(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),A3(y,a,l,o,e),MO(vf(c,l));break e}}o=c=vf(c,l),Zn!==4&&(Zn=2),qp===null?qp=[o]:qp.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=bY(o,c,e);C3(o,b);break e;case 1:l=c;var w=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(_l===null||!_l.has(k)))){o.flags|=65536,e&=-e,o.lanes|=e;var _=yY(o,l,e);C3(o,_);break e}}o=o.return}while(o!==null)}LY(r)}catch(S){e=S,Gn===r&&r!==null&&(Gn=r=r.return);continue}break}while(!0)}function NY(){var n=Qy.current;return Qy.current=Xy,n===null?Xy:n}function ZO(){(Zn===0||Zn===3||Zn===2)&&(Zn=4),lr===null||!(eu&268435455)&&!(vx&268435455)||Ja(lr,yr)}function ev(n,e){var r=$t;$t|=2;var i=NY();(lr!==n||yr!==e)&&(Ho=null,$c(n,e));do try{iae();break}catch(s){RY(n,s)}while(!0);if(RO(),$t=r,Qy.current=i,Gn!==null)throw Error(ze(261));return lr=null,yr=0,Zn}function iae(){for(;Gn!==null;)jY(Gn)}function sae(){for(;Gn!==null&&!Ise();)jY(Gn)}function jY(n){var e=$Y(n.alternate,n,Si);n.memoizedProps=n.pendingProps,e===null?LY(n):Gn=e,YO.current=null}function LY(n){var e=n;do{var r=e.alternate;if(n=e.return,e.flags&32768){if(r=Zoe(r,e),r!==null){r.flags&=32767,Gn=r;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Zn=6,Gn=null;return}}else if(r=Qoe(r,e,Si),r!==null){Gn=r;return}if(e=e.sibling,e!==null){Gn=e;return}Gn=e=n}while(e!==null);Zn===0&&(Zn=5)}function ac(n,e,r){var i=Xt,s=cs.transition;try{cs.transition=null,Xt=1,oae(n,e,r,i)}finally{cs.transition=s,Xt=i}return null}function oae(n,e,r,i){do Pd();while(hl!==null);if($t&6)throw Error(ze(327));r=n.finishedWork;var s=n.finishedLanes;if(r===null)return null;if(n.finishedWork=null,n.finishedLanes=0,r===n.current)throw Error(ze(177));n.callbackNode=null,n.callbackPriority=0;var o=r.lanes|r.childLanes;if(Bse(n,o),n===lr&&(Gn=lr=null,yr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||G0||(G0=!0,BY(Ny,function(){return Pd(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=cs.transition,cs.transition=null;var a=Xt;Xt=1;var l=$t;$t|=4,YO.current=null,eae(n,r),OY(r,n),Toe(WD),Ly=!!qD,WD=qD=null,n.current=r,tae(r),Ose(),$t=l,Xt=a,cs.transition=o}else n.current=r;if(G0&&(G0=!1,hl=n,Jy=s),o=n.pendingLanes,o===0&&(_l=null),Rse(r.stateNode),di(n,Bn()),e!==null)for(i=n.onRecoverableError,r=0;r<e.length;r++)s=e[r],i(s.value,{componentStack:s.stack,digest:s.digest});if(Zy)throw Zy=!1,n=uP,uP=null,n;return Jy&1&&n.tag!==0&&Pd(),o=n.pendingLanes,o&1?n===dP?Wp++:(Wp=0,dP=n):Wp=0,Fl(),null}function Pd(){if(hl!==null){var n=bG(Jy),e=cs.transition,r=Xt;try{if(cs.transition=null,Xt=16>n?16:n,hl===null)var i=!1;else{if(n=hl,hl=null,Jy=0,$t&6)throw Error(ze(331));var s=$t;for($t|=4,tt=n.current;tt!==null;){var o=tt,a=o.child;if(tt.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(tt=u;tt!==null;){var f=tt;switch(f.tag){case 0:case 11:case 15:Up(8,f,o)}var d=f.child;if(d!==null)d.return=f,tt=d;else for(;tt!==null;){f=tt;var h=f.sibling,p=f.return;if(DY(f),f===u){tt=null;break}if(h!==null){h.return=p,tt=h;break}tt=p}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}tt=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,tt=a;else e:for(;tt!==null;){if(o=tt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Up(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,tt=b;break e}tt=o.return}}var w=n.current;for(tt=w;tt!==null;){a=tt;var k=a.child;if(a.subtreeFlags&2064&&k!==null)k.return=a,tt=k;else e:for(a=w;tt!==null;){if(l=tt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yx(9,l)}}catch(S){Mn(l,l.return,S)}if(l===a){tt=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,tt=_;break e}tt=l.return}}if($t=s,Fl(),go&&typeof go.onPostCommitFiberRoot=="function")try{go.onPostCommitFiberRoot(ux,n)}catch{}i=!0}return i}finally{Xt=r,cs.transition=e}}return!1}function G3(n,e,r){e=vf(r,e),e=bY(n,e,1),n=wl(n,e,1),e=Hr(),n!==null&&(Tg(n,1,e),di(n,e))}function Mn(n,e,r){if(n.tag===3)G3(n,n,r);else for(;e!==null;){if(e.tag===3){G3(e,n,r);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(_l===null||!_l.has(i))){n=vf(r,n),n=yY(e,n,1),e=wl(e,n,1),n=Hr(),e!==null&&(Tg(e,1,n),di(e,n));break}}e=e.return}}function aae(n,e,r){var i=n.pingCache;i!==null&&i.delete(e),e=Hr(),n.pingedLanes|=n.suspendedLanes&r,lr===n&&(yr&r)===r&&(Zn===4||Zn===3&&(yr&130023424)===yr&&500>Bn()-KO?$c(n,0):VO|=r),di(n,e)}function FY(n,e){e===0&&(n.mode&1?(e=j0,j0<<=1,!(j0&130023424)&&(j0=4194304)):e=1);var r=Hr();n=va(n,e),n!==null&&(Tg(n,e,r),di(n,r))}function lae(n){var e=n.memoizedState,r=0;e!==null&&(r=e.retryLane),FY(n,r)}function cae(n,e){var r=0;switch(n.tag){case 13:var i=n.stateNode,s=n.memoizedState;s!==null&&(r=s.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(ze(314))}i!==null&&i.delete(e),FY(n,r)}var $Y;$Y=function(n,e,r){if(n!==null)if(n.memoizedProps!==e.pendingProps||ci.current)ai=!0;else{if(!(n.lanes&r)&&!(e.flags&128))return ai=!1,Xoe(n,e,r);ai=!!(n.flags&131072)}else ai=!1,_n&&e.flags&1048576&&qG(e,Wy,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;ny(n,e),n=e.pendingProps;var s=mf(e,Ir.current);Dd(e,r),s=UO(null,e,i,n,s,r);var o=qO();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ui(i)?(o=!0,Uy(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,LO(e),s.updater=bx,e.stateNode=s,s._reactInternals=e,JD(e,i,n,r),e=nP(null,e,i,!0,o,r)):(e.tag=0,_n&&o&&IO(e),Fr(null,e,s,r),e=e.child),e;case 16:i=e.elementType;e:{switch(ny(n,e),n=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=dae(i),n=Ss(i,n),s){case 0:e=tP(null,e,i,n,r);break e;case 1:e=j3(null,e,i,n,r);break e;case 11:e=R3(null,e,i,n,r);break e;case 14:e=N3(null,e,i,Ss(i.type,n),r);break e}throw Error(ze(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Ss(i,s),tP(n,e,i,s,r);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Ss(i,s),j3(n,e,i,s,r);case 3:e:{if(_Y(e),n===null)throw Error(ze(387));i=e.pendingProps,o=e.memoizedState,s=o.element,KG(n,e),Yy(e,i,null,r);var a=e.memoizedState;if(i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=vf(Error(ze(423)),e),e=L3(n,e,i,r,s);break e}else if(i!==s){s=vf(Error(ze(424)),e),e=L3(n,e,i,r,s);break e}else for(Di=xl(e.stateNode.containerInfo.firstChild),Pi=e,_n=!0,Is=null,r=YG(e,null,i,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gf(),i===s){e=xa(n,e,r);break e}Fr(n,e,i,r)}e=e.child}return e;case 5:return XG(e),n===null&&XD(e),i=e.type,s=e.pendingProps,o=n!==null?n.memoizedProps:null,a=s.children,HD(i,s)?a=null:o!==null&&HD(i,o)&&(e.flags|=32),wY(n,e),Fr(n,e,a,r),e.child;case 6:return n===null&&XD(e),null;case 13:return SY(n,e,r);case 4:return FO(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=bf(e,null,i,r):Fr(n,e,i,r),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Ss(i,s),R3(n,e,i,s,r);case 7:return Fr(n,e,e.pendingProps,r),e.child;case 8:return Fr(n,e,e.pendingProps.children,r),e.child;case 12:return Fr(n,e,e.pendingProps.children,r),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,o=e.memoizedProps,a=s.value,ln(Hy,i._currentValue),i._currentValue=a,o!==null)if(Fs(o.value,a)){if(o.children===s.children&&!ci.current){e=xa(n,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===i){if(o.tag===1){c=aa(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),QD(o.return,r,e),l.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ze(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),QD(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Fr(n,e,s.children,r),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Dd(e,r),s=ds(s),i=i(s),e.flags|=1,Fr(n,e,i,r),e.child;case 14:return i=e.type,s=Ss(i,e.pendingProps),s=Ss(i.type,s),N3(n,e,i,s,r);case 15:return vY(n,e,e.type,e.pendingProps,r);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Ss(i,s),ny(n,e),e.tag=1,ui(i)?(n=!0,Uy(e)):n=!1,Dd(e,r),gY(e,i,s),JD(e,i,s,r),nP(null,e,i,!0,n,r);case 19:return kY(n,e,r);case 22:return xY(n,e,r)}throw Error(ze(156,e.tag))};function BY(n,e){return hG(n,e)}function uae(n,e,r,i){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(n,e,r,i){return new uae(n,e,r,i)}function JO(n){return n=n.prototype,!(!n||!n.isReactComponent)}function dae(n){if(typeof n=="function")return JO(n)?1:0;if(n!=null){if(n=n.$$typeof,n===yO)return 11;if(n===vO)return 14}return 2}function kl(n,e){var r=n.alternate;return r===null?(r=ss(n.tag,e,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=e,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&14680064,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,e=n.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r}function sy(n,e,r,i,s,o){var a=2;if(i=n,typeof n=="function")JO(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case od:return Bc(r.children,s,o,e);case bO:a=8,s|=8;break;case SD:return n=ss(12,r,e,s|2),n.elementType=SD,n.lanes=o,n;case kD:return n=ss(13,r,e,s),n.elementType=kD,n.lanes=o,n;case CD:return n=ss(19,r,e,s),n.elementType=CD,n.lanes=o,n;case XH:return xx(r,s,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case VH:a=10;break e;case KH:a=9;break e;case yO:a=11;break e;case vO:a=14;break e;case Xa:a=16,i=null;break e}throw Error(ze(130,n==null?n:typeof n,""))}return e=ss(a,r,e,s),e.elementType=n,e.type=i,e.lanes=o,e}function Bc(n,e,r,i){return n=ss(7,n,i,e),n.lanes=r,n}function xx(n,e,r,i){return n=ss(22,n,i,e),n.elementType=XH,n.lanes=r,n.stateNode={isHidden:!1},n}function M1(n,e,r){return n=ss(6,n,null,e),n.lanes=r,n}function A1(n,e,r){return e=ss(4,n.children!==null?n.children:[],n.key,e),e.lanes=r,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function fae(n,e,r,i,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=h1(0),this.expirationTimes=h1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=h1(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function eM(n,e,r,i,s,o,a,l,c){return n=new fae(n,e,r,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ss(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},LO(o),n}function hae(n,e,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sd,key:i==null?null:""+i,children:n,containerInfo:e,implementation:r}}function zY(n){if(!n)return Ml;n=n._reactInternals;e:{if(vu(n)!==n||n.tag!==1)throw Error(ze(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ui(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ze(171))}if(n.tag===1){var r=n.type;if(ui(r))return zG(n,r,e)}return e}function UY(n,e,r,i,s,o,a,l,c){return n=eM(r,i,!0,n,s,o,a,l,c),n.context=zY(null),r=n.current,i=Hr(),s=Sl(r),o=aa(i,s),o.callback=e??null,wl(r,o,s),n.current.lanes=s,Tg(n,s,i),di(n,i),n}function wx(n,e,r,i){var s=e.current,o=Hr(),a=Sl(s);return r=zY(r),e.context===null?e.context=r:e.pendingContext=r,e=aa(o,a),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=wl(s,e,a),n!==null&&(js(n,s,a,o),Jb(n,s,a)),a}function tv(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Y3(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<e?r:e}}function tM(n,e){Y3(n,e),(n=n.alternate)&&Y3(n,e)}function pae(){return null}var qY=typeof reportError=="function"?reportError:function(n){console.error(n)};function nM(n){this._internalRoot=n}_x.prototype.render=nM.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(ze(409));wx(n,e,null,null)};_x.prototype.unmount=nM.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;tu(function(){wx(null,n,null,null)}),e[ya]=null}};function _x(n){this._internalRoot=n}_x.prototype.unstable_scheduleHydration=function(n){if(n){var e=xG();n={blockedOn:null,target:n,priority:e};for(var r=0;r<Za.length&&e!==0&&e<Za[r].priority;r++);Za.splice(r,0,n),r===0&&_G(n)}};function rM(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Sx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function V3(){}function mae(n,e,r,i,s){if(s){if(typeof i=="function"){var o=i;i=function(){var u=tv(a);o.call(u)}}var a=UY(e,i,n,0,null,!1,!1,"",V3);return n._reactRootContainer=a,n[ya]=a.current,gm(n.nodeType===8?n.parentNode:n),tu(),a}for(;s=n.lastChild;)n.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var u=tv(c);l.call(u)}}var c=eM(n,0,!1,null,null,!1,!1,"",V3);return n._reactRootContainer=c,n[ya]=c.current,gm(n.nodeType===8?n.parentNode:n),tu(function(){wx(e,c,r,i)}),c}function kx(n,e,r,i,s){var o=r._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=tv(a);l.call(c)}}wx(e,a,n,s)}else a=mae(r,e,n,s,i);return tv(a)}yG=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var r=yp(e.pendingLanes);r!==0&&(_O(e,r|1),di(e,Bn()),!($t&6)&&(xf=Bn()+500,Fl()))}break;case 13:tu(function(){var i=va(n,1);if(i!==null){var s=Hr();js(i,n,1,s)}}),tM(n,1)}};SO=function(n){if(n.tag===13){var e=va(n,134217728);if(e!==null){var r=Hr();js(e,n,134217728,r)}tM(n,134217728)}};vG=function(n){if(n.tag===13){var e=Sl(n),r=va(n,e);if(r!==null){var i=Hr();js(r,n,e,i)}tM(n,e)}};xG=function(){return Xt};wG=function(n,e){var r=Xt;try{return Xt=n,e()}finally{Xt=r}};ND=function(n,e,r){switch(e){case"input":if(DD(n,r),e=r.name,r.type==="radio"&&e!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var i=r[e];if(i!==n&&i.form===n.form){var s=px(i);if(!s)throw Error(ze(90));ZH(i),DD(i,s)}}}break;case"textarea":eG(n,r);break;case"select":e=r.value,e!=null&&kd(n,!!r.multiple,e,!1)}};aG=XO;lG=tu;var gae={usingClientEntryPoint:!1,Events:[Dg,ud,px,sG,oG,XO]},Lh={findFiberByHostInstance:yc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bae={bundleType:Lh.bundleType,version:Lh.version,rendererPackageName:Lh.rendererPackageName,rendererConfig:Lh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ca.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=dG(n),n===null?null:n.stateNode},findFiberByHostInstance:Lh.findFiberByHostInstance||pae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Y0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Y0.isDisabled&&Y0.supportsFiber)try{ux=Y0.inject(bae),go=Y0}catch{}}ji.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gae;ji.createPortal=function(n,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rM(e))throw Error(ze(200));return hae(n,e,null,r)};ji.createRoot=function(n,e){if(!rM(n))throw Error(ze(299));var r=!1,i="",s=qY;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=eM(n,1,!1,null,null,r,!1,i,s),n[ya]=e.current,gm(n.nodeType===8?n.parentNode:n),new nM(e)};ji.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(ze(188)):(n=Object.keys(n).join(","),Error(ze(268,n)));return n=dG(e),n=n===null?null:n.stateNode,n};ji.flushSync=function(n){return tu(n)};ji.hydrate=function(n,e,r){if(!Sx(e))throw Error(ze(200));return kx(null,n,e,!0,r)};ji.hydrateRoot=function(n,e,r){if(!rM(n))throw Error(ze(405));var i=r!=null&&r.hydratedSources||null,s=!1,o="",a=qY;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=UY(e,null,n,1,r??null,s,!1,o,a),n[ya]=e.current,gm(n),i)for(n=0;n<i.length;n++)r=i[n],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new _x(e)};ji.render=function(n,e,r){if(!Sx(e))throw Error(ze(200));return kx(null,n,e,!1,r)};ji.unmountComponentAtNode=function(n){if(!Sx(n))throw Error(ze(40));return n._reactRootContainer?(tu(function(){kx(null,null,n,!1,function(){n._reactRootContainer=null,n[ya]=null})}),!0):!1};ji.unstable_batchedUpdates=XO;ji.unstable_renderSubtreeIntoContainer=function(n,e,r,i){if(!Sx(r))throw Error(ze(200));if(n==null||n._reactInternals===void 0)throw Error(ze(38));return kx(n,e,r,!1,i)};ji.version="18.3.1-next-f1338f8080-20240426";function WY(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WY)}catch(n){console.error(n)}}WY(),WH.exports=ji;var $l=WH.exports;const yae=lx($l);var K3=$l;wD.createRoot=K3.createRoot,wD.hydrateRoot=K3.hydrateRoot;var Ig=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vae={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},nl,cO,SH,xae=(SH=class{constructor(){Xe(this,nl,vae);Xe(this,cO,!1)}setTimeoutProvider(n){Pe(this,nl,n)}setTimeout(n,e){return oe(this,nl).setTimeout(n,e)}clearTimeout(n){oe(this,nl).clearTimeout(n)}setInterval(n,e){return oe(this,nl).setInterval(n,e)}clearInterval(n){oe(this,nl).clearInterval(n)}},nl=new WeakMap,cO=new WeakMap,SH),pP=new xae;function wae(n){setTimeout(n,0)}var Cx=typeof window>"u"||"Deno"in globalThis;function Ji(){}function _ae(n,e){return typeof n=="function"?n(e):n}function Sae(n){return typeof n=="number"&&n>=0&&n!==1/0}function kae(n,e){return Math.max(n+(e||0)-Date.now(),0)}function mP(n,e){return typeof n=="function"?n(e):n}function Cae(n,e){return typeof n=="function"?n(e):n}function X3(n,e){const{type:r="all",exact:i,fetchStatus:s,predicate:o,queryKey:a,stale:l}=n;if(a){if(i){if(e.queryHash!==iM(a,e.options))return!1}else if(!Cm(e.queryKey,a))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||o&&!o(e))}function Q3(n,e){const{exact:r,status:i,predicate:s,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(r){if(nu(e.options.mutationKey)!==nu(o))return!1}else if(!Cm(e.options.mutationKey,o))return!1}return!(i&&e.state.status!==i||s&&!s(e))}function iM(n,e){return((e==null?void 0:e.queryKeyHashFn)||nu)(n)}function nu(n){return JSON.stringify(n,(e,r)=>gP(r)?Object.keys(r).sort().reduce((i,s)=>(i[s]=r[s],i),{}):r)}function Cm(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(r=>Cm(n[r],e[r])):!1}var Tae=Object.prototype.hasOwnProperty;function HY(n,e){if(n===e)return n;const r=Z3(n)&&Z3(e);if(!r&&!(gP(n)&&gP(e)))return e;const s=(r?n:Object.keys(n)).length,o=r?e:Object.keys(e),a=o.length,l=r?new Array(a):{};let c=0;for(let u=0;u<a;u++){const f=r?u:o[u],d=n[f],h=e[f];if(d===h){l[f]=d,(r?u<s:Tae.call(n,f))&&c++;continue}if(d===null||h===null||typeof d!="object"||typeof h!="object"){l[f]=h;continue}const p=HY(d,h);l[f]=p,p===d&&c++}return s===a&&c===s?n:l}function Eae(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const r in n)if(n[r]!==e[r])return!1;return!0}function Z3(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function gP(n){if(!J3(n))return!1;const e=n.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!J3(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function J3(n){return Object.prototype.toString.call(n)==="[object Object]"}function Dae(n){return new Promise(e=>{pP.setTimeout(e,n)})}function Pae(n,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(n,e):r.structuralSharing!==!1?HY(n,e):e}function Iae(n,e,r=0){const i=[...n,e];return r&&i.length>r?i.slice(1):i}function Oae(n,e,r=0){const i=[e,...n];return r&&i.length>r?i.slice(0,-1):i}var sM=Symbol();function GY(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===sM?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function Mae(n,e){return typeof n=="function"?n(...e):!!n}var Ic,rl,$d,kH,Aae=(kH=class extends Ig{constructor(){super();Xe(this,Ic);Xe(this,rl);Xe(this,$d);Pe(this,$d,e=>{if(!Cx&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){oe(this,rl)||this.setEventListener(oe(this,$d))}onUnsubscribe(){var e;this.hasListeners()||((e=oe(this,rl))==null||e.call(this),Pe(this,rl,void 0))}setEventListener(e){var r;Pe(this,$d,e),(r=oe(this,rl))==null||r.call(this),Pe(this,rl,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){oe(this,Ic)!==e&&(Pe(this,Ic,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof oe(this,Ic)=="boolean"?oe(this,Ic):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ic=new WeakMap,rl=new WeakMap,$d=new WeakMap,kH),YY=new Aae;function Rae(){let n,e;const r=new Promise((s,o)=>{n=s,e=o});r.status="pending",r.catch(()=>{});function i(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{i({status:"fulfilled",value:s}),n(s)},r.reject=s=>{i({status:"rejected",reason:s}),e(s)},r}var Nae=wae;function jae(){let n=[],e=0,r=l=>{l()},i=l=>{l()},s=Nae;const o=l=>{e?n.push(l):s(()=>{r(l)})},a=()=>{const l=n;n=[],l.length&&s(()=>{i(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{i=l},setScheduler:l=>{s=l}}}var pr=jae(),Bd,il,zd,CH,Lae=(CH=class extends Ig{constructor(){super();Xe(this,Bd,!0);Xe(this,il);Xe(this,zd);Pe(this,zd,e=>{if(!Cx&&window.addEventListener){const r=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",i)}}})}onSubscribe(){oe(this,il)||this.setEventListener(oe(this,zd))}onUnsubscribe(){var e;this.hasListeners()||((e=oe(this,il))==null||e.call(this),Pe(this,il,void 0))}setEventListener(e){var r;Pe(this,zd,e),(r=oe(this,il))==null||r.call(this),Pe(this,il,e(this.setOnline.bind(this)))}setOnline(e){oe(this,Bd)!==e&&(Pe(this,Bd,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return oe(this,Bd)}},Bd=new WeakMap,il=new WeakMap,zd=new WeakMap,CH),nv=new Lae;function Fae(n){return Math.min(1e3*2**n,3e4)}function VY(n){return(n??"online")==="online"?nv.isOnline():!0}var bP=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function KY(n){let e=!1,r=0,i;const s=Rae(),o=()=>s.status!=="pending",a=v=>{var y;if(!o()){const b=new bP(v);h(b),(y=n.onCancel)==null||y.call(n,b)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>YY.isFocused()&&(n.networkMode==="always"||nv.isOnline())&&n.canRun(),f=()=>VY(n.networkMode)&&n.canRun(),d=v=>{o()||(i==null||i(),s.resolve(v))},h=v=>{o()||(i==null||i(),s.reject(v))},p=()=>new Promise(v=>{var y;i=b=>{(o()||u())&&v(b)},(y=n.onPause)==null||y.call(n)}).then(()=>{var v;i=void 0,o()||(v=n.onContinue)==null||v.call(n)}),g=()=>{if(o())return;let v;const y=r===0?n.initialPromise:void 0;try{v=y??n.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(d).catch(b=>{var C;if(o())return;const w=n.retry??(Cx?0:3),k=n.retryDelay??Fae,_=typeof k=="function"?k(r,b):k,S=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,b);if(e||!S){h(b);return}r++,(C=n.onFail)==null||C.call(n,r,b),Dae(_).then(()=>u()?void 0:p()).then(()=>{e?h(b):g()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?g():p().then(g),s)}}var Oc,TH,XY=(TH=class{constructor(){Xe(this,Oc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sae(this.gcTime)&&Pe(this,Oc,pP.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Cx?1/0:5*60*1e3))}clearGcTimeout(){oe(this,Oc)&&(pP.clearTimeout(oe(this,Oc)),Pe(this,Oc,void 0))}},Oc=new WeakMap,TH),Mc,Ud,Zi,Ac,tr,yg,Rc,Cs,Uo,EH,$ae=(EH=class extends XY{constructor(e){super();Xe(this,Cs);Xe(this,Mc);Xe(this,Ud);Xe(this,Zi);Xe(this,Ac);Xe(this,tr);Xe(this,yg);Xe(this,Rc);Pe(this,Rc,!1),Pe(this,yg,e.defaultOptions),this.setOptions(e.options),this.observers=[],Pe(this,Ac,e.client),Pe(this,Zi,oe(this,Ac).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Pe(this,Mc,t5(this.options)),this.state=e.state??oe(this,Mc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=oe(this,tr))==null?void 0:e.promise}setOptions(e){if(this.options={...oe(this,yg),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=t5(this.options);r.data!==void 0&&(this.setState(e5(r.data,r.dataUpdatedAt)),Pe(this,Mc,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&oe(this,Zi).remove(this)}setData(e,r){const i=Pae(this.state.data,e,this.options);return It(this,Cs,Uo).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(e,r){It(this,Cs,Uo).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var i,s;const r=(i=oe(this,tr))==null?void 0:i.promise;return(s=oe(this,tr))==null||s.cancel(e),r?r.then(Ji).catch(Ji):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(oe(this,Mc))}isActive(){return this.observers.some(e=>Cae(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sM||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>mP(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!kae(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=oe(this,tr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=oe(this,tr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),oe(this,Zi).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(oe(this,tr)&&(oe(this,Rc)?oe(this,tr).cancel({revert:!0}):oe(this,tr).cancelRetry()),this.scheduleGc()),oe(this,Zi).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||It(this,Cs,Uo).call(this,{type:"invalidate"})}async fetch(e,r){var c,u,f,d,h,p,g,v,y,b,w,k;if(this.state.fetchStatus!=="idle"&&((c=oe(this,tr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(oe(this,tr))return oe(this,tr).continueRetry(),oe(this,tr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const _=this.observers.find(S=>S.options.queryFn);_&&this.setOptions(_.options)}const i=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Pe(this,Rc,!0),i.signal)})},o=()=>{const _=GY(this.options,r),C=(()=>{const T={client:oe(this,Ac),queryKey:this.queryKey,meta:this.meta};return s(T),T})();return Pe(this,Rc,!1),this.options.persister?this.options.persister(_,C,this):_(C)},l=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:oe(this,Ac),state:this.state,fetchFn:o};return s(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),Pe(this,Ud,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&It(this,Cs,Uo).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta}),Pe(this,tr,KY({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof bP&&_.revert&&this.setState({...oe(this,Ud),fetchStatus:"idle"}),i.abort()},onFail:(_,S)=>{It(this,Cs,Uo).call(this,{type:"failed",failureCount:_,error:S})},onPause:()=>{It(this,Cs,Uo).call(this,{type:"pause"})},onContinue:()=>{It(this,Cs,Uo).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await oe(this,tr).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(h=oe(this,Zi).config).onSuccess)==null||p.call(h,_,this),(v=(g=oe(this,Zi).config).onSettled)==null||v.call(g,_,this.state.error,this),_}catch(_){if(_ instanceof bP){if(_.silent)return oe(this,tr).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw It(this,Cs,Uo).call(this,{type:"error",error:_}),(b=(y=oe(this,Zi).config).onError)==null||b.call(y,_,this),(k=(w=oe(this,Zi).config).onSettled)==null||k.call(w,this.state.data,_,this),_}finally{this.scheduleGc()}}},Mc=new WeakMap,Ud=new WeakMap,Zi=new WeakMap,Ac=new WeakMap,tr=new WeakMap,yg=new WeakMap,Rc=new WeakMap,Cs=new WeakSet,Uo=function(e){const r=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Bae(i.data,this.options),fetchMeta:e.meta??null};case"success":const s={...i,...e5(e.data,e.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Pe(this,Ud,e.manual?s:void 0),s;case"error":const o=e.error;return{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=r(this.state),pr.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),oe(this,Zi).notify({query:this,type:"updated",action:e})})},EH);function Bae(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:VY(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function e5(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function t5(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,r=e!==void 0,i=r?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function n5(n){return{onFetch:(e,r)=>{var f,d,h,p,g;const i=e.options,s=(h=(d=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,o=((p=e.state.data)==null?void 0:p.pages)||[],a=((g=e.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const y=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},b=GY(e.options,e.fetchOptions),w=async(k,_,S)=>{if(v)return Promise.reject();if(_==null&&k.pages.length)return Promise.resolve(k);const T=(()=>{const A={client:e.client,queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};return y(A),A})(),D=await b(T),{maxPages:O}=e.options,P=S?Oae:Iae;return{pages:P(k.pages,D,O),pageParams:P(k.pageParams,_,O)}};if(s&&o.length){const k=s==="backward",_=k?zae:r5,S={pages:o,pageParams:a},C=_(i,S);l=await w(S,C,k)}else{const k=n??o.length;do{const _=c===0?a[0]??i.initialPageParam:r5(i,l);if(c>0&&_==null)break;l=await w(l,_),c++}while(c<k)}return l};e.options.persister?e.fetchFn=()=>{var v,y;return(y=(v=e.options).persister)==null?void 0:y.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function r5(n,{pages:e,pageParams:r}){const i=e.length-1;return e.length>0?n.getNextPageParam(e[i],e,r[i],r):void 0}function zae(n,{pages:e,pageParams:r}){var i;return e.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,e[0],e,r[0],r):void 0}var vg,so,Lr,Nc,oo,Ga,DH,Uae=(DH=class extends XY{constructor(e){super();Xe(this,oo);Xe(this,vg);Xe(this,so);Xe(this,Lr);Xe(this,Nc);Pe(this,vg,e.client),this.mutationId=e.mutationId,Pe(this,Lr,e.mutationCache),Pe(this,so,[]),this.state=e.state||QY(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){oe(this,so).includes(e)||(oe(this,so).push(e),this.clearGcTimeout(),oe(this,Lr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Pe(this,so,oe(this,so).filter(r=>r!==e)),this.scheduleGc(),oe(this,Lr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){oe(this,so).length||(this.state.status==="pending"?this.scheduleGc():oe(this,Lr).remove(this))}continue(){var e;return((e=oe(this,Nc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,l,c,u,f,d,h,p,g,v,y,b,w,k,_,S,C,T,D,O;const r=()=>{It(this,oo,Ga).call(this,{type:"continue"})},i={client:oe(this,vg),meta:this.options.meta,mutationKey:this.options.mutationKey};Pe(this,Nc,KY({fn:()=>this.options.mutationFn?this.options.mutationFn(e,i):Promise.reject(new Error("No mutationFn found")),onFail:(P,A)=>{It(this,oo,Ga).call(this,{type:"failed",failureCount:P,error:A})},onPause:()=>{It(this,oo,Ga).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>oe(this,Lr).canRun(this)}));const s=this.state.status==="pending",o=!oe(this,Nc).canStart();try{if(s)r();else{It(this,oo,Ga).call(this,{type:"pending",variables:e,isPaused:o}),await((l=(a=oe(this,Lr).config).onMutate)==null?void 0:l.call(a,e,this,i));const A=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e,i));A!==this.state.context&&It(this,oo,Ga).call(this,{type:"pending",context:A,variables:e,isPaused:o})}const P=await oe(this,Nc).start();return await((d=(f=oe(this,Lr).config).onSuccess)==null?void 0:d.call(f,P,e,this.state.context,this,i)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,P,e,this.state.context,i)),await((v=(g=oe(this,Lr).config).onSettled)==null?void 0:v.call(g,P,null,this.state.variables,this.state.context,this,i)),await((b=(y=this.options).onSettled)==null?void 0:b.call(y,P,null,e,this.state.context,i)),It(this,oo,Ga).call(this,{type:"success",data:P}),P}catch(P){try{throw await((k=(w=oe(this,Lr).config).onError)==null?void 0:k.call(w,P,e,this.state.context,this,i)),await((S=(_=this.options).onError)==null?void 0:S.call(_,P,e,this.state.context,i)),await((T=(C=oe(this,Lr).config).onSettled)==null?void 0:T.call(C,void 0,P,this.state.variables,this.state.context,this,i)),await((O=(D=this.options).onSettled)==null?void 0:O.call(D,void 0,P,e,this.state.context,i)),P}finally{It(this,oo,Ga).call(this,{type:"error",error:P})}}finally{oe(this,Lr).runNext(this)}}},vg=new WeakMap,so=new WeakMap,Lr=new WeakMap,Nc=new WeakMap,oo=new WeakSet,Ga=function(e){const r=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),pr.batch(()=>{oe(this,so).forEach(i=>{i.onMutationUpdate(e)}),oe(this,Lr).notify({mutation:this,type:"updated",action:e})})},DH);function QY(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xo,Ts,xg,PH,qae=(PH=class extends Ig{constructor(e={}){super();Xe(this,Xo);Xe(this,Ts);Xe(this,xg);this.config=e,Pe(this,Xo,new Set),Pe(this,Ts,new Map),Pe(this,xg,0)}build(e,r,i){const s=new Uae({client:e,mutationCache:this,mutationId:++I0(this,xg)._,options:e.defaultMutationOptions(r),state:i});return this.add(s),s}add(e){oe(this,Xo).add(e);const r=V0(e);if(typeof r=="string"){const i=oe(this,Ts).get(r);i?i.push(e):oe(this,Ts).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(oe(this,Xo).delete(e)){const r=V0(e);if(typeof r=="string"){const i=oe(this,Ts).get(r);if(i)if(i.length>1){const s=i.indexOf(e);s!==-1&&i.splice(s,1)}else i[0]===e&&oe(this,Ts).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=V0(e);if(typeof r=="string"){const i=oe(this,Ts).get(r),s=i==null?void 0:i.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var i;const r=V0(e);if(typeof r=="string"){const s=(i=oe(this,Ts).get(r))==null?void 0:i.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){pr.batch(()=>{oe(this,Xo).forEach(e=>{this.notify({type:"removed",mutation:e})}),oe(this,Xo).clear(),oe(this,Ts).clear()})}getAll(){return Array.from(oe(this,Xo))}find(e){const r={exact:!0,...e};return this.getAll().find(i=>Q3(r,i))}findAll(e={}){return this.getAll().filter(r=>Q3(e,r))}notify(e){pr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return pr.batch(()=>Promise.all(e.map(r=>r.continue().catch(Ji))))}},Xo=new WeakMap,Ts=new WeakMap,xg=new WeakMap,PH);function V0(n){var e;return(e=n.options.scope)==null?void 0:e.id}var Qo,sl,ei,Zo,ga,oy,yP,IH,Wae=(IH=class extends Ig{constructor(r,i){super();Xe(this,ga);Xe(this,Qo);Xe(this,sl);Xe(this,ei);Xe(this,Zo);Pe(this,Qo,r),this.setOptions(i),this.bindMethods(),It(this,ga,oy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const i=this.options;this.options=oe(this,Qo).defaultMutationOptions(r),Eae(this.options,i)||oe(this,Qo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:oe(this,ei),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&nu(i.mutationKey)!==nu(this.options.mutationKey)?this.reset():((s=oe(this,ei))==null?void 0:s.state.status)==="pending"&&oe(this,ei).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=oe(this,ei))==null||r.removeObserver(this)}onMutationUpdate(r){It(this,ga,oy).call(this),It(this,ga,yP).call(this,r)}getCurrentResult(){return oe(this,sl)}reset(){var r;(r=oe(this,ei))==null||r.removeObserver(this),Pe(this,ei,void 0),It(this,ga,oy).call(this),It(this,ga,yP).call(this)}mutate(r,i){var s;return Pe(this,Zo,i),(s=oe(this,ei))==null||s.removeObserver(this),Pe(this,ei,oe(this,Qo).getMutationCache().build(oe(this,Qo),this.options)),oe(this,ei).addObserver(this),oe(this,ei).execute(r)}},Qo=new WeakMap,sl=new WeakMap,ei=new WeakMap,Zo=new WeakMap,ga=new WeakSet,oy=function(){var i;const r=((i=oe(this,ei))==null?void 0:i.state)??QY();Pe(this,sl,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},yP=function(r){pr.batch(()=>{var i,s,o,a,l,c,u,f;if(oe(this,Zo)&&this.hasListeners()){const d=oe(this,sl).variables,h=oe(this,sl).context,p={client:oe(this,Qo),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((s=(i=oe(this,Zo)).onSuccess)==null||s.call(i,r.data,d,h,p),(a=(o=oe(this,Zo)).onSettled)==null||a.call(o,r.data,null,d,h,p)):(r==null?void 0:r.type)==="error"&&((c=(l=oe(this,Zo)).onError)==null||c.call(l,r.error,d,h,p),(f=(u=oe(this,Zo)).onSettled)==null||f.call(u,void 0,r.error,d,h,p))}this.listeners.forEach(d=>{d(oe(this,sl))})})},IH),ao,OH,Hae=(OH=class extends Ig{constructor(e={}){super();Xe(this,ao);this.config=e,Pe(this,ao,new Map)}build(e,r,i){const s=r.queryKey,o=r.queryHash??iM(s,r);let a=this.get(o);return a||(a=new $ae({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(r),state:i,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){oe(this,ao).has(e.queryHash)||(oe(this,ao).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=oe(this,ao).get(e.queryHash);r&&(e.destroy(),r===e&&oe(this,ao).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){pr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return oe(this,ao).get(e)}getAll(){return[...oe(this,ao).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(i=>X3(r,i))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(i=>X3(e,i)):r}notify(e){pr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){pr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){pr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ao=new WeakMap,OH),On,ol,al,qd,Wd,ll,Hd,Gd,MH,Gae=(MH=class{constructor(n={}){Xe(this,On);Xe(this,ol);Xe(this,al);Xe(this,qd);Xe(this,Wd);Xe(this,ll);Xe(this,Hd);Xe(this,Gd);Pe(this,On,n.queryCache||new Hae),Pe(this,ol,n.mutationCache||new qae),Pe(this,al,n.defaultOptions||{}),Pe(this,qd,new Map),Pe(this,Wd,new Map),Pe(this,ll,0)}mount(){I0(this,ll)._++,oe(this,ll)===1&&(Pe(this,Hd,YY.subscribe(async n=>{n&&(await this.resumePausedMutations(),oe(this,On).onFocus())})),Pe(this,Gd,nv.subscribe(async n=>{n&&(await this.resumePausedMutations(),oe(this,On).onOnline())})))}unmount(){var n,e;I0(this,ll)._--,oe(this,ll)===0&&((n=oe(this,Hd))==null||n.call(this),Pe(this,Hd,void 0),(e=oe(this,Gd))==null||e.call(this),Pe(this,Gd,void 0))}isFetching(n){return oe(this,On).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return oe(this,ol).findAll({...n,status:"pending"}).length}getQueryData(n){var r;const e=this.defaultQueryOptions({queryKey:n});return(r=oe(this,On).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),r=oe(this,On).build(this,e),i=r.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&r.isStaleByTime(mP(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(n){return oe(this,On).findAll(n).map(({queryKey:e,state:r})=>{const i=r.data;return[e,i]})}setQueryData(n,e,r){const i=this.defaultQueryOptions({queryKey:n}),s=oe(this,On).get(i.queryHash),o=s==null?void 0:s.state.data,a=_ae(e,o);if(a!==void 0)return oe(this,On).build(this,i).setData(a,{...r,manual:!0})}setQueriesData(n,e,r){return pr.batch(()=>oe(this,On).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,r)]))}getQueryState(n){var r;const e=this.defaultQueryOptions({queryKey:n});return(r=oe(this,On).get(e.queryHash))==null?void 0:r.state}removeQueries(n){const e=oe(this,On);pr.batch(()=>{e.findAll(n).forEach(r=>{e.remove(r)})})}resetQueries(n,e){const r=oe(this,On);return pr.batch(()=>(r.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const r={revert:!0,...e},i=pr.batch(()=>oe(this,On).findAll(n).map(s=>s.cancel(r)));return Promise.all(i).then(Ji).catch(Ji)}invalidateQueries(n,e={}){return pr.batch(()=>(oe(this,On).findAll(n).forEach(r=>{r.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},i=pr.batch(()=>oe(this,On).findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(Ji)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(i).then(Ji)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const r=oe(this,On).build(this,e);return r.isStaleByTime(mP(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Ji).catch(Ji)}fetchInfiniteQuery(n){return n.behavior=n5(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Ji).catch(Ji)}ensureInfiniteQueryData(n){return n.behavior=n5(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return nv.isOnline()?oe(this,ol).resumePausedMutations():Promise.resolve()}getQueryCache(){return oe(this,On)}getMutationCache(){return oe(this,ol)}getDefaultOptions(){return oe(this,al)}setDefaultOptions(n){Pe(this,al,n)}setQueryDefaults(n,e){oe(this,qd).set(nu(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...oe(this,qd).values()],r={};return e.forEach(i=>{Cm(n,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(n,e){oe(this,Wd).set(nu(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...oe(this,Wd).values()],r={};return e.forEach(i=>{Cm(n,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(n){if(n._defaulted)return n;const e={...oe(this,al).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=iM(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===sM&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...oe(this,al).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){oe(this,On).clear(),oe(this,ol).clear()}},On=new WeakMap,ol=new WeakMap,al=new WeakMap,qd=new WeakMap,Wd=new WeakMap,ll=new WeakMap,Hd=new WeakMap,Gd=new WeakMap,MH),ZY=I.createContext(void 0),Yae=n=>{const e=I.useContext(ZY);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Vae=({client:n,children:e})=>(I.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),m.jsx(ZY.Provider,{value:n,children:e}));function oM(n,e){const r=Yae(),[i]=I.useState(()=>new Wae(r,n));I.useEffect(()=>{i.setOptions(n)},[i,n]);const s=I.useSyncExternalStore(I.useCallback(a=>i.subscribe(pr.batchCalls(a)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),o=I.useCallback((a,l)=>{i.mutate(a,l).catch(Ji)},[i]);if(s.error&&Mae(i.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}function aM(n,{strict:e=!0}={}){return!n||typeof n!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(n):n.startsWith("0x")}function rv(n){return aM(n,{strict:!1})?Math.ceil((n.length-2)/2):n.length}const JY="2.43.2";let Fh={getDocsUrl:({docsBaseUrl:n,docsPath:e="",docsSlug:r})=>e?`${n??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${JY}`},Mr=class vP extends Error{constructor(e,r={}){var l;const i=(()=>{var c;return r.cause instanceof vP?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),s=r.cause instanceof vP&&r.cause.docsPath||r.docsPath,o=(l=Fh.getDocsUrl)==null?void 0:l.call(Fh,{...r,docsPath:s}),a=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...i?[`Details: ${i}`]:[],...Fh.version?[`Version: ${Fh.version}`]:[]].join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=i,this.docsPath=s,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=JY}walk(e){return eV(this,e)}};function eV(n,e){return e!=null&&e(n)?n:n&&typeof n=="object"&&"cause"in n&&n.cause!==void 0?eV(n.cause,e):e?null:n}class Kae extends Mr{constructor({expectedSize:e,givenSize:r}){super(`Expected bytes${e}, got bytes${r}.`,{name:"BytesSizeMismatchError"})}}class tV extends Mr{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class nV extends Mr{constructor({size:e,targetSize:r,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function Og(n,{dir:e,size:r=32}={}){return typeof n=="string"?Xae(n,{dir:e,size:r}):Qae(n,{dir:e,size:r})}function Xae(n,{dir:e,size:r=32}={}){if(r===null)return n;const i=n.replace("0x","");if(i.length>r*2)throw new nV({size:Math.ceil(i.length/2),targetSize:r,type:"hex"});return`0x${i[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function Qae(n,{dir:e,size:r=32}={}){if(r===null)return n;if(n.length>r)throw new nV({size:n.length,targetSize:r,type:"bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=e==="right";i[o?s:r-s-1]=n[o?s:n.length-s-1]}return i}class Zae extends Mr{constructor({max:e,min:r,signed:i,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${i?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class Jae extends Mr{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Tx(n,{size:e}){if(rv(n)>e)throw new Jae({givenSize:rv(n),maxSize:e})}const ele=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function tle(n,e={}){let r="";for(let s=0;s<n.length;s++)r+=ele[n[s]];const i=`0x${r}`;return typeof e.size=="number"?(Tx(i,{size:e.size}),Og(i,{dir:"right",size:e.size})):i}function iv(n,e={}){const{signed:r,size:i}=e,s=BigInt(n);let o;i?r?o=(1n<<BigInt(i)*8n-1n)-1n:o=2n**(BigInt(i)*8n)-1n:typeof n=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof o=="bigint"&&r?-o-1n:0;if(o&&s>o||s<a){const c=typeof n=="bigint"?"n":"";throw new Zae({max:o?`${o}${c}`:void 0,min:`${a}${c}`,signed:r,size:i,value:`${n}${c}`})}const l=`0x${(r&&s<0?(1n<<BigInt(i*8))+BigInt(s):s).toString(16)}`;return i?Og(l,{size:i}):l}const nle=new TextEncoder;function rle(n,e={}){const r=nle.encode(n);return tle(r,e)}const ile=new TextEncoder;function sle(n,e={}){return typeof n=="number"||typeof n=="bigint"?ale(n,e):typeof n=="boolean"?ole(n,e):aM(n)?rV(n,e):iV(n,e)}function ole(n,e={}){const r=new Uint8Array(1);return r[0]=Number(n),typeof e.size=="number"?(Tx(r,{size:e.size}),Og(r,{size:e.size})):r}const Ro={zero:48,nine:57,A:65,F:70,a:97,f:102};function i5(n){if(n>=Ro.zero&&n<=Ro.nine)return n-Ro.zero;if(n>=Ro.A&&n<=Ro.F)return n-(Ro.A-10);if(n>=Ro.a&&n<=Ro.f)return n-(Ro.a-10)}function rV(n,e={}){let r=n;e.size&&(Tx(r,{size:e.size}),r=Og(r,{dir:"right",size:e.size}));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,l=0;a<s;a++){const c=i5(i.charCodeAt(l++)),u=i5(i.charCodeAt(l++));if(c===void 0||u===void 0)throw new Mr(`Invalid byte sequence ("${i[l-2]}${i[l-1]}" in "${i}").`);o[a]=c*16+u}return o}function ale(n,e){const r=iv(n,e);return rV(r)}function iV(n,e={}){const r=ile.encode(n);return typeof e.size=="number"?(Tx(r,{size:e.size}),Og(r,{dir:"right",size:e.size})):r}const K0=BigInt(2**32-1),s5=BigInt(32);function lle(n,e=!1){return e?{h:Number(n&K0),l:Number(n>>s5&K0)}:{h:Number(n>>s5&K0)|0,l:Number(n&K0)|0}}function cle(n,e=!1){const r=n.length;let i=new Uint32Array(r),s=new Uint32Array(r);for(let o=0;o<r;o++){const{h:a,l}=lle(n[o],e);[i[o],s[o]]=[a,l]}return[i,s]}const ule=(n,e,r)=>n<<r|e>>>32-r,dle=(n,e,r)=>e<<r|n>>>32-r,fle=(n,e,r)=>e<<r-32|n>>>64-r,hle=(n,e,r)=>n<<r-32|e>>>64-r;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ple(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function o5(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function sv(n,...e){if(!ple(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function a5(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function mle(n,e){sv(n);const r=e.outputLen;if(n.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function gle(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function sV(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}const ble=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function yle(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function vle(n){for(let e=0;e<n.length;e++)n[e]=yle(n[e]);return n}const l5=ble?n=>n:vle;function xle(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function oV(n){return typeof n=="string"&&(n=xle(n)),sv(n),n}let wle=class{};function _le(n){const e=i=>n().update(oV(i)).digest(),r=n();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>n(),e}const Sle=BigInt(0),$h=BigInt(1),kle=BigInt(2),Cle=BigInt(7),Tle=BigInt(256),Ele=BigInt(113),aV=[],lV=[],cV=[];for(let n=0,e=$h,r=1,i=0;n<24;n++){[r,i]=[i,(2*r+3*i)%5],aV.push(2*(5*i+r)),lV.push((n+1)*(n+2)/2%64);let s=Sle;for(let o=0;o<7;o++)e=(e<<$h^(e>>Cle)*Ele)%Tle,e&kle&&(s^=$h<<($h<<BigInt(o))-$h);cV.push(s)}const uV=cle(cV,!0),Dle=uV[0],Ple=uV[1],c5=(n,e,r)=>r>32?fle(n,e,r):ule(n,e,r),u5=(n,e,r)=>r>32?hle(n,e,r):dle(n,e,r);function Ile(n,e=24){const r=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let a=0;a<10;a++)r[a]=n[a]^n[a+10]^n[a+20]^n[a+30]^n[a+40];for(let a=0;a<10;a+=2){const l=(a+8)%10,c=(a+2)%10,u=r[c],f=r[c+1],d=c5(u,f,1)^r[l],h=u5(u,f,1)^r[l+1];for(let p=0;p<50;p+=10)n[a+p]^=d,n[a+p+1]^=h}let s=n[2],o=n[3];for(let a=0;a<24;a++){const l=lV[a],c=c5(s,o,l),u=u5(s,o,l),f=aV[a];s=n[f],o=n[f+1],n[f]=c,n[f+1]=u}for(let a=0;a<50;a+=10){for(let l=0;l<10;l++)r[l]=n[a+l];for(let l=0;l<10;l++)n[a+l]^=~r[(l+2)%10]&r[(l+4)%10]}n[0]^=Dle[i],n[1]^=Ple[i]}sV(r)}let Ole=class dV extends wle{constructor(e,r,i,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=i,this.enableXOF=s,this.rounds=o,o5(i),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=gle(this.state)}clone(){return this._cloneInto()}keccak(){l5(this.state32),Ile(this.state32,this.rounds),l5(this.state32),this.posOut=0,this.pos=0}update(e){a5(this),e=oV(e),sv(e);const{blockLen:r,state:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(r-this.pos,s-o);for(let l=0;l<a;l++)i[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:i,blockLen:s}=this;e[i]^=r,r&128&&i===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){a5(this,!1),sv(e),this.finish();const r=this.state,{blockLen:i}=this;for(let s=0,o=e.length;s<o;){this.posOut>=i&&this.keccak();const a=Math.min(i-this.posOut,o-s);e.set(r.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return o5(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(mle(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,sV(this.state)}_cloneInto(e){const{blockLen:r,suffix:i,outputLen:s,rounds:o,enableXOF:a}=this;return e||(e=new dV(r,i,s,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=i,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}};const Mle=(n,e,r)=>_le(()=>new Ole(e,n,r)),Ale=Mle(1,136,256/8);function Rle(n,e){return Ale(aM(n,{strict:!1})?sle(n):n)}class lM extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}}const Nle=/^0x[a-fA-F0-9]{40}$/,R1=new lM(8192);function fV(n,e){const{strict:r=!0}=e??{},i=`${n}.${r}`;if(R1.has(i))return R1.get(i);const s=Nle.test(n)?n.toLowerCase()===n?!0:r?hV(n)===n:!0:!1;return R1.set(i,s),s}const N1=new lM(8192);function hV(n,e){if(N1.has(`${n}.${e}`))return N1.get(`${n}.${e}`);const r=n.substring(2).toLowerCase(),i=Rle(iV(r)),s=r.split("");for(let a=0;a<40;a+=2)i[a>>1]>>4>=8&&s[a]&&(s[a]=s[a].toUpperCase()),(i[a>>1]&15)>=8&&s[a+1]&&(s[a+1]=s[a+1].toUpperCase());const o=`0x${s.join("")}`;return N1.set(`${n}.${e}`,o),o}function xp(n,e){if(!fV(n,{strict:!1}))throw new tV({address:n});return hV(n,e)}const jle=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Lle=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function cM(n){return typeof n=="string"?{address:n,type:"json-rpc"}:n}const la=(n,e,r)=>JSON.stringify(n,(i,s)=>typeof s=="bigint"?s.toString():s,r),uM=n=>n;class Hp extends Mr{constructor({body:e,cause:r,details:i,headers:s,status:o,url:a}){super("HTTP request failed.",{cause:r,details:i,metaMessages:[o&&`Status: ${o}`,`URL: ${uM(a)}`,e&&`Request body: ${la(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=o,this.url=a}}class pV extends Mr{constructor({body:e,error:r,url:i}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${uM(i)}`,`Request body: ${la(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data,this.url=i}}class d5 extends Mr{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${uM(r)}`,`Request body: ${la(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=r}}const Fle=-1;class mi extends Mr{constructor(e,{code:r,docsPath:i,metaMessages:s,name:o,shortMessage:a}){super(a,{cause:e,docsPath:i,metaMessages:s||(e==null?void 0:e.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof pV?e.code:r??Fle}}class Fi extends mi{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class Tm extends mi{constructor(e){super(e,{code:Tm.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Tm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Em extends mi{constructor(e){super(e,{code:Em.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Em,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Dm extends mi{constructor(e,{method:r}={}){super(e,{code:Dm.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(Dm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Pm extends mi{constructor(e){super(e,{code:Pm.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Pm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class wf extends mi{constructor(e){super(e,{code:wf.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(wf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Im extends mi{constructor(e){super(e,{code:Im.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Im,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Om extends mi{constructor(e){super(e,{code:Om.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Om,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Cl extends mi{constructor(e){super(e,{code:Cl.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Cl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Mm extends mi{constructor(e){super(e,{code:Mm.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Mm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class wc extends mi{constructor(e,{method:r}={}){super(e,{code:wc.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(wc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class _f extends mi{constructor(e){super(e,{code:_f.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(_f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Am extends mi{constructor(e){super(e,{code:Am.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Am,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class $r extends Fi{constructor(e){super(e,{code:$r.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty($r,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Rm extends Fi{constructor(e){super(e,{code:Rm.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Rm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Nm extends Fi{constructor(e,{method:r}={}){super(e,{code:Nm.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(Nm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class jm extends Fi{constructor(e){super(e,{code:jm.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(jm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Lm extends Fi{constructor(e){super(e,{code:Lm.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Lm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class ru extends Fi{constructor(e){super(e,{code:ru.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(ru,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Fm extends Fi{constructor(e){super(e,{code:Fm.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Fm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class $m extends Fi{constructor(e){super(e,{code:$m.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty($m,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Bm extends Fi{constructor(e){super(e,{code:Bm.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Bm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class zm extends Fi{constructor(e){super(e,{code:zm.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(zm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Um extends Fi{constructor(e){super(e,{code:Um.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Um,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class qm extends Fi{constructor(e){super(e,{code:qm.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(qm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Wm extends Fi{constructor(e){super(e,{code:Wm.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Wm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class $le extends mi{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Ble="modulepreload",zle=function(n){return"/"+n},f5={},mV=function(e,r,i){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=zle(c),c in f5)return;f5[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Ble,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})};function Ule(){let n=()=>{},e=()=>{};return{promise:new Promise((i,s)=>{n=i,e=s}),resolve:n,reject:e}}const j1=new Map;function qle({fn:n,id:e,shouldSplitBatch:r,wait:i=0,sort:s}){const o=async()=>{const f=c();a();const d=f.map(({args:h})=>h);d.length!==0&&n(d).then(h=>{s&&Array.isArray(h)&&h.sort(s);for(let p=0;p<f.length;p++){const{resolve:g}=f[p];g==null||g([h[p],h])}}).catch(h=>{for(let p=0;p<f.length;p++){const{reject:g}=f[p];g==null||g(h)}})},a=()=>j1.delete(e),l=()=>c().map(({args:f})=>f),c=()=>j1.get(e)||[],u=f=>j1.set(e,[...c(),f]);return{flush:a,async schedule(f){const{promise:d,resolve:h,reject:p}=Ule();return(r==null?void 0:r([...l(),f]))&&o(),c().length>0?(u({args:f,resolve:h,reject:p}),d):(u({args:f,resolve:h,reject:p}),setTimeout(o,i),d)}}}const X0=new lM(8192);function Wle(n,{enabled:e=!0,id:r}){if(!e||!r)return n();if(X0.get(r))return X0.get(r);const i=n().finally(()=>X0.delete(r));return X0.set(r,i),i}async function Hle(n){return new Promise(e=>setTimeout(e,n))}function gV(n,{delay:e=100,retryCount:r=2,shouldRetry:i=()=>!0}={}){return new Promise((s,o)=>{const a=async({count:l=0}={})=>{const c=async({error:u})=>{const f=typeof e=="function"?e({count:l,error:u}):e;f&&await Hle(f),a({count:l+1})};try{const u=await n();s(u)}catch(u){if(l<r&&await i({count:l,error:u}))return c({error:u});o(u)}};a()})}function Gle(n,e={}){return async(r,i={})=>{var d;const{dedupe:s=!1,methods:o,retryDelay:a=150,retryCount:l=3,uid:c}={...e,...i},{method:u}=r;if((d=o==null?void 0:o.exclude)!=null&&d.includes(u))throw new wc(new Error("method not supported"),{method:u});if(o!=null&&o.include&&!o.include.includes(u))throw new wc(new Error("method not supported"),{method:u});const f=s?rle(`${c}.${la(r)}`):void 0;return Wle(()=>gV(async()=>{try{return await n(r)}catch(h){const p=h;switch(p.code){case Tm.code:throw new Tm(p);case Em.code:throw new Em(p);case Dm.code:throw new Dm(p,{method:r.method});case Pm.code:throw new Pm(p);case wf.code:throw new wf(p);case Im.code:throw new Im(p);case Om.code:throw new Om(p);case Cl.code:throw new Cl(p);case Mm.code:throw new Mm(p);case wc.code:throw new wc(p,{method:r.method});case _f.code:throw new _f(p);case Am.code:throw new Am(p);case $r.code:throw new $r(p);case Rm.code:throw new Rm(p);case Nm.code:throw new Nm(p);case jm.code:throw new jm(p);case Lm.code:throw new Lm(p);case ru.code:throw new ru(p);case Fm.code:throw new Fm(p);case $m.code:throw new $m(p);case Bm.code:throw new Bm(p);case zm.code:throw new zm(p);case Um.code:throw new Um(p);case qm.code:throw new qm(p);case Wm.code:throw new Wm(p);case 5e3:throw new $r(p);default:throw h instanceof Mr?h:new $le(p)}}},{delay:({count:h,error:p})=>{var g;if(p&&p instanceof Hp){const v=(g=p==null?void 0:p.headers)==null?void 0:g.get("Retry-After");if(v!=null&&v.match(/\d/))return Number.parseInt(v,10)*1e3}return~~(1<<h)*a},retryCount:l,shouldRetry:({error:h})=>Yle(h)}),{enabled:s,id:f})}}function Yle(n){return"code"in n&&typeof n.code=="number"?n.code===-1||n.code===_f.code||n.code===wf.code:n instanceof Hp&&n.status?n.status===403||n.status===408||n.status===413||n.status===429||n.status===500||n.status===502||n.status===503||n.status===504:!0}function bV(n){const e={formatters:void 0,fees:void 0,serializers:void 0,...n};function r(i){return s=>{const o=typeof s=="function"?s(i):s,a={...i,...o};return Object.assign(a,{extend:r(a)})}}return Object.assign(e,{extend:r(e)})}function yV(n,{errorInstance:e=new Error("timed out"),timeout:r,signal:i}){return new Promise((s,o)=>{(async()=>{let a;try{const l=new AbortController;r>0&&(a=setTimeout(()=>{i?l.abort():o(e)},r)),s(await n({signal:(l==null?void 0:l.signal)||null}))}catch(l){(l==null?void 0:l.name)==="AbortError"&&o(e),o(l)}finally{clearTimeout(a)}})()})}function Vle(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const h5=Vle();function Kle(n,e={}){return{async request(r){var h;const{body:i,fetchFn:s=e.fetchFn??fetch,onRequest:o=e.onRequest,onResponse:a=e.onResponse,timeout:l=e.timeout??1e4}=r,c={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:u,method:f,signal:d}=c;try{const p=await yV(async({signal:v})=>{const y={...c,body:Array.isArray(i)?la(i.map(_=>({jsonrpc:"2.0",id:_.id??h5.take(),..._}))):la({jsonrpc:"2.0",id:i.id??h5.take(),...i}),headers:{"Content-Type":"application/json",...u},method:f||"POST",signal:d||(l>0?v:null)},b=new Request(n,y),w=await(o==null?void 0:o(b,y))??{...y,url:n};return await s(w.url??n,w)},{errorInstance:new d5({body:i,url:n}),timeout:l,signal:!0});a&&await a(p);let g;if((h=p.headers.get("Content-Type"))!=null&&h.startsWith("application/json"))g=await p.json();else{g=await p.text();try{g=JSON.parse(g||"{}")}catch(v){if(p.ok)throw v;g={error:g}}}if(!p.ok)throw new Hp({body:i,details:la(g.error)||p.statusText,headers:p.headers,status:p.status,url:n});return g}catch(p){throw p instanceof Hp||p instanceof d5?p:new Hp({body:i,cause:p,url:n})}}}}class Xle extends Mr{constructor({domain:e}){super(`Invalid domain "${la(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Qle extends Mr{constructor({primaryType:e,types:r}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(r))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Zle extends Mr{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Jle(n){const{domain:e,message:r,primaryType:i,types:s}=n,o=(c,u)=>{const f={...u};for(const d of c){const{name:h,type:p}=d;p==="address"&&(f[h]=f[h].toLowerCase())}return f},a=s.EIP712Domain?e?o(s.EIP712Domain,e):{}:{},l=(()=>{if(i!=="EIP712Domain")return o(s[i],r)})();return la({domain:a,message:l,primaryType:i,types:s})}function ece(n){const{domain:e,message:r,primaryType:i,types:s}=n,o=(a,l)=>{for(const c of a){const{name:u,type:f}=c,d=l[u],h=f.match(Lle);if(h&&(typeof d=="number"||typeof d=="bigint")){const[v,y,b]=h;iv(d,{signed:y==="int",size:Number.parseInt(b,10)/8})}if(f==="address"&&typeof d=="string"&&!fV(d))throw new tV({address:d});const p=f.match(jle);if(p){const[v,y]=p;if(y&&rv(d)!==Number.parseInt(y,10))throw new Kae({expectedSize:Number.parseInt(y,10),givenSize:rv(d)})}const g=s[f];g&&(nce(f),o(g,d))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new Xle({domain:e});o(s.EIP712Domain,e)}if(i!=="EIP712Domain")if(s[i])o(s[i],r);else throw new Qle({primaryType:i,types:s})}function tce({domain:n}){return[typeof(n==null?void 0:n.name)=="string"&&{name:"name",type:"string"},(n==null?void 0:n.version)&&{name:"version",type:"string"},(typeof(n==null?void 0:n.chainId)=="number"||typeof(n==null?void 0:n.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(n==null?void 0:n.verifyingContract)&&{name:"verifyingContract",type:"address"},(n==null?void 0:n.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function nce(n){if(n==="address"||n==="bool"||n==="string"||n.startsWith("bytes")||n.startsWith("uint")||n.startsWith("int"))throw new Zle({type:n})}class rce extends Mr{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}async function ice(n,e){const{account:r=n.account,domain:i,message:s,primaryType:o}=e;if(!r)throw new rce({docsPath:"/docs/actions/wallet/signTypedData"});const a=cM(r),l={EIP712Domain:tce({domain:i}),...e.types};if(ece({domain:i,message:s,primaryType:o,types:l}),a.signTypedData)return a.signTypedData({domain:i,message:s,primaryType:o,types:l});const c=Jle({domain:i,message:s,primaryType:o,types:l});return n.request({method:"eth_signTypedData_v4",params:[a.address,c]},{retryCount:0})}function sce(n,e,r){const i=n[e.name];if(typeof i=="function")return i;const s=n[r];return typeof s=="function"?s:o=>e(n,o)}const ay="3.0.0",oce=()=>`@wagmi/core@${ay}`;var vV=function(n,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(n):i?i.value:e.get(n)},ov,xV;let Bl=class xP extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return oce()}constructor(e,r={}){var o;super(),ov.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const i=r.cause instanceof xP?r.cause.details:(o=r.cause)!=null&&o.message?r.cause.message:r.details,s=r.cause instanceof xP&&r.cause.docsPath||r.docsPath;this.message=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...i?[`Details: ${i}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=i,this.docsPath=s,this.metaMessages=r.metaMessages,this.shortMessage=e}walk(e){return vV(this,ov,"m",xV).call(this,this,e)}};ov=new WeakSet,xV=function n(e,r){return r!=null&&r(e)?e:e.cause?vV(this,ov,"m",n).call(this,e.cause,r):e};class wP extends Bl{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class ace extends Bl{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class lce extends Bl{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class cce extends Bl{constructor({address:e,connector:r}){super(`Account "${e}" not found for connector "${r.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class uce extends Bl{constructor({connectionChainId:e,connectorChainId:r}){super(`The current chain of the connector (id: ${r}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class dce extends Bl{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function fce(n,e){var i;let r;if(typeof e.connector=="function"?r=n._internal.connectors.setup(e.connector):r=e.connector,r.uid===n.state.current)throw new ace;try{n.setState(l=>({...l,status:"connecting"})),r.emitter.emit("message",{type:"connecting"});const{connector:s,...o}=e,a=await r.connect(o);return r.emitter.off("connect",n._internal.events.connect),r.emitter.on("change",n._internal.events.change),r.emitter.on("disconnect",n._internal.events.disconnect),await((i=n.storage)==null?void 0:i.setItem("recentConnectorId",r.id)),n.setState(l=>({...l,connections:new Map(l.connections).set(r.uid,{accounts:o.withCapabilities?a.accounts.map(c=>typeof c=="object"?c.address:c):a.accounts,chainId:a.chainId,connector:r}),current:r.uid,status:"connected"})),{accounts:o.withCapabilities?a.accounts.map(l=>typeof l=="object"?l:{address:l,capabilities:{}}):a.accounts,chainId:a.chainId}}catch(s){throw n.setState(o=>({...o,status:o.current?"connected":"disconnected"})),s}}const _P=256;let Q0=_P,Z0;function wV(n=11){if(!Z0||Q0+n>_P*2){Z0="",Q0=0;for(let e=0;e<_P;e++)Z0+=(256+Math.random()*256|0).toString(16).substring(1)}return Z0.substring(Q0,Q0+++n)}function _V(n){const{batch:e,chain:r,ccipRead:i,key:s="base",name:o="Base Client",type:a="base"}=n,l=n.experimental_blockTag??(typeof(r==null?void 0:r.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(r==null?void 0:r.blockTime)??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),f=n.pollingInterval??u,d=n.cacheTime??f,h=n.account?cM(n.account):void 0,{config:p,request:g,value:v}=n.transport({account:h,chain:r,pollingInterval:f}),y={...p,...v},b={account:h,batch:e,cacheTime:d,ccipRead:i,chain:r,key:s,name:o,pollingInterval:f,request:g,transport:y,type:a,uid:wV(),...l?{experimental_blockTag:l}:{}};function w(k){return _=>{const S=_(k);for(const T in b)delete S[T];const C={...k,...S};return Object.assign(C,{extend:w(C)})}}return Object.assign(b,{extend:w(b)})}function SV({key:n,methods:e,name:r,request:i,retryCount:s=3,retryDelay:o=150,timeout:a,type:l},c){const u=wV();return{config:{key:n,methods:e,name:r,request:i,retryCount:s,retryDelay:o,timeout:a,type:l},request:Gle(i,{methods:e,retryCount:s,retryDelay:o,uid:u}),value:c}}function hce(n,e={}){const{key:r="custom",methods:i,name:s="Custom Provider",retryDelay:o}=e;return({retryCount:a})=>SV({key:r,methods:i,name:s,request:n.request.bind(n),retryCount:e.retryCount??a,retryDelay:o,type:"custom"})}class pce extends Mr{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function p5(n,e={}){const{batch:r,fetchFn:i,fetchOptions:s,key:o="http",methods:a,name:l="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:f,raw:d}=e;return({chain:h,retryCount:p,timeout:g})=>{const{batchSize:v=1e3,wait:y=0}=typeof r=="object"?r:{},b=e.retryCount??p,w=g??e.timeout??1e4,k=h==null?void 0:h.rpcUrls.default.http[0];if(!k)throw new pce;const _=Kle(k,{fetchFn:i,fetchOptions:s,onRequest:c,onResponse:u,timeout:w});return SV({key:o,methods:a,name:l,async request({method:S,params:C}){const T={method:S,params:C},{schedule:D}=qle({id:k,wait:y,shouldSplitBatch(L){return L.length>v},fn:L=>_.request({body:L}),sort:(L,B)=>L.id-B.id}),O=async L=>r?D(L):[await _.request({body:L})],[{error:P,result:A}]=await O(T);if(d)return{error:P,result:A};if(P)throw new pV({body:T,error:P,url:k});return A},retryCount:b,retryDelay:f,timeout:w,type:"http"},{fetchOptions:s,url:k})}}async function mce(n,e={}){const{assertChainId:r=!0}=e;let i;if(e.connector){const{connector:f}=e;if(n.state.status==="reconnecting"&&!f.getAccounts&&!f.getChainId)throw new dce({connector:f});const[d,h]=await Promise.all([f.getAccounts().catch(p=>{if(e.account===null)return[];throw p}),f.getChainId()]);i={accounts:d,chainId:h,connector:f}}else i=n.state.connections.get(n.state.current);if(!i)throw new lce;const s=e.chainId??i.chainId,o=await i.connector.getChainId();if(r&&o!==s)throw new uce({connectionChainId:s,connectorChainId:o});const a=i.connector;if(a.getClient)return a.getClient({chainId:s});const l=cM(e.account??i.accounts[0]);if(l&&(l.address=xp(l.address)),e.account&&!i.accounts.some(f=>f.toLowerCase()===l.address.toLowerCase()))throw new cce({address:l.address,connector:a});const c=n.chains.find(f=>f.id===s),u=await i.connector.getProvider({chainId:s});return _V({account:l,chain:c,name:"Connector Client",transport:f=>hce(u)({...f,retryCount:0})})}async function gce(n,e={}){var s,o;let r;if(e.connector)r=e.connector;else{const{connections:a,current:l}=n.state,c=a.get(l);r=c==null?void 0:c.connector}const i=n.state.connections;r&&(await r.disconnect(),r.emitter.off("change",n._internal.events.change),r.emitter.off("disconnect",n._internal.events.disconnect),r.emitter.on("connect",n._internal.events.connect),i.delete(r.uid)),n.setState(a=>{if(i.size===0)return{...a,connections:new Map,current:null,status:"disconnected"};const l=i.values().next().value;return{...a,connections:new Map(i),current:l.connector.uid}});{const a=n.state.current;if(!a)return;const l=(s=n.state.connections.get(a))==null?void 0:s.connector;if(!l)return;await((o=n.storage)==null?void 0:o.setItem("recentConnectorId",l.id))}}function m5(n){return n.state.chainId}function Sf(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;let r,i;if(Array.isArray(n)&&Array.isArray(e)){if(r=n.length,r!==e.length)return!1;for(i=r;i--!==0;)if(!Sf(n[i],e[i]))return!1;return!0}if(typeof n.valueOf=="function"&&n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(typeof n.toString=="function"&&n.toString!==Object.prototype.toString)return n.toString()===e.toString();const s=Object.keys(n);if(r=s.length,r!==Object.keys(e).length)return!1;for(i=r;i--!==0;)if(!Object.hasOwn(e,s[i]))return!1;for(i=r;i--!==0;){const o=s[i];if(o&&!Sf(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function kV(n){const e=n.state.current,r=n.state.connections.get(e),i=r==null?void 0:r.accounts,s=i==null?void 0:i[0],o=n.chains.find(l=>l.id===(r==null?void 0:r.chainId)),a=n.state.status;switch(a){case"connected":return{address:s,addresses:i,chain:o,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:a};case"reconnecting":return{address:s,addresses:i,chain:o,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:a};case"connecting":return{address:s,addresses:i,chain:o,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:a};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:a}}}let J0=[];function SP(n){const e=[...n.state.connections.values()];return n.state.status==="reconnecting"||Sf(J0,e)?J0:(J0=e,e)}let eb=[];function g5(n){const e=n.connectors;return eb.length===e.length&&eb.every((r,i)=>r===e[i])?eb:(eb=e,e)}let L1=!1;async function bce(n,e={}){var u,f;if(L1)return[];L1=!0,n.setState(d=>({...d,status:d.current?"reconnecting":"connecting"}));const r=[];if((u=e.connectors)!=null&&u.length)for(const d of e.connectors){let h;typeof d=="function"?h=n._internal.connectors.setup(d):h=d,r.push(h)}else r.push(...n.connectors);let i;try{i=await((f=n.storage)==null?void 0:f.getItem("recentConnectorId"))}catch{}const s={};for(const[,d]of n.state.connections)s[d.connector.id]=1;i&&(s[i]=0);const o=Object.keys(s).length>0?[...r].sort((d,h)=>(s[d.id]??10)-(s[h.id]??10)):r;let a=!1;const l=[],c=[];for(const d of o){const h=await d.getProvider().catch(()=>{});if(!h||c.some(v=>v===h)||!await d.isAuthorized())continue;const g=await d.connect({isReconnecting:!0}).catch(()=>null);g&&(d.emitter.off("connect",n._internal.events.connect),d.emitter.on("change",n._internal.events.change),d.emitter.on("disconnect",n._internal.events.disconnect),n.setState(v=>{const y=new Map(a?v.connections:new Map).set(d.uid,{accounts:g.accounts,chainId:g.chainId,connector:d});return{...v,current:a?v.current:d.uid,connections:y}}),l.push({accounts:g.accounts,chainId:g.chainId,connector:d}),c.push(h),a=!0)}return(n.state.status==="reconnecting"||n.state.status==="connecting")&&(a?n.setState(d=>({...d,status:"connected"})):n.setState(d=>({...d,connections:new Map,current:null,status:"disconnected"}))),L1=!1,l}async function yce(n,e){const{account:r,connector:i,...s}=e;let o;return typeof r=="object"&&r.type==="local"?o=n.getClient():o=await mce(n,{account:r,connector:i}),sce(o,ice,"signTypedData")({...s,...r?{account:r}:{}})}class qu extends Bl{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}function vce(n,e){const{onChange:r}=e;return n.subscribe(i=>i.chainId,r)}function xce(n,e){const{onChange:r}=e;return n.subscribe(()=>kV(n),r,{equalityFn(i,s){const{connector:o,...a}=i,{connector:l,...c}=s;return Sf(a,c)&&(o==null?void 0:o.id)===(l==null?void 0:l.id)&&(o==null?void 0:o.uid)===(l==null?void 0:l.uid)}})}function wce(n,e){const{onChange:r}=e;return n.subscribe(()=>SP(n),r,{equalityFn:Sf})}function _ce(n,e){const{onChange:r}=e;return n._internal.connectors.subscribe((i,s)=>{r(Object.values(i),s)})}Ex.type="injected";function Ex(n={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:r}=n;function i(){const c=n.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...Sce[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u==null?void 0:u.ethereum}}}let s,o,a,l;return c=>({get icon(){return i().icon},get id(){return i().id},get name(){return i().name},type:Ex.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&n.target&&(a||(a=this.onConnect.bind(this),u.on("connect",a)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:f,withCapabilities:d}={}){var g,v,y,b,w,k;const h=await this.getProvider();if(!h)throw new qu;let p=[];if(f)p=await this.getAccounts().catch(()=>[]);else if(e)try{p=(b=(y=(v=(g=(await h.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:g.caveats)==null?void 0:v[0])==null?void 0:y.value)==null?void 0:b.map(S=>xp(S)),p.length>0&&(p=await this.getAccounts())}catch(_){const S=_;if(S.code===$r.code)throw new $r(S);if(S.code===Cl.code)throw S}try{!(p!=null&&p.length)&&!f&&(p=(await h.request({method:"eth_requestAccounts"})).map(C=>xp(C))),a&&(h.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),h.on("chainChanged",o)),l||(l=this.onDisconnect.bind(this),h.on("disconnect",l));let _=await this.getChainId();if(u&&_!==u){const S=await this.switchChain({chainId:u}).catch(C=>{if(C.code===$r.code)throw C;return{id:_}});_=(S==null?void 0:S.id)??_}return e&&await((w=c.storage)==null?void 0:w.removeItem(`${this.id}.disconnected`)),n.target||await((k=c.storage)==null?void 0:k.setItem("injected.connected",!0)),{accounts:d?p.map(S=>({address:S,capabilities:{}})):p,chainId:_}}catch(_){const S=_;throw S.code===$r.code?new $r(S):S.code===Cl.code?new Cl(S):S}},async disconnect(){var f,d;const u=await this.getProvider();if(!u)throw new qu;o&&(u.removeListener("chainChanged",o),o=void 0),l&&(u.removeListener("disconnect",l),l=void 0),a||(a=this.onConnect.bind(this),u.on("connect",a));try{await yV(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((f=c.storage)==null?void 0:f.setItem(`${this.id}.disconnected`,!0)),n.target||await((d=c.storage)==null?void 0:d.removeItem("injected.connected"))},async getAccounts(){const u=await this.getProvider();if(!u)throw new qu;return(await u.request({method:"eth_accounts"})).map(d=>xp(d))},async getChainId(){const u=await this.getProvider();if(!u)throw new qu;const f=await u.request({method:"eth_chainId"});return Number(f)},async getProvider(){if(typeof window>"u")return;let u;const f=i();return typeof f.provider=="function"?u=f.provider(window):typeof f.provider=="string"?u=ly(window,f.provider):u=f.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){var u,f;try{if(e&&await((u=c.storage)==null?void 0:u.getItem(`${this.id}.disconnected`))||!n.target&&!await((f=c.storage)==null?void 0:f.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(r!==void 0&&r!==!1){const g=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",g),!!await this.getProvider()),v=typeof r=="number"?r:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(b=>window.addEventListener("ethereum#initialized",()=>b(g()),{once:!0}))]:[],new Promise(b=>setTimeout(()=>b(g()),v))]))return!0}throw new qu}return!!(await gV(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:f}){var g,v,y,b;const d=await this.getProvider();if(!d)throw new qu;const h=c.chains.find(w=>w.id===f);if(!h)throw new ru(new wP);const p=new Promise(w=>{const k=_=>{"chainId"in _&&_.chainId===f&&(c.emitter.off("change",k),w())};c.emitter.on("change",k)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:iv(f)}]}).then(async()=>{await this.getChainId()===f&&c.emitter.emit("change",{chainId:f})}),p]),h}catch(w){const k=w;if(k.code===4902||((v=(g=k==null?void 0:k.data)==null?void 0:g.originalError)==null?void 0:v.code)===4902)try{const{default:_,...S}=h.blockExplorers??{};let C;u!=null&&u.blockExplorerUrls?C=u.blockExplorerUrls:_&&(C=[_.url,...Object.values(S).map(O=>O.url)]);let T;(y=u==null?void 0:u.rpcUrls)!=null&&y.length?T=u.rpcUrls:T=[((b=h.rpcUrls.default)==null?void 0:b.http[0])??""];const D={blockExplorerUrls:C,chainId:iv(f),chainName:(u==null?void 0:u.chainName)??h.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??h.nativeCurrency,rpcUrls:T};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[D]}).then(async()=>{if(await this.getChainId()===f)c.emitter.emit("change",{chainId:f});else throw new $r(new Error("User rejected switch after adding network."))}),p]),h}catch(_){throw new $r(_)}throw k.code===$r.code?new $r(k):new ru(k)}},async onAccountsChanged(u){var f;if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const d=(await this.getChainId()).toString();this.onConnect({chainId:d}),e&&await((f=c.storage)==null?void 0:f.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:u.map(d=>xp(d))})},onChainChanged(u){const f=Number(u);c.emitter.emit("change",{chainId:f})},async onConnect(u){const f=await this.getAccounts();if(f.length===0)return;const d=Number(u.chainId);c.emitter.emit("connect",{accounts:f,chainId:d});const h=await this.getProvider();h&&(a&&(h.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),h.on("chainChanged",o)),l||(l=this.onDisconnect.bind(this),h.on("disconnect",l)))},async onDisconnect(u){const f=await this.getProvider();u&&u.code===1013&&f&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),f&&(o&&(f.removeListener("chainChanged",o),o=void 0),l&&(f.removeListener("disconnect",l),l=void 0),a||(a=this.onConnect.bind(this),f.on("connect",a))))}})}const Sce={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(n){return n!=null&&n.coinbaseWalletExtension?n.coinbaseWalletExtension:ly(n,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(n){return ly(n,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const r=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const i of r)if(e[i])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(n){var e,r;return(e=n==null?void 0:n.phantom)!=null&&e.ethereum?(r=n.phantom)==null?void 0:r.ethereum:ly(n,"isPhantom")}}};function ly(n,e){function r(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const i=n.ethereum;if(i!=null&&i.providers)return i.providers.find(s=>r(s));if(i&&r(i))return i}function kce(n){if(typeof window>"u")return;const e=r=>n(r.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function Cce(){const n=new Set;let e=[];const r=()=>kce(s=>{e.some(({info:o})=>o.uuid===s.info.uuid)||(e=[...e,s],n.forEach(o=>o(e,{added:[s]})))});let i=r();return{_listeners(){return n},clear(){n.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),n.clear(),i==null||i()},findProvider({rdns:s}){return e.find(o=>o.info.rdns===s)},getProviders(){return e},reset(){this.clear(),i==null||i(),i=r()},subscribe(s,{emitImmediately:o}={}){return n.add(s),o&&s(e,{added:e}),()=>n.delete(s)}}}const Tce=n=>(e,r,i)=>{const s=i.subscribe;return i.subscribe=(a,l,c)=>{let u=a;if(l){const f=(c==null?void 0:c.equalityFn)||Object.is;let d=a(i.getState());u=h=>{const p=a(h);if(!f(d,p)){const g=d;l(d=p,g)}},c!=null&&c.fireImmediately&&l(d,d)}return s(u)},n(e,r,i)},Ece=Tce;function Dce(n,e){let r;try{r=n()}catch{return}return{getItem:s=>{var o;const a=c=>c===null?null:JSON.parse(c,void 0),l=(o=r.getItem(s))!=null?o:null;return l instanceof Promise?l.then(a):a(l)},setItem:(s,o)=>r.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>r.removeItem(s)}}const kP=n=>e=>{try{const r=n(e);return r instanceof Promise?r:{then(i){return kP(i)(r)},catch(i){return this}}}catch(r){return{then(i){return this},catch(i){return kP(i)(r)}}}},Pce=(n,e)=>(r,i,s)=>{let o={storage:Dce(()=>localStorage),partialize:v=>v,version:0,merge:(v,y)=>({...y,...v}),...e},a=!1;const l=new Set,c=new Set;let u=o.storage;if(!u)return n((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...v)},i,s);const f=()=>{const v=o.partialize({...i()});return u.setItem(o.name,{state:v,version:o.version})},d=s.setState;s.setState=(v,y)=>{d(v,y),f()};const h=n((...v)=>{r(...v),f()},i,s);s.getInitialState=()=>h;let p;const g=()=>{var v,y;if(!u)return;a=!1,l.forEach(w=>{var k;return w((k=i())!=null?k:h)});const b=((y=o.onRehydrateStorage)==null?void 0:y.call(o,(v=i())!=null?v:h))||void 0;return kP(u.getItem.bind(u))(o.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==o.version){if(o.migrate)return[!0,o.migrate(w.state,w.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var k;const[_,S]=w;if(p=o.merge(S,(k=i())!=null?k:h),r(p,!0),_)return f()}).then(()=>{b==null||b(p,void 0),p=i(),a=!0,c.forEach(w=>w(p))}).catch(w=>{b==null||b(void 0,w)})};return s.persist={setOptions:v=>{o={...o,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>a,onHydrate:v=>(l.add(v),()=>{l.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},o.skipHydration||g(),p||h},Ice=Pce,b5=n=>{let e;const r=new Set,i=(u,f)=>{const d=typeof u=="function"?u(e):u;if(!Object.is(d,e)){const h=e;e=f??(typeof d!="object"||d===null)?d:Object.assign({},e,d),r.forEach(p=>p(e,h))}},s=()=>e,l={setState:i,getState:s,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=e=n(i,s,l);return l},F1=n=>n?b5(n):b5;var CV={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function o(c,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new s(f,d||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new i:delete c._events[u]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)e.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},l.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,f,d,h,p,g){var v=r?r+u:u;if(!this._events[v])return!1;var y=this._events[v],b=arguments.length,w,k;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,d),!0;case 4:return y.fn.call(y.context,f,d,h),!0;case 5:return y.fn.call(y.context,f,d,h,p),!0;case 6:return y.fn.call(y.context,f,d,h,p,g),!0}for(k=1,w=new Array(b-1);k<b;k++)w[k-1]=arguments[k];y.fn.apply(y.context,w)}else{var _=y.length,S;for(k=0;k<_;k++)switch(y[k].once&&this.removeListener(u,y[k].fn,void 0,!0),b){case 1:y[k].fn.call(y[k].context);break;case 2:y[k].fn.call(y[k].context,f);break;case 3:y[k].fn.call(y[k].context,f,d);break;case 4:y[k].fn.call(y[k].context,f,d,h);break;default:if(!w)for(S=1,w=new Array(b-1);S<b;S++)w[S-1]=arguments[S];y[k].fn.apply(y[k].context,w)}}return!0},l.prototype.on=function(u,f,d){return o(this,u,f,d,!1)},l.prototype.once=function(u,f,d){return o(this,u,f,d,!0)},l.prototype.removeListener=function(u,f,d,h){var p=r?r+u:u;if(!this._events[p])return this;if(!f)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===f&&(!h||g.once)&&(!d||g.context===d)&&a(this,p);else{for(var v=0,y=[],b=g.length;v<b;v++)(g[v].fn!==f||h&&!g[v].once||d&&g[v].context!==d)&&y.push(g[v]);y.length?this._events[p]=y.length===1?y[0]:y:a(this,p)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&a(this,f)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,n.exports=l})(CV);var Oce=CV.exports;const Mce=lx(Oce);let Ace=class{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Mce})}on(e,r){this._emitter.on(e,r)}once(e,r){this._emitter.once(e,r)}off(e,r){this._emitter.off(e,r)}emit(e,...r){const i=r[0];this._emitter.emit(e,{uid:this.uid,...i})}listenerCount(e){return this._emitter.listenerCount(e)}};function Rce(n){return new Ace(n)}function Nce(n,e){return JSON.parse(n,(r,i)=>{let s=i;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(r,s))??s})}function y5(n,e){return n.slice(0,e).join(".")||"."}function v5(n,e){const{length:r}=n;for(let i=0;i<r;++i)if(n[i]===e)return i+1;return 0}function jce(n,e){const r=typeof n=="function",i=typeof e=="function",s=[],o=[];return function(l,c){if(typeof c=="object")if(s.length){const u=v5(s,this);u===0?s[s.length]=this:(s.splice(u),o.splice(u)),o[o.length]=l;const f=v5(s,c);if(f!==0)return i?e.call(this,l,c,y5(o,f)):`[ref=${y5(o,f)}]`}else s[0]=c,o[0]=l;return r?n.call(this,l,c):c}}function Lce(n,e,r,i){return JSON.stringify(n,jce((s,o)=>{let a=o;return typeof a=="bigint"&&(a={__type:"bigint",value:o.toString()}),a instanceof Map&&(a={__type:"Map",value:Array.from(o.entries())}),(e==null?void 0:e(s,a))??a},i),r??void 0)}function Fce(n){const{deserialize:e=Nce,key:r="wagmi",serialize:i=Lce,storage:s=TV}=n;function o(a){return a instanceof Promise?a.then(l=>l).catch(()=>null):a}return{...s,key:r,async getItem(a,l){const c=s.getItem(`${r}.${a}`),u=await o(c);return u?e(u)??null:l??null},async setItem(a,l){const c=`${r}.${a}`;l===null?await o(s.removeItem(c)):await o(s.setItem(c,i(l)))},async removeItem(a){await o(s.removeItem(`${r}.${a}`))}}}const TV={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function $ce(){const n=typeof window<"u"&&window.localStorage?window.localStorage:TV;return{getItem(e){return n.getItem(e)},removeItem(e){n.removeItem(e)},setItem(e,r){try{n.setItem(e,r)}catch{}}}}const CP=256;let tb=CP,nb;function Bce(n=11){if(!nb||tb+n>CP*2){nb="",tb=0;for(let e=0;e<CP;e++)nb+=(256+Math.random()*256|0).toString(16).substring(1)}return nb.substring(tb,tb+++n)}function zce(n){const{multiInjectedProviderDiscovery:e=!0,storage:r=Fce({storage:$ce()}),syncConnectedChain:i=!0,ssr:s=!1,...o}=n,a=typeof window<"u"&&e?Cce():void 0,l=F1(()=>o.chains),c=F1(()=>{const S=[],C=new Set;for(const T of o.connectors??[]){const D=u(T);if(S.push(D),!s&&D.rdns){const O=typeof D.rdns=="string"?[D.rdns]:D.rdns;for(const P of O)C.add(P)}}if(!s&&a){const T=a.getProviders();for(const D of T)C.has(D.info.rdns)||S.push(u(f(D)))}return S});function u(S){var D;const C=Rce(Bce()),T={...S({emitter:C,chains:l.getState(),storage:r,transports:o.transports}),emitter:C,uid:C.uid};return C.on("connect",k),(D=T.setup)==null||D.call(T),T}function f(S){const{info:C}=S,T=S.provider;return Ex({target:{...C,id:C.rdns,provider:T}})}const d=new Map;function h(S={}){const C=S.chainId??y.getState().chainId,T=l.getState().find(O=>O.id===C);if(S.chainId&&!T)throw new wP;{const O=d.get(y.getState().chainId);if(O&&!T)return O;if(!T)throw new wP}{const O=d.get(C);if(O)return O}let D;if(o.client)D=o.client({chain:T});else{const O=T.id,P=l.getState().map(B=>B.id),A={},L=Object.entries(o);for(const[B,F]of L)if(!(B==="chains"||B==="client"||B==="connectors"||B==="transports"))if(typeof F=="object")if(O in F)A[B]=F[O];else{if(P.some(U=>U in F))continue;A[B]=F}else A[B]=F;D=_V({...A,chain:T,batch:A.batch??{multicall:!0},transport:B=>o.transports[O]({...B,connectors:c})})}return d.set(C,D),D}function p(){return{chainId:l.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let g;const v="0.0.0-canary-";ay.startsWith(v)?g=Number.parseInt(ay.replace(v,""),10):g=Number.parseInt(ay.split(".")[0]??"0",10);const y=F1(Ece(r?Ice(p,{migrate(S,C){if(C===g)return S;const T=p(),D=b(S,T.chainId);return{...T,chainId:D}},name:"store",partialize(S){return{connections:{__type:"Map",value:Array.from(S.connections.entries()).map(([C,T])=>{const{id:D,name:O,type:P,uid:A}=T.connector;return[C,{...T,connector:{id:D,name:O,type:P,uid:A}}]})},chainId:S.chainId,current:S.current}},merge(S,C){typeof S=="object"&&S&&"status"in S&&delete S.status;const T=b(S,C.chainId);return{...C,...S,chainId:T}},skipHydration:s,storage:r,version:g}):p));y.setState(p());function b(S,C){return S&&typeof S=="object"&&"chainId"in S&&typeof S.chainId=="number"&&l.getState().some(T=>T.id===S.chainId)?S.chainId:C}i&&y.subscribe(({connections:S,current:C})=>{var T;return C?(T=S.get(C))==null?void 0:T.chainId:void 0},S=>{if(l.getState().some(T=>T.id===S))return y.setState(T=>({...T,chainId:S??T.chainId}))}),a==null||a.subscribe(S=>{const C=new Set,T=new Set;for(const O of c.getState())if(C.add(O.id),O.rdns){const P=typeof O.rdns=="string"?[O.rdns]:O.rdns;for(const A of P)T.add(A)}const D=[];for(const O of S){if(T.has(O.info.rdns))continue;const P=u(f(O));C.has(P.id)||D.push(P)}r&&!y.persist.hasHydrated()||c.setState(O=>[...O,...D],!0)});function w(S){y.setState(C=>{const T=C.connections.get(S.uid);return T?{...C,connections:new Map(C.connections).set(S.uid,{accounts:S.accounts??T.accounts,chainId:S.chainId??T.chainId,connector:T.connector})}:C})}function k(S){y.getState().status==="connecting"||y.getState().status==="reconnecting"||y.setState(C=>{const T=c.getState().find(D=>D.uid===S.uid);return T?(T.emitter.listenerCount("connect")&&T.emitter.off("connect",w),T.emitter.listenerCount("change")||T.emitter.on("change",w),T.emitter.listenerCount("disconnect")||T.emitter.on("disconnect",_),{...C,connections:new Map(C.connections).set(S.uid,{accounts:S.accounts,chainId:S.chainId,connector:T}),current:S.uid,status:"connected"}):C})}function _(S){y.setState(C=>{const T=C.connections.get(S.uid);if(T){const O=T.connector;O.emitter.listenerCount("change")&&T.connector.emitter.off("change",w),O.emitter.listenerCount("disconnect")&&T.connector.emitter.off("disconnect",_),O.emitter.listenerCount("connect")||T.connector.emitter.on("connect",k)}if(C.connections.delete(S.uid),C.connections.size===0)return{...C,connections:new Map,current:null,status:"disconnected"};const D=C.connections.values().next().value;return{...C,connections:new Map(C.connections),current:D.connector.uid}})}return{get chains(){return l.getState()},get connectors(){return c.getState()},storage:r,getClient:h,get state(){return y.getState()},setState(S){let C;typeof S=="function"?C=S(y.getState()):C=S;const T=p();typeof C!="object"&&(C=T),Object.keys(T).some(O=>!(O in C))&&(C=T),y.setState(C,!0)},subscribe(S,C,T){return y.subscribe(S,C,T?{...T,fireImmediately:T.emitImmediately}:void 0)},_internal:{mipd:a,async revalidate(){const S=y.getState(),C=S.connections;let T=S.current;for(const[,D]of C){const O=D.connector;O.isAuthorized&&await O.isAuthorized()||(C.delete(O.uid),T===O.uid&&(T=null))}y.setState(D=>({...D,connections:C,current:T}))},store:y,ssr:!!s,syncConnectedChain:i,transports:o.transports,chains:{setState(S){const C=typeof S=="function"?S(l.getState()):S;if(C.length!==0)return l.setState(C,!0)},subscribe(S){return l.subscribe(S)}},connectors:{providerDetailToConnector:f,setup:u,setState(S){return c.setState(typeof S=="function"?S(c.getState()):S,!0)},subscribe(S){return c.subscribe(S)}},events:{change:w,connect:k,disconnect:_}}}}function Uce(n,e){const{initialState:r,reconnectOnMount:i}=e;return r&&!n._internal.store.persist.hasHydrated()&&n.setState({...r,chainId:n.chains.some(s=>s.id===r.chainId)?r.chainId:n.chains[0].id,connections:i?r.connections:new Map,status:i?"reconnecting":"disconnected"}),{async onMount(){n._internal.ssr&&(await n._internal.store.persist.rehydrate(),n._internal.mipd&&n._internal.connectors.setState(s=>{var c;const o=new Set;for(const u of s??[])if(u.rdns){const f=Array.isArray(u.rdns)?u.rdns:[u.rdns];for(const d of f)o.add(d)}const a=[],l=((c=n._internal.mipd)==null?void 0:c.getProviders())??[];for(const u of l){if(o.has(u.info.rdns))continue;const f=n._internal.connectors.providerDetailToConnector(u),d=n._internal.connectors.setup(f);a.push(d)}return[...s,...a]})),i?bce(n):n.storage&&n.setState(s=>({...s,connections:new Map}))}}}function qce(n){const{children:e,config:r,initialState:i,reconnectOnMount:s=!0}=n,{onMount:o}=Uce(r,{initialState:i,reconnectOnMount:s});r._internal.ssr||o();const a=I.useRef(!0);return I.useEffect(()=>{if(a.current&&r._internal.ssr)return o(),()=>{a.current=!1}},[]),e}const EV=I.createContext(void 0);function Wce(n){const{children:e,config:r}=n,i={value:r};return I.createElement(qce,n,I.createElement(EV.Provider,i,e))}const Hce="3.1.0",Gce=()=>`wagmi@${Hce}`;class Yce extends Bl{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return Gce()}}class Vce extends Yce{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function Kce(n){return{mutationFn(e){return fce(n,e)},mutationKey:["connect"]}}function Xce(n){return{mutationFn(e){return gce(n,e)},mutationKey:["disconnect"]}}function Qce(n){return{mutationFn(e){return yce(n,e)},mutationKey:["signTypedData"]}}function xu(n={}){const e=n.config??I.useContext(EV);if(!e)throw new Vce;return e}function DV(n={}){const e=xu(n);return I.useSyncExternalStore(r=>vce(e,{onChange:r}),()=>m5(e),()=>m5(e))}var PV={exports:{}},IV={},OV={exports:{}},MV={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kf=I;function Zce(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Jce=typeof Object.is=="function"?Object.is:Zce,eue=kf.useState,tue=kf.useEffect,nue=kf.useLayoutEffect,rue=kf.useDebugValue;function iue(n,e){var r=e(),i=eue({inst:{value:r,getSnapshot:e}}),s=i[0].inst,o=i[1];return nue(function(){s.value=r,s.getSnapshot=e,$1(s)&&o({inst:s})},[n,r,e]),tue(function(){return $1(s)&&o({inst:s}),n(function(){$1(s)&&o({inst:s})})},[n]),rue(r),r}function $1(n){var e=n.getSnapshot;n=n.value;try{var r=e();return!Jce(n,r)}catch{return!0}}function sue(n,e){return e()}var oue=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sue:iue;MV.useSyncExternalStore=kf.useSyncExternalStore!==void 0?kf.useSyncExternalStore:oue;OV.exports=MV;var aue=OV.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dx=I,lue=aue;function cue(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var uue=typeof Object.is=="function"?Object.is:cue,due=lue.useSyncExternalStore,fue=Dx.useRef,hue=Dx.useEffect,pue=Dx.useMemo,mue=Dx.useDebugValue;IV.useSyncExternalStoreWithSelector=function(n,e,r,i,s){var o=fue(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=pue(function(){function c(p){if(!u){if(u=!0,f=p,p=i(p),s!==void 0&&a.hasValue){var g=a.value;if(s(g,p))return d=g}return d=p}if(g=d,uue(f,p))return g;var v=i(p);return s!==void 0&&s(g,v)?(f=p,g):(f=p,d=v)}var u=!1,f,d,h=r===void 0?null:r;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,r,i,s]);var l=due(n,o[0],o[1]);return hue(function(){a.hasValue=!0,a.value=l},[l]),mue(l),l};PV.exports=IV;var gue=PV.exports;const B1=n=>typeof n=="object"&&!Array.isArray(n);function bue(n,e,r=e,i=Sf){const s=I.useRef([]),o=gue.useSyncExternalStoreWithSelector(n,e,r,a=>a,(a,l)=>{if(B1(a)&&B1(l)&&s.current.length){for(const c of s.current)if(!i(a[c],l[c]))return!1;return!0}return i(a,l)});return I.useMemo(()=>{if(B1(o)){const a={...o};let l={};for(const[c,u]of Object.entries(a))l={...l,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),u)}};return Object.defineProperties(a,l),a}return o},[o])}function dM(n={}){const e=xu(n);return bue(r=>xce(e,{onChange:r}),()=>kV(e))}function yue(n={}){const e=xu(n);return I.useSyncExternalStore(r=>_ce(e,{onChange:r}),()=>g5(e),()=>g5(e))}function AV(n={}){const e=xu(n),r=Kce(e),i=oM({...n.mutation,...r});return I.useEffect(()=>e.subscribe(({status:s})=>s,(s,o)=>{o==="connected"&&s==="disconnected"&&i.reset()}),[e,i.reset]),{...i,connect:i.mutate,connectAsync:i.mutateAsync,connectors:yue({config:e})}}function vue(n={}){const e=xu(n);return I.useSyncExternalStore(r=>wce(e,{onChange:r}),()=>SP(e),()=>SP(e))}function RV(n={}){const e=xu(n),r=Xce(e),i=oM({...n.mutation,...r});return{...i,connectors:vue({config:e}).map(s=>s.connector),disconnect:i.mutate,disconnectAsync:i.mutateAsync}}function fM(n={}){const e=xu(n),r=Qce(e),i=oM({...n.mutation,...r});return{...i,mutate:i.mutate,mutateAsync:i.mutateAsync,signTypedData:i.mutate,signTypedDataAsync:i.mutateAsync}}class Px{constructor(e,r=3,i=3e4){Te(this,"baseURL");Te(this,"timeout");Te(this,"maxRetries");this.baseURL=e.replace(/\/$/,""),this.maxRetries=r,this.timeout=i}async do(e){const r=Date.now();let i=null;for(let s=1;s<=this.maxRetries;s++)try{return{...await this.doRequest(e),duration:Date.now()-r}}catch(o){if(i=o,this.isNonceError(o))throw o;if(s<this.maxRetries){const a=s*1e3;await this.delay(a)}}throw new Error(`Request failed after ${this.maxRetries} attempts: ${i==null?void 0:i.message}`)}async doRequest(e){const r=`${this.baseURL}${e.path}`,i={"Content-Type":"application/json",Accept:"application/json, */*",...e.headers},s={method:e.method,headers:i,signal:AbortSignal.timeout(this.timeout)};e.body&&e.method!=="GET"?s.body=JSON.stringify(e.body):e.method==="GET"&&(s.body=void 0);const o=await fetch(r,s);let a;const l=o.headers.get("content-type");if(l!=null&&l.includes("application/json"))try{a=await o.json()}catch{a=await o.text()}else a=await o.text();if(o.status>=400)throw new Error(`HTTP ${o.status}: ${JSON.stringify(a)}`);return{statusCode:o.status,body:a,headers:o.headers}}isNonceError(e){const r=(e==null?void 0:e.message)||"";return r.toLowerCase().includes("nonce")||r.includes("InvalidNonce")||r.includes("NonceError")}delay(e){return new Promise(r=>setTimeout(r,e))}async get(e,r){return this.do({method:"GET",path:e,headers:r})}async post(e,r,i){return this.do({method:"POST",path:e,body:r,headers:i})}async put(e,r,i){return this.do({method:"PUT",path:e,body:r,headers:i})}async delete(e,r){return this.do({method:"DELETE",path:e,headers:r})}getBaseURL(){return this.baseURL}setTimeout(e){this.timeout=e}getTimeout(){return this.timeout}}const zc=1e8;function Wt(n){const e=typeof n=="string"?parseFloat(n):n;if(isNaN(e))throw new Error(`Invalid value for satoshi conversion: ${n}`);if(e<0)throw new Error(`Negative values not allowed for satoshi conversion: ${n}`);return BigInt(Math.floor(e*zc)).toString()}function ot(n){const e=BigInt(n);return Number(e)/zc}function hM(n){if(n<0)throw new Error(`Negative values not allowed: ${n}`);return Math.floor(n*zc)}function TP(n){try{return BigInt(n)>=0n}catch{return!1}}function NV(n){return n.map(Wt)}function jV(n){return n.map(ot)}function x5(n){return`0x${(typeof n=="string"?parseInt(n,10):n).toString(16)}`}function Nt(n){if(n==null||n==="")return 0;if(typeof n=="string"||typeof n=="number")try{return ot(n)}catch{return 0}return 0}function w5(n){if(n==null||n==="")return 0;try{if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?0:e}return typeof n=="number"?isNaN(n)?0:n:0}catch{return 0}}function av(n){if(n==null||n==="")return BigInt(0);try{const e=typeof n=="string"?n:String(n);return e.trim()===""||isNaN(Number(e))?BigInt(0):BigInt(e)}catch{return BigInt(0)}}let Bh={instance:null,module:null},xue=null;async function LV(){try{if(window.Go)console.log("wasm_exec.js already loaded");else{console.log("Loading wasm_exec.js...");const l=["/wasm_exec.js","https://cdn.jsdelivr.net/gh/golang/go@go1.21.0/misc/wasm/wasm_exec.js","https://cdn.jsdelivr.net/gh/golang/go@go1.20.0/misc/wasm/wasm_exec.js","https://unpkg.com/@go-wasm/wasm_exec@latest/wasm_exec.js"];let c=!1,u=null;for(const f of l)try{console.log(`Trying to load wasm_exec.js from: ${f}`),await new Promise((d,h)=>{const p=document.createElement("script");p.src=f,p.async=!0,p.onload=()=>{console.log(`Successfully loaded wasm_exec.js from: ${f}`),d()},p.onerror=()=>{h(new Error(`Failed to load from ${f}`))},document.head.appendChild(p)}),c=!0;break}catch(d){console.warn(`Failed to load from ${f}:`,d==null?void 0:d.message),u=d,document.head.querySelectorAll(`script[src="${f}"]`).forEach(p=>p.remove())}if(!c)throw new Error(`Failed to load wasm_exec.js from all sources. Last error: ${(u==null?void 0:u.message)||"Unknown error"}. Please ensure wasm_exec.js is available. You can download it from: https://github.com/golang/go/blob/master/misc/wasm/wasm_exec.js`);console.log("wasm_exec.js loaded successfully")}const n=window.Go;if(!n)throw new Error("Go runtime not available. Make sure wasm_exec.js is loaded.");console.log("Go runtime available");const e=new n;xue=e,console.log("Go instance created");const r="/morm_signer.wasm";console.log("Loading WASM from:",r);let i;try{const l=await fetch(r);if(console.log("WASM fetch response:",{status:l.status,statusText:l.statusText,ok:l.ok,url:l.url}),!l.ok){const c=await l.text().catch(()=>"Unable to read error response");throw new Error(`Failed to load WASM from ${r}: ${l.status} ${l.statusText}. Make sure the morm_signer.wasm file is available in the public directory.`)}i=await l.arrayBuffer(),console.log("WASM file loaded successfully, size:",i.byteLength,"bytes")}catch(l){throw console.error("WASM fetch failed:",l),new Error(`Failed to fetch WASM file: ${(l==null?void 0:l.message)||l}. The file should be accessible at ${window.location.origin}${r}`)}console.log("Instantiating WASM module...");let s;try{s=await WebAssembly.instantiate(i,e.importObject),console.log("WASM module instantiated successfully")}catch(l){throw console.error("Failed to instantiate WASM:",l),new Error(`Failed to instantiate WASM module: ${(l==null?void 0:l.message)||l}. The WASM file may be corrupted or incompatible.`)}Bh.instance=s.instance,Bh.module=s.module,console.log("Running Go program..."),console.log("Window object before Go run:",Object.keys(window).filter(l=>typeof window[l]=="function"&&(l.startsWith("morm")||l.startsWith("derive")||l.startsWith("generate")||l==="Go")));try{e.run(Bh.instance),console.log("Go program started (run() completed)")}catch(l){throw console.error("Failed to run Go program:",l),new Error(`Failed to run Go program: ${(l==null?void 0:l.message)||l}. The WASM module may not be compatible with the current Go runtime.`)}console.log("Waiting for Go initialization and function exports...");const o=10;let a=[];for(let l=1;l<=o;l++){const c=Math.min(l*200,2e3);await new Promise(f=>setTimeout(f,c));const u=Object.keys(window).filter(f=>typeof window[f]=="function");if(a=u.filter(f=>f.startsWith("morm")||f.startsWith("derive")||f.startsWith("generate")||f.startsWith("Generate")||f.startsWith("verify")||f.startsWith("map")||f.startsWith("validate")||f==="GetSupportedSignatureTypes"||f==="IsSignatureTypeSupported"),console.log(`Attempt ${l}/${o}:`,{waitTime:`${c}ms`,allWindowFunctions:u.length,exportedFunctions:a,sampleWindowKeys:u.slice(0,20)}),a.length>0){console.log(" Go functions found!",a);break}l===o&&(console.warn(" No expected functions found. All window functions:",u.sort()),console.warn(" Check if functions are exported with different names or if there are Go runtime errors"))}if(a.length===0){const l=[],c=Object.keys(window);if(console.error("Debugging info:",{totalWindowKeys:c.length,allFunctions:c.filter(u=>typeof window[u]=="function"),hasGo:typeof window.Go=="function",wasmInstance:Bh.instance!==null,wasmModule:Bh.module!==null}),typeof window.InitWASMSigner=="function"){console.log("Found InitWASMSigner function, calling it...");try{window.InitWASMSigner(),await new Promise(f=>setTimeout(f,500));const u=Object.keys(window).filter(f=>typeof window[f]=="function"&&(f.startsWith("morm")||f.startsWith("derive")||f.startsWith("generate")||f.startsWith("Generate")||f==="GetSupportedSignatureTypes"||f==="IsSignatureTypeSupported"));u.length>0&&(console.log(" Functions found after InitWASMSigner!",u),a=u)}catch(u){console.error("Failed to call InitWASMSigner:",u)}}if(a.length===0)throw new Error(`Go functions not exported after initialization.

ROOT CAUSE: The Go main() function in main_wasm.go does not call InitWASMSigner(), which is required to export functions via js.Global().Set().

SOLUTION: The Go code needs to be fixed. In main_wasm.go, the main() function should call:
  InitWASMSigner(CreateTestnetDomain()) // or appropriate domain

Current status:
- WASM file loaded: 
- Go runtime loaded: ${typeof window.Go=="function"?"":""}
- Go program run: 
- Functions exported: 

Check the browser console for detailed debugging information.`)}return console.log("WASM module loaded and initialized successfully"),!0}catch(n){throw console.error("Failed to load WASM module:",n),new Error((n==null?void 0:n.message)||`Failed to load WASM module: ${String(n)}`)}}class wue{constructor(){Te(this,"isInitialized",!1);Te(this,"wasmLoaded",!1)}async initialize(){try{return this.wasmLoaded=await LV(),this.isInitialized=this.wasmLoaded,this.wasmLoaded}catch(e){throw console.error("Failed to initialize MormSigner:",e),new Error((e==null?void 0:e.message)||"Failed to initialize WASM module")}}isReady(){return this.isInitialized&&this.wasmLoaded&&typeof window.mormGenerateEthereumKeypair=="function"&&typeof window.GenerateSingleSignature=="function"&&typeof window.GenerateMultisignSignatures=="function"&&typeof window.GetSupportedSignatureTypes=="function"&&typeof window.IsSignatureTypeSupported=="function"}async generateAddress(e,r=0){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const i=window.deriveAddress(e,r);return typeof i=="string"?{success:!0,address:i,index:r,mnemonic:e.substring(0,20)+"..."}:i&&i.error?{success:!1,error:i.error}:{success:!1,error:"Failed to derive address"}}catch(i){return console.error("Failed to generate address:",i),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async generateMnemonic(e=12){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const r=window.generateMnemonic(e);return typeof r=="string"?{success:!0,mnemonic:r}:r&&r.error?{success:!1,error:r.error}:{success:!1,error:"Failed to generate mnemonic"}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async generateKeypair(){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const e=window.mormGenerateEthereumKeypair();return e.error?{success:!1,error:e.error}:{success:!0,privateKey:e.privateKey,address:e.address}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async signMessage(e,r,i={}){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const s=(i.useEIP712,"ECDSA_LEGACY"),o=window.generateSignature(s,e,r);return typeof o=="string"?{success:!0,signature:o,message:r,options:i}:o&&o.error?{success:!1,error:o.error}:{success:!1,error:"Failed to generate signature"}}catch(s){return console.error("Failed to sign message:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async signDeposit(e,r,i,s={}){const o={...s,depositMode:!0,walletAddress:r,amount:i},a=JSON.stringify({action:"deposit",owner:r,amount:i,nonce:s.nonce||Date.now(),deadline:s.deadline||Date.now()+36e5}),l=await this.signMessage(e,a,o);return{success:l.success,signature:l.signature,message:l.message,address:r,options:l.options,error:l.error}}async signEIP712(e,r,i={}){const s={...i,useEIP712:!0};return this.signMessage(e,r,s)}async prepareAgentSign(e){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const r=window.mormPrepareAgentSign(e.owner,e.agent,e.expiresInDays,e.permissions,e.nonce);return r&&r.error?{success:!1,error:r.error}:{success:!0,typedData:r}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async signAgentApproval(e,r){const i=await this.prepareAgentSign(r);if(!i.success||!i.typedData)return i;const s=JSON.stringify({action:"agent::approve",wallet:r.owner,agent:r.agent,agentName:r.agentName||"",expiresInDays:r.expiresInDays,permissions:r.permissions,nonce:r.nonce,deadline:Date.now()+r.expiresInDays*24*60*60*1e3}),o=await this.signMessage(e,s,{useEIP712:!0});return o.success?{success:!0,typedData:i.typedData,signature:o.signature}:{success:!1,error:o.error}}async verifySignature(e,r,i){if(!this.isReady())throw new Error("MormSigner not initialized");try{const s=window.verifySignature(e,r,i);return typeof s=="boolean"?s:!1}catch(s){return console.error("Failed to verify signature:",s),!1}}mapAlgorithm(e){if(!this.isReady())return"ECDSA_LEGACY";try{return window.mapAlgorithm(e)}catch(r){return console.error("Failed to map algorithm:",r),"ECDSA_LEGACY"}}validateNonce(e,r){if(!this.isReady())return!1;try{return window.validateNonce(e,r)}catch(i){return console.error("Failed to validate nonce:",i),!1}}getStatus(){return{initialized:this.isInitialized,wasmLoaded:this.wasmLoaded,ready:this.isReady()}}async generateSingleSignature(e,r,i){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const s=window.GenerateSingleSignature(e,r,i);return s.error?{success:!1,error:s.error}:{success:!0,signature:s.signature}}catch(s){return console.error("Failed to generate single signature:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async generateMultisignSignatures(e,r,i=!1){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{const s=window.GenerateMultisignSignatures(e,r,i);if(s.error)return{success:!1,error:s.error};let o=null;if(s.tx)try{o=JSON.parse(s.tx)}catch(a){console.warn("Failed to parse updated transaction JSON:",a)}return{success:!0,tx:o,txJSON:s.tx}}catch(s){return console.error("Failed to generate multisign signatures:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}getSupportedSignatureTypes(){if(!this.isReady())return{success:!1,error:"MormSigner not initialized"};try{return{success:!0,types:window.GetSupportedSignatureTypes()}}catch(e){return console.error("Failed to get supported signature types:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}isSignatureTypeSupported(e){if(!this.isReady())return!1;try{return window.IsSignatureTypeSupported(e)}catch(r){return console.error("Failed to check signature type support:",r),!1}}}const mt=new wue,_ue=6e4,_5=100,z1=24*60*60*1e3,U1=1;class pM{constructor(e){Te(this,"infoClient");Te(this,"onChainState",new Map);Te(this,"offChainNonces",new Map);Te(this,"syncTimers",new Map);this.infoClient=e}getOrCreateState(e){const r=e.toLowerCase();let i=this.onChainState.get(r);return i||(i={confirmed:0,pending:[],lastSync:0,mu:!1},this.onChainState.set(r,i)),i}async acquireLock(e){for(;e.mu;)await new Promise(r=>setTimeout(r,10));e.mu=!0}releaseLock(e){e.mu=!1}async syncWithCore(e){const r=this.getOrCreateState(e),i=Date.now();if(!(i-r.lastSync<_ue))try{const s=await this.infoClient.getNonceStatus(e,!1),o=(s==null?void 0:s.next_nonce)!==void 0?typeof s.next_nonce=="string"?parseInt(s.next_nonce,10):s.next_nonce:0;r.confirmed=o,r.lastSync=i}catch(s){console.warn(`[NonceManager] Failed to sync with core for ${e}:`,s)}}async getNonce(e,r="latest"){const i=e.toLowerCase(),s=this.getOrCreateState(i);if(await this.syncWithCore(i),r==="latest")return s.confirmed;{const o=s.pending.length>0?Math.max(...s.pending):s.confirmed;return Math.max(s.confirmed,o)}}async validateNonce(e,r,i=!1){const s=e.toLowerCase(),o=this.getOrCreateState(s);await this.acquireLock(o);try{if(i||await this.syncWithCore(s),o.confirmed===0&&r<U1)throw new Error(`nonce too low for new account: got ${r}, minimum ${U1}`);if(o.confirmed>0&&r<=o.confirmed)throw new Error(`nonce too low: got ${r}, confirmed ${o.confirmed}`);if(o.pending.includes(r))throw new Error(`nonce already pending: ${r}`);if(o.pending.length>=_5)throw new Error(`pending nonce limit reached: max ${_5} pending nonces`);if(i){const a=this.offChainNonces.get(s);if(a){const l=a.get(r);if(l){const c=Date.now();if(c-l<z1)throw new Error(`nonce already used (off-chain): ${r}, expires in ${Math.floor((z1-(c-l))/1e3)}s`);a.delete(r)}}}o.pending.push(r),o.pending.sort((a,l)=>a-l)}finally{this.releaseLock(o)}}async commitNonce(e,r,i=!1){const s=e.toLowerCase(),o=this.getOrCreateState(s);await this.acquireLock(o);try{const a=o.pending.indexOf(r);if(a!==-1&&o.pending.splice(a,1),i){let l=this.offChainNonces.get(s);l||(l=new Map,this.offChainNonces.set(s,l)),l.set(r,Date.now())}else if(r===o.confirmed+1)for(o.confirmed=r;o.pending.length>0&&o.pending[0]===o.confirmed+1;){const l=o.pending.shift();o.confirmed=l}}finally{this.releaseLock(o)}}async rejectNonce(e,r,i=!1){const s=e.toLowerCase(),o=this.getOrCreateState(s);await this.acquireLock(o);try{const a=o.pending.indexOf(r);if(a!==-1&&o.pending.splice(a,1),i){const l=this.offChainNonces.get(s);l&&l.delete(r)}}finally{this.releaseLock(o)}}async getExpectedNextNonce(e,r=!1){const i=e.toLowerCase();await this.syncWithCore(i);const s=this.getOrCreateState(i),o=s.pending.length>0?Math.max(...s.pending):s.confirmed,a=Math.max(s.confirmed+1,o+1),l=a===0?U1:a;if(r)try{await this.validateNonce(i,l,!1)}catch(c){console.warn(`[NonceManager] Failed to reserve nonce ${l}:`,c.message)}return{next_nonce:l,reserved:r,timestamp:Date.now()}}cleanupExpiredOffChainNonces(){const e=Date.now();for(const[r,i]of this.offChainNonces.entries()){for(const[s,o]of i.entries())e-o>=z1&&i.delete(s);i.size===0&&this.offChainNonces.delete(r)}}resetNonce(e){const r=e.toLowerCase();this.onChainState.delete(r),this.offChainNonces.delete(r);const i=this.syncTimers.get(r);i&&(clearInterval(i),this.syncTimers.delete(r))}getState(e){const r=e.toLowerCase();return this.onChainState.get(r)}}class Qn{constructor(e){Te(this,"httpClient");Te(this,"sessionToken");this.httpClient=new Px(e.baseURL),this.sessionToken=e.sessionToken}setSessionToken(e){this.sessionToken=e}getHeaders(){const e={Accept:"application/json, */*"};return this.sessionToken&&(e.Authorization=`Bearer ${this.sessionToken}`),e}async getMarkets(){const r=(await this.httpClient.get("/market/v1/all",this.getHeaders())).body;return Array.isArray(r)?r:r&&typeof r=="object"&&"markets"in r?r.markets:[]}async getMarketsWithFilters(e,r){let i="/market/v1/all";const s=[];e&&s.push(`filter=${e}`),r&&s.push("active_only=true"),s.length>0&&(i+="?"+s.join("&"));const a=(await this.httpClient.get(i,this.getHeaders())).body;return Array.isArray(a)?a:a&&typeof a=="object"&&"markets"in a?a.markets:[]}async getMarketByID(e){return(await this.httpClient.get(`/market/v1/market/${e}`,this.getHeaders())).body}async getMarketByMoniker(e){return(await this.httpClient.get(`/market/v1/market/by-moniker/${e}`,this.getHeaders())).body}async getMarketStats(e){return(await this.httpClient.get(`/market/v1/market/${e}/stats`,this.getHeaders())).body}async getTicker(e){return this.getMarketStats(e)}async getExchangeInfo(){return(await this.httpClient.get("/market/v1/exchangeInfo",this.getHeaders())).body}async getOrderbook(e,r=!0,i=20){let s=`/clob/v1/orderbook/${e}`,o=20;i>0&&i<100&&(o=i),s+=`?depth=${o}`;const l=(await this.httpClient.get(s,this.getHeaders())).body;return r&&l&&(l.bids&&Array.isArray(l.bids)&&(l.bids=l.bids.map(([c,u])=>[ot(c),ot(u)])),l.asks&&Array.isArray(l.asks)&&(l.asks=l.asks.map(([c,u])=>[ot(c),ot(u)]))),l}async getMarketTrades(e,r){let i=`/clob/v1/trades?market_id=${e}`;r&&r>0&&(i+=`&limit=${r}`);const s=await this.httpClient.get(i,this.getHeaders());console.debug("[InfoClient] getMarketTrades response for marketId:",e,"response:",s.body);const o=s.body;return o&&typeof o=="object"&&"trades"in o&&Array.isArray(o.trades)?o.trades:Array.isArray(o)?o:o!=null&&o.data&&Array.isArray(o.data)?o.data:(console.warn("[InfoClient] getMarketTrades: Unexpected response structure:",s.body),[])}async getRecentTrades(e,r=100){return this.getMarketTrades(e,r)}async getTrades(e,r){let i=`/clob/v1/trades?symbol=${e}`;r&&r>0&&(i+=`&limit=${r}`);const o=(await this.httpClient.get(i,this.getHeaders())).body;return o&&typeof o=="object"&&"trades"in o&&Array.isArray(o.trades)?o.trades:Array.isArray(o)?o:o!=null&&o.data&&Array.isArray(o.data)?o.data:[]}async getAggTrades(e,r,i,s){let o=`/market/v1/aggTrades?symbol=${e}`;return r&&r>0&&(o+=`&limit=${r}`),i&&i>0&&(o+=`&startTime=${i}`),s&&s>0&&(o+=`&endTime=${s}`),(await this.httpClient.get(o,this.getHeaders())).body}async getKlines(e,r,i,s,o){let a=`/clob/v1/klines?symbol=${e}&interval=${r}`;i&&i>0&&(a+=`&limit=${i}`),s&&s>0&&(a+=`&startTime=${s}`),o&&o>0&&(a+=`&endTime=${o}`);const c=(await this.httpClient.get(a,this.getHeaders())).body;return Array.isArray(c)?c:[]}async getContinuousKlines(e,r,i,s,o,a){let l=`/market/v1/continuousKlines?pair=${e}&contractType=${r}&interval=${i}`;return s&&s>0&&(l+=`&limit=${s}`),o&&o>0&&(l+=`&startTime=${o}`),a&&a>0&&(l+=`&endTime=${a}`),(await this.httpClient.get(l,this.getHeaders())).body}async getPremiumIndex(e){let r="/market/v1/premiumIndex";e&&(r+=`?symbol=${e}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s),s}async getFundingRate(e,r,i,s){let o="/market/v1/fundingRate";const a=[];e&&a.push(`symbol=${e}`),r&&r>0&&a.push(`limit=${r}`),i&&i>0&&a.push(`startTime=${i}`),s&&s>0&&a.push(`endTime=${s}`),a.length>0&&(o+="?"+a.join("&"));const c=(await this.httpClient.get(o,this.getHeaders())).body;return Array.isArray(c)?c:c&&typeof c=="object"&&"data"in c&&Array.isArray(c.data)?c.data:c?[c]:[]}async getFundingInfo(){const r=(await this.httpClient.get("/market/v1/fundingInfo",this.getHeaders())).body;return Array.isArray(r)?r:[]}async getDeliveryPrice(e){return(await this.httpClient.get(`/market/v1/deliveryPrice?pair=${e}`,this.getHeaders())).body}async getOpenInterest(e){return(await this.httpClient.get(`/market/v1/openInterest?symbol=${e}`,this.getHeaders())).body}async getTopLongShortPositionRatio(e,r,i,s,o){let a=`/market/v1/topLongShortPositionRatio?symbol=${e}&period=${r}`;i&&i>0&&(a+=`&limit=${i}`),s&&s>0&&(a+=`&startTime=${s}`),o&&o>0&&(a+=`&endTime=${o}`);const c=(await this.httpClient.get(a,this.getHeaders())).body;return Array.isArray(c),c}async getGlobalLongShortAccountRatio(e,r,i,s,o){let a=`/market/v1/globalLongShortAccountRatio?symbol=${e}&period=${r}`;i&&i>0&&(a+=`&limit=${i}`),s&&s>0&&(a+=`&startTime=${s}`),o&&o>0&&(a+=`&endTime=${o}`);const c=(await this.httpClient.get(a,this.getHeaders())).body;return Array.isArray(c),c}async getTicker24hr(e){let r="/market/v1/moniker/24hr";e&&(r+=`?symbol=${e}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s),s}async getTickerPrice(e){let r="/market/v1/moniker/price";e&&(r+=`?symbol=${e}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s),s}async getOrderbookMoniker(e){let r="/market/v1/moniker/bookTicker";e&&(r+=`?symbol=${e}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s),s}async getBasis(e,r,i,s,o){let a=`/market/v1/basis?symbol=${e}&period=${r}`;i&&i>0&&(a+=`&limit=${i}`),s&&s>0&&(a+=`&startTime=${s}`),o&&o>0&&(a+=`&endTime=${o}`);const c=(await this.httpClient.get(a,this.getHeaders())).body;return Array.isArray(c),c}async getIndexInfo(e){let r="/market/v1/indexInfo";return e&&(r+=`?symbol=${e}`),(await this.httpClient.get(r,this.getHeaders())).body}async getAssetIndex(e){let r="/market/v1/assetIndex";e&&(r+=`?symbol=${e}`);const s=(await this.httpClient.get(r,this.getHeaders())).body;return Array.isArray(s),s}async getConstituents(e){return(await this.httpClient.get(`/market/v1/constituents?symbol=${e}`,this.getHeaders())).body}async getTWAP(e,r){return(await this.httpClient.get(`/market/v1/twap?symbol=${e}&duration=${r}`,this.getHeaders())).body}async getPositions(e,r){if(!e)throw new Error("walletAddress is required for getPositions");let i=`/bucket/v1/address/${e}/positions`;r!==void 0&&(i+=`?active_only=${r}`);const o=(await this.httpClient.get(i,this.getHeaders())).body;return Array.isArray(o)?o:o&&typeof o=="object"&&"positions"in o&&Array.isArray(o.positions)?o.positions:[]}async getBalance(e,r){let i=`/bank/v1/balance/${e}?asset=${r}`;return(await this.httpClient.get(i,this.getHeaders())).body}async getBalances(e){const i=(await this.httpClient.get(`/bank/v1/balances/${e}`,this.getHeaders())).body;return i&&typeof i=="object"&&"balances"in i&&Array.isArray(i.balances)?i.balances:[]}async getBalanceDecimal(e,r){const i=await this.getBalance(e,r);if(i&&typeof i=="object"){const s={...i};return s.balance&&(s.balance=ot(s.balance)),s.available_balance&&(s.available=ot(s.available_balance),s.available_balance=ot(s.available_balance)),s.available&&typeof s.available=="string"&&(s.available=ot(s.available)),s.locked_balance&&(s.locked=ot(s.locked_balance),s.locked_balance=ot(s.locked_balance)),s.locked&&typeof s.locked=="string"&&(s.locked=ot(s.locked)),s}return i}async getOrders(e,r){let i=`/clob/v1/address/orders?address=${encodeURIComponent(e)}`;return r&&(i+=`&asset_pair=${encodeURIComponent(r)}`),(await this.httpClient.get(i,this.getHeaders())).body}async getOrder(e){return(await this.httpClient.get(`/clob/v1/order/${e}`,this.getHeaders())).body}async getOrderHistory(e){return(await this.httpClient.get(`/clob/v1/address/orders/history?address=${e}`,this.getHeaders())).body}async getUserTrades(e,r){let i=`/clob/v1/address/trades?address=${e}`;r&&(i+=`&asset_pair=${r}`);const o=(await this.httpClient.get(i,this.getHeaders())).body;return o&&typeof o=="object"&&"trades"in o&&Array.isArray(o.trades)?o.trades:Array.isArray(o)?o:o!=null&&o.data&&Array.isArray(o.data)?o.data:[]}async getTradeHistory(e,r){return this.getUserTrades(e,r)}async getPosition(e,r){let i=`/clob/v1/address/position?address=${e}`;r&&(i+=`&asset_pair=${r}`);const o=(await this.httpClient.get(i,this.getHeaders())).body;return o&&typeof o=="object"&&"positions"in o&&Array.isArray(o.positions)?o.positions:[]}async getBuckets(e){var i;const r=await this.httpClient.get(`/bucket/v1/address/${e}/buckets`,this.getHeaders());return(i=r.body)!=null&&i.buckets&&Array.isArray(r.body.buckets)?r.body.buckets:[]}async getBucket(e){return(await this.httpClient.get(`/bucket/v1/bucket/${e}`,this.getHeaders())).body}async getMarketData(e){return(await this.httpClient.get(`/clob/v1/market/data?asset_pair=${e}`,this.getHeaders())).body}async getMarketCandles(e,r,i){const o=(await this.httpClient.get(`/clob/v1/market/candles?asset_pair=${e}&interval=${r}&limit=${i}`,this.getHeaders())).body;return Array.isArray(o)?o:[]}async getNonceStatus(e,r=!1){let i=`/router/v1/nonce/status/${e}`;return r&&(i+="?reserve=true"),(await this.httpClient.get(i,this.getHeaders())).body}async getSupportedActions(){return(await this.httpClient.get("/router/v1/tx/supported-actions",this.getHeaders())).body}async validateAction(e){return(await this.httpClient.get(`/router/v1/tx/validate-action?action=${encodeURIComponent(e)}`,this.getHeaders())).body}async getHealthSummary(){return(await this.httpClient.get("/router/v1/health/summary",this.getHeaders())).body}async getHealthDaemons(){return(await this.httpClient.get("/router/v1/health/daemons",this.getHeaders())).body}async getHealthBucket(){return(await this.httpClient.get("/router/v1/health/bucket",this.getHeaders())).body}async getServerTime(){return(await this.httpClient.get("/router/v1/time",this.getHeaders())).body}async getMetricsTPS(){return(await this.httpClient.get("/router/v1/metrics/tps",this.getHeaders())).body}async getMetricsLatency(){return(await this.httpClient.get("/router/v1/metrics/latency",this.getHeaders())).body}}function Sue(n){var l,c,u;if(!n)return!1;const e=String(n).toLowerCase(),r=((l=n==null?void 0:n.message)==null?void 0:l.toLowerCase())||e,i=(n==null?void 0:n.responseBody)||(n==null?void 0:n.onboardResult),s=((c=i==null?void 0:i.error)==null?void 0:c.toLowerCase())||((u=i==null?void 0:i.message)==null?void 0:u.toLowerCase())||"",o=["nonce too low","nonce too high","nonce already used","nonce already pending","nonce invalid","nonce expired","nonce mismatch","invalid nonce","nonce out of order"],a=`${r} ${e} ${s}`.toLowerCase();return o.some(f=>a.includes(f))}function kue(n){var l,c,u;if(!n)return!1;const e=String(n).toLowerCase(),r=((l=n==null?void 0:n.message)==null?void 0:l.toLowerCase())||e,i=(n==null?void 0:n.responseBody)||(n==null?void 0:n.onboardResult),s=((c=i==null?void 0:i.error)==null?void 0:c.toLowerCase())||((u=i==null?void 0:i.message)==null?void 0:u.toLowerCase())||"",o=["signature verification failed","invalid signature","unauthenticated","signature mismatch","signature invalid"],a=`${r} ${e} ${s}`.toLowerCase();return o.some(f=>a.includes(f))}function Cue(n){if(!n)return[!1,!1];const e=Sue(n),r=kue(n);return[e,r]}function mM(n){const[e,r]=Cue(n);return e||r}const FV="6.16.0";async function gM(n){const e=Object.keys(n);return(await Promise.all(e.map(i=>Promise.resolve(n[i])))).reduce((i,s,o)=>(i[e[o]]=s,i),{})}function Ii(n,e,r){for(let i in e){let s=e[i];Object.defineProperty(n,i,{enumerable:!0,value:s,writable:!1})}}function bd(n,e){if(n==null)return"null";if(e==null&&(e=new Set),typeof n=="object"){if(e.has(n))return"[Circular]";e.add(n)}if(Array.isArray(n))return"[ "+n.map(r=>bd(r,e)).join(", ")+" ]";if(n instanceof Uint8Array){const r="0123456789abcdef";let i="0x";for(let s=0;s<n.length;s++)i+=r[n[s]>>4],i+=r[n[s]&15];return i}if(typeof n=="object"&&typeof n.toJSON=="function")return bd(n.toJSON(),e);switch(typeof n){case"boolean":case"number":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"string":return JSON.stringify(n);case"object":{const r=Object.keys(n);return r.sort(),"{ "+r.map(i=>`${bd(i,e)}: ${bd(n[i],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Tue(n,e,r){let i=n;{const o=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${bd(r)}`);for(const a in r){if(a==="shortMessage")continue;const l=r[a];o.push(a+"="+bd(l))}}o.push(`code=${e}`),o.push(`version=${FV}`),o.length&&(n+=" ("+o.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(n);break;default:s=new Error(n)}return Ii(s,{code:e}),r&&Object.assign(s,r),s.shortMessage==null&&Ii(s,{shortMessage:i}),s}function Ft(n,e,r,i){if(!n)throw Tue(e,r,i)}function Se(n,e,r,i){Ft(n,e,"INVALID_ARGUMENT",{argument:r,value:i})}const Eue=["NFD","NFC","NFKD","NFKC"].reduce((n,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");n.push(e)}catch{}return n},[]);function $V(n){Ft(Eue.indexOf(n)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:n}})}function Ix(n,e,r){if(r==null&&(r=""),n!==e){let i=r,s="new";r&&(i+=".",s+=" "+r),Ft(!1,`private constructor; use ${i}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function BV(n,e,r){if(n instanceof Uint8Array)return r?new Uint8Array(n):n;if(typeof n=="string"&&n.length%2===0&&n.match(/^0x[0-9a-f]*$/i)){const i=new Uint8Array((n.length-2)/2);let s=2;for(let o=0;o<i.length;o++)i[o]=parseInt(n.substring(s,s+2),16),s+=2;return i}Se(!1,"invalid BytesLike value",e||"value",n)}function rt(n,e){return BV(n,e,!1)}function nd(n,e){return BV(n,e,!0)}function wo(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&n.length!==2+2*e||e===!0&&n.length%2!==0)}function Ox(n){return wo(n,!0)||n instanceof Uint8Array}const S5="0123456789abcdef";function Je(n){const e=rt(n);let r="0x";for(let i=0;i<e.length;i++){const s=e[i];r+=S5[(s&240)>>4]+S5[s&15]}return r}function Wn(n){return"0x"+n.map(e=>Je(e).substring(2)).join("")}function Gp(n){return wo(n,!0)?(n.length-2)/2:rt(n).length}function bM(n,e,r){const i=rt(n);return r>i.length&&Ft(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:i,length:i.length,offset:r}),Je(i.slice(e,r))}function Due(n,e,r){const i=rt(n);Ft(e>=i.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(i),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),s.set(i,e-i.length),Je(s)}function Al(n,e){return Due(n,e)}const Mx=BigInt(0),pc=BigInt(1),yd=9007199254740991;function Pue(n,e){let r=an(n,"value");const i=BigInt(Oi(e,"width")),s=pc<<i-pc;if(r<Mx){r=-r,Ft(r<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const o=(pc<<i)-pc;return(~r&o)+pc}else Ft(r<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return r}function Iue(n,e){const r=yM(n,"value"),i=BigInt(Oi(e,"bits"));return r&(pc<<i)-pc}function an(n,e){switch(typeof n){case"bigint":return n;case"number":return Se(Number.isInteger(n),"underflow",e||"value",n),Se(n>=-yd&&n<=yd,"overflow",e||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(r){Se(!1,`invalid BigNumberish string: ${r.message}`,e||"value",n)}}Se(!1,"invalid BigNumberish value",e||"value",n)}function yM(n,e){const r=an(n,e);return Ft(r>=Mx,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),r}const k5="0123456789abcdef";function zV(n){if(n instanceof Uint8Array){let e="0x0";for(const r of n)e+=k5[r>>4],e+=k5[r&15];return BigInt(e)}return an(n)}function Oi(n,e){switch(typeof n){case"bigint":return Se(n>=-yd&&n<=yd,"overflow",e||"value",n),Number(n);case"number":return Se(Number.isInteger(n),"underflow",e||"value",n),Se(n>=-yd&&n<=yd,"overflow",e||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return Oi(BigInt(n),e)}catch(r){Se(!1,`invalid numeric string: ${r.message}`,e||"value",n)}}Se(!1,"invalid numeric value",e||"value",n)}function Cf(n,e){const r=yM(n,"value");let i=r.toString(16);{const s=Oi(e,"width");if(s===0&&r===Mx)return"0x";for(Ft(s*2>=i.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});i.length<s*2;)i="0"+i}return"0x"+i}function Un(n,e){const r=yM(n,"value");if(r===Mx)return new Uint8Array(0);let i=r.toString(16);i.length%2&&(i="0"+i);const s=new Uint8Array(i.length/2);for(let o=0;o<s.length;o++){const a=o*2;s[o]=parseInt(i.substring(a,a+2),16)}return s}function Oue(n){let e=Je(Ox(n)?n:Un(n)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const lv="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let rb=null;function Mue(n){if(rb==null){rb={};for(let r=0;r<lv.length;r++)rb[lv[r]]=BigInt(r)}const e=rb[n];return Se(e!=null,"invalid base58 value","letter",n),e}const Aue=BigInt(0),EP=BigInt(58);function Rue(n){const e=rt(n);let r=zV(e),i="";for(;r;)i=lv[Number(r%EP)]+i,r/=EP;for(let s=0;s<e.length&&!e[s];s++)i=lv[0]+i;return i}function Nue(n){let e=Aue;for(let r=0;r<n.length;r++)e*=EP,e+=Mue(n[r]);return e}function Uc(n,e){Se(typeof n=="string","invalid string value","str",n),e!=null&&($V(e),n=n.normalize(e));let r=[];for(let i=0;i<n.length;i++){const s=n.charCodeAt(i);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192),r.push(s&63|128);else if((s&64512)==55296){i++;const o=n.charCodeAt(i);Se(i<n.length&&(o&64512)===56320,"invalid surrogate pair","str",n);const a=65536+((s&1023)<<10)+(o&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128)}return new Uint8Array(r)}function jue(n){let e=n.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function C5(n,e,r){let i=0;for(let s=0;s<r;s++)i=i*256+n[e+s];return i}function T5(n,e,r,i){const s=[];for(;r<e+1+i;){const o=UV(n,r);s.push(o.result),r+=o.consumed,Ft(r<=e+1+i,"child data too short","BUFFER_OVERRUN",{buffer:n,length:i,offset:e})}return{consumed:1+i,result:s}}function UV(n,e){Ft(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const r=i=>{Ft(i<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:i})};if(n[e]>=248){const i=n[e]-247;r(e+1+i);const s=C5(n,e+1,i);return r(e+1+i+s),T5(n,e,e+1+i,i+s)}else if(n[e]>=192){const i=n[e]-192;return r(e+1+i),T5(n,e,e+1,i)}else if(n[e]>=184){const i=n[e]-183;r(e+1+i);const s=C5(n,e+1,i);r(e+1+i+s);const o=Je(n.slice(e+1+i,e+1+i+s));return{consumed:1+i+s,result:o}}else if(n[e]>=128){const i=n[e]-128;r(e+1+i);const s=Je(n.slice(e+1,e+1+i));return{consumed:1+i,result:s}}return{consumed:1,result:jue(n[e])}}function Mg(n){const e=rt(n,"data"),r=UV(e,0);return Se(r.consumed===e.length,"unexpected junk after rlp payload","data",n),r.result}function E5(n){const e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function qV(n){if(Array.isArray(n)){let i=[];if(n.forEach(function(o){i=i.concat(qV(o))}),i.length<=55)return i.unshift(192+i.length),i;const s=E5(i.length);return s.unshift(247+s.length),s.concat(i)}const e=Array.prototype.slice.call(rt(n,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=E5(e.length);return r.unshift(183+r.length),r.concat(e)}const D5="0123456789abcdef";function ca(n){let e="0x";for(const r of qV(n))e+=D5[r>>4],e+=D5[r&15];return e}function Lue(n){const e=rt(n,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=Je(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}function ki(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function vM(n,...e){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function WV(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ki(n.outputLen),ki(n.blockLen)}function Tf(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function HV(n,e){vM(n);const r=e.outputLen;if(n.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const q1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const GV=n=>n instanceof Uint8Array,cy=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),uy=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Ks=(n,e)=>n<<32-e|n>>>e,Fue=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Fue)throw new Error("Non little-endian hardware is not supported");const $ue=async()=>{};async function P5(n,e,r){let i=Date.now();for(let s=0;s<n;s++){r(s);const o=Date.now()-i;o>=0&&o<e||(await $ue(),i+=o)}}function Bue(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function Ef(n){if(typeof n=="string"&&(n=Bue(n)),!GV(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function zue(...n){const e=new Uint8Array(n.reduce((i,s)=>i+s.length,0));let r=0;return n.forEach(i=>{if(!GV(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}class xM{clone(){return this._cloneInto()}}const Uue={}.toString;function YV(n,e){if(e!==void 0&&Uue.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(n,e)}function Ax(n){const e=i=>n().update(Ef(i)).digest(),r=n();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>n(),e}function que(n=32){if(q1&&typeof q1.getRandomValues=="function")return q1.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}class VV extends xM{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,WV(e);const i=Ef(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(i.length>s?e.create().update(i).digest():i);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=e.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(e){return Tf(this),this.iHash.update(e),this}digestInto(e){Tf(this),vM(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:i,finished:s,destroyed:o,blockLen:a,outputLen:l}=this;return e=e,e.finished=s,e.destroyed=o,e.blockLen=a,e.outputLen=l,e.oHash=r._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Rx=(n,e,r)=>new VV(n,e).update(r).digest();Rx.create=(n,e)=>new VV(n,e);function Wue(n,e,r,i){WV(n);const s=YV({dkLen:32,asyncTick:10},i),{c:o,dkLen:a,asyncTick:l}=s;if(ki(o),ki(a),ki(l),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=Ef(e),u=Ef(r),f=new Uint8Array(a),d=Rx.create(n,c),h=d._cloneInto().update(u);return{c:o,dkLen:a,asyncTick:l,DK:f,PRF:d,PRFSalt:h}}function Hue(n,e,r,i,s){return n.destroy(),e.destroy(),i&&i.destroy(),s.fill(0),r}function wM(n,e,r,i){const{c:s,dkLen:o,DK:a,PRF:l,PRFSalt:c}=Wue(n,e,r,i);let u;const f=new Uint8Array(4),d=uy(f),h=new Uint8Array(l.outputLen);for(let p=1,g=0;g<o;p++,g+=l.outputLen){const v=a.subarray(g,g+l.outputLen);d.setInt32(0,p,!1),(u=c._cloneInto(u)).update(f).digestInto(h),v.set(h.subarray(0,v.length));for(let y=1;y<s;y++){l._cloneInto(u).update(h).digestInto(h);for(let b=0;b<v.length;b++)v[b]^=h[b]}}return Hue(l,c,a,u,h)}function Gue(n,e,r,i){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,r,i);const s=BigInt(32),o=BigInt(4294967295),a=Number(r>>s&o),l=Number(r&o),c=i?4:0,u=i?0:4;n.setUint32(e+c,a,i),n.setUint32(e+u,l,i)}class _M extends xM{constructor(e,r,i,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=i,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=uy(this.buffer)}update(e){Tf(this);const{view:r,buffer:i,blockLen:s}=this;e=Ef(e);const o=e.length;for(let a=0;a<o;){const l=Math.min(s-this.pos,o-a);if(l===s){const c=uy(e);for(;s<=o-a;a+=s)this.process(c,a);continue}i.set(e.subarray(a,a+l),this.pos),this.pos+=l,a+=l,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Tf(this),HV(e,this),this.finished=!0;const{buffer:r,view:i,blockLen:s,isLE:o}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(i,0),a=0);for(let d=a;d<s;d++)r[d]=0;Gue(i,s-8,BigInt(this.length*8),o),this.process(i,0);const l=uy(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)l.setUint32(4*d,f[d],o)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const i=e.slice(0,r);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:i,length:s,finished:o,destroyed:a,pos:l}=this;return e.length=s,e.pos=l,e.finished=o,e.destroyed=a,s%r&&e.buffer.set(i),e}}const Yue=(n,e,r)=>n&e^~n&r,Vue=(n,e,r)=>n&e^n&r^e&r,Kue=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ra=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Na=new Uint32Array(64);class Xue extends _M{constructor(){super(64,32,8,!1),this.A=Ra[0]|0,this.B=Ra[1]|0,this.C=Ra[2]|0,this.D=Ra[3]|0,this.E=Ra[4]|0,this.F=Ra[5]|0,this.G=Ra[6]|0,this.H=Ra[7]|0}get(){const{A:e,B:r,C:i,D:s,E:o,F:a,G:l,H:c}=this;return[e,r,i,s,o,a,l,c]}set(e,r,i,s,o,a,l,c){this.A=e|0,this.B=r|0,this.C=i|0,this.D=s|0,this.E=o|0,this.F=a|0,this.G=l|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)Na[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){const h=Na[d-15],p=Na[d-2],g=Ks(h,7)^Ks(h,18)^h>>>3,v=Ks(p,17)^Ks(p,19)^p>>>10;Na[d]=v+Na[d-7]+g+Na[d-16]|0}let{A:i,B:s,C:o,D:a,E:l,F:c,G:u,H:f}=this;for(let d=0;d<64;d++){const h=Ks(l,6)^Ks(l,11)^Ks(l,25),p=f+h+Yue(l,c,u)+Kue[d]+Na[d]|0,v=(Ks(i,2)^Ks(i,13)^Ks(i,22))+Vue(i,s,o)|0;f=u,u=c,c=l,l=a+p|0,a=o,o=s,s=i,i=p+v|0}i=i+this.A|0,s=s+this.B|0,o=o+this.C|0,a=a+this.D|0,l=l+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(i,s,o,a,l,c,u,f)}roundClean(){Na.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Zf=Ax(()=>new Xue),ib=BigInt(2**32-1),DP=BigInt(32);function KV(n,e=!1){return e?{h:Number(n&ib),l:Number(n>>DP&ib)}:{h:Number(n>>DP&ib)|0,l:Number(n&ib)|0}}function XV(n,e=!1){let r=new Uint32Array(n.length),i=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:o,l:a}=KV(n[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const Que=(n,e)=>BigInt(n>>>0)<<DP|BigInt(e>>>0),Zue=(n,e,r)=>n>>>r,Jue=(n,e,r)=>n<<32-r|e>>>r,ede=(n,e,r)=>n>>>r|e<<32-r,tde=(n,e,r)=>n<<32-r|e>>>r,nde=(n,e,r)=>n<<64-r|e>>>r-32,rde=(n,e,r)=>n>>>r-32|e<<64-r,ide=(n,e)=>e,sde=(n,e)=>n,QV=(n,e,r)=>n<<r|e>>>32-r,ZV=(n,e,r)=>e<<r|n>>>32-r,JV=(n,e,r)=>e<<r-32|n>>>64-r,eK=(n,e,r)=>n<<r-32|e>>>64-r;function ode(n,e,r,i){const s=(e>>>0)+(i>>>0);return{h:n+r+(s/2**32|0)|0,l:s|0}}const ade=(n,e,r)=>(n>>>0)+(e>>>0)+(r>>>0),lde=(n,e,r,i)=>e+r+i+(n/2**32|0)|0,cde=(n,e,r,i)=>(n>>>0)+(e>>>0)+(r>>>0)+(i>>>0),ude=(n,e,r,i,s)=>e+r+i+s+(n/2**32|0)|0,dde=(n,e,r,i,s)=>(n>>>0)+(e>>>0)+(r>>>0)+(i>>>0)+(s>>>0),fde=(n,e,r,i,s,o)=>e+r+i+s+o+(n/2**32|0)|0,St={fromBig:KV,split:XV,toBig:Que,shrSH:Zue,shrSL:Jue,rotrSH:ede,rotrSL:tde,rotrBH:nde,rotrBL:rde,rotr32H:ide,rotr32L:sde,rotlSH:QV,rotlSL:ZV,rotlBH:JV,rotlBL:eK,add:ode,add3L:ade,add3H:lde,add4L:cde,add4H:ude,add5H:fde,add5L:dde},[hde,pde]=St.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),ja=new Uint32Array(80),La=new Uint32Array(80);class mde extends _M{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:l,Dl:c,Eh:u,El:f,Fh:d,Fl:h,Gh:p,Gl:g,Hh:v,Hl:y}=this;return[e,r,i,s,o,a,l,c,u,f,d,h,p,g,v,y]}set(e,r,i,s,o,a,l,c,u,f,d,h,p,g,v,y){this.Ah=e|0,this.Al=r|0,this.Bh=i|0,this.Bl=s|0,this.Ch=o|0,this.Cl=a|0,this.Dh=l|0,this.Dl=c|0,this.Eh=u|0,this.El=f|0,this.Fh=d|0,this.Fl=h|0,this.Gh=p|0,this.Gl=g|0,this.Hh=v|0,this.Hl=y|0}process(e,r){for(let k=0;k<16;k++,r+=4)ja[k]=e.getUint32(r),La[k]=e.getUint32(r+=4);for(let k=16;k<80;k++){const _=ja[k-15]|0,S=La[k-15]|0,C=St.rotrSH(_,S,1)^St.rotrSH(_,S,8)^St.shrSH(_,S,7),T=St.rotrSL(_,S,1)^St.rotrSL(_,S,8)^St.shrSL(_,S,7),D=ja[k-2]|0,O=La[k-2]|0,P=St.rotrSH(D,O,19)^St.rotrBH(D,O,61)^St.shrSH(D,O,6),A=St.rotrSL(D,O,19)^St.rotrBL(D,O,61)^St.shrSL(D,O,6),L=St.add4L(T,A,La[k-7],La[k-16]),B=St.add4H(L,C,P,ja[k-7],ja[k-16]);ja[k]=B|0,La[k]=L|0}let{Ah:i,Al:s,Bh:o,Bl:a,Ch:l,Cl:c,Dh:u,Dl:f,Eh:d,El:h,Fh:p,Fl:g,Gh:v,Gl:y,Hh:b,Hl:w}=this;for(let k=0;k<80;k++){const _=St.rotrSH(d,h,14)^St.rotrSH(d,h,18)^St.rotrBH(d,h,41),S=St.rotrSL(d,h,14)^St.rotrSL(d,h,18)^St.rotrBL(d,h,41),C=d&p^~d&v,T=h&g^~h&y,D=St.add5L(w,S,T,pde[k],La[k]),O=St.add5H(D,b,_,C,hde[k],ja[k]),P=D|0,A=St.rotrSH(i,s,28)^St.rotrBH(i,s,34)^St.rotrBH(i,s,39),L=St.rotrSL(i,s,28)^St.rotrBL(i,s,34)^St.rotrBL(i,s,39),B=i&o^i&l^o&l,F=s&a^s&c^a&c;b=v|0,w=y|0,v=p|0,y=g|0,p=d|0,g=h|0,{h:d,l:h}=St.add(u|0,f|0,O|0,P|0),u=l|0,f=c|0,l=o|0,c=a|0,o=i|0,a=s|0;const $=St.add3L(P,L,F);i=St.add3H($,O,A,B),s=$|0}({h:i,l:s}=St.add(this.Ah|0,this.Al|0,i|0,s|0)),{h:o,l:a}=St.add(this.Bh|0,this.Bl|0,o|0,a|0),{h:l,l:c}=St.add(this.Ch|0,this.Cl|0,l|0,c|0),{h:u,l:f}=St.add(this.Dh|0,this.Dl|0,u|0,f|0),{h:d,l:h}=St.add(this.Eh|0,this.El|0,d|0,h|0),{h:p,l:g}=St.add(this.Fh|0,this.Fl|0,p|0,g|0),{h:v,l:y}=St.add(this.Gh|0,this.Gl|0,v|0,y|0),{h:b,l:w}=St.add(this.Hh|0,this.Hl|0,b|0,w|0),this.set(i,s,o,a,l,c,u,f,d,h,p,g,v,y,b,w)}roundClean(){ja.fill(0),La.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const SM=Ax(()=>new mde);function gde(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const I5=gde(),O5=I5.crypto||I5.msCrypto;function bde(n){switch(n){case"sha256":return Zf.create();case"sha512":return SM.create()}Se(!1,"invalid hashing algorithm name","algorithm",n)}function yde(n,e){const r={sha256:Zf,sha512:SM}[n];return Se(r!=null,"invalid hmac algorithm","algorithm",n),Rx.create(r,e)}function vde(n,e,r,i,s){const o={sha256:Zf,sha512:SM}[s];return Se(o!=null,"invalid pbkdf2 algorithm","algorithm",s),wM(o,n,e,{c:r,dkLen:i})}function xde(n){Ft(O5!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),Se(Number.isInteger(n)&&n>0&&n<=1024,"invalid length","length",n);const e=new Uint8Array(n);return O5.getRandomValues(e),e}let tK=!1;const nK=function(n,e,r){return yde(n,e).update(r).digest()};let rK=nK;function Jf(n,e,r){const i=rt(e,"key"),s=rt(r,"data");return Je(rK(n,i,s))}Jf._=nK;Jf.lock=function(){tK=!0};Jf.register=function(n){if(tK)throw new Error("computeHmac is locked");rK=n};Object.freeze(Jf);const[iK,sK,oK]=[[],[],[]],wde=BigInt(0),zh=BigInt(1),_de=BigInt(2),Sde=BigInt(7),kde=BigInt(256),Cde=BigInt(113);for(let n=0,e=zh,r=1,i=0;n<24;n++){[r,i]=[i,(2*r+3*i)%5],iK.push(2*(5*i+r)),sK.push((n+1)*(n+2)/2%64);let s=wde;for(let o=0;o<7;o++)e=(e<<zh^(e>>Sde)*Cde)%kde,e&_de&&(s^=zh<<(zh<<BigInt(o))-zh);oK.push(s)}const[Tde,Ede]=XV(oK,!0),M5=(n,e,r)=>r>32?JV(n,e,r):QV(n,e,r),A5=(n,e,r)=>r>32?eK(n,e,r):ZV(n,e,r);function Dde(n,e=24){const r=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let a=0;a<10;a++)r[a]=n[a]^n[a+10]^n[a+20]^n[a+30]^n[a+40];for(let a=0;a<10;a+=2){const l=(a+8)%10,c=(a+2)%10,u=r[c],f=r[c+1],d=M5(u,f,1)^r[l],h=A5(u,f,1)^r[l+1];for(let p=0;p<50;p+=10)n[a+p]^=d,n[a+p+1]^=h}let s=n[2],o=n[3];for(let a=0;a<24;a++){const l=sK[a],c=M5(s,o,l),u=A5(s,o,l),f=iK[a];s=n[f],o=n[f+1],n[f]=c,n[f+1]=u}for(let a=0;a<50;a+=10){for(let l=0;l<10;l++)r[l]=n[a+l];for(let l=0;l<10;l++)n[a+l]^=~r[(l+2)%10]&r[(l+4)%10]}n[0]^=Tde[i],n[1]^=Ede[i]}r.fill(0)}class kM extends xM{constructor(e,r,i,s=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=i,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ki(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=cy(this.state)}keccak(){Dde(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Tf(this);const{blockLen:r,state:i}=this;e=Ef(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(r-this.pos,s-o);for(let l=0;l<a;l++)i[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:i,blockLen:s}=this;e[i]^=r,r&128&&i===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Tf(this,!1),vM(e),this.finish();const r=this.state,{blockLen:i}=this;for(let s=0,o=e.length;s<o;){this.posOut>=i&&this.keccak();const a=Math.min(i-this.posOut,o-s);e.set(r.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ki(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(HV(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:i,outputLen:s,rounds:o,enableXOF:a}=this;return e||(e=new kM(r,i,s,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=i,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}}const Pde=(n,e,r)=>Ax(()=>new kM(e,n,r)),Ide=Pde(1,136,256/8);let aK=!1;const lK=function(n){return Ide(n)};let cK=lK;function sr(n){const e=rt(n,"data");return Je(cK(e))}sr._=lK;sr.lock=function(){aK=!0};sr.register=function(n){if(aK)throw new TypeError("keccak256 is locked");cK=n};Object.freeze(sr);const Ode=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),uK=Uint8Array.from({length:16},(n,e)=>e),Mde=uK.map(n=>(9*n+5)%16);let CM=[uK],TM=[Mde];for(let n=0;n<4;n++)for(let e of[CM,TM])e.push(e[n].map(r=>Ode[r]));const dK=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(n=>new Uint8Array(n)),Ade=CM.map((n,e)=>n.map(r=>dK[e][r])),Rde=TM.map((n,e)=>n.map(r=>dK[e][r])),Nde=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),jde=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),sb=(n,e)=>n<<e|n>>>32-e;function R5(n,e,r,i){return n===0?e^r^i:n===1?e&r|~e&i:n===2?(e|~r)^i:n===3?e&i|r&~i:e^(r|~i)}const ob=new Uint32Array(16);class Lde extends _M{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:r,h2:i,h3:s,h4:o}=this;return[e,r,i,s,o]}set(e,r,i,s,o){this.h0=e|0,this.h1=r|0,this.h2=i|0,this.h3=s|0,this.h4=o|0}process(e,r){for(let p=0;p<16;p++,r+=4)ob[p]=e.getUint32(r,!0);let i=this.h0|0,s=i,o=this.h1|0,a=o,l=this.h2|0,c=l,u=this.h3|0,f=u,d=this.h4|0,h=d;for(let p=0;p<5;p++){const g=4-p,v=Nde[p],y=jde[p],b=CM[p],w=TM[p],k=Ade[p],_=Rde[p];for(let S=0;S<16;S++){const C=sb(i+R5(p,o,l,u)+ob[b[S]]+v,k[S])+d|0;i=d,d=u,u=sb(l,10)|0,l=o,o=C}for(let S=0;S<16;S++){const C=sb(s+R5(g,a,c,f)+ob[w[S]]+y,_[S])+h|0;s=h,h=f,f=sb(c,10)|0,c=a,a=C}}this.set(this.h1+l+f|0,this.h2+u+h|0,this.h3+d+s|0,this.h4+i+a|0,this.h0+o+c|0)}roundClean(){ob.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const Fde=Ax(()=>new Lde);let fK=!1;const hK=function(n){return Fde(n)};let pK=hK;function eh(n){const e=rt(n,"data");return Je(pK(e))}eh._=hK;eh.lock=function(){fK=!0};eh.register=function(n){if(fK)throw new TypeError("ripemd160 is locked");pK=n};Object.freeze(eh);let mK=!1;const gK=function(n,e,r,i,s){return vde(n,e,r,i,s)};let bK=gK;function Ag(n,e,r,i,s){const o=rt(n,"password"),a=rt(e,"salt");return Je(bK(o,a,r,i,s))}Ag._=gK;Ag.lock=function(){mK=!0};Ag.register=function(n){if(mK)throw new Error("pbkdf2 is locked");bK=n};Object.freeze(Ag);let yK=!1;const vK=function(n){return new Uint8Array(xde(n))};let xK=vK;function ua(n){return xK(n)}ua._=vK;ua.lock=function(){yK=!0};ua.register=function(n){if(yK)throw new Error("randomBytes is locked");xK=n};Object.freeze(ua);const qt=(n,e)=>n<<e|n>>>32-e;function N5(n,e,r,i,s,o){let a=n[e++]^r[i++],l=n[e++]^r[i++],c=n[e++]^r[i++],u=n[e++]^r[i++],f=n[e++]^r[i++],d=n[e++]^r[i++],h=n[e++]^r[i++],p=n[e++]^r[i++],g=n[e++]^r[i++],v=n[e++]^r[i++],y=n[e++]^r[i++],b=n[e++]^r[i++],w=n[e++]^r[i++],k=n[e++]^r[i++],_=n[e++]^r[i++],S=n[e++]^r[i++],C=a,T=l,D=c,O=u,P=f,A=d,L=h,B=p,F=g,$=v,U=y,N=b,q=w,H=k,X=_,Y=S;for(let W=0;W<8;W+=2)P^=qt(C+q|0,7),F^=qt(P+C|0,9),q^=qt(F+P|0,13),C^=qt(q+F|0,18),$^=qt(A+T|0,7),H^=qt($+A|0,9),T^=qt(H+$|0,13),A^=qt(T+H|0,18),X^=qt(U+L|0,7),D^=qt(X+U|0,9),L^=qt(D+X|0,13),U^=qt(L+D|0,18),O^=qt(Y+N|0,7),B^=qt(O+Y|0,9),N^=qt(B+O|0,13),Y^=qt(N+B|0,18),T^=qt(C+O|0,7),D^=qt(T+C|0,9),O^=qt(D+T|0,13),C^=qt(O+D|0,18),L^=qt(A+P|0,7),B^=qt(L+A|0,9),P^=qt(B+L|0,13),A^=qt(P+B|0,18),N^=qt(U+$|0,7),F^=qt(N+U|0,9),$^=qt(F+N|0,13),U^=qt($+F|0,18),q^=qt(Y+X|0,7),H^=qt(q+Y|0,9),X^=qt(H+q|0,13),Y^=qt(X+H|0,18);s[o++]=a+C|0,s[o++]=l+T|0,s[o++]=c+D|0,s[o++]=u+O|0,s[o++]=f+P|0,s[o++]=d+A|0,s[o++]=h+L|0,s[o++]=p+B|0,s[o++]=g+F|0,s[o++]=v+$|0,s[o++]=y+U|0,s[o++]=b+N|0,s[o++]=w+q|0,s[o++]=k+H|0,s[o++]=_+X|0,s[o++]=S+Y|0}function Id(n,e,r,i,s){let o=i+0,a=i+16*s;for(let l=0;l<16;l++)r[a+l]=n[e+(2*s-1)*16+l];for(let l=0;l<s;l++,o+=16,e+=16)N5(r,a,n,e,r,o),l>0&&(a+=16),N5(r,o,n,e+=16,r,a)}function wK(n,e,r){const i=YV({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:s,r:o,p:a,dkLen:l,asyncTick:c,maxmem:u,onProgress:f}=i;if(ki(s),ki(o),ki(a),ki(l),ki(c),ki(u),f!==void 0&&typeof f!="function")throw new Error("progressCb should be function");const d=128*o,h=d/4;if(s<=1||s&s-1||s>=2**(d/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(2**32-1)*32/d)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(l<0||l>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const p=d*(s+a);if(p>u)throw new Error(`Scrypt: parameters too large, ${p} (128 * r * (N + p)) > ${u} (maxmem)`);const g=wM(Zf,n,e,{c:1,dkLen:d*a}),v=cy(g),y=cy(new Uint8Array(d*s)),b=cy(new Uint8Array(d));let w=()=>{};if(f){const k=2*s*a,_=Math.max(Math.floor(k/1e4),1);let S=0;w=()=>{S++,f&&(!(S%_)||S===k)&&f(S/k)}}return{N:s,r:o,p:a,dkLen:l,blockSize32:h,V:y,B32:v,B:g,tmp:b,blockMixCb:w,asyncTick:c}}function _K(n,e,r,i,s){const o=wM(Zf,n,r,{c:1,dkLen:e});return r.fill(0),i.fill(0),s.fill(0),o}function $de(n,e,r){const{N:i,r:s,p:o,dkLen:a,blockSize32:l,V:c,B32:u,B:f,tmp:d,blockMixCb:h}=wK(n,e,r);for(let p=0;p<o;p++){const g=l*p;for(let v=0;v<l;v++)c[v]=u[g+v];for(let v=0,y=0;v<i-1;v++)Id(c,y,c,y+=l,s),h();Id(c,(i-1)*l,u,g,s),h();for(let v=0;v<i;v++){const y=u[g+l-16]%i;for(let b=0;b<l;b++)d[b]=u[g+b]^c[y*l+b];Id(d,0,u,g,s),h()}}return _K(n,a,f,c,d)}async function Bde(n,e,r){const{N:i,r:s,p:o,dkLen:a,blockSize32:l,V:c,B32:u,B:f,tmp:d,blockMixCb:h,asyncTick:p}=wK(n,e,r);for(let g=0;g<o;g++){const v=l*g;for(let b=0;b<l;b++)c[b]=u[v+b];let y=0;await P5(i-1,p,()=>{Id(c,y,c,y+=l,s),h()}),Id(c,(i-1)*l,u,v,s),h(),await P5(i,p,()=>{const b=u[v+l-16]%i;for(let w=0;w<l;w++)d[w]=u[v+w]^c[b*l+w];Id(d,0,u,v,s),h()})}return _K(n,a,f,c,d)}let SK=!1,kK=!1;const CK=async function(n,e,r,i,s,o,a){return await Bde(n,e,{N:r,r:i,p:s,dkLen:o,onProgress:a})},TK=function(n,e,r,i,s,o){return $de(n,e,{N:r,r:i,p:s,dkLen:o})};let EK=CK,DK=TK;async function Rg(n,e,r,i,s,o,a){const l=rt(n,"passwd"),c=rt(e,"salt");return Je(await EK(l,c,r,i,s,o,a))}Rg._=CK;Rg.lock=function(){kK=!0};Rg.register=function(n){if(kK)throw new Error("scrypt is locked");EK=n};Object.freeze(Rg);function Ng(n,e,r,i,s,o){const a=rt(n,"passwd"),l=rt(e,"salt");return Je(DK(a,l,r,i,s,o))}Ng._=TK;Ng.lock=function(){SK=!0};Ng.register=function(n){if(SK)throw new Error("scryptSync is locked");DK=n};Object.freeze(Ng);const PK=function(n){return bde("sha256").update(n).digest()};let IK=PK,OK=!1;function hs(n){const e=rt(n,"data");return Je(IK(e))}hs._=PK;hs.lock=function(){OK=!0};hs.register=function(n){if(OK)throw new Error("sha256 is locked");IK=n};Object.freeze(hs);Object.freeze(hs);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const MK=BigInt(0),Nx=BigInt(1),zde=BigInt(2),jx=n=>n instanceof Uint8Array,Ude=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Df(n){if(!jx(n))throw new Error("Uint8Array expected");let e="";for(let r=0;r<n.length;r++)e+=Ude[n[r]];return e}function AK(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function EM(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function Pf(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let i=0;i<r.length;i++){const s=i*2,o=n.slice(s,s+2),a=Number.parseInt(o,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[i]=a}return r}function qc(n){return EM(Df(n))}function DM(n){if(!jx(n))throw new Error("Uint8Array expected");return EM(Df(Uint8Array.from(n).reverse()))}function If(n,e){return Pf(n.toString(16).padStart(e*2,"0"))}function PM(n,e){return If(n,e).reverse()}function qde(n){return Pf(AK(n))}function ks(n,e,r){let i;if(typeof e=="string")try{i=Pf(e)}catch(o){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${o}`)}else if(jx(e))i=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=i.length;if(typeof r=="number"&&s!==r)throw new Error(`${n} expected ${r} bytes, got ${s}`);return i}function Hm(...n){const e=new Uint8Array(n.reduce((i,s)=>i+s.length,0));let r=0;return n.forEach(i=>{if(!jx(i))throw new Error("Uint8Array expected");e.set(i,r),r+=i.length}),e}function Wde(n,e){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++)if(n[r]!==e[r])return!1;return!0}function Hde(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function Gde(n){let e;for(e=0;n>MK;n>>=Nx,e+=1);return e}function Yde(n,e){return n>>BigInt(e)&Nx}const Vde=(n,e,r)=>n|(r?Nx:MK)<<BigInt(e),IM=n=>(zde<<BigInt(n-1))-Nx,W1=n=>new Uint8Array(n),j5=n=>Uint8Array.from(n);function RK(n,e,r){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let i=W1(n),s=W1(n),o=0;const a=()=>{i.fill(1),s.fill(0),o=0},l=(...d)=>r(s,i,...d),c=(d=W1())=>{s=l(j5([0]),d),i=l(),d.length!==0&&(s=l(j5([1]),d),i=l())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){i=l();const p=i.slice();h.push(p),d+=i.length}return Hm(...h)};return(d,h)=>{a(),c(d);let p;for(;!(p=h(u()));)c();return a(),p}}const Kde={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function jg(n,e,r={}){const i=(s,o,a)=>{const l=Kde[o];if(typeof l!="function")throw new Error(`Invalid validator "${o}", expected function`);const c=n[s];if(!(a&&c===void 0)&&!l(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${o}`)};for(const[s,o]of Object.entries(e))i(s,o,!1);for(const[s,o]of Object.entries(r))i(s,o,!0);return n}const Xde=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Yde,bitLen:Gde,bitMask:IM,bitSet:Vde,bytesToHex:Df,bytesToNumberBE:qc,bytesToNumberLE:DM,concatBytes:Hm,createHmacDrbg:RK,ensureBytes:ks,equalBytes:Wde,hexToBytes:Pf,hexToNumber:EM,numberToBytesBE:If,numberToBytesLE:PM,numberToHexUnpadded:AK,numberToVarBytesBE:qde,utf8ToBytes:Hde,validateObject:jg},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const or=BigInt(0),zn=BigInt(1),mc=BigInt(2),Qde=BigInt(3),PP=BigInt(4),L5=BigInt(5),F5=BigInt(8);BigInt(9);BigInt(16);function ni(n,e){const r=n%e;return r>=or?r:e+r}function Zde(n,e,r){if(r<=or||e<or)throw new Error("Expected power/modulo > 0");if(r===zn)return or;let i=zn;for(;e>or;)e&zn&&(i=i*n%r),n=n*n%r,e>>=zn;return i}function Bi(n,e,r){let i=n;for(;e-- >or;)i*=i,i%=r;return i}function IP(n,e){if(n===or||e<=or)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let r=ni(n,e),i=e,s=or,o=zn;for(;r!==or;){const l=i/r,c=i%r,u=s-o*l;i=r,r=c,s=o,o=u}if(i!==zn)throw new Error("invert: does not exist");return ni(s,e)}function Jde(n){const e=(n-zn)/mc;let r,i,s;for(r=n-zn,i=0;r%mc===or;r/=mc,i++);for(s=mc;s<n&&Zde(s,e,n)!==n-zn;s++);if(i===1){const a=(n+zn)/PP;return function(c,u){const f=c.pow(u,a);if(!c.eql(c.sqr(f),u))throw new Error("Cannot find square root");return f}}const o=(r+zn)/mc;return function(l,c){if(l.pow(c,e)===l.neg(l.ONE))throw new Error("Cannot find square root");let u=i,f=l.pow(l.mul(l.ONE,s),r),d=l.pow(c,o),h=l.pow(c,r);for(;!l.eql(h,l.ONE);){if(l.eql(h,l.ZERO))return l.ZERO;let p=1;for(let v=l.sqr(h);p<u&&!l.eql(v,l.ONE);p++)v=l.sqr(v);const g=l.pow(f,zn<<BigInt(u-p-1));f=l.sqr(g),d=l.mul(d,g),h=l.mul(h,f),u=p}return d}}function efe(n){if(n%PP===Qde){const e=(n+zn)/PP;return function(i,s){const o=i.pow(s,e);if(!i.eql(i.sqr(o),s))throw new Error("Cannot find square root");return o}}if(n%F5===L5){const e=(n-L5)/F5;return function(i,s){const o=i.mul(s,mc),a=i.pow(o,e),l=i.mul(s,a),c=i.mul(i.mul(l,mc),a),u=i.mul(l,i.sub(c,i.ONE));if(!i.eql(i.sqr(u),s))throw new Error("Cannot find square root");return u}}return Jde(n)}const tfe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nfe(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=tfe.reduce((i,s)=>(i[s]="function",i),e);return jg(n,r)}function rfe(n,e,r){if(r<or)throw new Error("Expected power > 0");if(r===or)return n.ONE;if(r===zn)return e;let i=n.ONE,s=e;for(;r>or;)r&zn&&(i=n.mul(i,s)),s=n.sqr(s),r>>=zn;return i}function ife(n,e){const r=new Array(e.length),i=e.reduce((o,a,l)=>n.is0(a)?o:(r[l]=o,n.mul(o,a)),n.ONE),s=n.inv(i);return e.reduceRight((o,a,l)=>n.is0(a)?o:(r[l]=n.mul(o,r[l]),n.mul(o,a)),s),r}function NK(n,e){const r=e!==void 0?e:n.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function sfe(n,e,r=!1,i={}){if(n<=or)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:o}=NK(n,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=efe(n),l=Object.freeze({ORDER:n,BITS:s,BYTES:o,MASK:IM(s),ZERO:or,ONE:zn,create:c=>ni(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return or<=c&&c<n},is0:c=>c===or,isOdd:c=>(c&zn)===zn,neg:c=>ni(-c,n),eql:(c,u)=>c===u,sqr:c=>ni(c*c,n),add:(c,u)=>ni(c+u,n),sub:(c,u)=>ni(c-u,n),mul:(c,u)=>ni(c*u,n),pow:(c,u)=>rfe(l,c,u),div:(c,u)=>ni(c*IP(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>IP(c,n),sqrt:i.sqrt||(c=>a(l,c)),invertBatch:c=>ife(l,c),cmov:(c,u,f)=>f?u:c,toBytes:c=>r?PM(c,o):If(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return r?DM(c):qc(c)}});return Object.freeze(l)}function jK(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function LK(n){const e=jK(n);return e+Math.ceil(e/2)}function ofe(n,e,r=!1){const i=n.length,s=jK(e),o=LK(e);if(i<16||i<o||i>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${i}`);const a=r?qc(n):DM(n),l=ni(a,e-zn)+zn;return r?PM(l,s):If(l,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const afe=BigInt(0),H1=BigInt(1);function lfe(n,e){const r=(s,o)=>{const a=o.negate();return s?a:o},i=s=>{const o=Math.ceil(e/s)+1,a=2**(s-1);return{windows:o,windowSize:a}};return{constTimeNegate:r,unsafeLadder(s,o){let a=n.ZERO,l=s;for(;o>afe;)o&H1&&(a=a.add(l)),l=l.double(),o>>=H1;return a},precomputeWindow(s,o){const{windows:a,windowSize:l}=i(o),c=[];let u=s,f=u;for(let d=0;d<a;d++){f=u,c.push(f);for(let h=1;h<l;h++)f=f.add(u),c.push(f);u=f.double()}return c},wNAF(s,o,a){const{windows:l,windowSize:c}=i(s);let u=n.ZERO,f=n.BASE;const d=BigInt(2**s-1),h=2**s,p=BigInt(s);for(let g=0;g<l;g++){const v=g*c;let y=Number(a&d);a>>=p,y>c&&(y-=h,a+=H1);const b=v,w=v+Math.abs(y)-1,k=g%2!==0,_=y<0;y===0?f=f.add(r(k,o[b])):u=u.add(r(_,o[w]))}return{p:u,f}},wNAFCached(s,o,a,l){const c=s._WINDOW_SIZE||1;let u=o.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&o.set(s,l(u))),this.wNAF(c,u,a)}}}function FK(n){return nfe(n.Fp),jg(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...NK(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function cfe(n){const e=FK(n);jg(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:i,a:s}=e;if(r){if(!i.eql(s,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:ufe,hexToBytes:dfe}=Xde,_c={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=_c;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const r=n[1],i=n.subarray(2,r+2);if(!r||i.length!==r)throw new e("Invalid signature integer: wrong length");if(i[0]&128)throw new e("Invalid signature integer: negative");if(i[0]===0&&!(i[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:ufe(i),l:n.subarray(r+2)}},toSig(n){const{Err:e}=_c,r=typeof n=="string"?dfe(n):n;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let i=r.length;if(i<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==i-2)throw new e("Invalid signature: incorrect length");const{d:s,l:o}=_c._parseInt(r.subarray(2)),{d:a,l}=_c._parseInt(o);if(l.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,r=u=>{const f=u.toString(16);return f.length&1?`0${f}`:f},i=e(r(n.s)),s=e(r(n.r)),o=i.length/2,a=s.length/2,l=r(o),c=r(a);return`30${r(a+o+4)}02${c}${s}02${l}${i}`}},ta=BigInt(0),es=BigInt(1);BigInt(2);const $5=BigInt(3);BigInt(4);function ffe(n){const e=cfe(n),{Fp:r}=e,i=e.toBytes||((g,v,y)=>{const b=v.toAffine();return Hm(Uint8Array.from([4]),r.toBytes(b.x),r.toBytes(b.y))}),s=e.fromBytes||(g=>{const v=g.subarray(1),y=r.fromBytes(v.subarray(0,r.BYTES)),b=r.fromBytes(v.subarray(r.BYTES,2*r.BYTES));return{x:y,y:b}});function o(g){const{a:v,b:y}=e,b=r.sqr(g),w=r.mul(b,g);return r.add(r.add(w,r.mul(g,v)),y)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return typeof g=="bigint"&&ta<g&&g<e.n}function l(g){if(!a(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(g){const{allowedPrivateKeyLengths:v,nByteLength:y,wrapPrivateKey:b,n:w}=e;if(v&&typeof g!="bigint"){if(g instanceof Uint8Array&&(g=Df(g)),typeof g!="string"||!v.includes(g.length))throw new Error("Invalid key");g=g.padStart(y*2,"0")}let k;try{k=typeof g=="bigint"?g:qc(ks("private key",g,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof g}`)}return b&&(k=ni(k,w)),l(k),k}const u=new Map;function f(g){if(!(g instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(v,y,b){if(this.px=v,this.py=y,this.pz=b,v==null||!r.isValid(v))throw new Error("x required");if(y==null||!r.isValid(y))throw new Error("y required");if(b==null||!r.isValid(b))throw new Error("z required")}static fromAffine(v){const{x:y,y:b}=v||{};if(!v||!r.isValid(y)||!r.isValid(b))throw new Error("invalid affine point");if(v instanceof d)throw new Error("projective point not allowed");const w=k=>r.eql(k,r.ZERO);return w(y)&&w(b)?d.ZERO:new d(y,b,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const y=r.invertBatch(v.map(b=>b.pz));return v.map((b,w)=>b.toAffine(y[w])).map(d.fromAffine)}static fromHex(v){const y=d.fromAffine(s(ks("pointHex",v)));return y.assertValidity(),y}static fromPrivateKey(v){return d.BASE.multiply(c(v))}_setWindowSize(v){this._WINDOW_SIZE=v,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y}=this.toAffine();if(!r.isValid(v)||!r.isValid(y))throw new Error("bad point: x or y not FE");const b=r.sqr(y),w=o(v);if(!r.eql(b,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(r.isOdd)return!r.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){f(v);const{px:y,py:b,pz:w}=this,{px:k,py:_,pz:S}=v,C=r.eql(r.mul(y,S),r.mul(k,w)),T=r.eql(r.mul(b,S),r.mul(_,w));return C&&T}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){const{a:v,b:y}=e,b=r.mul(y,$5),{px:w,py:k,pz:_}=this;let S=r.ZERO,C=r.ZERO,T=r.ZERO,D=r.mul(w,w),O=r.mul(k,k),P=r.mul(_,_),A=r.mul(w,k);return A=r.add(A,A),T=r.mul(w,_),T=r.add(T,T),S=r.mul(v,T),C=r.mul(b,P),C=r.add(S,C),S=r.sub(O,C),C=r.add(O,C),C=r.mul(S,C),S=r.mul(A,S),T=r.mul(b,T),P=r.mul(v,P),A=r.sub(D,P),A=r.mul(v,A),A=r.add(A,T),T=r.add(D,D),D=r.add(T,D),D=r.add(D,P),D=r.mul(D,A),C=r.add(C,D),P=r.mul(k,_),P=r.add(P,P),D=r.mul(P,A),S=r.sub(S,D),T=r.mul(P,O),T=r.add(T,T),T=r.add(T,T),new d(S,C,T)}add(v){f(v);const{px:y,py:b,pz:w}=this,{px:k,py:_,pz:S}=v;let C=r.ZERO,T=r.ZERO,D=r.ZERO;const O=e.a,P=r.mul(e.b,$5);let A=r.mul(y,k),L=r.mul(b,_),B=r.mul(w,S),F=r.add(y,b),$=r.add(k,_);F=r.mul(F,$),$=r.add(A,L),F=r.sub(F,$),$=r.add(y,w);let U=r.add(k,S);return $=r.mul($,U),U=r.add(A,B),$=r.sub($,U),U=r.add(b,w),C=r.add(_,S),U=r.mul(U,C),C=r.add(L,B),U=r.sub(U,C),D=r.mul(O,$),C=r.mul(P,B),D=r.add(C,D),C=r.sub(L,D),D=r.add(L,D),T=r.mul(C,D),L=r.add(A,A),L=r.add(L,A),B=r.mul(O,B),$=r.mul(P,$),L=r.add(L,B),B=r.sub(A,B),B=r.mul(O,B),$=r.add($,B),A=r.mul(L,$),T=r.add(T,A),A=r.mul(U,$),C=r.mul(F,C),C=r.sub(C,A),A=r.mul(F,L),D=r.mul(U,D),D=r.add(D,A),new d(C,T,D)}subtract(v){return this.add(v.negate())}is0(){return this.equals(d.ZERO)}wNAF(v){return p.wNAFCached(this,u,v,y=>{const b=r.invertBatch(y.map(w=>w.pz));return y.map((w,k)=>w.toAffine(b[k])).map(d.fromAffine)})}multiplyUnsafe(v){const y=d.ZERO;if(v===ta)return y;if(l(v),v===es)return this;const{endo:b}=e;if(!b)return p.unsafeLadder(this,v);let{k1neg:w,k1:k,k2neg:_,k2:S}=b.splitScalar(v),C=y,T=y,D=this;for(;k>ta||S>ta;)k&es&&(C=C.add(D)),S&es&&(T=T.add(D)),D=D.double(),k>>=es,S>>=es;return w&&(C=C.negate()),_&&(T=T.negate()),T=new d(r.mul(T.px,b.beta),T.py,T.pz),C.add(T)}multiply(v){l(v);let y=v,b,w;const{endo:k}=e;if(k){const{k1neg:_,k1:S,k2neg:C,k2:T}=k.splitScalar(y);let{p:D,f:O}=this.wNAF(S),{p:P,f:A}=this.wNAF(T);D=p.constTimeNegate(_,D),P=p.constTimeNegate(C,P),P=new d(r.mul(P.px,k.beta),P.py,P.pz),b=D.add(P),w=O.add(A)}else{const{p:_,f:S}=this.wNAF(y);b=_,w=S}return d.normalizeZ([b,w])[0]}multiplyAndAddUnsafe(v,y,b){const w=d.BASE,k=(S,C)=>C===ta||C===es||!S.equals(w)?S.multiplyUnsafe(C):S.multiply(C),_=k(this,y).add(k(v,b));return _.is0()?void 0:_}toAffine(v){const{px:y,py:b,pz:w}=this,k=this.is0();v==null&&(v=k?r.ONE:r.inv(w));const _=r.mul(y,v),S=r.mul(b,v),C=r.mul(w,v);if(k)return{x:r.ZERO,y:r.ZERO};if(!r.eql(C,r.ONE))throw new Error("invZ was invalid");return{x:_,y:S}}isTorsionFree(){const{h:v,isTorsionFree:y}=e;if(v===es)return!0;if(y)return y(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:y}=e;return v===es?this:y?y(d,this):this.multiplyUnsafe(e.h)}toRawBytes(v=!0){return this.assertValidity(),i(d,this,v)}toHex(v=!0){return Df(this.toRawBytes(v))}}d.BASE=new d(e.Gx,e.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);const h=e.nBitLength,p=lfe(d,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function hfe(n){const e=FK(n);return jg(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function pfe(n){const e=hfe(n),{Fp:r,n:i}=e,s=r.BYTES+1,o=2*r.BYTES+1;function a($){return ta<$&&$<r.ORDER}function l($){return ni($,i)}function c($){return IP($,i)}const{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:h}=ffe({...e,toBytes($,U,N){const q=U.toAffine(),H=r.toBytes(q.x),X=Hm;return N?X(Uint8Array.from([U.hasEvenY()?2:3]),H):X(Uint8Array.from([4]),H,r.toBytes(q.y))},fromBytes($){const U=$.length,N=$[0],q=$.subarray(1);if(U===s&&(N===2||N===3)){const H=qc(q);if(!a(H))throw new Error("Point is not on curve");const X=d(H);let Y=r.sqrt(X);const W=(Y&es)===es;return(N&1)===1!==W&&(Y=r.neg(Y)),{x:H,y:Y}}else if(U===o&&N===4){const H=r.fromBytes(q.subarray(0,r.BYTES)),X=r.fromBytes(q.subarray(r.BYTES,2*r.BYTES));return{x:H,y:X}}else throw new Error(`Point of length ${U} was invalid. Expected ${s} compressed bytes or ${o} uncompressed bytes`)}}),p=$=>Df(If($,e.nByteLength));function g($){const U=i>>es;return $>U}function v($){return g($)?l(-$):$}const y=($,U,N)=>qc($.slice(U,N));class b{constructor(U,N,q){this.r=U,this.s=N,this.recovery=q,this.assertValidity()}static fromCompact(U){const N=e.nByteLength;return U=ks("compactSignature",U,N*2),new b(y(U,0,N),y(U,N,2*N))}static fromDER(U){const{r:N,s:q}=_c.toSig(ks("DER",U));return new b(N,q)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(U){return new b(this.r,this.s,U)}recoverPublicKey(U){const{r:N,s:q,recovery:H}=this,X=T(ks("msgHash",U));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const Y=H===2||H===3?N+e.n:N;if(Y>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const W=H&1?"03":"02",R=u.fromHex(W+p(Y)),Z=c(Y),J=l(-X*Z),V=l(q*Z),te=u.BASE.multiplyAndAddUnsafe(R,J,V);if(!te)throw new Error("point at infinify");return te.assertValidity(),te}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return Pf(this.toDERHex())}toDERHex(){return _c.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Pf(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const w={isValidPrivateKey($){try{return f($),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const $=LK(e.n);return ofe(e.randomBytes($),e.n)},precompute($=8,U=u.BASE){return U._setWindowSize($),U.multiply(BigInt(3)),U}};function k($,U=!0){return u.fromPrivateKey($).toRawBytes(U)}function _($){const U=$ instanceof Uint8Array,N=typeof $=="string",q=(U||N)&&$.length;return U?q===s||q===o:N?q===2*s||q===2*o:$ instanceof u}function S($,U,N=!0){if(_($))throw new Error("first arg must be private key");if(!_(U))throw new Error("second arg must be public key");return u.fromHex(U).multiply(f($)).toRawBytes(N)}const C=e.bits2int||function($){const U=qc($),N=$.length*8-e.nBitLength;return N>0?U>>BigInt(N):U},T=e.bits2int_modN||function($){return l(C($))},D=IM(e.nBitLength);function O($){if(typeof $!="bigint")throw new Error("bigint expected");if(!(ta<=$&&$<D))throw new Error(`bigint expected < 2^${e.nBitLength}`);return If($,e.nByteLength)}function P($,U,N=A){if(["recovered","canonical"].some(ye=>ye in N))throw new Error("sign() legacy options not supported");const{hash:q,randomBytes:H}=e;let{lowS:X,prehash:Y,extraEntropy:W}=N;X==null&&(X=!0),$=ks("msgHash",$),Y&&($=ks("prehashed msgHash",q($)));const R=T($),Z=f(U),J=[O(Z),O(R)];if(W!=null){const ye=W===!0?H(r.BYTES):W;J.push(ks("extraEntropy",ye))}const V=Hm(...J),te=R;function se(ye){const Re=C(ye);if(!h(Re))return;const Ke=c(Re),Ie=u.BASE.multiply(Re).toAffine(),Ee=l(Ie.x);if(Ee===ta)return;const He=l(Ke*l(te+Ee*Z));if(He===ta)return;let nt=(Ie.x===Ee?0:2)|Number(Ie.y&es),z=He;return X&&g(He)&&(z=v(He),nt^=1),new b(Ee,z,nt)}return{seed:V,k2sig:se}}const A={lowS:e.lowS,prehash:!1},L={lowS:e.lowS,prehash:!1};function B($,U,N=A){const{seed:q,k2sig:H}=P($,U,N),X=e;return RK(X.hash.outputLen,X.nByteLength,X.hmac)(q,H)}u.BASE._setWindowSize(8);function F($,U,N,q=L){var Ie;const H=$;if(U=ks("msgHash",U),N=ks("publicKey",N),"strict"in q)throw new Error("options.strict was renamed to lowS");const{lowS:X,prehash:Y}=q;let W,R;try{if(typeof H=="string"||H instanceof Uint8Array)try{W=b.fromDER(H)}catch(Ee){if(!(Ee instanceof _c.Err))throw Ee;W=b.fromCompact(H)}else if(typeof H=="object"&&typeof H.r=="bigint"&&typeof H.s=="bigint"){const{r:Ee,s:He}=H;W=new b(Ee,He)}else throw new Error("PARSE");R=u.fromHex(N)}catch(Ee){if(Ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(X&&W.hasHighS())return!1;Y&&(U=e.hash(U));const{r:Z,s:J}=W,V=T(U),te=c(J),se=l(V*te),ye=l(Z*te),Re=(Ie=u.BASE.multiplyAndAddUnsafe(R,se,ye))==null?void 0:Ie.toAffine();return Re?l(Re.x)===Z:!1}return{CURVE:e,getPublicKey:k,getSharedSecret:S,sign:B,verify:F,ProjectivePoint:u,Signature:b,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function mfe(n){return{hash:n,hmac:(e,...r)=>Rx(n,e,zue(...r)),randomBytes:que}}function gfe(n,e){const r=i=>pfe({...n,...mfe(i)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $K=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),B5=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),bfe=BigInt(1),OP=BigInt(2),z5=(n,e)=>(n+e/OP)/e;function yfe(n){const e=$K,r=BigInt(3),i=BigInt(6),s=BigInt(11),o=BigInt(22),a=BigInt(23),l=BigInt(44),c=BigInt(88),u=n*n*n%e,f=u*u*n%e,d=Bi(f,r,e)*f%e,h=Bi(d,r,e)*f%e,p=Bi(h,OP,e)*u%e,g=Bi(p,s,e)*p%e,v=Bi(g,o,e)*g%e,y=Bi(v,l,e)*v%e,b=Bi(y,c,e)*y%e,w=Bi(b,l,e)*v%e,k=Bi(w,r,e)*f%e,_=Bi(k,a,e)*g%e,S=Bi(_,i,e)*u%e,C=Bi(S,OP,e);if(!MP.eql(MP.sqr(C),n))throw new Error("Cannot find square root");return C}const MP=sfe($K,void 0,void 0,{sqrt:yfe}),Ya=gfe({a:BigInt(0),b:BigInt(7),Fp:MP,n:B5,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=B5,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-bfe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),l=z5(o*n,e),c=z5(-i*n,e);let u=ni(n-l*r-c*s,e),f=ni(-l*i-c*o,e);const d=u>a,h=f>a;if(d&&(u=e-u),h&&(f=e-f),u>a||f>a)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:h,k2:f}}}},Zf);BigInt(0);Ya.ProjectivePoint;const BK="0x0000000000000000000000000000000000000000",U5="0x0000000000000000000000000000000000000000000000000000000000000000",vfe=`Ethereum Signed Message:
`,q5=BigInt(0),W5=BigInt(1),AP=BigInt(2),H5=BigInt(27),G5=BigInt(28),ab=BigInt(35),zK=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),xfe=zK/AP,wfe=Symbol.for("nodejs.util.inspect.custom"),Jl={};function G1(n){return Al(Un(n),32)}var Yd,lo,Vd,cl;const Ki=class Ki{constructor(e,r,i,s){Xe(this,Yd);Xe(this,lo);Xe(this,Vd);Xe(this,cl);Ix(e,Jl,"Signature"),Pe(this,Yd,r),Pe(this,lo,i),Pe(this,Vd,s),Pe(this,cl,null)}get r(){return oe(this,Yd)}set r(e){Se(Gp(e)===32,"invalid r","value",e),Pe(this,Yd,Je(e))}get s(){return Se(parseInt(oe(this,lo).substring(0,3))<8,"non-canonical s; use ._s","s",oe(this,lo)),oe(this,lo)}set s(e){Se(Gp(e)===32,"invalid s","value",e),Pe(this,lo,Je(e))}get _s(){return oe(this,lo)}isValid(){return BigInt(oe(this,lo))<=xfe}get v(){return oe(this,Vd)}set v(e){const r=Oi(e,"value");Se(r===27||r===28,"invalid v","v",e),Pe(this,Vd,r)}get networkV(){return oe(this,cl)}get legacyChainId(){const e=this.networkV;return e==null?null:Ki.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=rt(this.s);return this.yParity&&(e[0]|=128),Je(e)}get compactSerialized(){return Wn([this.r,this.yParityAndS])}get serialized(){return Wn([this.r,this.s,this.yParity?"0x1c":"0x1b"])}getCanonical(){if(this.isValid())return this;const e=zK-BigInt(this._s),r=55-this.v,i=new Ki(Jl,this.r,G1(e),r);return this.networkV&&Pe(i,cl,this.networkV),i}clone(){const e=new Ki(Jl,this.r,this._s,this.v);return this.networkV&&Pe(e,cl,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[wfe](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){const r=an(e,"v");return r==H5||r==G5?q5:(Se(r>=ab,"invalid EIP-155 v","v",e),(r-ab)/AP)}static getChainIdV(e,r){return an(e)*AP+BigInt(35+r-27)}static getNormalizedV(e){const r=an(e);return r===q5||r===H5?27:r===W5||r===G5?28:(Se(r>=ab,"invalid v","v",e),r&W5?27:28)}static from(e){function r(u,f){Se(u,f,"signature",e)}if(e==null)return new Ki(Jl,U5,U5,27);if(typeof e=="string"){const u=rt(e,"signature");if(u.length===64){const f=Je(u.slice(0,32)),d=u.slice(32,64),h=d[0]&128?28:27;return d[0]&=127,new Ki(Jl,f,Je(d),h)}if(u.length===65){const f=Je(u.slice(0,32)),d=Je(u.slice(32,64)),h=Ki.getNormalizedV(u[64]);return new Ki(Jl,f,d,h)}r(!1,"invalid raw signature length")}if(e instanceof Ki)return e.clone();const i=e.r;r(i!=null,"missing r");const s=G1(i),o=function(u,f){if(u!=null)return G1(u);if(f!=null){r(wo(f,32),"invalid yParityAndS");const d=rt(f);return d[0]&=127,Je(d)}r(!1,"missing s")}(e.s,e.yParityAndS),{networkV:a,v:l}=function(u,f,d){if(u!=null){const h=an(u);return{networkV:h>=ab?h:void 0,v:Ki.getNormalizedV(h)}}if(f!=null)return r(wo(f,32),"invalid yParityAndS"),{v:rt(f)[0]&128?28:27};if(d!=null){switch(Oi(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new Ki(Jl,s,o,l);return a&&Pe(c,cl,a),r(e.yParity==null||Oi(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};Yd=new WeakMap,lo=new WeakMap,Vd=new WeakMap,cl=new WeakMap;let $s=Ki;var Jo;const bc=class bc{constructor(e){Xe(this,Jo);Se(Gp(e)===32,"invalid private key","privateKey","[REDACTED]"),Pe(this,Jo,Je(e))}get privateKey(){return oe(this,Jo)}get publicKey(){return bc.computePublicKey(oe(this,Jo))}get compressedPublicKey(){return bc.computePublicKey(oe(this,Jo),!0)}sign(e){Se(Gp(e)===32,"invalid digest length","digest",e);const r=Ya.sign(nd(e),nd(oe(this,Jo)),{lowS:!0});return $s.from({r:Cf(r.r,32),s:Cf(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=bc.computePublicKey(e);return Je(Ya.getSharedSecret(nd(oe(this,Jo)),rt(r),!1))}static computePublicKey(e,r){let i=rt(e,"key");if(i.length===32){const o=Ya.getPublicKey(i,!!r);return Je(o)}if(i.length===64){const o=new Uint8Array(65);o[0]=4,o.set(i,1),i=o}const s=Ya.ProjectivePoint.fromHex(i);return Je(s.toRawBytes(r))}static recoverPublicKey(e,r){Se(Gp(e)===32,"invalid digest length","digest",e);const i=$s.from(r);let s=Ya.Signature.fromCompact(nd(Wn([i.r,i.s])));s=s.addRecoveryBit(i.yParity);const o=s.recoverPublicKey(nd(e));return Se(o!=null,"invalid signature for digest","signature",r),"0x"+o.toHex(!1)}static addPoints(e,r,i){const s=Ya.ProjectivePoint.fromHex(bc.computePublicKey(e).substring(2)),o=Ya.ProjectivePoint.fromHex(bc.computePublicKey(r).substring(2));return"0x"+s.add(o).toHex(!!i)}};Jo=new WeakMap;let yo=bc;const _fe=BigInt(0),Sfe=BigInt(36);function Y5(n){n=n.toLowerCase();const e=n.substring(2).split(""),r=new Uint8Array(40);for(let s=0;s<40;s++)r[s]=e[s].charCodeAt(0);const i=rt(sr(r));for(let s=0;s<40;s+=2)i[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(i[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const OM={};for(let n=0;n<10;n++)OM[String(n)]=String(n);for(let n=0;n<26;n++)OM[String.fromCharCode(65+n)]=String(10+n);const V5=15;function kfe(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(i=>OM[i]).join("");for(;e.length>=V5;){let i=e.substring(0,V5);e=parseInt(i,10)%97+e.substring(i.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const Cfe=function(){const n={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];n[r]=BigInt(e)}return n}();function Tfe(n){n=n.toLowerCase();let e=_fe;for(let r=0;r<n.length;r++)e=e*Sfe+Cfe[n[r]];return e}function ps(n){if(Se(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const e=Y5(n);return Se(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===n,"bad address checksum","address",n),e}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Se(n.substring(2,4)===kfe(n),"bad icap checksum","address",n);let e=Tfe(n.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return Y5("0x"+e)}Se(!1,"invalid address","address",n)}function Efe(n){return n&&typeof n.getAddress=="function"}async function Y1(n,e){const r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(Ft(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),Se(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),ps(r)}function Yp(n,e){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?ps(n):(Ft(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Y1(n,e.resolveName(n)));if(Efe(n))return Y1(n,n.getAddress());if(n&&typeof n.then=="function")return Y1(n,n);Se(!1,"unsupported addressable value","target",n)}function V1(n,e){return{address:ps(n),storageKeys:e.map((r,i)=>(Se(wo(r,32),"invalid slot",`storageKeys[${i}]`,r),r.toLowerCase()))}}function Lx(n){if(Array.isArray(n))return n.map((r,i)=>Array.isArray(r)?(Se(r.length===2,"invalid slot set",`value[${i}]`,r),V1(r[0],r[1])):(Se(r!=null&&typeof r=="object","invalid address-slot set","value",n),V1(r.address,r.storageKeys)));Se(n!=null&&typeof n=="object","invalid access list","value",n);const e=Object.keys(n).map(r=>{const i=n[r].reduce((s,o)=>(s[o]=!0,s),{});return V1(r,Object.keys(i).sort())});return e.sort((r,i)=>r.address.localeCompare(i.address)),e}function Dfe(n){return{address:ps(n.address),nonce:an(n.nonce!=null?n.nonce:0),chainId:an(n.chainId!=null?n.chainId:0),signature:$s.from(n.signature)}}function Lg(n){let e;return typeof n=="string"?e=yo.computePublicKey(n,!1):e=n.publicKey,ps(sr("0x"+e.substring(4)).substring(26))}function Pfe(n,e){return Lg(yo.recoverPublicKey(n,e))}const rr=BigInt(0),Ife=BigInt(2),Ofe=BigInt(27),Mfe=BigInt(28),Afe=BigInt(35),Rfe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Nfe=Symbol.for("nodejs.util.inspect.custom"),K1=4096*32,dy=128;function jfe(n){return{blobToKzgCommitment:i=>{if("computeBlobProof"in n){if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return rt(n.blobToKzgCommitment(Je(i)))}else if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return rt(n.blobToKzgCommitment(i));if("blobToKZGCommitment"in n&&typeof n.blobToKZGCommitment=="function")return rt(n.blobToKZGCommitment(Je(i)));Se(!1,"unsupported KZG library","kzg",n)},computeBlobKzgProof:(i,s)=>{if("computeBlobProof"in n&&typeof n.computeBlobProof=="function")return rt(n.computeBlobProof(Je(i),Je(s)));if("computeBlobKzgProof"in n&&typeof n.computeBlobKzgProof=="function")return n.computeBlobKzgProof(i,s);if("computeBlobKZGProof"in n&&typeof n.computeBlobKZGProof=="function")return rt(n.computeBlobKZGProof(Je(i),Je(s)));Se(!1,"unsupported KZG library","kzg",n)}}}function K5(n,e){let r=n.toString(16);for(;r.length<2;)r="0"+r;return r+=hs(e).substring(4),"0x"+r}function th(n){return n==="0x"?null:ps(n)}function Fx(n,e){try{return Lx(n)}catch(r){Se(!1,r.message,e,n)}}function Lfe(n,e){try{if(!Array.isArray(n))throw new Error("authorizationList: invalid array");const r=[];for(let i=0;i<n.length;i++){const s=n[i];if(!Array.isArray(s))throw new Error(`authorization[${i}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${i}]: wrong length`);if(!s[1])throw new Error(`authorization[${i}]: null address`);r.push({address:th(s[1]),nonce:en(s[2],"nonce"),chainId:en(s[0],"chainId"),signature:$s.from({yParity:wu(s[3],"yParity"),r:Al(s[4],32),s:Al(s[5],32)})})}return r}catch(r){Se(!1,r.message,e,n)}}function wu(n,e){return n==="0x"?0:Oi(n,e)}function en(n,e){if(n==="0x")return rr;const r=an(n,e);return Se(r<=Rfe,"value exceeds uint size",e,r),r}function Mt(n,e){const r=an(n,"value"),i=Un(r);return Se(i.length<=32,"value too large",`tx.${e}`,r),i}function $x(n){return Lx(n).map(e=>[e.address,e.storageKeys])}function Ffe(n){return n.map(e=>[Mt(e.chainId,"chainId"),e.address,Mt(e.nonce,"nonce"),Mt(e.signature.yParity,"yParity"),Un(e.signature.r),Un(e.signature._s)])}function $fe(n,e){Se(Array.isArray(n),`invalid ${e}`,"value",n);for(let r=0;r<n.length;r++)Se(wo(n[r],32),"invalid ${ param } hash",`value[${r}]`,n[r]);return n}function Bfe(n){const e=Mg(n);Se(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",n);const r={type:0,nonce:wu(e[0],"nonce"),gasPrice:en(e[1],"gasPrice"),gasLimit:en(e[2],"gasLimit"),to:th(e[3]),value:en(e[4],"value"),data:Je(e[5]),chainId:rr};if(e.length===6)return r;const i=en(e[6],"v"),s=en(e[7],"r"),o=en(e[8],"s");if(s===rr&&o===rr)r.chainId=i;else{let a=(i-Afe)/Ife;a<rr&&(a=rr),r.chainId=a,Se(a!==rr||i===Ofe||i===Mfe,"non-canonical legacy v","v",e[6]),r.signature=$s.from({r:Al(e[7],32),s:Al(e[8],32),v:i})}return r}function zfe(n,e){const r=[Mt(n.nonce,"nonce"),Mt(n.gasPrice||0,"gasPrice"),Mt(n.gasLimit,"gasLimit"),n.to||"0x",Mt(n.value,"value"),n.data];let i=rr;if(n.chainId!=rr)i=an(n.chainId,"tx.chainId"),Se(!e||e.networkV==null||e.legacyChainId===i,"tx.chainId/sig.v mismatch","sig",e);else if(n.signature){const o=n.signature.legacyChainId;o!=null&&(i=o)}if(!e)return i!==rr&&(r.push(Un(i)),r.push("0x"),r.push("0x")),ca(r);let s=BigInt(27+e.yParity);return i!==rr?s=$s.getChainIdV(i,e.v):BigInt(e.v)!==s&&Se(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(Un(s)),r.push(Un(e.r)),r.push(Un(e._s)),ca(r)}function Bx(n,e){let r;try{if(r=wu(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{Se(!1,"invalid yParity","yParity",e[0])}const i=Al(e[1],32),s=Al(e[2],32),o=$s.from({r:i,s,yParity:r});n.signature=o}function Ufe(n){const e=Mg(rt(n).slice(1));Se(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Je(n));const r={type:2,chainId:en(e[0],"chainId"),nonce:wu(e[1],"nonce"),maxPriorityFeePerGas:en(e[2],"maxPriorityFeePerGas"),maxFeePerGas:en(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:en(e[4],"gasLimit"),to:th(e[5]),value:en(e[6],"value"),data:Je(e[7]),accessList:Fx(e[8],"accessList")};return e.length===9||Bx(r,e.slice(9)),r}function qfe(n,e){const r=[Mt(n.chainId,"chainId"),Mt(n.nonce,"nonce"),Mt(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Mt(n.maxFeePerGas||0,"maxFeePerGas"),Mt(n.gasLimit,"gasLimit"),n.to||"0x",Mt(n.value,"value"),n.data,$x(n.accessList||[])];return e&&(r.push(Mt(e.yParity,"yParity")),r.push(Un(e.r)),r.push(Un(e.s))),Wn(["0x02",ca(r)])}function Wfe(n){const e=Mg(rt(n).slice(1));Se(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Je(n));const r={type:1,chainId:en(e[0],"chainId"),nonce:wu(e[1],"nonce"),gasPrice:en(e[2],"gasPrice"),gasLimit:en(e[3],"gasLimit"),to:th(e[4]),value:en(e[5],"value"),data:Je(e[6]),accessList:Fx(e[7],"accessList")};return e.length===8||Bx(r,e.slice(8)),r}function Hfe(n,e){const r=[Mt(n.chainId,"chainId"),Mt(n.nonce,"nonce"),Mt(n.gasPrice||0,"gasPrice"),Mt(n.gasLimit,"gasLimit"),n.to||"0x",Mt(n.value,"value"),n.data,$x(n.accessList||[])];return e&&(r.push(Mt(e.yParity,"recoveryParam")),r.push(Un(e.r)),r.push(Un(e.s))),Wn(["0x01",ca(r)])}function Gfe(n){let e=Mg(rt(n).slice(1)),r="3",i=null,s=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";const a=e[1],l=e[2],c=e[3];Se(Array.isArray(a),"invalid network format: blobs not an array","fields[1]",a),Se(Array.isArray(l),"invalid network format: commitments not an array","fields[2]",l),Se(Array.isArray(c),"invalid network format: proofs not an array","fields[3]",c),Se(a.length===l.length,"invalid network format: blobs/commitments length mismatch","fields",e),Se(a.length===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let u=0;u<e[1].length;u++)s.push({data:a[u],commitment:l[u],proof:c[u]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){r="3 (EIP-7594 network format)",i=Oi(e[1]);const a=e[2],l=e[3],c=e[4];Se(i===1,`unsupported EIP-7594 network format version: ${i}`,"fields[1]",i),Se(Array.isArray(a),"invalid EIP-7594 network format: blobs not an array","fields[2]",a),Se(Array.isArray(l),"invalid EIP-7594 network format: commitments not an array","fields[3]",l),Se(Array.isArray(c),"invalid EIP-7594 network format: proofs not an array","fields[4]",c),Se(a.length===l.length,"invalid network format: blobs/commitments length mismatch","fields",e),Se(a.length*dy===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let u=0;u<a.length;u++){const f=[];for(let d=0;d<dy;d++)f.push(c[u*dy+d]);s.push({data:a[u],commitment:l[u],proof:Wn(f)})}e=e[0]}Se(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",Je(n));const o={type:3,chainId:en(e[0],"chainId"),nonce:wu(e[1],"nonce"),maxPriorityFeePerGas:en(e[2],"maxPriorityFeePerGas"),maxFeePerGas:en(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:en(e[4],"gasLimit"),to:th(e[5]),value:en(e[6],"value"),data:Je(e[7]),accessList:Fx(e[8],"accessList"),maxFeePerBlobGas:en(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:i};s&&(o.blobs=s),Se(o.to!=null,`invalid address for transaction type: ${r}`,"data",n),Se(Array.isArray(o.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",n);for(let a=0;a<o.blobVersionedHashes.length;a++)Se(wo(o.blobVersionedHashes[a],32),`invalid blobVersionedHash at index ${a}: must be length 32`,"data",n);return e.length===11||Bx(o,e.slice(11)),o}function Yfe(n,e,r){const i=[Mt(n.chainId,"chainId"),Mt(n.nonce,"nonce"),Mt(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Mt(n.maxFeePerGas||0,"maxFeePerGas"),Mt(n.gasLimit,"gasLimit"),n.to||BK,Mt(n.value,"value"),n.data,$x(n.accessList||[]),Mt(n.maxFeePerBlobGas||0,"maxFeePerBlobGas"),$fe(n.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(i.push(Mt(e.yParity,"yParity")),i.push(Un(e.r)),i.push(Un(e.s)),r)){if(n.blobWrapperVersion!=null){const s=Un(n.blobWrapperVersion),o=[];for(const{proof:a}of r){const l=rt(a),c=l.length/dy;for(let u=0;u<l.length;u+=c)o.push(l.subarray(u,u+c))}return Wn(["0x03",ca([i,s,r.map(a=>a.data),r.map(a=>a.commitment),o])])}return Wn(["0x03",ca([i,r.map(s=>s.data),r.map(s=>s.commitment),r.map(s=>s.proof)])])}return Wn(["0x03",ca(i)])}function Vfe(n){const e=Mg(rt(n).slice(1));Se(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",Je(n));const r={type:4,chainId:en(e[0],"chainId"),nonce:wu(e[1],"nonce"),maxPriorityFeePerGas:en(e[2],"maxPriorityFeePerGas"),maxFeePerGas:en(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:en(e[4],"gasLimit"),to:th(e[5]),value:en(e[6],"value"),data:Je(e[7]),accessList:Fx(e[8],"accessList"),authorizationList:Lfe(e[9],"authorizationList")};return e.length===10||Bx(r,e.slice(10)),r}function Kfe(n,e){const r=[Mt(n.chainId,"chainId"),Mt(n.nonce,"nonce"),Mt(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Mt(n.maxFeePerGas||0,"maxFeePerGas"),Mt(n.gasLimit,"gasLimit"),n.to||"0x",Mt(n.value,"value"),n.data,$x(n.accessList||[]),Ffe(n.authorizationList||[])];return e&&(r.push(Mt(e.yParity,"yParity")),r.push(Un(e.r)),r.push(Un(e.s))),Wn(["0x04",ca(r)])}var Es,Kd,Xd,Qd,Zd,Jd,ef,tf,nf,rf,sf,of,jc,ul,co,dl,af,lf,cf,fy;const ro=class ro{constructor(){Xe(this,cf);Xe(this,Es);Xe(this,Kd);Xe(this,Xd);Xe(this,Qd);Xe(this,Zd);Xe(this,Jd);Xe(this,ef);Xe(this,tf);Xe(this,nf);Xe(this,rf);Xe(this,sf);Xe(this,of);Xe(this,jc);Xe(this,ul);Xe(this,co);Xe(this,dl);Xe(this,af);Xe(this,lf);Pe(this,Es,null),Pe(this,Kd,null),Pe(this,Qd,0),Pe(this,Zd,rr),Pe(this,Jd,null),Pe(this,ef,null),Pe(this,tf,null),Pe(this,Xd,"0x"),Pe(this,nf,rr),Pe(this,rf,rr),Pe(this,sf,null),Pe(this,of,null),Pe(this,jc,null),Pe(this,ul,null),Pe(this,co,null),Pe(this,dl,null),Pe(this,af,null),Pe(this,lf,null)}get type(){return oe(this,Es)}set type(e){switch(e){case null:Pe(this,Es,null);break;case 0:case"legacy":Pe(this,Es,0);break;case 1:case"berlin":case"eip-2930":Pe(this,Es,1);break;case 2:case"london":case"eip-1559":Pe(this,Es,2);break;case 3:case"cancun":case"eip-4844":Pe(this,Es,3);break;case 4:case"pectra":case"eip-7702":Pe(this,Es,4);break;default:Se(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=oe(this,Kd);return e==null&&this.type===3?BK:e}set to(e){Pe(this,Kd,e==null?null:ps(e))}get nonce(){return oe(this,Qd)}set nonce(e){Pe(this,Qd,Oi(e,"value"))}get gasLimit(){return oe(this,Zd)}set gasLimit(e){Pe(this,Zd,an(e))}get gasPrice(){const e=oe(this,Jd);return e==null&&(this.type===0||this.type===1)?rr:e}set gasPrice(e){Pe(this,Jd,e==null?null:an(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=oe(this,ef);return e??(this.type===2||this.type===3?rr:null)}set maxPriorityFeePerGas(e){Pe(this,ef,e==null?null:an(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=oe(this,tf);return e??(this.type===2||this.type===3?rr:null)}set maxFeePerGas(e){Pe(this,tf,e==null?null:an(e,"maxFeePerGas"))}get data(){return oe(this,Xd)}set data(e){Pe(this,Xd,Je(e))}get value(){return oe(this,nf)}set value(e){Pe(this,nf,an(e,"value"))}get chainId(){return oe(this,rf)}set chainId(e){Pe(this,rf,an(e))}get signature(){return oe(this,sf)||null}set signature(e){Pe(this,sf,e==null?null:$s.from(e))}isValid(){const e=this.signature;if(e&&!e.isValid())return!1;const r=this.authorizationList;if(r){for(const i of r)if(!i.signature.isValid())return!1}return!0}get accessList(){const e=oe(this,of)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){Pe(this,of,e==null?null:Lx(e))}get authorizationList(){const e=oe(this,af)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){Pe(this,af,e==null?null:e.map(r=>Dfe(r)))}get maxFeePerBlobGas(){const e=oe(this,jc);return e==null&&this.type===3?rr:e}set maxFeePerBlobGas(e){Pe(this,jc,e==null?null:an(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=oe(this,ul);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){Se(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)Se(wo(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}Pe(this,ul,e)}get blobs(){return oe(this,dl)==null?null:oe(this,dl).map(e=>Object.assign({},e))}set blobs(e){if(e==null){Pe(this,dl,null);return}const r=[],i=[];for(let s=0;s<e.length;s++){const o=e[s];if(Ox(o)){Ft(oe(this,co),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let a=rt(o);if(Se(a.length<=K1,"blob is too large",`blobs[${s}]`,o),a.length!==K1){const u=new Uint8Array(K1);u.set(a),a=u}const l=oe(this,co).blobToKzgCommitment(a),c=Je(oe(this,co).computeBlobKzgProof(a,l));r.push({data:Je(a),commitment:Je(l),proof:c}),i.push(K5(1,l))}else{const a=Je(o.data),l=Je(o.commitment),c=Je(o.proof);r.push({data:a,commitment:l,proof:c}),i.push(K5(1,l))}}Pe(this,dl,r),Pe(this,ul,i)}get kzg(){return oe(this,co)}set kzg(e){e==null?Pe(this,co,null):Pe(this,co,jfe(e))}get blobWrapperVersion(){return oe(this,lf)}set blobWrapperVersion(e){Pe(this,lf,e)}get hash(){return this.signature==null?null:sr(It(this,cf,fy).call(this,!0,!1))}get unsignedHash(){return sr(this.unsignedSerialized)}get from(){return this.signature==null?null:Pfe(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:yo.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}get serialized(){return It(this,cf,fy).call(this,!0,!0)}get unsignedSerialized(){return It(this,cf,fy).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,i=this.accessList!=null,s=oe(this,jc)!=null||oe(this,ul);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Ft(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Ft(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Ft(this.type!==0||!i,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const o=[];return this.type!=null?o.push(this.type):this.authorizationList&&this.authorizationList.length?o.push(4):r?o.push(2):e?(o.push(1),i||o.push(0)):i?(o.push(1),o.push(2)):(s&&this.to||(o.push(0),o.push(1),o.push(2)),o.push(3)),o.sort(),o}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return ro.from(this)}toJSON(){const e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[Nfe](){return this.toString()}toString(){const e=[],r=s=>{let o=this[s];typeof o=="string"&&(o=JSON.stringify(o)),e.push(`${s}: ${o}`)};this.type&&r("type"),r("to"),r("data"),r("nonce"),r("gasLimit"),r("value"),this.chainId!=null&&r("chainId"),this.signature&&(r("from"),e.push(`signature: ${this.signature.toString()}`));const i=this.authorizationList;if(i){const s=[];for(const o of i){const a=[];a.push(`address: ${JSON.stringify(o.address)}`),o.nonce!=null&&a.push(`nonce: ${o.nonce}`),o.chainId!=null&&a.push(`chainId: ${o.chainId}`),o.signature&&a.push(`signature: ${o.signature.toString()}`),s.push(`Authorization { ${a.join(", ")} }`)}e.push(`authorizations: [ ${s.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new ro;if(typeof e=="string"){const i=rt(e);if(i[0]>=127)return ro.from(Bfe(i));switch(i[0]){case 1:return ro.from(Wfe(i));case 2:return ro.from(Ufe(i));case 3:return ro.from(Gfe(i));case 4:return ro.from(Vfe(i))}Ft(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const r=new ro;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=$s.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.authorizationList!=null&&(r.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobWrapperVersion!=null&&(r.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(Se(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),Se(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(Se(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),Se(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};Es=new WeakMap,Kd=new WeakMap,Xd=new WeakMap,Qd=new WeakMap,Zd=new WeakMap,Jd=new WeakMap,ef=new WeakMap,tf=new WeakMap,nf=new WeakMap,rf=new WeakMap,sf=new WeakMap,of=new WeakMap,jc=new WeakMap,ul=new WeakMap,co=new WeakMap,dl=new WeakMap,af=new WeakMap,lf=new WeakMap,cf=new WeakSet,fy=function(e,r){Ft(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const i=e?this.signature:null;switch(this.inferType()){case 0:return zfe(this,i);case 1:return Hfe(this,i);case 2:return qfe(this,i);case 3:return Yfe(this,i,r?this.blobs:null);case 4:return Kfe(this,i)}Ft(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let cv=ro;function Xfe(n){return Se(typeof n.address=="string","invalid address for hashAuthorization","auth.address",n),sr(Wn(["0x05",ca([n.chainId!=null?Un(n.chainId):"0x",ps(n.address),n.nonce!=null?Un(n.nonce):"0x"])]))}function MM(n){return sr(Uc(n))}function Qfe(n){return typeof n=="string"&&(n=Uc(n)),sr(Wn([Uc(vfe),Uc(String(n.length)),n]))}const UK=new Uint8Array(32);UK.fill(0);const Zfe=BigInt(-1),qK=BigInt(0),WK=BigInt(1),Jfe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function ehe(n){const e=rt(n),r=e.length%32;return r?Wn([e,UK.slice(r)]):Je(e)}const the=Cf(WK,32),nhe=Cf(qK,32),X5={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},X1=["name","version","chainId","verifyingContract","salt"];function Q5(n){return function(e){return Se(typeof e=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const rhe={name:Q5("name"),version:Q5("version"),chainId:function(n){const e=an(n,"domain.chainId");return Se(e>=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(e)?Number(e):Oue(e)},verifyingContract:function(n){try{return ps(n).toLowerCase()}catch{}Se(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const e=rt(n,"domain.salt");return Se(e.length===32,'invalid domain value "salt"',"domain.salt",n),Je(e)}};function Q1(n){{const e=n.match(/^(u?)int(\d+)$/);if(e){const r=e[1]==="",i=parseInt(e[2]);Se(i%8===0&&i!==0&&i<=256&&e[2]===String(i),"invalid numeric width","type",n);const s=Iue(Jfe,r?i-1:i),o=r?(s+WK)*Zfe:qK;return function(a){const l=an(a,"value");return Se(l>=o&&l<=s,`value out-of-bounds for ${n}`,"value",l),Cf(r?Pue(l,256):l,32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return Se(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",n),function(i){const s=rt(i);return Se(s.length===r,`invalid length for ${n}`,"value",i),ehe(i)}}}switch(n){case"address":return function(e){return Al(ps(e),32)};case"bool":return function(e){return e?the:nhe};case"bytes":return function(e){return sr(e)};case"string":return function(e){return MM(e)}}return null}function Z5(n,e){return`${n}(${e.map(({name:r,type:i})=>i+" "+r).join(",")})`}function lb(n){const e=n.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:n}}var wg,ea,uf,ox,HK;const Xi=class Xi{constructor(e){Xe(this,ox);Te(this,"primaryType");Xe(this,wg);Xe(this,ea);Xe(this,uf);Pe(this,ea,new Map),Pe(this,uf,new Map);const r=new Map,i=new Map,s=new Map,o={};Object.keys(e).forEach(c=>{o[c]=e[c].map(({name:u,type:f})=>{let{base:d,index:h}=lb(f);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:u,type:d+(h||"")}}),r.set(c,new Set),i.set(c,[]),s.set(c,new Set)}),Pe(this,wg,JSON.stringify(o));for(const c in o){const u=new Set;for(const f of o[c]){Se(!u.has(f.name),`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(c)}`,"types",e),u.add(f.name);const d=lb(f.type).base;Se(d!==c,`circular type reference to ${JSON.stringify(d)}`,"types",e),!Q1(d)&&(Se(i.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),i.get(d).push(c),r.get(c).add(d))}}const a=Array.from(i.keys()).filter(c=>i.get(c).length===0);Se(a.length!==0,"missing primary type","types",e),Se(a.length===1,`ambiguous primary types or unused types: ${a.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Ii(this,{primaryType:a[0]});function l(c,u){Se(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),u.add(c);for(const f of r.get(c))if(i.has(f)){l(f,u);for(const d of u)s.get(d).add(f)}u.delete(c)}l(this.primaryType,new Set);for(const[c,u]of s){const f=Array.from(u);f.sort(),oe(this,ea).set(c,Z5(c,o[c])+f.map(d=>Z5(d,o[d])).join(""))}}get types(){return JSON.parse(oe(this,wg))}getEncoder(e){let r=oe(this,uf).get(e);return r||(r=It(this,ox,HK).call(this,e),oe(this,uf).set(e,r)),r}encodeType(e){const r=oe(this,ea).get(e);return Se(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return sr(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,i){if(Q1(e))return i(e,r);const s=lb(e).array;if(s)return Se(s.count===-1||s.count===r.length,`array length mismatch; expected length ${s.count}`,"value",r),r.map(a=>this._visit(s.prefix,a,i));const o=this.types[e];if(o)return o.reduce((a,{name:l,type:c})=>(a[l]=this._visit(c,r[l],i),a),{});Se(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Xi(e)}static getPrimaryType(e){return Xi.from(e).primaryType}static hashStruct(e,r,i){return Xi.from(r).hashStruct(e,i)}static hashDomain(e){const r=[];for(const i in e){if(e[i]==null)continue;const s=X5[i];Se(s,`invalid typed-data domain key: ${JSON.stringify(i)}`,"domain",e),r.push({name:i,type:s})}return r.sort((i,s)=>X1.indexOf(i.name)-X1.indexOf(s.name)),Xi.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,i){return Wn(["0x1901",Xi.hashDomain(e),Xi.from(r).hash(i)])}static hash(e,r,i){return sr(Xi.encode(e,r,i))}static async resolveNames(e,r,i,s){e=Object.assign({},e);for(const l in e)e[l]==null&&delete e[l];const o={};e.verifyingContract&&!wo(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const a=Xi.from(r);a.visit(i,(l,c)=>(l==="address"&&!wo(c,20)&&(o[c]="0x"),c));for(const l in o)o[l]=await s(l);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),i=a.visit(i,(l,c)=>l==="address"&&o[c]?o[c]:c),{domain:e,value:i}}static getPayload(e,r,i){Xi.hashDomain(e);const s={},o=[];X1.forEach(c=>{const u=e[c];u!=null&&(s[c]=rhe[c](u),o.push({name:c,type:X5[c]}))});const a=Xi.from(r);r=a.types;const l=Object.assign({},r);return Se(l.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),l.EIP712Domain=o,a.encode(i),{types:l,domain:s,primaryType:a.primaryType,message:a.visit(i,(c,u)=>{if(c.match(/^bytes(\d*)/))return Je(rt(u));if(c.match(/^u?int/))return an(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return Se(typeof u=="string","invalid string","value",u),u}Se(!1,"unsupported type","type",c)})}}};wg=new WeakMap,ea=new WeakMap,uf=new WeakMap,ox=new WeakSet,HK=function(e){{const s=Q1(e);if(s)return s}const r=lb(e).array;if(r){const s=r.prefix,o=this.getEncoder(s);return a=>{Se(r.count===-1||r.count===a.length,`array length mismatch; expected length ${r.count}`,"value",a);let l=a.map(o);return oe(this,ea).has(s)&&(l=l.map(sr)),sr(Wn(l))}}const i=this.types[e];if(i){const s=MM(oe(this,ea).get(e));return o=>{const a=i.map(({name:l,type:c})=>{const u=this.getEncoder(c)(o[l]);return oe(this,ea).has(c)?sr(u):u});return a.unshift(s),Wn(a)}}Se(!1,`unknown type: ${e}`,"type",e)};let uv=Xi;BigInt(0);function GK(n){const e={};n.to&&(e.to=n.to),n.from&&(e.from=n.from),n.data&&(e.data=Je(n.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of r)!(s in n)||n[s]==null||(e[s]=an(n[s],`request.${s}`));const i="type,nonce".split(/,/);for(const s of i)!(s in n)||n[s]==null||(e[s]=Oi(n[s],`request.${s}`));return n.accessList&&(e.accessList=Lx(n.accessList)),n.authorizationList&&(e.authorizationList=n.authorizationList.slice()),"blockTag"in n&&(e.blockTag=n.blockTag),"enableCcipRead"in n&&(e.enableCcipRead=!!n.enableCcipRead),"customData"in n&&(e.customData=n.customData),"blobVersionedHashes"in n&&n.blobVersionedHashes&&(e.blobVersionedHashes=n.blobVersionedHashes.slice()),"kzg"in n&&(e.kzg=n.kzg),"blobWrapperVersion"in n&&(e.blobWrapperVersion=n.blobWrapperVersion),"blobs"in n&&n.blobs&&(e.blobs=n.blobs.map(s=>Ox(s)?Je(s):Object.assign({},s))),e}function ec(n,e){if(n.provider)return n.provider;Ft(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function J5(n,e){let r=GK(e);if(r.to!=null&&(r.to=Yp(r.to,n)),r.from!=null){const i=r.from;r.from=Promise.all([n.getAddress(),Yp(i,n)]).then(([s,o])=>(Se(s.toLowerCase()===o.toLowerCase(),"transaction from mismatch","tx.from",o),s))}else r.from=n.getAddress();return await gM(r)}class YK{constructor(e){Te(this,"provider");Ii(this,{provider:e||null})}async getNonce(e){return ec(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await J5(this,e)}async populateTransaction(e){const r=ec(this,"populateTransaction"),i=await J5(this,e);i.nonce==null&&(i.nonce=await this.getNonce("pending")),i.gasLimit==null&&(i.gasLimit=await this.estimateGas(i));const s=await this.provider.getNetwork();if(i.chainId!=null){const a=an(i.chainId);Se(a===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else i.chainId=s.chainId;const o=i.maxFeePerGas!=null||i.maxPriorityFeePerGas!=null;if(i.gasPrice!=null&&(i.type===2||o)?Se(!1,"eip-1559 transaction do not support gasPrice","tx",e):(i.type===0||i.type===1)&&o&&Se(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(i.type===2||i.type==null)&&i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)i.type=2;else if(i.type===0||i.type===1){const a=await r.getFeeData();Ft(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),i.gasPrice==null&&(i.gasPrice=a.gasPrice)}else{const a=await r.getFeeData();if(i.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(i.authorizationList&&i.authorizationList.length?i.type=4:i.type=2,i.gasPrice!=null){const l=i.gasPrice;delete i.gasPrice,i.maxFeePerGas=l,i.maxPriorityFeePerGas=l}else i.maxFeePerGas==null&&(i.maxFeePerGas=a.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?(Ft(!o,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),i.gasPrice==null&&(i.gasPrice=a.gasPrice),i.type=0):Ft(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(i.type===2||i.type===3||i.type===4)&&(i.maxFeePerGas==null&&(i.maxFeePerGas=a.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await gM(i)}async populateAuthorization(e){const r=Object.assign({},e);return r.chainId==null&&(r.chainId=(await ec(this,"getNetwork").getNetwork()).chainId),r.nonce==null&&(r.nonce=await this.getNonce()),r}async estimateGas(e){return ec(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return ec(this,"call").call(await this.populateCall(e))}async resolveName(e){return await ec(this,"resolveName").resolveName(e)}async sendTransaction(e){const r=ec(this,"sendTransaction"),i=await this.populateTransaction(e);delete i.from;const s=cv.from(i);return await r.broadcastTransaction(await this.signTransaction(s))}authorize(e){Ft(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var df,hy;const ZR=class ZR extends YK{constructor(r,i){super(i);Xe(this,df);Te(this,"address");Ii(this,{address:r})}async getAddress(){return this.address}connect(r){return new ZR(this.address,r)}async signTransaction(r){It(this,df,hy).call(this,"transactions","signTransaction")}async signMessage(r){It(this,df,hy).call(this,"messages","signMessage")}async signTypedData(r,i,s){It(this,df,hy).call(this,"typed-data","signTypedData")}};df=new WeakSet,hy=function(r,i){Ft(!1,`VoidSigner cannot sign ${r}`,"UNSUPPORTED_OPERATION",{operation:i})};let RP=ZR;var ff;const JR=class JR extends YK{constructor(r,i){super(i);Te(this,"address");Xe(this,ff);Se(r&&typeof r.sign=="function","invalid private key","privateKey","[ REDACTED ]"),Pe(this,ff,r);const s=Lg(this.signingKey.publicKey);Ii(this,{address:s})}get signingKey(){return oe(this,ff)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(r){return new JR(oe(this,ff),r)}async signTransaction(r){r=GK(r);const{to:i,from:s}=await gM({to:r.to?Yp(r.to,this):void 0,from:r.from?Yp(r.from,this):void 0});i!=null&&(r.to=i),s!=null&&(r.from=s),r.from!=null&&(Se(ps(r.from)===this.address,"transaction from address mismatch","tx.from",r.from),delete r.from);const o=cv.from(r);return o.signature=this.signingKey.sign(o.unsignedHash),o.serialized}async signMessage(r){return this.signMessageSync(r)}signMessageSync(r){return this.signingKey.sign(Qfe(r)).serialized}authorizeSync(r){Se(typeof r.address=="string","invalid address for authorizeSync","auth.address",r);const i=this.signingKey.sign(Xfe(r));return Object.assign({},{address:ps(r.address),nonce:an(r.nonce||0),chainId:an(r.chainId||0)},{signature:i})}async authorize(r){return r=Object.assign({},r,{address:await Yp(r.address,this)}),this.authorizeSync(await this.populateAuthorization(r))}async signTypedData(r,i,s){const o=await uv.resolveNames(r,i,s,async a=>{Ft(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:a}});const l=await this.provider.resolveName(a);return Ft(l!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:a}),l});return this.signingKey.sign(uv.hash(o.domain,i,o.value)).serialized}};ff=new WeakMap;let NP=JR;const dv=" !#$%&'()*+,-./<=>?@[]^_`{|}~",ihe=/^[a-z]*$/i;function e4(n,e){let r=97;return n.reduce((i,s)=>(s===e?r++:s.match(ihe)?i.push(String.fromCharCode(r)+s):(r=97,i.push(s)),i),[])}function she(n,e){for(let s=dv.length-1;s>=0;s--)n=n.split(dv[s]).join(e.substring(2*s,2*s+2));const r=[],i=n.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(s,o,a,l)=>{if(a)for(let c=parseInt(a);c>=0;c--)r.push(";");else r.push(o.toLowerCase());return""});if(i)throw new Error(`leftovers: ${JSON.stringify(i)}`);return e4(e4(r,";"),":")}function ohe(n){return Se(n[0]==="0","unsupported auwl data","data",n),she(n.substring(1+2*dv.length),n.substring(1,1+2*dv.length))}class ahe{constructor(e){Te(this,"locale");Ii(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}var hf,_g,Lc,Sg,jP;class lhe extends ahe{constructor(r,i,s){super(r);Xe(this,Sg);Xe(this,hf);Xe(this,_g);Xe(this,Lc);Pe(this,hf,i),Pe(this,_g,s),Pe(this,Lc,null)}get _data(){return oe(this,hf)}_decodeWords(){return ohe(oe(this,hf))}getWord(r){const i=It(this,Sg,jP).call(this);return Se(r>=0&&r<i.length,`invalid word index: ${r}`,"index",r),i[r]}getWordIndex(r){return It(this,Sg,jP).call(this).indexOf(r)}}hf=new WeakMap,_g=new WeakMap,Lc=new WeakMap,Sg=new WeakSet,jP=function(){if(oe(this,Lc)==null){const r=this._decodeWords();if(MM(r.join(`
`)+`
`)!==oe(this,_g))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);Pe(this,Lc,r)}return oe(this,Lc)};const che="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",uhe="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let Z1=null;class iu extends lhe{constructor(){super("en",che,uhe)}static wordlist(){return Z1==null&&(Z1=new iu),Z1}}function VK(n){return(1<<n)-1<<8-n&255}function dhe(n){return(1<<n)-1&255}function J1(n,e){$V("NFKD"),e==null&&(e=iu.wordlist());const r=e.split(n);Se(r.length%3===0&&r.length>=12&&r.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const i=new Uint8Array(Math.ceil(11*r.length/8));let s=0;for(let u=0;u<r.length;u++){let f=e.getWordIndex(r[u].normalize("NFKD"));Se(f>=0,`invalid mnemonic word at index ${u}`,"mnemonic","[ REDACTED ]");for(let d=0;d<11;d++)f&1<<10-d&&(i[s>>3]|=1<<7-s%8),s++}const o=32*r.length/3,a=r.length/3,l=VK(a),c=rt(hs(i.slice(0,o/8)))[0]&l;return Se(c===(i[i.length-1]&l),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),Je(i.slice(0,o/8))}function e_(n,e){Se(n.length%4===0&&n.length>=16&&n.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=iu.wordlist());const r=[0];let i=11;for(let a=0;a<n.length;a++)i>8?(r[r.length-1]<<=8,r[r.length-1]|=n[a],i-=8):(r[r.length-1]<<=i,r[r.length-1]|=n[a]>>8-i,r.push(n[a]&dhe(8-i)),i+=3);const s=n.length/4,o=parseInt(hs(n).substring(2,4),16)&VK(s);return r[r.length-1]<<=s,r[r.length-1]|=o>>8-s,e.join(r.map(a=>e.getWord(a)))}const t_={};class Gm{constructor(e,r,i,s,o){Te(this,"phrase");Te(this,"password");Te(this,"wordlist");Te(this,"entropy");s==null&&(s=""),o==null&&(o=iu.wordlist()),Ix(e,t_,"Mnemonic"),Ii(this,{phrase:i,password:s,wordlist:o,entropy:r})}computeSeed(){const e=Uc("mnemonic"+this.password,"NFKD");return Ag(Uc(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,r,i){const s=J1(e,i);return e=e_(rt(s),i),new Gm(t_,s,e,r,i)}static fromEntropy(e,r,i){const s=rt(e,"entropy"),o=e_(s,i);return new Gm(t_,Je(s),o,r,i)}static entropyToPhrase(e,r){const i=rt(e,"entropy");return e_(i,r)}static phraseToEntropy(e,r){return J1(e,r)}static isValidMnemonic(e,r){try{return J1(e,r),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var dr=function(n,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(n):i?i.value:e.get(n)},n_=function(n,e,r,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(n,r):s?s.value=r:e.set(n,r),r},py,Hi,Zs;const fhe={16:10,24:12,32:14},hhe=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],zi=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],cb=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],phe=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],mhe=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],ghe=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],bhe=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],yhe=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],vhe=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],xhe=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],whe=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],_he=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],She=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],khe=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],Che=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function r_(n){const e=[];for(let r=0;r<n.length;r+=4)e.push(n[r]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]);return e}class AM{get key(){return dr(this,py,"f").slice()}constructor(e){if(py.set(this,void 0),Hi.set(this,void 0),Zs.set(this,void 0),!(this instanceof AM))throw Error("AES must be instanitated with `new`");n_(this,py,new Uint8Array(e),"f");const r=fhe[this.key.length];if(r==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");n_(this,Zs,[],"f"),n_(this,Hi,[],"f");for(let f=0;f<=r;f++)dr(this,Zs,"f").push([0,0,0,0]),dr(this,Hi,"f").push([0,0,0,0]);const i=(r+1)*4,s=this.key.length/4,o=r_(this.key);let a;for(let f=0;f<s;f++)a=f>>2,dr(this,Zs,"f")[a][f%4]=o[f],dr(this,Hi,"f")[r-a][f%4]=o[f];let l=0,c=s,u;for(;c<i;){if(u=o[s-1],o[0]^=zi[u>>16&255]<<24^zi[u>>8&255]<<16^zi[u&255]<<8^zi[u>>24&255]^hhe[l]<<24,l+=1,s!=8)for(let p=1;p<s;p++)o[p]^=o[p-1];else{for(let p=1;p<s/2;p++)o[p]^=o[p-1];u=o[s/2-1],o[s/2]^=zi[u&255]^zi[u>>8&255]<<8^zi[u>>16&255]<<16^zi[u>>24&255]<<24;for(let p=s/2+1;p<s;p++)o[p]^=o[p-1]}let f=0,d,h;for(;f<s&&c<i;)d=c>>2,h=c%4,dr(this,Zs,"f")[d][h]=o[f],dr(this,Hi,"f")[r-d][h]=o[f++],c++}for(let f=1;f<r;f++)for(let d=0;d<4;d++)u=dr(this,Hi,"f")[f][d],dr(this,Hi,"f")[f][d]=_he[u>>24&255]^She[u>>16&255]^khe[u>>8&255]^Che[u&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const r=dr(this,Zs,"f").length-1,i=[0,0,0,0];let s=r_(e);for(let l=0;l<4;l++)s[l]^=dr(this,Zs,"f")[0][l];for(let l=1;l<r;l++){for(let c=0;c<4;c++)i[c]=phe[s[c]>>24&255]^mhe[s[(c+1)%4]>>16&255]^ghe[s[(c+2)%4]>>8&255]^bhe[s[(c+3)%4]&255]^dr(this,Zs,"f")[l][c];s=i.slice()}const o=new Uint8Array(16);let a=0;for(let l=0;l<4;l++)a=dr(this,Zs,"f")[r][l],o[4*l]=(zi[s[l]>>24&255]^a>>24)&255,o[4*l+1]=(zi[s[(l+1)%4]>>16&255]^a>>16)&255,o[4*l+2]=(zi[s[(l+2)%4]>>8&255]^a>>8)&255,o[4*l+3]=(zi[s[(l+3)%4]&255]^a)&255;return o}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const r=dr(this,Hi,"f").length-1,i=[0,0,0,0];let s=r_(e);for(let l=0;l<4;l++)s[l]^=dr(this,Hi,"f")[0][l];for(let l=1;l<r;l++){for(let c=0;c<4;c++)i[c]=yhe[s[c]>>24&255]^vhe[s[(c+3)%4]>>16&255]^xhe[s[(c+2)%4]>>8&255]^whe[s[(c+1)%4]&255]^dr(this,Hi,"f")[l][c];s=i.slice()}const o=new Uint8Array(16);let a=0;for(let l=0;l<4;l++)a=dr(this,Hi,"f")[r][l],o[4*l]=(cb[s[l]>>24&255]^a>>24)&255,o[4*l+1]=(cb[s[(l+3)%4]>>16&255]^a>>16)&255,o[4*l+2]=(cb[s[(l+2)%4]>>8&255]^a>>8)&255,o[4*l+3]=(cb[s[(l+1)%4]&255]^a)&255;return o}}py=new WeakMap,Hi=new WeakMap,Zs=new WeakMap;class The{constructor(e,r,i){if(i&&!(this instanceof i))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new AM(r)},name:{enumerable:!0,value:e}})}}var Wu=function(n,e,r,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(n,r):s?s.value=r:e.set(n,r),r},Ui=function(n,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(n):i?i.value:e.get(n)},wp,lc,Gi;class fv extends The{constructor(e,r){super("CTR",e,fv),wp.set(this,void 0),lc.set(this,void 0),Gi.set(this,void 0),Wu(this,Gi,new Uint8Array(16),"f"),Ui(this,Gi,"f").fill(0),Wu(this,wp,Ui(this,Gi,"f"),"f"),Wu(this,lc,16,"f"),r==null&&(r=1),typeof r=="number"?this.setCounterValue(r):this.setCounterBytes(r)}get counter(){return new Uint8Array(Ui(this,Gi,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let r=15;r>=0;--r)Ui(this,Gi,"f")[r]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");Ui(this,Gi,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(Ui(this,Gi,"f")[e]===255)Ui(this,Gi,"f")[e]=0;else{Ui(this,Gi,"f")[e]++;break}}encrypt(e){var r,i;const s=new Uint8Array(e);for(let o=0;o<s.length;o++)Ui(this,lc,"f")===16&&(Wu(this,wp,this.aes.encrypt(Ui(this,Gi,"f")),"f"),Wu(this,lc,0,"f"),this.increment()),s[o]^=Ui(this,wp,"f")[Wu(this,lc,(i=Ui(this,lc,"f"),r=i++,i),"f"),r];return s}decrypt(e){return this.encrypt(e)}}wp=new WeakMap,lc=new WeakMap,Gi=new WeakMap;function Uh(n,e){for(n=String(n);n.length<e;)n="0"+n;return n}function KK(n){return typeof n=="string"?Uc(n,"NFKC"):nd(n)}const Ehe="m/44'/60'/0'/0/0";function XK(n){const e=n.salt!=null?rt(n.salt,"options.salt"):ua(32);let r=1<<17,i=8,s=1;return n.scrypt&&(n.scrypt.N&&(r=n.scrypt.N),n.scrypt.r&&(i=n.scrypt.r),n.scrypt.p&&(s=n.scrypt.p)),Se(typeof r=="number"&&r>0&&Number.isSafeInteger(r)&&(BigInt(r)&BigInt(r-1))===BigInt(0),"invalid scrypt N parameter","options.N",r),Se(typeof i=="number"&&i>0&&Number.isSafeInteger(i),"invalid scrypt r parameter","options.r",i),Se(typeof s=="number"&&s>0&&Number.isSafeInteger(s),"invalid scrypt p parameter","options.p",s),{name:"scrypt",dkLen:32,salt:e,N:r,r:i,p:s}}function QK(n,e,r,i){const s=rt(r.privateKey,"privateKey"),o=i.iv!=null?rt(i.iv,"options.iv"):ua(16);Se(o.length===16,"invalid options.iv length","options.iv",i.iv);const a=i.uuid!=null?rt(i.uuid,"options.uuid"):ua(16);Se(a.length===16,"invalid options.uuid length","options.uuid",i.iv);const l=n.slice(0,16),c=n.slice(16,32),u=new fv(l,o),f=rt(u.encrypt(s)),d=sr(Wn([c,f])),h={address:r.address.substring(2).toLowerCase(),id:Lue(a),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Je(o).substring(2)},ciphertext:Je(f).substring(2),kdf:"scrypt",kdfparams:{salt:Je(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:d.substring(2)}};if(r.mnemonic){const p=i.client!=null?i.client:`ethers/${FV}`,g=r.mnemonic.path||Ehe,v=r.mnemonic.locale||"en",y=n.slice(32,64),b=rt(r.mnemonic.entropy,"account.mnemonic.entropy"),w=ua(16),k=new fv(y,w),_=rt(k.encrypt(b)),S=new Date,T="UTC--"+(S.getUTCFullYear()+"-"+Uh(S.getUTCMonth()+1,2)+"-"+Uh(S.getUTCDate(),2)+"T"+Uh(S.getUTCHours(),2)+"-"+Uh(S.getUTCMinutes(),2)+"-"+Uh(S.getUTCSeconds(),2)+".0Z")+"--"+h.address;h["x-ethers"]={client:p,gethFilename:T,path:g,locale:v,mnemonicCounter:Je(w).substring(2),mnemonicCiphertext:Je(_).substring(2),version:"0.1"}}return JSON.stringify(h)}function Dhe(n,e,r){r==null&&(r={});const i=KK(e),s=XK(r),o=Ng(i,s.salt,s.N,s.r,s.p,64);return QK(rt(o),s,n,r)}async function Phe(n,e,r){r==null&&(r={});const i=KK(e),s=XK(r),o=await Rg(i,s.salt,s.N,s.r,s.p,64,r.progressCallback);return QK(rt(o),s,n,r)}const i_="m/44'/60'/0'/0/0",Ihe=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Tl=2147483648,Ohe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Mhe="0123456789abcdef";function hv(n,e){let r="";for(;n;)r=Mhe[n%16]+r,n=Math.trunc(n/16);for(;r.length<e*2;)r="0"+r;return"0x"+r}function LP(n){const e=rt(n),r=bM(hs(hs(e)),0,4),i=Wn([e,r]);return Rue(i)}const io={};function ZK(n,e,r,i){const s=new Uint8Array(37);n&Tl?(Ft(i!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),s.set(rt(i),1)):s.set(rt(r));for(let a=24;a>=0;a-=8)s[33+(a>>3)]=n>>24-a&255;const o=rt(Jf("sha512",e,s));return{IL:o.slice(0,32),IR:o.slice(32)}}function JK(n,e){const r=e.split("/");Se(r.length>0,"invalid path","path",e),r[0]==="m"&&(Se(n.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${n.depth}`,"path",e),r.shift());let i=n;for(let s=0;s<r.length;s++){const o=r[s];if(o.match(/^[0-9]+'$/)){const a=parseInt(o.substring(0,o.length-1));Se(a<Tl,"invalid path index",`path[${s}]`,o),i=i.deriveChild(Tl+a)}else if(o.match(/^[0-9]+$/)){const a=parseInt(o);Se(a<Tl,"invalid path index",`path[${s}]`,o),i=i.deriveChild(a)}else Se(!1,"invalid path component",`path[${s}]`,o)}return i}var kg,FP,Fc,_p;const _s=class _s extends NP{constructor(r,i,s,o,a,l,c,u,f){super(i,f);Xe(this,kg);Te(this,"publicKey");Te(this,"fingerprint");Te(this,"parentFingerprint");Te(this,"mnemonic");Te(this,"chainCode");Te(this,"path");Te(this,"index");Te(this,"depth");Ix(r,io,"HDNodeWallet"),Ii(this,{publicKey:i.compressedPublicKey});const d=bM(eh(hs(this.publicKey)),0,4);Ii(this,{parentFingerprint:s,fingerprint:d,chainCode:o,path:a,index:l,depth:c}),Ii(this,{mnemonic:u})}connect(r){return new _s(io,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,r)}async encrypt(r,i){return await Phe(It(this,kg,FP).call(this),r,{progressCallback:i})}encryptSync(r){return Dhe(It(this,kg,FP).call(this),r)}get extendedKey(){return Ft(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),LP(Wn(["0x0488ADE4",hv(this.depth,1),this.parentFingerprint,hv(this.index,4),this.chainCode,Wn(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new Ym(io,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(r){const i=Oi(r,"index");Se(i<=4294967295,"invalid index","index",i);let s=this.path;s&&(s+="/"+(i&~Tl),i&Tl&&(s+="'"));const{IR:o,IL:a}=ZK(i,this.chainCode,this.publicKey,this.privateKey),l=new yo(Cf((zV(a)+BigInt(this.privateKey))%Ohe,32));return new _s(io,l,this.fingerprint,Je(o),s,i,this.depth+1,this.mnemonic,this.provider)}derivePath(r){return JK(this,r)}static fromExtendedKey(r){const i=Un(Nue(r));Se(i.length===82||LP(i.slice(0,78))===r,"invalid extended key","extendedKey","[ REDACTED ]");const s=i[4],o=Je(i.slice(5,9)),a=parseInt(Je(i.slice(9,13)).substring(2),16),l=Je(i.slice(13,45)),c=i.slice(45,78);switch(Je(i.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const u=Je(c);return new Ym(io,Lg(u),u,o,l,null,a,s,null)}case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new _s(io,new yo(c.slice(1)),o,l,null,a,s,null,null)}Se(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(r,i,s){var a;r==null&&(r=""),i==null&&(i=i_),s==null&&(s=iu.wordlist());const o=Gm.fromEntropy(ua(16),r,s);return It(a=_s,Fc,_p).call(a,o.computeSeed(),o).derivePath(i)}static fromMnemonic(r,i){var s;return i||(i=i_),It(s=_s,Fc,_p).call(s,r.computeSeed(),r).derivePath(i)}static fromPhrase(r,i,s,o){var l;i==null&&(i=""),s==null&&(s=i_),o==null&&(o=iu.wordlist());const a=Gm.fromPhrase(r,i,o);return It(l=_s,Fc,_p).call(l,a.computeSeed(),a).derivePath(s)}static fromSeed(r){var i;return It(i=_s,Fc,_p).call(i,r,null)}};kg=new WeakSet,FP=function(){const r={address:this.address,privateKey:this.privateKey},i=this.mnemonic;return this.path&&i&&i.wordlist.locale==="en"&&i.password===""&&(r.mnemonic={path:this.path,locale:"en",entropy:i.entropy}),r},Fc=new WeakSet,_p=function(r,i){Se(Ox(r),"invalid seed","seed","[REDACTED]");const s=rt(r,"seed");Se(s.length>=16&&s.length<=64,"invalid seed","seed","[REDACTED]");const o=rt(Jf("sha512",Ihe,s)),a=new yo(Je(o.slice(0,32)));return new _s(io,a,"0x00000000",Je(o.slice(32)),"m",0,0,i,null)},Xe(_s,Fc);let Of=_s;class Ym extends RP{constructor(r,i,s,o,a,l,c,u,f){super(i,f);Te(this,"publicKey");Te(this,"fingerprint");Te(this,"parentFingerprint");Te(this,"chainCode");Te(this,"path");Te(this,"index");Te(this,"depth");Ix(r,io,"HDNodeVoidWallet"),Ii(this,{publicKey:s});const d=bM(eh(hs(s)),0,4);Ii(this,{publicKey:s,fingerprint:d,parentFingerprint:o,chainCode:a,path:l,index:c,depth:u})}connect(r){return new Ym(io,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,r)}get extendedKey(){return Ft(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),LP(Wn(["0x0488B21E",hv(this.depth,1),this.parentFingerprint,hv(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(r){const i=Oi(r,"index");Se(i<=4294967295,"invalid index","index",i);let s=this.path;s&&(s+="/"+(i&~Tl),i&Tl&&(s+="'"));const{IR:o,IL:a}=ZK(i,this.chainCode,this.publicKey,null),l=yo.addPoints(a,this.publicKey,!0),c=Lg(l);return new Ym(io,c,l,this.fingerprint,Je(o),s,i,this.depth+1,this.provider)}derivePath(r){return JK(this,r)}}class t4{constructor(e){Te(this,"mnemonic");Te(this,"walletAddress");Te(this,"chainID");this.mnemonic=e.mnemonic,this.walletAddress=e.walletAddress,this.chainID=e.chainID||10900}generateTxID(){const e=Date.now(),r=Math.floor(Math.random()*1e6);return`tx-${e}-${r}`}async getPrivateKeyHex(){const e=Of.fromPhrase(this.mnemonic.trim(),"","m/44'/60'/0'/0/0");if(e.address.toLowerCase()!==this.walletAddress.toLowerCase())throw new Error(`Address mismatch: derived ${e.address} does not match ${this.walletAddress}`);const r=BigInt(e.privateKey),i=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(r===0n||r>=i)throw new Error("Invalid private key: must be between 1 and secp256k1 order - 1");const o=r.toString(16).toLowerCase().padStart(64,"0");if(!/^[0-9a-f]{64}$/.test(o))throw new Error("Invalid private key format: must be 64 lowercase hex characters (0-9, a-f) without 0x prefix");return o}async signPayload(e){const r=await this.getPrivateKeyHex(),i=Math.floor(Date.now()/1e3);let s;e.deadline&&(s=parseInt(e.deadline,10));const o={txId:"",sigType:"ECDSA_LEGACY",threshold:1,timestamp:i,payload:e};s!==void 0&&(o.deadline=s);const a=await mt.generateSingleSignature(JSON.stringify(o),r,this.walletAddress.toLowerCase());if(!a.success||!a.signature)throw new Error(a.error||"Failed to generate signature");return a.signature}async buildCompleteMessage(e,r,i=3600){const o=Math.floor(Date.now()/1e3)+i,a=await r.getNextNonce();return{...e,owner:this.walletAddress,nonce:a,deadline:o.toString()}}buildEIP712Tx(e,r,i){const s=Math.floor(Date.now()/1e3);let o;e.deadline&&(o=parseInt(e.deadline,10));const l={txhash:i||this.generateTxID(),sigType:1,threshold:1,timestamp:s,payload:e,signatures:[{signer:this.walletAddress,signature:r}]};return o!==void 0&&(l.deadline=o),l}getWalletAddress(){return this.walletAddress}getChainID(){return this.chainID}}const zx="sys::onboard",RM="clob::change_margin_ratio",NM="clob::submit_order",pv="clob::cancel_order",mv="bucket::close_position",jM="clob::modify_order",LM="clob::change_leverage",FM="clob::inter_transfer",eX="clob::create_margin_bucket",$M="clob::swap",BM="bank::mint",zM="bank::extract_to_bucket",UM="bank::withdraw_from_bucket",qM="bank::bucket_transfer",WM="bank::transfer";var kt=(n=>(n.Disconnected="disconnected",n.Connecting="connecting",n.Connected="connected",n.Reconnecting="reconnecting",n))(kt||{});function s_(n,e=Date.now()){if(!n)return e;if(typeof n=="object"&&n!==null&&typeof n.seconds=="number"){const i=n.seconds,s=n.nanos||0;return i*1e3+Math.floor(s/1e6)}const r=typeof n=="string"?Number(n):n;return typeof r=="number"&&!isNaN(r)&&r>0?r<9466848e5?r*1e3:r:e}function Yo(n){if(!n)return Date.now();const e=typeof n=="string"?Number(n):n;return isNaN(e)||e<=0?Date.now():e<9466848e5?e*1e3:e}function n4(n){if(!n)return"";if(typeof n=="string")return n;if(typeof n=="object"&&"seconds"in n&&"nanos"in n){const e=n.seconds,r=n.nanos||0,i=e*1e3+Math.floor(r/1e6),o=new Date(i).toISOString();if(r>0){const a=r.toString().padStart(9,"0");return o.replace(/\.\d{3}Z$/,`.${a}Z`)}return o}return""}function HM(n,e){const r=n.bucket_id||"---",i=av(n.unrealized_profit),s=av(n.unrealized_loss),o=i-s,a=e(o.toString()),l=Nt(n.unrealized_profit),c=Nt(n.unrealized_loss),u=w5(n.max_leverage);return{bucketId:r,address:n.address||"",marginType:n.margin_type||"cross",collateralAsset:n.collateral_asset||"",depositedMargin:Nt(n.deposited_margin),totalEquity:Nt(n.total_equity),availableMargin:Nt(n.available_margin),usedMargin:Nt(n.used_margin),unrealizedProfit:l,unrealizedLoss:c,realizedProfit:Nt(n.realized_profit),realizedLoss:Nt(n.realized_loss),unrealizedPnL:a,marginRatio:Nt(n.margin_ratio),imr:w5(n.imr),totalNotionalValue:Nt(n.total_notional_value),riskLevel:n.risk_level||"",maxLeverage:u,correlationOffset:n.correlation_offset||0,status:n.status||"",createdAt:n4(n.created_at),updatedAt:n4(n.updated_at),leverage:u,marginMode:n.margin_type||"cross"}}function my(n){return n.totalEquity>0?Math.min(Math.max(n.usedMargin/n.totalEquity,0),1):0}function gy(n){const e=n.marginMode||n.marginType||"cross";return e==="ISOLATED"||e==="Isolated"||e==="ISOLATE"||e==="isolated"?"Isolated":"Cross"}function rd(n){return n!==null&&typeof n=="object"&&typeof n.price=="number"&&typeof n.market_id=="string"&&typeof n.quantity=="number"&&typeof n.timestamp=="number"&&typeof n.is_buyer_maker=="boolean"&&typeof n.trade_id=="string"}function by(n){return n!==null&&typeof n=="object"&&typeof n.symbol=="string"&&typeof n.mark_price=="number"&&typeof n.timestamp=="number"}class zl{constructor(e){Te(this,"httpClient");Te(this,"infoClient");Te(this,"nonceManager");Te(this,"mnemonic");Te(this,"chainID");Te(this,"walletAddress");Te(this,"nonceCounter",null);Te(this,"signatureBuilder");this.httpClient=new Px(e.baseURL,e.maxRetries||3),this.infoClient=new Qn({baseURL:e.baseURL}),this.nonceManager=new pM(this.infoClient),this.mnemonic=e.mnemonic,this.chainID=e.chainID||10900}getSignatureBuilder(){if(!this.signatureBuilder){if(!this.walletAddress)throw new Error("ExchangeClient not initialized. Call initialize() first.");this.signatureBuilder=new t4({mnemonic:this.mnemonic,walletAddress:this.walletAddress,chainID:this.chainID})}return this.signatureBuilder}getNonceProvider(){return{getNextNonce:()=>this.getNextNonce()}}async initialize(){await mt.initialize();const e=await mt.generateAddress(this.mnemonic,0);if(!e.success||!e.address)throw new Error(`Failed to generate wallet address: ${e.error}`);this.walletAddress=e.address,this.signatureBuilder=new t4({mnemonic:this.mnemonic,walletAddress:this.walletAddress,chainID:this.chainID})}getWalletAddress(){if(!this.walletAddress)throw new Error("ExchangeClient not initialized. Call initialize() first.");return this.walletAddress}async refreshNonceFromServer(){const e=this.getWalletAddress(),r=await this.nonceManager.getExpectedNextNonce(e,!1);this.nonceCounter=r.next_nonce,console.log("[ExchangeClient] Refreshed nonce from server",{walletAddress:e,newNonce:this.nonceCounter})}async getNextNonce(){return this.nonceCounter===null&&await this.refreshNonceFromServer(),this.nonceCounter++,this.nonceCounter.toString()}buildOrderPayload(e){const r=Wt(e.price),i=Wt(e.quantity),s={action:NM,marketId:e.marketId,side:e.side.toUpperCase(),orderType:e.orderType.toUpperCase(),price:r,quantity:i};return e.leverage&&(s.leverage=e.leverage),e.takeProfit&&(s.takeProfit=e.takeProfit),e.stopLoss&&(s.stopLoss=e.stopLoss),s}async placeOrder(e){if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(!e.side||e.side.toUpperCase()!=="BUY"&&e.side.toUpperCase()!=="SELL")throw new Error("side must be BUY or SELL");if(!e.orderType||e.orderType.toUpperCase()!=="LIMIT"&&e.orderType.toUpperCase()!=="MARKET")throw new Error("orderType must be LIMIT or MARKET");if(!e.price||e.price<=0)throw new Error("price must be positive");if(!e.quantity||e.quantity<=0)throw new Error("quantity must be positive");this.walletAddress||await this.initialize();const r=this.buildOrderPayload(e),i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=Math.floor(Date.now()/1e3)-5,l=`order-${Date.now()}-${Math.floor(Math.random()*1e6)}`,c=e.side.toUpperCase()==="BUY",u={address:this.getWalletAddress(),asset_pair:e.marketId,market_id:e.marketId,price:s.price,size:s.quantity,is_buy:c,order_type:e.orderType.toUpperCase(),timestamp:a,client_order_id:l,nonce:s.nonce,deadline:s.deadline,signature:o,time_in_force:e.timeInForce||"GTC"};return e.leverage&&(u.leverage=e.leverage),e.takeProfit&&(u.take_profit=e.takeProfit),e.stopLoss&&(u.stop_loss=e.stopLoss),e.postOnly&&(u.post_only=!0),e.hidden&&(u.hidden=!0),e.displayQuantity&&(u.display_quantity=e.displayQuantity),e.reduceOnly&&(u.reduce_only=!0),(await this.httpClient.post("/clob/v1/order",u)).body}async cancelOrder(e){var u,f,d,h,p,g;if(!e.orderId||e.orderId==="")throw console.error("[ExchangeClient.cancelOrder] Validation failed: orderId is empty",e),new Error("orderId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw console.error("[ExchangeClient.cancelOrder] Validation failed: marketId is empty",e),new Error("marketId cannot be empty");console.log("[ExchangeClient.cancelOrder] Input validation passed",{orderId:e.orderId,marketId:e.marketId}),this.walletAddress?console.log("[ExchangeClient.cancelOrder] Using existing wallet",{walletAddress:this.walletAddress}):(console.log("[ExchangeClient.cancelOrder] Wallet not initialized, initializing now..."),await this.initialize(),console.log("[ExchangeClient.cancelOrder] Wallet initialized",{walletAddress:this.walletAddress}));const r=this.getWalletAddress(),i={action:pv,orderId:e.orderId,marketId:e.marketId,address:r};console.log("[ExchangeClient.cancelOrder] Payload built",{payload:i,action:pv});const s=this.getSignatureBuilder(),o=await s.buildCompleteMessage(i,this.getNonceProvider());console.log("[ExchangeClient.cancelOrder] Complete message built",{action:o.action,orderId:o.orderId,marketId:o.marketId,address:o.address,owner:o.owner,nonce:o.nonce,deadline:o.deadline,hasAllFields:!!(o.action&&o.orderId&&o.marketId&&o.owner&&o.nonce&&o.deadline)}),console.log("[ExchangeClient.cancelOrder] Generating signature...");const a=await s.signPayload(o);console.log("[ExchangeClient.cancelOrder] Signature generated",{signatureLength:a==null?void 0:a.length,signaturePrefix:(a==null?void 0:a.substring(0,10))+"..."});const l=s.buildEIP712Tx(o,a);console.log("[ExchangeClient.cancelOrder] EIP712Tx built",{eip712Tx:{txId:l.txId,sigType:l.sigType,threshold:l.threshold,timestamp:l.timestamp,deadline:l.deadline,payloadAction:(u=l.payload)==null?void 0:u.action,payloadOrderId:(f=l.payload)==null?void 0:f.orderId,payloadMarketId:(d=l.payload)==null?void 0:d.marketId,signaturesCount:(h=l.signatures)==null?void 0:h.length,signer:(g=(p=l.signatures)==null?void 0:p[0])==null?void 0:g.signer}});const c=this.httpClient.getBaseURL?this.httpClient.getBaseURL():"unknown";console.log("[ExchangeClient.cancelOrder] Submitting to /router/v1/tx endpoint...",{endpoint:"/router/v1/tx",baseURL:c,fullURL:`${c}/router/v1/tx`});try{const v=await this.httpClient.post("/router/v1/tx",l);return console.log("[ExchangeClient.cancelOrder] API response received",{status:v.statusCode,hasBody:!!v.body,responseBody:v.body,orderId:e.orderId}),v.body}catch(v){if(mM(v)){console.log("[ExchangeClient.cancelOrder] Nonce error detected, refreshing nonce from server",{error:v instanceof Error?v.message:String(v),orderId:e.orderId}),await this.refreshNonceFromServer();const y=this.getSignatureBuilder(),b=await y.buildCompleteMessage(i,this.getNonceProvider()),w=await y.signPayload(b),k=y.buildEIP712Tx(b,w);console.log("[ExchangeClient.cancelOrder] Retrying with refreshed nonce",{newNonce:b.nonce});const _=await this.httpClient.post("/router/v1/tx",k);return console.log("[ExchangeClient.cancelOrder] Retry successful",{status:_.statusCode,responseBody:_.body}),_.body}throw console.error("[ExchangeClient.cancelOrder] API call failed",{error:v,errorMessage:v instanceof Error?v.message:String(v),errorStack:v instanceof Error?v.stack:void 0,orderId:e.orderId,marketId:e.marketId,walletAddress:this.walletAddress}),v}}async modifyOrder(e){if(!e.orderId||e.orderId==="")throw new Error("orderId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(!e.newPrice||e.newPrice<=0)throw new Error("newPrice must be positive");if(!e.newQuantity||e.newQuantity<=0)throw new Error("newQuantity must be positive");this.walletAddress||await this.initialize();const r={action:jM,orderId:e.orderId,marketId:e.marketId,newPrice:Wt(e.newPrice),newQuantity:Wt(e.newQuantity)},i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=i.buildEIP712Tx(s,o);return(await this.httpClient.post("/router/v1/tx",a)).body}async changeLeverage(e){if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(e.newLeverage===void 0)throw new Error("newLeverage must be provided");this.walletAddress||await this.initialize();const r={action:LM,marketId:e.marketId,newLeverage:Wt(e.newLeverage),address:this.getWalletAddress()};e.leverageType&&(r.leverageType=e.leverageType),e.bucketId&&(r.bucketId=e.bucketId),e.reason&&(r.reason=e.reason);const i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=i.buildEIP712Tx(s,o);return(await this.httpClient.post("/router/v1/tx",a)).body}async closePosition(e){if(!e.positionId||e.positionId.trim()==="")throw new Error("positionId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=Math.floor(Date.now()/1e3),s=i+300,o=await this.getNextNonce();let a;if(e.marketPrice&&e.marketPrice>0)a=e.marketPrice;else try{const g=await this.infoClient.getMarketStats(e.marketId);if(!g||!g.last_price)throw new Error("marketPrice is required and could not be fetched from ticker");a=ot(g.last_price)}catch(g){throw new Error(`Failed to fetch market price: ${g instanceof Error?g.message:String(g)}`)}const l=Wt(a).toString(),c=e.quantity&&e.quantity>0?Wt(e.quantity).toString():"0",u={action:mv,address:r,marketId:e.marketId,closeSize:c,marketPrice:l,nonce:o,deadline:s},d=await this.getSignatureBuilder().signPayload(u),h={address:r,position_id:e.positionId,market_id:e.marketId,close_size:c,market_price:l,timestamp:i,sign_type:1,nonce:o.toString(),chain_id:this.chainID.toString(),deadline:s.toString(),signature:d};return(await this.httpClient.post("/bucket/v1/position/close",h)).body}async closePositionEIP712Tx(e){if(!e.positionId||e.positionId.trim()==="")throw new Error("positionId cannot be empty");if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");if(this.walletAddress||await this.initialize(),!e.quantity||e.quantity<=0)throw new Error("quantity must be positive");if(!e.marketPrice||e.marketPrice<=0)throw new Error("marketPrice must be positive");const r=Wt(e.quantity),i=Wt(e.marketPrice),s={action:mv,address:this.getWalletAddress(),positionId:e.positionId,marketId:e.marketId,closeSize:r,marketPrice:i},o=this.getSignatureBuilder(),a=await o.buildCompleteMessage(s,this.getNonceProvider()),l=await o.signPayload(a),c=o.buildEIP712Tx(a,l);return(await this.httpClient.post("/router/v1/tx",c)).body}async swap(e){if(!e.fromToken||e.fromToken==="")throw new Error("fromToken cannot be empty");if(!e.toToken||e.toToken==="")throw new Error("toToken cannot be empty");if(!e.amountIn||e.amountIn<=0)throw new Error("amountIn must be positive");if(!e.minAmountOut||e.minAmountOut<=0)throw new Error("minAmountOut must be positive");this.walletAddress||await this.initialize();const r={action:$M,fromToken:e.fromToken,toToken:e.toToken,amountIn:Wt(e.amountIn),minAmountOut:Wt(e.minAmountOut)};e.path&&e.path.length>0&&(r.path=e.path);const i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=i.buildEIP712Tx(s,o);return(await this.httpClient.post("/router/v1/tx",a)).body}async changeMarginRatioEIP712Tx(e){if(!e.marketId||e.marketId.trim()==="")throw new Error("marketId cannot be empty");this.walletAddress||await this.initialize();const r={action:RM,marketId:e.marketId,address:this.getWalletAddress()};e.bucketId&&(r.bucketId=e.bucketId);const i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=i.buildEIP712Tx(s,o);return(await this.httpClient.post("/router/v1/tx",a)).body}async internTransferEIP712Tx(e){if(!e.fromAccount||e.fromAccount==="")throw new Error("fromAccount cannot be empty");if(!e.toAccount||e.toAccount==="")throw new Error("toAccount cannot be empty");if(!e.tokenAddress||e.tokenAddress==="")throw new Error("tokenAddress cannot be empty");if(!e.amount||e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r={action:FM,fromAccount:e.fromAccount,toAccount:e.toAccount,amount:Wt(e.amount),tokenAddress:e.tokenAddress,address:this.getWalletAddress()},i=this.getSignatureBuilder(),s=await i.buildCompleteMessage(r,this.getNonceProvider()),o=await i.signPayload(s),a=i.buildEIP712Tx(s,o);return(await this.httpClient.post("/router/v1/tx",a)).body}async bucketTransfer(e){if(!e.fromBucketId||e.fromBucketId.trim()==="")throw new Error("fromBucketId cannot be empty");if(!e.toBucketId||e.toBucketId.trim()==="")throw new Error("toBucketId cannot be empty");if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(e.amount===void 0||typeof e.amount=="number"&&e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=Wt(e.amount),s={action:qM,fromBucketId:e.fromBucketId,toBucketId:e.toBucketId,asset:e.assetId,amount:i},o=this.getSignatureBuilder(),a=await o.buildCompleteMessage(s,this.getNonceProvider()),l=await o.signPayload(a),c=Math.floor(Date.now()/1e3),u={address:r,source_bucket_id:e.fromBucketId,target_bucket_id:e.toBucketId,amount:i,reason:"sdk_transfer",timestamp:c,nonce:a.nonce,deadline:a.deadline,signature:l,chain_id:this.chainID.toString()};return(await this.httpClient.post("/bucket/v1/bucket/transfer",u)).body}async extractToBucket(e){if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(!e.amount||e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=Wt(e.amount),s={action:zM,bucketId:e.bucketId,asset:e.assetId,amount:i},o=this.getSignatureBuilder(),a=await o.buildCompleteMessage(s,this.getNonceProvider()),l=await o.signPayload(a),c=Math.floor(Date.now()/1e3),u={address:r,bucket_id:e.bucketId,asset:e.assetId,amount:i,timestamp:c,nonce:a.nonce,deadline:a.deadline,signature:l,chain_id:this.chainID.toString()};return(await this.httpClient.post("/bank/v1/extract-to-bucket",u)).body}async createBucket(e){if(!e.bucketType||e.bucketType.trim()==="")throw new Error("bucketType cannot be empty");if(!e.marginType||e.marginType.trim()==="")throw new Error("marginType cannot be empty");const r=e.marginType.toUpperCase();if(r!=="CROSS"&&r!=="ISOLATED")throw new Error("marginType must be 'cross' or 'isolated'");this.walletAddress||await this.initialize();const i=this.getWalletAddress(),s=Math.floor(Date.now()/1e3),o={action:eX,bucketType:e.bucketType,marginType:r.toLowerCase()},a=this.getSignatureBuilder(),l=await a.buildCompleteMessage(o,this.getNonceProvider(),300),c=await a.signPayload(l),u={address:i,bucket_type:e.bucketType,margin_type:r.toLowerCase(),timestamp:s,sign_type:1,nonce:l.nonce,chain_id:this.chainID.toString(),deadline:l.deadline,signature:c};return(await this.httpClient.post("/bucket/v1/bucket",u)).body}async withdrawFromBucket(e){if(!e.bucketId||e.bucketId.trim()==="")throw new Error("bucketId cannot be empty");if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(e.amount===void 0||typeof e.amount=="number"&&e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=this.getWalletAddress(),i=Wt(e.amount),s={action:UM,bucketId:e.bucketId,asset:e.assetId,amount:i},o=this.getSignatureBuilder(),a=await o.buildCompleteMessage(s,this.getNonceProvider()),l=await o.signPayload(a),c=Math.floor(Date.now()/1e3),u={address:r,bucket_id:e.bucketId,asset:e.assetId,amount:i,timestamp:c,nonce:a.nonce,deadline:a.deadline,signature:l,chain_id:this.chainID.toString()};return(await this.httpClient.post("/bank/v1/withdraw-from-bucket",u)).body}async bankMint(e){if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(e.amount===void 0||typeof e.amount=="number"&&e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=Wt(e.amount),i={action:BM,asset:e.assetId,amount:r},s=this.getSignatureBuilder(),o=await s.buildCompleteMessage(i,this.getNonceProvider()),a=await s.signPayload(o),l=s.buildEIP712Tx(o,a);return(await this.httpClient.post("/router/v1/tx",l)).body}async bankTransfer(e){if(!e.to||e.to.trim()==="")throw new Error("to address cannot be empty");if(!e.assetId||e.assetId.trim()==="")throw new Error("assetId cannot be empty");if(!e.amount||e.amount<=0)throw new Error("amount must be positive");this.walletAddress||await this.initialize();const r=Wt(e.amount),i={action:WM,to:e.to,asset:e.assetId,amount:r},s=this.getSignatureBuilder(),o=await s.buildCompleteMessage(i,this.getNonceProvider()),a=await s.signPayload(o),l=s.buildEIP712Tx(o,a);return(await this.httpClient.post("/router/v1/tx",l)).body}}class GM{constructor(e){Te(this,"ws",null);Te(this,"state",kt.Disconnected);Te(this,"handlers",new Map);Te(this,"reconnectTimer",null);Te(this,"reconnectAttempts",0);Te(this,"config");Te(this,"originalConfig");Te(this,"pingInterval",null);Te(this,"stateChangeHandlers",new Set);Te(this,"authState","not_required");Te(this,"pendingSubscriptions",new Map);this.originalConfig=e;const r=this.convertHTTPToWebSocketURL(e.url);this.config={url:r,authToken:e.authToken||"",walletAddress:e.walletAddress||"",deviceID:e.deviceID||"",reconnectInterval:e.reconnectInterval||5e3,maxReconnectAttempts:e.maxReconnectAttempts||10}}convertHTTPToWebSocketURL(e){if(e.startsWith("ws://")||e.startsWith("wss://")){if(e.includes("router.morpheum.io")){const r=new URL(e);if(!r.pathname||r.pathname==="/")return r.pathname="/websocket",r.toString()}return e}if(e.includes("localhost")||e.includes("127.0.0.1")){const r=e.match(/:(\d+)/);return`ws://localhost:${r?r[1]:"8080"}/websocket`}if(e.startsWith("http://")){const r=e.replace("http://","ws://");return r.includes("/websocket")?r:r.endsWith("/")?`${r}websocket`:`${r}/websocket`}if(e.startsWith("https://")){const r=e.replace("https://","wss://");return r.includes("/websocket")?r:r.endsWith("/")?`${r}websocket`:`${r}/websocket`}if(!e||e.trim()===""||e.includes("router.morpheum.io"))return"wss://router.morpheum.io/websocket";try{const r=new URL(e.startsWith("http")?e:`https://${e}`),i=r.protocol==="https:"?"wss:":"ws:",s=r.pathname&&r.pathname!=="/"?r.pathname:"",o=s.endsWith("/websocket")?s:`${s}/websocket`;return`${i}//${r.host}${o}`}catch{return console.warn(`Failed to parse URL ${e}, defaulting to router.morpheum.io/websocket`),"wss://router.morpheum.io/websocket"}}getConnectionURL(){const e=[];this.config.authToken&&e.push(`token=${encodeURIComponent(this.config.authToken)}`),"walletAddress"in this.originalConfig&&this.originalConfig.walletAddress!==void 0&&e.push(`wallet=${encodeURIComponent(this.originalConfig.walletAddress||"")}`),this.config.deviceID&&e.push(`device_id=${encodeURIComponent(this.config.deviceID)}`);const r=this.config.url.includes("?")?"&":"?";return e.length>0?`${this.config.url}${r}${e.join("&")}`:this.config.url}async connect(){if(!(this.state===kt.Connected||this.state===kt.Connecting))return this.setState(kt.Connecting),new Promise((e,r)=>{let i=!1,s=!1,o=null;const a=l=>{s||(s=!0,o!==null&&(clearTimeout(o),o=null),this.setState(kt.Disconnected),r(l))};try{const l=this.getConnectionURL();console.log("Connecting to WebSocket:",l);const c=new WebSocket(l);o=window.setTimeout(()=>{!i&&!s&&(c.close(),a(new Error(`WebSocket connection timeout after 10 seconds. Unable to connect to ${l}. Check if the server is running and accessible.`)))},1e4),c.onopen=async()=>{o!==null&&(clearTimeout(o),o=null),i=!0,this.ws=c,this.setState(kt.Connected),this.reconnectAttempts=0,this.config.authToken?(this.authState="authenticated",console.log("[WebSocketClient] Authentication via URL token")):this.authState="not_required",this.startPing(),e()},c.onmessage=u=>{try{const f=JSON.parse(u.data);this.handleMessage(f)}catch(f){console.error("Failed to parse WebSocket message:",f)}},c.onerror=u=>{console.error("WebSocket error event:",u)},c.onclose=u=>{if(o!==null&&(clearTimeout(o),o=null),this.ws=null,this.stopPing(),this.authState="not_required",!i&&!s){const f=u.code,d=u.reason||"Unknown reason",h=u.wasClean;let p=`WebSocket connection failed. Close code: ${f}`;f===1006?p=`WebSocket connection failed (abnormal closure, code ${f}). Unable to connect to ${l}. Possible causes: Server is not running, network issue, firewall blocking connection, or incorrect URL.`:f===1002?p=`WebSocket protocol error (code ${f}). The server may not support WebSocket protocol or there's a protocol mismatch.`:f===1003?p=`WebSocket unsupported data type (code ${f}).`:f===1008?p=`WebSocket connection closed due to policy violation (code ${f}): ${d}`:f===1011?p=`WebSocket server error (code ${f}): ${d}`:f===1e3?p=`WebSocket connection closed normally (code ${f}) but before opening.`:d&&d!=="Unknown reason"&&(p+=` Reason: ${d}`),!h&&f===1006&&(p+=" This usually indicates the connection was refused or the server is unreachable."),a(new Error(p))}else i&&(this.setState(kt.Disconnected),this.scheduleReconnect())}}catch(l){o!==null&&(clearTimeout(o),o=null);const c=l instanceof Error?l.message:String(l);a(new Error(`Failed to create WebSocket connection: ${c}`))}})}disconnect(){this.cancelReconnect(),this.stopPing(),this.ws&&(this.ws.close(),this.ws=null),this.handlers.clear(),this.stateChangeHandlers.clear(),this.setState(kt.Disconnected)}send(e){var r;if(this.state!==kt.Connected||!this.ws)throw new Error("WebSocket not connected");try{e.params&&typeof e.params!="object"&&(console.warn("[WebSocketClient] params must be an object, converting:",e.params),e.params={});const i=JSON.stringify(e);console.debug("[WebSocketClient] Sending message:",i),this.ws.send(i)}catch(i){throw console.error("[WebSocketClient] Failed to send message:",i),((r=this.ws)==null?void 0:r.readyState)!==WebSocket.OPEN&&this.setState(kt.Disconnected),i}}on(e,r){this.handlers.has(e)||this.handlers.set(e,[]),this.handlers.get(e).push(r)}off(e,r){if(!r){this.handlers.delete(e);return}const i=this.handlers.get(e);if(i){const s=i.indexOf(r);s>-1&&i.splice(s,1)}}getState(){return this.state}isConnected(){return this.state===kt.Connected}setState(e){const r=this.state;this.state=e,r!==e&&this.stateChangeHandlers.forEach(i=>{try{i(e)}catch(s){console.error("Error in state change handler:",s)}})}onStateChange(e){return this.stateChangeHandlers.add(e),()=>{this.stateChangeHandlers.delete(e)}}handleMessage(e){if(e.action==="ping"||e.type==="ping"){try{this.send({action:"pong"})}catch(o){console.error("[WebSocketClient] Failed to send pong:",o)}return}if(e.type==="ack"&&typeof e.channel=="string"){const o=this.pendingSubscriptions.get(e.channel);o&&(clearTimeout(o.timeout),o.resolve(),this.pendingSubscriptions.delete(e.channel))}if(e.action==="subscribed"&&typeof e.channel=="string"){const o=this.pendingSubscriptions.get(e.channel);o&&(clearTimeout(o.timeout),o.resolve(),this.pendingSubscriptions.delete(e.channel))}e.is_stale===!0&&(console.warn("[WebSocketClient] Received stale data:",e),(this.handlers.get("stale")||[]).forEach(a=>{try{a(e)}catch(l){console.error("[WebSocketClient] Error in stale data handler:",l)}}));let r;if(typeof e.action=="string")if(e.action==="subscribed")typeof e.channel=="string"?r=e.channel:r="subscribed";else if(e.action==="error")r="error",e.error?console.error("[WebSocketClient] Server error:",{code:e.error.code,message:e.error.message,details:e.error.details}):e.message&&console.error("[WebSocketClient] Server error:",e.message);else if(e.action==="pong")r="pong";else if(e.action==="data"||e.action==="update")if(typeof e.channel=="string")r=e.channel;else{console.error("[WebSocketClient] Missing channel in data message");return}else r=e.action;else if(typeof e.type=="string")if(e.type==="data")if(typeof e.channel=="string")r=e.channel;else{console.error("[WebSocketClient] Missing channel in data message");return}else e.type==="error"?(r="error",e.error?console.error("[WebSocketClient] Server error:",{code:e.error.code,message:e.error.message,details:e.error.details}):e.message&&console.error("[WebSocketClient] Server error:",e.message)):e.type==="ack"?typeof e.channel=="string"?r=e.channel:r="ack":e.type==="pong"?r="pong":r=e.type;else typeof e.event=="string"?r=e.event:typeof e.channel=="string"?r=e.channel:r="message";const i=this.handlers.get(r)||[],s=this.handlers.get("*")||[];i.forEach(o=>{try{o(e)}catch(a){console.error(`[WebSocketClient] Error in handler for ${r}:`,a)}}),r!=="error"&&s.forEach(o=>{try{o(e)}catch(a){console.error("[WebSocketClient] Error in wildcard handler:",a)}})}scheduleReconnect(){if(this.reconnectAttempts>=this.config.maxReconnectAttempts){console.error("[WebSocketClient] Max reconnection attempts reached"),this.setState(kt.Disconnected);return}this.reconnectAttempts++,this.setState(kt.Reconnecting),this.reconnectTimer=window.setTimeout(()=>{this.connect().catch(e=>{console.error("[WebSocketClient] Reconnection failed:",e)})},this.config.reconnectInterval)}cancelReconnect(){this.reconnectTimer!==null&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.reconnectAttempts=0}startPing(){this.pingInterval=window.setInterval(()=>{this.ws&&this.state===kt.Connected&&this.send({action:"ping"})},3e4)}stopPing(){this.pingInterval!==null&&(clearInterval(this.pingInterval),this.pingInterval=null)}setAuthToken(e,r,i){this.config.authToken=e,this.config.walletAddress=r,this.config.deviceID=i,this.originalConfig.authToken=e,this.originalConfig.walletAddress=r,this.originalConfig.deviceID=i,console.log(`Auth set: address=${r}, device=${i}`)}async updateAuth(e,r,i){e!==void 0&&(this.config.authToken=e,this.originalConfig.authToken=e),r!==void 0&&(this.config.walletAddress=r,this.originalConfig.walletAddress=r),i!==void 0&&(this.config.deviceID=i,this.originalConfig.deviceID=i),this.isConnected()&&(this.disconnect(),await this.connect())}waitForSubscription(e,r=5e3){return new Promise((i,s)=>{if(!this.pendingSubscriptions.has(e)){i();return}const o=window.setTimeout(()=>{this.pendingSubscriptions.delete(e),s(new Error(`Subscription acknowledgment timeout for channel: ${e}`))},r),a=this.pendingSubscriptions.get(e);a?(a.timeout=o,a.resolve=i,a.reject=s):(clearTimeout(o),i())})}registerPendingSubscription(e){this.pendingSubscriptions.has(e)||this.pendingSubscriptions.set(e,{resolve:()=>{},reject:()=>{},timeout:0})}isReadyForSubscriptions(){const e=this.state===kt.Connected,i=!this.config.authToken||this.authState==="authenticated";return e&&i}getAuthState(){return this.authState}}class Ta{constructor(e){Te(this,"wsClient");Te(this,"subscriptions",new Map);Te(this,"lastPriceWrappedCallbacks",new Map);Te(this,"wrappedCallbacks",new Map);Te(this,"multiFeedSubscriptions",new Map);Te(this,"multiFeedHandlerRegistered",!1);this.wsClient=new GM({url:e.url,authToken:e.authToken,walletAddress:e.walletAddress,deviceID:e.deviceID})}async connect(){await this.wsClient.connect()}disconnect(){this.wsClient.disconnect(),this.subscriptions.clear(),this.lastPriceWrappedCallbacks.clear(),this.wrappedCallbacks.clear(),this.multiFeedSubscriptions.clear(),this.multiFeedHandlerRegistered=!1}isConnected(){return this.wsClient.isConnected()}getState(){return this.wsClient.getState()}onStateChange(e){return this.wsClient.onStateChange(e)}setAuthToken(e,r,i){this.wsClient.setAuthToken(e,r,i)}async updateAuth(e,r,i){return this.wsClient.updateAuth(e,r,i)}isReadyForSubscriptions(){return this.wsClient.isReadyForSubscriptions()}getAuthState(){return this.wsClient.getAuthState()}async waitForSubscription(e,r=5e3){return this.wsClient.waitForSubscription(e,r)}parseRouterData(e){if(typeof e=="string")try{return JSON.parse(e)}catch(r){return console.error("Failed to parse router data field:",r),null}return e}extractRouterData(e){if(typeof e.action=="string"){if((e.action==="data"||e.action==="update")&&e.data){const r=this.parseRouterData(e.data);return r||console.warn("[SubscriptionClient] Failed to parse action-based data:",e.data),r}if(e.action==="data"||e.action==="update"){const{action:r,channel:i,...s}=e;return Object.keys(s).length>0?s:null}if(e.action==="error")return e.error?console.error("WebSocket error response:",e.error):e.message&&console.error("WebSocket error response:",e.message),null;if(e.action==="subscribed")return null}if(e.type==="data"&&e.data){const r=this.parseRouterData(e.data);return r||console.warn("[SubscriptionClient] Failed to parse router data:",e.data),r}if(e.type==="error")return e.error?console.error("WebSocket error response:",e.error):e.message&&console.error("WebSocket error response:",e.message),null;if(e.type==="ack")return null;if(e.channel&&!e.action&&!e.type){const{channel:r,...i}=e;return Object.keys(i).length>0?i:null}return e.action&&e.action!=="data"&&e.action!=="update"&&e.action!=="subscribed"&&e.action!=="error"?console.debug("[SubscriptionClient] Unexpected action:",e.action,"Full message:",e):e.type&&e.type!=="data"&&e.type!=="ack"&&e.type!=="error"?console.debug("[SubscriptionClient] Unexpected message type:",e.type,"Full message:",e):(e.action==="data"||e.action==="update"||e.type==="data")&&!e.data&&!e.channel&&console.warn("[SubscriptionClient] Message is data/update but missing data/channel field:",e),null}validateSymbol(e){return!e||typeof e!="string"||e.trim()===""?!1:e.includes("/")}validateMarketId(e){return e==null?!1:String(e).trim()!==""}validateKlineInterval(e){return["1m","5m","15m","1h","4h","1d"].includes(e)}validateTWAPWindowSize(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}validatePrivateChannelAuth(){if(!this.isReadyForSubscriptions()){const e=this.getAuthState();if(e==="pending")throw new Error("Authentication is pending. Please wait for authentication to complete before subscribing to private channels.");if(e==="failed")throw new Error("Authentication failed. Please re-authenticate before subscribing to private channels.");{const r=this.wsClient.config;if(!r||!r.authToken)throw new Error("Authentication token is required for private channels. Please provide authToken in SubscriptionClient config.")}}}subscribeOrderbook(e,r,i=!0){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const s="orderbook";this.subscriptions.set(s,[...this.subscriptions.get(s)||[],r]);const o=l=>{const c=this.extractRouterData(l);c&&(i&&c.bids&&Array.isArray(c.bids)&&(c.bids=c.bids.map(([u,f])=>[ot(u),ot(f)])),i&&c.asks&&Array.isArray(c.asks)&&(c.asks=c.asks.map(([u,f])=>[ot(u),ot(f)])),r(c))};this.wrappedCallbacks.has(s)||this.wrappedCallbacks.set(s,new Map),this.wrappedCallbacks.get(s).set(r,o),this.wsClient.on(s,o),this.wsClient.registerPendingSubscription(s);try{const l={type:"subscribe",channel:"orderbook",params:{market_id:e}};console.debug("[SubscriptionClient] Sending orderbook subscription:",l),this.wsClient.send(l)}catch(l){(a=this.wrappedCallbacks.get(s))==null||a.delete(r);const c=this.subscriptions.get(s)||[],u=c.indexOf(r);throw u>-1&&(c.splice(u,1),this.subscriptions.set(s,c)),l}}unsubscribeOrderbook(e,r){var o,a;const i="orderbook",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"orderbook"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeTrades(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="trades";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"trades",params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeTrades(e,r){var o,a;const i="trades",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"trades"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeTicker(e,r){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="moniker",s="ticker";this.subscriptions.set(s,[...this.subscriptions.get(s)||[],r]);const o=l=>{const c=this.extractRouterData(l);c&&r(c)};this.wrappedCallbacks.has(s)||this.wrappedCallbacks.set(s,new Map),this.wrappedCallbacks.get(s).set(r,o),this.wsClient.on(i,o);try{this.wsClient.send({type:"subscribe",channel:i,params:{market_id:e}})}catch(l){(a=this.wrappedCallbacks.get(s))==null||a.delete(r);const c=this.subscriptions.get(s)||[],u=c.indexOf(r);throw u>-1&&(c.splice(u,1),this.subscriptions.set(s,c)),l}}unsubscribeTicker(e,r){var a,l;const i="ticker",s="moniker",o=this.subscriptions.get(i)||[];if(r){const c=o.indexOf(r);if(c>-1){o.splice(c,1),this.subscriptions.set(i,o);const u=(a=this.wrappedCallbacks.get(i))==null?void 0:a.get(r);u&&(this.wsClient.off(s,u),this.wrappedCallbacks.get(i).delete(r))}}else{const c=this.wrappedCallbacks.get(i);c&&(c.forEach(u=>{this.wsClient.off(s,u)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((l=this.subscriptions.get(i))==null?void 0:l.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:s})}catch(c){console.error("Failed to send unsubscribe message:",c)}}subscribeUserUpdates(e){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const r="positions";this.subscriptions.set(r,[...this.subscriptions.get(r)||[],e]);const i=l=>{const c=this.extractRouterData(l);c&&e(c)};this.wrappedCallbacks.has(r)||this.wrappedCallbacks.set(r,new Map),this.wrappedCallbacks.get(r).set(e,i),this.wsClient.on(r,i),this.wsClient.registerPendingSubscription(r);const s=this.wsClient.config,o=s==null?void 0:s.authToken;try{const l={type:"subscribe",channel:"positions",params:{}};o&&(l.params.auth_token=o),this.wsClient.send(l)}catch(l){(a=this.wrappedCallbacks.get(r))==null||a.delete(e);const c=this.subscriptions.get(r)||[],u=c.indexOf(e);throw u>-1&&(c.splice(u,1),this.subscriptions.set(r,c)),l}}unsubscribeUserUpdates(e){var s,o;const r="positions",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"positions"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}subscribeLastPrice(e,r,i=!0){if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const s="last_price";this.subscriptions.set(s,[...this.subscriptions.get(s)||[],r]);const o=a=>{console.debug("[SubscriptionClient] last_price message received:",a);const l=this.extractRouterData(a);if(!l){console.warn("[SubscriptionClient] Failed to extract trade data from message:",a);return}if(console.debug("[SubscriptionClient] Extracted trade data:",l),!l.price){console.warn("[SubscriptionClient] Trade data missing price field:",l);return}i&&(l.price&&(l.price=ot(l.price)),l.quantity&&(l.quantity=ot(l.quantity))),console.debug("[SubscriptionClient] Calling callback with trade data:",l),r(l)};this.lastPriceWrappedCallbacks.set(r,o),this.wsClient.on(s,o);try{this.wsClient.send({type:"subscribe",channel:"last_price",params:{market_id:e}})}catch(a){this.lastPriceWrappedCallbacks.delete(r);const l=this.subscriptions.get(s)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(s,l)),a}}unsubscribeLastPrice(e,r){var o;const i="last_price",s=this.subscriptions.get(i)||[];if(r){const a=s.indexOf(r);if(a>-1){s.splice(a,1),this.subscriptions.set(i,s);const l=this.lastPriceWrappedCallbacks.get(r);l&&(this.wsClient.off(i,l),this.lastPriceWrappedCallbacks.delete(r))}}else s.forEach(a=>{const l=this.lastPriceWrappedCallbacks.get(a);l&&(this.wsClient.off(i,l),this.lastPriceWrappedCallbacks.delete(a))}),this.subscriptions.delete(i);if(((o=this.subscriptions.get(i))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"last_price"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}subscribeFundingRate(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="funding_rate";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"funding_rate",params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeFundingRate(e,r){var o,a;const i="funding_rate",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"funding_rate"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeBuckets(e){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const r="buckets";this.subscriptions.set(r,[...this.subscriptions.get(r)||[],e]);const i=l=>{const c=this.extractRouterData(l);c&&e(c)};this.wrappedCallbacks.has(r)||this.wrappedCallbacks.set(r,new Map),this.wrappedCallbacks.get(r).set(e,i),this.wsClient.on(r,i),this.wsClient.registerPendingSubscription(r);const s=this.wsClient.config,o=s==null?void 0:s.authToken;try{const l={type:"subscribe",channel:"buckets",params:{}};o&&(l.params.auth_token=o),this.wsClient.send(l)}catch(l){(a=this.wrappedCallbacks.get(r))==null||a.delete(e);const c=this.subscriptions.get(r)||[],u=c.indexOf(e);throw u>-1&&(c.splice(u,1),this.subscriptions.set(r,c)),l}}unsubscribeBuckets(e){var s,o;const r="buckets",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"buckets"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}subscribeDeviation(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="deviation";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"deviation",params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeDeviation(e,r){var o,a;const i="deviation",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"deviation"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeIndexPrice(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="index_price";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"index_price",params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeIndexPrice(e,r){var o,a;const i="index_price",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"index_price"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeKline(e,r,i){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);if(!this.validateKlineInterval(r))throw new Error(`Invalid interval: ${r}. Interval must be one of: "1m", "5m", "15m", "1h", "4h", "1d".`);const s="kline";this.subscriptions.set(s,[...this.subscriptions.get(s)||[],i]);const o=l=>{const c=this.extractRouterData(l);c&&i(c)};this.wrappedCallbacks.has(s)||this.wrappedCallbacks.set(s,new Map),this.wrappedCallbacks.get(s).set(i,o),this.wsClient.on(s,o);try{this.wsClient.send({type:"subscribe",channel:"kline",params:{market_id:e,interval:r}})}catch(l){(a=this.wrappedCallbacks.get(s))==null||a.delete(i);const c=this.subscriptions.get(s)||[],u=c.indexOf(i);throw u>-1&&(c.splice(u,1),this.subscriptions.set(s,c)),l}}unsubscribeKline(e,r,i){var a,l;const s="kline",o=this.subscriptions.get(s)||[];if(i){const c=o.indexOf(i);if(c>-1){o.splice(c,1),this.subscriptions.set(s,o);const u=(a=this.wrappedCallbacks.get(s))==null?void 0:a.get(i);u&&(this.wsClient.off(s,u),this.wrappedCallbacks.get(s).delete(i))}}else{const c=this.wrappedCallbacks.get(s);c&&(c.forEach(u=>{this.wsClient.off(s,u)}),this.wrappedCallbacks.delete(s)),this.subscriptions.delete(s)}if(((l=this.subscriptions.get(s))==null?void 0:l.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"kline"})}catch(c){console.error("Failed to send unsubscribe message:",c)}}subscribeMarkPrice(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="mark_price";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:i,params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeMarkPrice(e,r){var o,a;const i="mark_price",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"mark_price"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribePriceFeed(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);const i="price_feed";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],r]);const s=a=>{const l=this.extractRouterData(a);l&&r(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(r,s),this.wsClient.on(i,s);try{this.wsClient.send({type:"subscribe",channel:"price_feed",params:{market_id:e}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(r);const l=this.subscriptions.get(i)||[],c=l.indexOf(r);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribePriceFeed(e,r){var o,a;const i="price_feed",s=this.subscriptions.get(i)||[];if(r){const l=s.indexOf(r);if(l>-1){s.splice(l,1),this.subscriptions.set(i,s);const c=(o=this.wrappedCallbacks.get(i))==null?void 0:o.get(r);c&&(this.wsClient.off(i,c),this.wrappedCallbacks.get(i).delete(r))}}else{const l=this.wrappedCallbacks.get(i);l&&(l.forEach(c=>{this.wsClient.off(i,c)}),this.wrappedCallbacks.delete(i)),this.subscriptions.delete(i)}if(((a=this.subscriptions.get(i))==null?void 0:a.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"price_feed"})}catch(l){console.error("Failed to send unsubscribe message:",l)}}subscribeTWAP(e,r,i){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);if(!this.validateTWAPWindowSize(r))throw new Error(`Invalid window size: ${r}. Window size must be a positive number.`);const s="twap";this.subscriptions.set(s,[...this.subscriptions.get(s)||[],i]);const o=l=>{const c=this.extractRouterData(l);c&&i(c)};this.wrappedCallbacks.has(s)||this.wrappedCallbacks.set(s,new Map),this.wrappedCallbacks.get(s).set(i,o),this.wsClient.on(s,o);try{this.wsClient.send({type:"subscribe",channel:"twap",params:{market_id:e,window_size:r}})}catch(l){(a=this.wrappedCallbacks.get(s))==null||a.delete(i);const c=this.subscriptions.get(s)||[],u=c.indexOf(i);throw u>-1&&(c.splice(u,1),this.subscriptions.set(s,c)),l}}unsubscribeTWAP(e,r,i){var a,l;const s="twap",o=this.subscriptions.get(s)||[];if(i){const c=o.indexOf(i);if(c>-1){o.splice(c,1),this.subscriptions.set(s,o);const u=(a=this.wrappedCallbacks.get(s))==null?void 0:a.get(i);u&&(this.wsClient.off(s,u),this.wrappedCallbacks.get(s).delete(i))}}else{const c=this.wrappedCallbacks.get(s);c&&(c.forEach(u=>{this.wsClient.off(s,u)}),this.wrappedCallbacks.delete(s)),this.subscriptions.delete(s)}if(((l=this.subscriptions.get(s))==null?void 0:l.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"twap"})}catch(c){console.error("Failed to send unsubscribe message:",c)}}subscribeMultiFeed(e,r,i,s){if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");if(!this.validateMarketId(e))throw new Error(`Invalid market ID: ${e}. Market ID must be a non-empty string.`);if(!this.validateSymbol(r))throw new Error(`Invalid symbol: ${r}. Symbol must be in format "BASE/QUOTE" (e.g., "BTC/USDC").`);if(s&&!this.validateKlineInterval(s))throw new Error(`Invalid interval: ${s}. Interval must be one of: "1m", "5m", "15m", "1h", "4h", "1d".`);const o="multi_feed";if(!this.multiFeedHandlerRegistered){const a=l=>{const c=l.type==="data";if((l.action==="data"||l.action==="update"||c)&&l.channel==="multi_feed"&&l.sub_channel){const f=l.sub_channel,d=this.multiFeedSubscriptions.get(f)||[],h=this.subscriptions.get(o)||[];let p=l.data;if(typeof p=="string")try{p=JSON.parse(p)}catch(g){console.error("Failed to parse multi-feed data field:",g);return}p&&(d.forEach(g=>{try{g(p)}catch(v){console.error(`Error in multi-feed sub-channel callback for ${f}:`,v)}}),h.forEach(g=>{try{g({sub_channel:f,data:p})}catch(v){console.error("Error in multi-feed callback:",v)}}))}};this.wsClient.on(o,a),this.multiFeedHandlerRegistered=!0}this.subscriptions.has(o)||this.subscriptions.set(o,[]),this.subscriptions.get(o).push(i);try{const a={type:"subscribe",channel:"multi_feed",params:{market_id:e,symbol:r}};s&&(a.params.interval=s),this.wsClient.send(a)}catch(a){const l=this.subscriptions.get(o)||[],c=l.indexOf(i);throw c>-1&&(l.splice(c,1),this.subscriptions.set(o,l)),a}}subscribeMultiFeedSubChannel(e,r,i,s,o){if(this.multiFeedSubscriptions.has(i)||this.multiFeedSubscriptions.set(i,[]),this.multiFeedSubscriptions.get(i).push(s),(this.subscriptions.get("multi_feed")||[]).length===0){const l=()=>{};this.subscribeMultiFeed(e,r,l,o)}}unsubscribeMultiFeed(e,r,i){var a,l;const s="multi_feed",o=this.subscriptions.get(s)||[];if(i){const c=o.indexOf(i);c>-1&&(o.splice(c,1),this.subscriptions.set(s,o))}else this.subscriptions.delete(s);if(((a=this.subscriptions.get(s))==null?void 0:a.length)===0&&this.multiFeedSubscriptions.clear(),((l=this.subscriptions.get(s))==null?void 0:l.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"multi_feed"})}catch(c){console.error("Failed to send unsubscribe message:",c)}}unsubscribeMultiFeedSubChannel(e,r){const i=this.multiFeedSubscriptions.get(e)||[];if(r){const s=i.indexOf(r);s>-1&&(i.splice(s,1),i.length===0?this.multiFeedSubscriptions.delete(e):this.multiFeedSubscriptions.set(e,i))}else this.multiFeedSubscriptions.delete(e)}subscribeBalances(e){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const r="balances";this.subscriptions.set(r,[...this.subscriptions.get(r)||[],e]);const i=l=>{const c=this.extractRouterData(l);c&&e(c)};this.wrappedCallbacks.has(r)||this.wrappedCallbacks.set(r,new Map),this.wrappedCallbacks.get(r).set(e,i),this.wsClient.on(r,i),this.wsClient.registerPendingSubscription(r);const s=this.wsClient.config,o=s==null?void 0:s.authToken;try{const l={type:"subscribe",channel:"balances",params:{}};o&&(l.params.auth_token=o),this.wsClient.send(l)}catch(l){(a=this.wrappedCallbacks.get(r))==null||a.delete(e);const c=this.subscriptions.get(r)||[],u=c.indexOf(e);throw u>-1&&(c.splice(u,1),this.subscriptions.set(r,c)),l}}unsubscribeBalances(e){var s,o;const r="balances",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"balances"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}subscribeOrders(e){var a;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");this.validatePrivateChannelAuth();const r="orders";this.subscriptions.set(r,[...this.subscriptions.get(r)||[],e]);const i=l=>{const c=this.extractRouterData(l);c&&e(c)};this.wrappedCallbacks.has(r)||this.wrappedCallbacks.set(r,new Map),this.wrappedCallbacks.get(r).set(e,i),this.wsClient.on(r,i),this.wsClient.registerPendingSubscription(r);const s=this.wsClient.config,o=s==null?void 0:s.authToken;try{const l={type:"subscribe",channel:"orders",params:{}};o&&(l.params.auth_token=o),this.wsClient.send(l)}catch(l){(a=this.wrappedCallbacks.get(r))==null||a.delete(e);const c=this.subscriptions.get(r)||[],u=c.indexOf(e);throw u>-1&&(c.splice(u,1),this.subscriptions.set(r,c)),l}}unsubscribeOrders(e){var s,o;const r="orders",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"orders"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}}class tX{constructor(e){Te(this,"wsClient");Te(this,"subscriptions",new Map);Te(this,"wrappedCallbacks",new Map);this.wsClient=new GM({url:e.url,authToken:e.authToken,walletAddress:e.walletAddress,deviceID:e.deviceID})}async connect(){await this.wsClient.connect()}disconnect(){this.wsClient.disconnect(),this.subscriptions.clear(),this.wrappedCallbacks.clear()}isConnected(){return this.wsClient.isConnected()}getState(){return this.wsClient.getState()}onStateChange(e){return this.wsClient.onStateChange(e)}setAuthToken(e,r,i){this.wsClient.setAuthToken(e,r,i)}async updateAuth(e,r,i){return this.wsClient.updateAuth(e,r,i)}isReadyForSubscriptions(){return this.wsClient.isReadyForSubscriptions()}getAuthState(){return this.wsClient.getAuthState()}async waitForSubscription(e,r=5e3){return this.wsClient.waitForSubscription(e,r)}parseRouterData(e){if(typeof e=="string")try{return JSON.parse(e)}catch(r){return console.error("Failed to parse router data field:",r),null}return e}extractRouterData(e){if(e.type==="data"&&e.data){const r=this.parseRouterData(e.data);return r||console.warn("[SubscriptionExplorer] Failed to parse router data:",e.data),r}return e.type==="error"&&e.error?(console.error("WebSocket error response:",e.error),null):(e.type==="ack"||(e.type!=="data"?console.debug("[SubscriptionExplorer] Unexpected message type:",e.type,"Full message:",e):e.data||console.warn("[SubscriptionExplorer] Message type is 'data' but missing data field:",e)),null)}subscribeConsensusFlat(e,r){var o;if(!this.isConnected())throw new Error("WebSocket not connected. Call connect() first.");const i="consensus_flat";this.subscriptions.set(i,[...this.subscriptions.get(i)||[],e]);const s=a=>{const l=this.extractRouterData(a);l&&e(l)};this.wrappedCallbacks.has(i)||this.wrappedCallbacks.set(i,new Map),this.wrappedCallbacks.get(i).set(e,s),this.wsClient.on(i,s),this.wsClient.registerPendingSubscription(i);try{const a={};(r==null?void 0:r.shard_id)!==void 0&&(a.shard_id=r.shard_id.toString()),r!=null&&r.event_type&&(a.event_type=r.event_type),this.wsClient.send({type:"subscribe",channel:"consensus_flat",params:Object.keys(a).length>0?a:{}})}catch(a){(o=this.wrappedCallbacks.get(i))==null||o.delete(e);const l=this.subscriptions.get(i)||[],c=l.indexOf(e);throw c>-1&&(l.splice(c,1),this.subscriptions.set(i,l)),a}}unsubscribeConsensusFlat(e){var s,o;const r="consensus_flat",i=this.subscriptions.get(r)||[];if(e){const a=i.indexOf(e);if(a>-1){i.splice(a,1),this.subscriptions.set(r,i);const l=(s=this.wrappedCallbacks.get(r))==null?void 0:s.get(e);l&&(this.wsClient.off(r,l),this.wrappedCallbacks.get(r).delete(e))}}else{const a=this.wrappedCallbacks.get(r);a&&(a.forEach(l=>{this.wsClient.off(r,l)}),this.wrappedCallbacks.delete(r)),this.subscriptions.delete(r)}if(((o=this.subscriptions.get(r))==null?void 0:o.length)===0&&this.isConnected())try{this.wsClient.send({type:"unsubscribe",channel:"consensus_flat"})}catch(a){console.error("Failed to send unsubscribe message:",a)}}}async function Ahe(n,e,r,i,s){const o=Of.fromPhrase(n.trim(),"","m/44'/60'/0'/0/0");if(o.address.toLowerCase()!==e.toLowerCase())throw new Error(`Address mismatch: derived ${o.address} does not match provided ${e}`);let a;try{a=new yo(o.privateKey)}catch(_){throw new Error(`Invalid private key: cannot create signing key - ${_.message}`)}const l=Lg(a.publicKey);if(l.toLowerCase()!==e.toLowerCase())throw new Error(`Private key validation failed: derived address ${l} does not match ${e}`);const c=BigInt(o.privateKey),u=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(c===0n||c>=u)throw new Error("Invalid private key: must be between 1 and secp256k1 order - 1");const d=c.toString(16).toLowerCase().padStart(64,"0"),h=rt("0x"+d);if(h.length!==32)throw new Error(`Invalid private key: expected 32 bytes, got ${h.length}`);if(h.every(_=>_===0))throw new Error("Invalid private key: cannot be zero");const g=BigInt("0x"+d);if(g!==c)throw new Error(`Private key encoding error: bytes do not match BigInt value. Original: ${c.toString(16)}, Reconstructed: ${g.toString(16)}`);const v=d;if(v.length!==64)throw new Error(`Invalid private key format: expected exactly 64 hex chars, got ${v.length}. This should never happen with a valid 32-byte private key.`);if(!/^[0-9a-f]{64}$/.test(v))throw new Error("Invalid private key format: must be 64 lowercase hex characters (0-9, a-f) without 0x prefix");const y=v,b={action:zx,owner:e.toLowerCase(),nonce:r,timestamp:i,deadline:s},w={txId:"",sigType:"ECDSA_LEGACY",threshold:1,timestamp:i,payload:b,deadline:parseInt(s,16)};console.log("[Onboard] Signing EIP-712 typed data with generateSingleSignature:",w),console.log("[Onboard] Private key format validated:",{length:y.length,format:"64 lowercase hex chars (no 0x prefix) - matches Go's hex.EncodeToString",preview:`${y.substring(0,8)}...${y.substring(56)}`,isValidSecp256k1:!0,withinCurveOrder:c<u,notZero:c!==0n,bytesLength:h.length,fullHex:y,firstByte:y.substring(0,2),lastByte:y.substring(62,64)}),console.log("[Onboard] Calling WASM GenerateSingleSignature with:",{txJSONLength:JSON.stringify(w).length,privateKeyHexLength:y.length,privateKeyHexPreview:y,signerAddress:e.toLowerCase()});const k=await mt.generateSingleSignature(JSON.stringify(w),y,e.toLowerCase());if(console.log(k),!k.success||!k.signature)throw new Error(k.error||"Failed to generate signature");return console.log("[Onboard] signature:",k.signature),k.signature}async function Rhe(n){var e,r;try{const i=await Ahe(n.mnemonic,n.walletAddress,n.message.nonce,n.message.timestamp,n.message.deadline);console.log("[Onboard] Signature generated successfully, length:",i.length);const s={address:n.walletAddress,signature:i,nonce:n.message.nonce,timestamp:n.timestamp,deadline:n.message.deadline,action:zx};n.username&&(s.username=n.username),n.referralCode&&(s.referral_code=n.referralCode),console.log("[Onboard] Request body:",{...s,signature:i.substring(0,20)+"..."});const a=await new Px(n.baseURL).post("/auth/v1/onboard",s);if(a.statusCode===200&&a.body){const l=a.body.access_token||a.body.authToken||a.body.token||a.body.accessToken,c=a.body.refresh_token||a.body.refreshToken,u=a.body.expires_at||a.body.expiresAt||(a.body.expires_in?n.timestamp+a.body.expires_in:void 0);return l?{success:!0,authToken:l,refreshToken:c,expiresAt:u}:{success:!1,error:"Response missing authToken field"}}else{const l=((e=a.body)==null?void 0:e.message)||((r=a.body)==null?void 0:r.error)||`HTTP ${a.statusCode}: ${a.body}`,c=new Error(l);throw c.responseBody=a.body,c.statusCode=a.statusCode,c}}catch(i){throw i}}const YM={auth:{maxRetries:4,baseDelay:500,maxDelay:3e3,jitter:!0,multiplier:2},http:{maxRetries:3,baseDelay:100,maxDelay:5e3,jitter:!0,multiplier:2},nonce:{maxRetries:5,baseDelay:200,maxDelay:2e3,jitter:!0,multiplier:1.5}};function Nhe(n,e){let r=n.baseDelay*Math.pow(n.multiplier,e);if(r>n.maxDelay&&(r=n.maxDelay),n.jitter){const i=r*.25*Math.random();r+=i}return Math.floor(r)}function jhe(n){return new Promise(e=>setTimeout(e,n))}async function Ux(n,e,r=()=>!0){let i;for(let s=0;s<=n.maxRetries;s++)try{return await e()}catch(o){if(i=o,!await Promise.resolve(r(o)))throw o;if(s>=n.maxRetries)break;const l=Nhe(n,s);await jhe(l)}throw new Error(`Operation failed after ${n.maxRetries+1} attempts: ${(i==null?void 0:i.message)||i}`)}async function VM(n,e,r,i){try{mt.isReady()||await mt.initialize();const s=await mt.generateAddress(n,0);if(!s.success||!s.address)return{success:!1,error:`Failed to generate address: ${s.error}`};const o=s.address.toLowerCase(),a=new Qn({baseURL:e}),l=new pM(a);let c=null;try{return await Ux(YM.auth,async()=>{console.log(`[Onboard] Attempt starting - currentNonce: ${c}`),c===null?(c=(await l.getExpectedNextNonce(o,!1)).next_nonce,console.log(`[Onboard] First attempt: queried server, using next nonce: ${c}`)):console.log(`[Onboard] Retry attempt: using incremented nonce ${c} from previous failure`);let f=0;const d=10;for(;f<d;)try{await l.validateNonce(o,c,!0);break}catch(y){if(f++,y.message.includes("already pending")||y.message.includes("already used")){if(c=c+1,console.log(`[Onboard] Nonce ${c-1} already pending, incrementing to ${c}`),f>=d)throw new Error(`Failed to find available nonce after ${d} attempts`)}else throw y}const h=Math.floor(Date.now()/1e3),p=h+3600,g={action:zx,owner:o,nonce:x5(c),timestamp:h,deadline:x5(p)};let v;try{v=await Rhe({mnemonic:n,walletAddress:o,message:g,baseURL:e,username:r,referralCode:i,timestamp:h})}catch(y){if(c!==null){const b=c;try{await l.rejectNonce(o,c,!0),c=c+1,console.log(`[Onboard] Rejected nonce ${b}, incremented to nonce ${c} (will use on retry)`)}catch(w){console.warn("[Onboard] Failed to reject nonce after thrown error:",w),c=c+1,console.log(`[Onboard] Incremented nonce to ${c} (reject failed but incrementing anyway)`)}}else console.warn("[Onboard] Error thrown but currentNonce is null, cannot reject/increment");throw y.currentNonce=c,y}if(!v.success){if(c!==null){const b=c;await l.rejectNonce(o,c,!0),c=c+1,console.log(`[Onboard] Request failed with nonce ${b}, rejected and incremented to ${c} (will keep incrementing until it works)`)}const y=new Error(v.error||"Onboarding failed");throw y.onboardResult=v,y}return c!==null&&await l.commitNonce(o,c,!0),v},async f=>{var b,w,k;const d=String(f).toLowerCase(),h=((b=f==null?void 0:f.message)==null?void 0:b.toLowerCase())||d,p=(f==null?void 0:f.responseBody)||(f==null?void 0:f.onboardResult),g=((w=p==null?void 0:p.error)==null?void 0:w.toLowerCase())||((k=p==null?void 0:p.message)==null?void 0:k.toLowerCase())||"";if(`${h} ${d} ${g}`.toLowerCase().includes("nonce already pending")){if(c!==null){const _=c;c=c+1,console.log(`[Onboard] Off-chain operation: nonce ${_} already pending/used, incrementing to ${c} (server will validate)`)}else try{c=(await l.getExpectedNextNonce(o,!1)).next_nonce,console.log(`[Onboard] currentNonce was null, queried server for starting nonce: ${c}`)}catch(_){console.warn("[Onboard] Failed to query server nonce:",_),c=1}return!0}return mM(f)?(console.log('[Onboard] Nonce-consuming error detected (not "already pending"), clearing currentNonce to force re-query'),c=null,!0):!["failed to generate address","address mismatch","invalid mnemonic"].some(_=>d.includes(_))})}catch(u){if(c!==null)try{await l.rejectNonce(o,c,!0)}catch(f){console.warn("[Onboard] Failed to reject nonce during cleanup:",f)}return{success:!1,error:(u==null?void 0:u.message)||"Unknown error during onboarding"}}}catch(s){return{success:!1,error:(s==null?void 0:s.message)||"Unknown error during onboarding"}}}const Lhe=Object.freeze(Object.defineProperty({__proto__:null,onboardAndGetAuthToken:VM},Symbol.toStringTag,{value:"Module"})),r4=n=>{let e;const r=new Set,i=(u,f)=>{const d=typeof u=="function"?u(e):u;if(!Object.is(d,e)){const h=e;e=f??(typeof d!="object"||d===null)?d:Object.assign({},e,d),r.forEach(p=>p(e,h))}},s=()=>e,l={setState:i,getState:s,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=e=n(i,s,l);return l},Fhe=n=>n?r4(n):r4,$he=n=>n;function Bhe(n,e=$he){const r=Ae.useSyncExternalStore(n.subscribe,Ae.useCallback(()=>e(n.getState()),[n,e]),Ae.useCallback(()=>e(n.getInitialState()),[n,e]));return Ae.useDebugValue(r),r}const i4=n=>{const e=Fhe(n),r=i=>Bhe(e,i);return Object.assign(r,e),r},zhe=n=>n?i4(n):i4,Zt=zhe((n,e)=>({markets:[],marketsById:new Map,marketsBySymbol:new Map,orderbooks:new Map,tickers:new Map,recentTrades:new Map,lastUpdated:new Map,selectedMarketId:null,loadingMarkets:!1,loadingOrderbooks:new Set,loadingTickers:new Set,loadingTrades:new Set,errors:new Map,setMarkets:r=>{const i=new Map,s=new Map;r.forEach(l=>{i.set(l.id,l),l.symbol&&s.set(l.symbol,l),l.moniker&&s.set(l.moniker,l)});let a=e().selectedMarketId;if(!a&&r.length>0){const c=r.find(f=>f.active)||r[0],u=c.market_id?c.market_id:c.id?typeof c.id=="string"?c.id:c.id.toString():null;u&&(a=u)}n({markets:r,marketsById:i,marketsBySymbol:s,selectedMarketId:a,lastUpdated:new Map(e().lastUpdated).set("markets",Date.now())})},setMarket:r=>{const i=e(),s=new Map(i.marketsById),o=new Map(i.marketsBySymbol);s.set(r.id,r),r.symbol&&o.set(r.symbol,r),r.moniker&&o.set(r.moniker,r);const a=i.markets.find(l=>l.id===r.id)?i.markets.map(l=>l.id===r.id?r:l):[...i.markets,r];n({markets:a,marketsById:s,marketsBySymbol:o})},getMarket:r=>e().marketsById.get(r),getMarketBySymbol:r=>e().marketsBySymbol.get(r),setSelectedMarketId:r=>{n({selectedMarketId:r})},setOrderbook:(r,i)=>{const s=e(),o=new Map(s.orderbooks);o.set(r,{...i,timestamp:Date.now()}),n({orderbooks:o,lastUpdated:new Map(s.lastUpdated).set(r,Date.now())})},getOrderbook:r=>e().orderbooks.get(r),updateOrderbook:(r,i)=>{const s=e(),o=s.orderbooks.get(r);if(o){const a={...o,...i,timestamp:Date.now()};s.setOrderbook(r,a)}else s.setOrderbook(r,{bids:i.bids||[],asks:i.asks||[],timestamp:Date.now()})},setTicker:(r,i)=>{const s=e(),o=new Map(s.tickers);o.set(r,{...i,marketId:r,timestamp:Date.now()}),n({tickers:o,lastUpdated:new Map(s.lastUpdated).set(`ticker_${r}`,Date.now())})},getTicker:r=>e().tickers.get(r),setRecentTrades:(r,i)=>{const s=e(),o=new Map(s.recentTrades);o.set(r,i),n({recentTrades:o,lastUpdated:new Map(s.lastUpdated).set(`trades_${r}`,Date.now())})},getRecentTrades:r=>e().recentTrades.get(r),setLoading:(r,i)=>{const s=e();if(r==="markets")n({loadingMarkets:i});else if(r.startsWith("orderbook_")){const o=r.split("_").slice(1).join("_"),a=new Set(s.loadingOrderbooks);i?a.add(o):a.delete(o),n({loadingOrderbooks:a})}else if(r.startsWith("ticker_")){const o=r.split("_").slice(1).join("_"),a=new Set(s.loadingTickers);i?a.add(o):a.delete(o),n({loadingTickers:a})}else if(r.startsWith("trades_")){const o=r.split("_").slice(1).join("_"),a=new Set(s.loadingTrades);i?a.add(o):a.delete(o),n({loadingTrades:a})}},setError:(r,i)=>{const s=e(),o=new Map(s.errors);i?o.set(r,i):o.delete(r),n({errors:o})},clearError:r=>{e().setError(r,null)},clearCache:r=>{const i=e();if(r){const s=new Map(i.orderbooks),o=new Map(i.tickers),a=new Map(i.recentTrades),l=new Map(i.lastUpdated);s.delete(r),o.delete(r),a.delete(r),l.delete(r),l.delete(`ticker_${r}`),l.delete(`trades_${r}`),n({orderbooks:s,tickers:o,recentTrades:a,lastUpdated:l})}else n({orderbooks:new Map,tickers:new Map,recentTrades:new Map,lastUpdated:new Map})},clearAllCache:()=>{n({markets:[],marketsById:new Map,marketsBySymbol:new Map,orderbooks:new Map,tickers:new Map,recentTrades:new Map,lastUpdated:new Map,errors:new Map,selectedMarketId:null})}})),Uhe=Object.freeze(Object.defineProperty({__proto__:null,ConnectionState:kt,ExchangeClient:zl,HttpClient:Px,InfoClient:Qn,NonceManager:pM,OpBankBucketTransfer:qM,OpBankExtractToBucket:zM,OpBankMint:BM,OpBankTransfer:WM,OpBankWithdrawFromBucket:UM,OpCancelOrder:pv,OpChangeLeverage:LM,OpChangeMarginRatio:RM,OpClosePosition:mv,OpCreateMarginBucket:eX,OpInternTransfer:FM,OpModifyOrder:jM,OpSubmitOrder:NM,OpSwap:$M,OperationTypeOnboard:zx,SATOSHI_SCALE:zc,SubscriptionClient:Ta,SubscriptionExplorer:tX,WebSocketClient:GM,calculateRiskRatio:my,fromSatoshi:ot,fromSatoshiBatch:jV,getDisplayMarginType:gy,initWasm:LV,isLastPriceData:rd,isMarkPriceData:by,isValidSatoshi:TP,mormSigner:mt,onboardAndGetAuthToken:VM,toSatoshi:Wt,toSatoshiBatch:NV,toSatoshiUint64:hM,transformRawBucketToBucket:HM,useMarketStore:Zt},Symbol.toStringTag,{value:"Module"}));function qhe(){const[n,e]=I.useState({loading:!0,loaded:!1,error:null}),[r,i]=I.useState({initialized:!1,wasmLoaded:!1,ready:!1});I.useEffect(()=>{(async()=>{try{e(l=>({...l,loading:!0,error:null})),await mt.initialize()?(e({loading:!1,loaded:!0,error:null}),i(mt.getStatus())):(e({loading:!1,loaded:!1,error:"Failed to load WASM module"}),i(mt.getStatus()))}catch(a){e({loading:!1,loaded:!1,error:a instanceof Error?a.message:"Unknown error"}),i(mt.getStatus())}})()},[]),I.useEffect(()=>{if(n.loaded){const o=setInterval(()=>{i(mt.getStatus())},1e3);return()=>clearInterval(o)}},[n.loaded]);const s=async()=>{e({loading:!0,loaded:!1,error:null});try{await mt.initialize()?(e({loading:!1,loaded:!0,error:null}),i(mt.getStatus())):(e({loading:!1,loaded:!1,error:"Failed to load WASM module"}),i(mt.getStatus()))}catch(o){e({loading:!1,loaded:!1,error:o instanceof Error?o.message:"Unknown error"}),i(mt.getStatus())}};return{wasmStatus:n,isReady:n.loaded&&r.ready,status:r,retry:s}}function Whe(n="abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about",e=0){const[r,i]=I.useState(n),[s,o]=I.useState(e),[a,l]=I.useState(null),[c,u]=I.useState(!1);return{mnemonic:r,setMnemonic:i,addressIndex:s,setAddressIndex:o,result:a,loading:c,generateAddress:async()=>{if(!mt.isReady()){l({success:!1,error:"WASM module not ready"});return}u(!0),l(null);try{const d=await mt.generateAddress(r,s);l(d)}catch(d){l({success:!1,error:d instanceof Error?d.message:"Unknown error"})}finally{u(!1)}},isReady:mt.isReady()}}function Hhe(){const[n,e]=I.useState("abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about"),[r,i]=I.useState("Hello, World!"),[s,o]=I.useState(!1),[a,l]=I.useState(0),[c,u]=I.useState(null),[f,d]=I.useState(!1);return{mnemonic:n,setMnemonic:e,message:r,setMessage:i,useEIP712:s,setUseEIP712:o,addressIndex:a,setAddressIndex:l,result:c,loading:f,signMessage:async()=>{if(!mt.isReady()){u({success:!1,error:"WASM module not ready"});return}d(!0),u(null);try{const p={addressIndex:a,useEIP712:s},g=s?await mt.signEIP712(n,r,p):await mt.signMessage(n,r,p);u(g)}catch(p){u({success:!1,error:p instanceof Error?p.message:"Unknown error"})}finally{d(!1)}},isReady:mt.isReady()}}function ub(){var n,e,r,i,s;return typeof window>"u"?null:(n=window.phantom)!=null&&n.ethereum||(e=window.ethereum)!=null&&e.isPhantom?"phantom":(r=window.$onekey)!=null&&r.ethereum||(i=window.ethereum)!=null&&i.isOneKey?"onekey":(s=window.ethereum)!=null&&s.isMetaMask||window.ethereum?"metamask":null}function Ghe(n){return n==="metamask"||n==="phantom"||n==="onekey"}function Yhe(n="abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about",e=180,r="clob::submit_order,clob::cancel_order",i="BrowserUserAgent"){const[s,o]=I.useState(n),[a,l]=I.useState(""),[c,u]=I.useState(""),[f,d]=I.useState(""),[h,p]=I.useState(e),[g,v]=I.useState(r),[y,b]=I.useState(i),[w,k]=I.useState(Date.now().toString()),[_,S]=I.useState(null),[C,T]=I.useState(!1),D=async()=>{if(!mt.isReady()){S({success:!1,error:"WASM module not ready"});return}T(!0);try{const Y=await mt.generateAddress(s,0);Y.success&&Y.address?l(Y.address):S({success:!1,error:Y.error||"Failed to generate owner address"})}catch(Y){S({success:!1,error:Y instanceof Error?Y.message:"Unknown error"})}finally{T(!1)}},O=async()=>{if(!mt.isReady()){S({success:!1,error:"WASM module not ready"});return}T(!0);try{const Y=await mt.generateKeypair();Y.success&&Y.address&&Y.privateKey?(u(Y.address),d(Y.privateKey)):S({success:!1,error:Y.error||"Failed to generate agent keypair"})}catch(Y){S({success:!1,error:Y instanceof Error?Y.message:"Unknown error"})}finally{T(!1)}},P=async()=>{if(!mt.isReady()){S({success:!1,error:"WASM module not ready"});return}if(!a||!c){S({success:!1,error:"Owner and agent addresses are required"});return}T(!0),S(null);try{const Y=g.split(",").map(R=>R.trim()).filter(R=>R.length>0),W=await mt.prepareAgentSign({owner:a,agent:c,expiresInDays:h,permissions:Y,nonce:w,agentName:y});S(W)}catch(Y){S({success:!1,error:Y instanceof Error?Y.message:"Unknown error"})}finally{T(!1)}},{address:A,isConnected:L,connector:B}=dM(),{signTypedDataAsync:F,isPending:$}=fM(),U=()=>{var R;if(!L||!B)return null;const Y=ub();if(Ghe(Y))return Y;const W=((R=B.name)==null?void 0:R.toLowerCase())||"";return W.includes("phantom")?"phantom":W.includes("onekey")?"onekey":W.includes("metamask")?"metamask":null},N=async()=>{var W,R;if(!mt.isReady()){S({success:!1,error:"WASM module not ready"});return}if(!a||!c){S({success:!1,error:"Owner address and agent address are required"});return}if(!L||!A){S({success:!1,error:"Please connect your MetaMask wallet first"});return}if(U()!=="metamask"){const Z=ub();S(Z==="metamask"?{success:!1,error:'MetaMask wallet detected but not connected via wagmi. Please use the "Connect MetaMask" button first.'}:{success:!1,error:"This function is for MetaMask wallet only. Please use the appropriate button for your wallet."});return}if(A.toLowerCase()!==a.toLowerCase()){S({success:!1,error:`Connected address (${A}) does not match owner address (${a}). Please switch to the correct account in MetaMask.`});return}T(!0),S(null);try{const Z=g.split(",").map(Ie=>Ie.trim()).filter(Ie=>Ie.length>0),J=await mt.prepareAgentSign({owner:a,agent:c,expiresInDays:h,permissions:Z,nonce:w,agentName:y});if(!J.success||!J.typedData){S(J);return}const V=J.typedData;let te,se,ye,Re;V.domain&&V.types&&V.message?(te=V.domain,se=V.types,ye=V.primaryType||V.primaryType||"AgentApproval",Re=V.message):(te=V.domain||{},se=V.types||V.Types||{},ye=V.primaryType||V.PrimaryType||"AgentApproval",Re=V.message||V.Message||V);const Ke=await F({domain:te,types:se,primaryType:ye,message:Re});S({success:!0,typedData:J.typedData,signature:Ke})}catch(Z){Z.code===4001||(W=Z.message)!=null&&W.includes("User rejected")||(R=Z.message)!=null&&R.includes("rejected")?S({success:!1,error:"User rejected the signature request"}):S({success:!1,error:Z instanceof Error?Z.message:"Unknown error during MetaMask signing"})}finally{T(!1)}},q=async()=>{var W,R;if(!mt.isReady()){S({success:!1,error:"WASM module not ready"});return}if(!a||!c){S({success:!1,error:"Owner address and agent address are required"});return}if(!L||!A){S({success:!1,error:"Please connect your Phantom wallet first"});return}if(U()!=="phantom"){const Z=ub();S(Z==="phantom"?{success:!1,error:'Phantom wallet detected but not connected via wagmi. Please use the "Connect Phantom" button first.'}:{success:!1,error:"This function is for Phantom wallet only. Please use the appropriate button for your wallet."});return}if(A.toLowerCase()!==a.toLowerCase()){S({success:!1,error:`Connected address (${A}) does not match owner address (${a}). Please switch to the correct account in Phantom.`});return}T(!0),S(null);try{const Z=g.split(",").map(Ie=>Ie.trim()).filter(Ie=>Ie.length>0),J=await mt.prepareAgentSign({owner:a,agent:c,expiresInDays:h,permissions:Z,nonce:w,agentName:y});if(!J.success||!J.typedData){S(J);return}const V=J.typedData;let te,se,ye,Re;V.domain&&V.types&&V.message?(te=V.domain,se=V.types,ye=V.primaryType||V.primaryType||"AgentApproval",Re=V.message):(te=V.domain||{},se=V.types||V.Types||{},ye=V.primaryType||V.PrimaryType||"AgentApproval",Re=V.message||V.Message||V);const Ke=await F({domain:te,types:se,primaryType:ye,message:Re});S({success:!0,typedData:J.typedData,signature:Ke})}catch(Z){Z.code===4001||(W=Z.message)!=null&&W.includes("User rejected")||(R=Z.message)!=null&&R.includes("rejected")?S({success:!1,error:"User rejected the signature request"}):S({success:!1,error:Z instanceof Error?Z.message:"Unknown error during Phantom signing"})}finally{T(!1)}},H=async()=>{var W,R;if(!mt.isReady()){S({success:!1,error:"WASM module not ready"});return}if(!a||!c){S({success:!1,error:"Owner address and agent address are required"});return}if(!L||!A){S({success:!1,error:"Please connect your OneKey wallet first"});return}if(U()!=="onekey"){const Z=ub();S(Z==="onekey"?{success:!1,error:'OneKey wallet detected but not connected via wagmi. Please use the "Connect OneKey" button first.'}:{success:!1,error:"This function is for OneKey wallet only. Please use the appropriate button for your wallet."});return}if(A.toLowerCase()!==a.toLowerCase()){S({success:!1,error:`Connected address (${A}) does not match owner address (${a}). Please switch to the correct account in OneKey.`});return}T(!0),S(null);try{const Z=g.split(",").map(Ie=>Ie.trim()).filter(Ie=>Ie.length>0),J=await mt.prepareAgentSign({owner:a,agent:c,expiresInDays:h,permissions:Z,nonce:w,agentName:y});if(!J.success||!J.typedData){S(J);return}const V=J.typedData;let te,se,ye,Re;V.domain&&V.types&&V.message?(te=V.domain,se=V.types,ye=V.primaryType||V.primaryType||"AgentApproval",Re=V.message):(te=V.domain||{},se=V.types||V.Types||{},ye=V.primaryType||V.PrimaryType||"AgentApproval",Re=V.message||V.Message||V);const Ke=await F({domain:te,types:se,primaryType:ye,message:Re});S({success:!0,typedData:J.typedData,signature:Ke})}catch(Z){Z.code===4001||(W=Z.message)!=null&&W.includes("User rejected")||(R=Z.message)!=null&&R.includes("rejected")?S({success:!1,error:"User rejected the signature request"}):S({success:!1,error:Z instanceof Error?Z.message:"Unknown error during OneKey signing"})}finally{T(!1)}},X=L&&U()==="metamask"&&(A==null?void 0:A.toLowerCase())===a.toLowerCase();return{ownerMnemonic:s,setOwnerMnemonic:o,ownerAddress:a,setOwnerAddress:l,agentAddress:c,setAgentAddress:u,agentPrivateKey:f,setAgentPrivateKey:d,expiresInDays:h,setExpiresInDays:p,permissions:g,setPermissions:v,agentName:y,setAgentName:b,nonce:w,setNonce:k,result:_,loading:C||$,generateOwnerAddress:D,generateAgentKeypair:O,prepareAgentSign:P,signAgentApproval:N,signAgentApprovalWithPhantom:q,signAgentApprovalWithOneKey:H,isMetaMaskConnected:X,isPhantomConnected:L&&U()==="phantom"&&(A==null?void 0:A.toLowerCase())===a.toLowerCase(),isOneKeyConnected:L&&U()==="onekey"&&(A==null?void 0:A.toLowerCase())===a.toLowerCase(),isReady:mt.isReady()}}const su="http://localhost:8080",nX="ws://localhost:8080/websocket",Vhe="300px",Khe="300px",Xhe="270px",rX="630px",KM=5e3,Qhe="1",Zhe=100,iX=20,Jhe="abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about",o_=1,s4=100,epe=1,db=0,a_=100,l_=1,tpe=.01,o4=0,npe="BINANCE:BTCUSDT",rpe="5",ipe="https://s3.tradingview.com/tv.js",Fa=2,spe=2,pl="asc",Od="desc",$P="market",c_="limit",Vm="CROSS",ope="ISOLATED",ape="ONE_WAY",Km="LONG",BP="SHORT",a4="symbol",l4="leverage",c4="size",u4="liquidationPrice",d4="unrealizedPnL",f4="entryPrice",h4="margin",u_="all",fb="byBucket",p4="1.5fr 1.2fr 1fr 1fr 1fr 1.2fr 1.2fr 1fr",lpe="#51cf66",cpe="#ff6b6b",upe="Loading positions...",dpe="No open positions",fpe="POSITIONS",hpe="All",ppe="By Bucket",d_="--",m4="symbol",g4="side",b4="quantity",y4="price",v4="filledQuantity",x4="status",$a="pending",w4="history",mpe="ORDER_STATUS_PENDING",gpe="ORDER_STATUS_OPEN",bpe="PARTIALLY_FILLED",_4=[mpe,gpe,"PENDING","OPEN","NEW",bpe],f_="#ffc107",h_="#17a2b8",S4="#28a745",p_="#dc3545",k4="#dc3545",ype="#6c757d",vpe="#51cf66",xpe="#ff6b6b",C4="1.5fr 1fr 1fr 1.2fr 1.2fr 1.2fr 1fr 1fr",wpe="Loading pending orders...",_pe="No pending orders",Spe="No historical orders",kpe="OPEN ORDERS",Cpe="ORDER HISTORY",Tpe="Wallet address required to view pending orders",Epe="Pending",Dpe="History",Ppe="--",Ipe="Unknown";function Ope(n){const[e,r]=I.useState(null),[i,s]=I.useState(null),[o,a]=I.useState(!1),[l,c]=I.useState(!1),[u,f]=I.useState(null),[d,h]=I.useState($P),[p,g]=I.useState(0),[v,y]=I.useState(0),[b,w]=I.useState("0"),[k,_]=I.useState(epe),[S,C]=I.useState(ape),[T,D]=I.useState(Vm),[O,P]=I.useState(0),[A,L]=I.useState(0),[B,F]=I.useState(n.marketId||"1");I.useEffect(()=>{n.selectedBucketBalance!==void 0&&P(n.selectedBucketBalance)},[n.selectedBucketBalance]),I.useEffect(()=>{const te=new zl({baseURL:n.baseURL,mnemonic:n.mnemonic}),se=new Qn({baseURL:n.baseURL});r(te),s(se),te.initialize().then(()=>{a(!0)}).catch(ye=>{console.error("Failed to initialize exchange client:",ye),f({success:!1,error:`Initialization failed: ${ye.message}`})})},[n.baseURL,n.mnemonic]);const $=I.useCallback(async()=>{if(!(!i||!e)&&n.selectedBucketBalance===void 0)try{const te=e.getWalletAddress(),se=await i.getBalanceDecimal(te,"MORM");se&&se.available_balance!==void 0&&P(Nt(se.available_balance))}catch(te){console.error("Failed to load balance:",te)}},[i,e,n.selectedBucketBalance]);I.useEffect(()=>{o&&i&&e&&n.selectedBucketBalance===void 0&&$()},[o,i,e,n.selectedBucketBalance,$]);const U=I.useCallback(async()=>{if(i)try{const te=await i.getTicker(B);if(te&&te.lastPrice){const se=Nt(te.lastPrice);L(se),(!b||b==="0")&&w(se.toString())}}catch(te){console.error("Failed to load market price:",te)}},[i,B,b]);I.useEffect(()=>{o&&i&&U()},[o,i,U]);const N=I.useCallback(()=>d==="market"?n.tradePrice&&n.tradePrice>0?n.tradePrice:A:b?parseFloat(b):A,[d,b,A,n.tradePrice]),q=I.useCallback(()=>O*k,[O,k]),H=I.useCallback(()=>{let te;if(v>0)te=v;else{const ye=q()*p/100,Re=N();if(Re<=0)return 0;te=ye/Re}return n.maxSizeLimit!==void 0&&n.maxSizeLimit>0&&te>n.maxSizeLimit?n.maxSizeLimit:te},[v,p,q,N,n.maxSizeLimit]),X=I.useCallback(()=>{const te=H(),se=N();return te*se},[H,N]),Y=I.useCallback(()=>{const te=H(),se=N(),ye=te*se;return hM(ye)},[H,N]),W=I.useCallback(()=>{const te=Y();return k<=0?0:Math.floor(te/k)},[Y,k]),R=I.useCallback(async()=>{if(!e||!o){f({success:!1,error:"Exchange client not ready"});return}const te=H();if(te<=0){f({success:!1,error:"Invalid order size"});return}const se=N();if(se<=0){f({success:!1,error:d==="limit"?"Invalid price for limit order":"Market price not available. Please wait for price data to load."});return}if(d==="limit"&&!b){f({success:!1,error:"Price is required for limit orders"});return}c(!0),f(null);try{const ye=Wt(k.toString()),Re=await e.placeOrder({marketId:B,side:"buy",orderType:d,price:se,quantity:te,leverage:ye});f({success:!0,orderId:Re.order_id,message:"Buy order placed successfully"}),await $()}catch(ye){f({success:!1,error:ye instanceof Error?ye.message:"Unknown error"})}finally{c(!1)}},[e,o,H,N,d,b,k,B,$]),Z=I.useCallback(async()=>{if(!e||!o){f({success:!1,error:"Exchange client not ready"});return}const te=H();if(te<=0){f({success:!1,error:"Invalid order size"});return}const se=N();if(se<=0){f({success:!1,error:d==="limit"?"Invalid price for limit order":"Market price not available. Please wait for price data to load."});return}if(d==="limit"&&!b){f({success:!1,error:"Price is required for limit orders"});return}c(!0),f(null);try{const ye=Wt(k.toString()),Re=await e.placeOrder({marketId:B,side:"sell",orderType:d,price:se,quantity:te,leverage:ye});f({success:!0,orderId:Re.order_id,message:"Sell order placed successfully"}),await $()}catch(ye){f({success:!1,error:ye instanceof Error?ye.message:"Unknown error"})}finally{c(!1)}},[e,o,H,N,d,b,k,B,$]),J=I.useCallback(te=>{const se=q(),ye=se*te/100,Re=n.tradePrice&&n.tradePrice>0?n.tradePrice:A>0?A:0,Ke=Re>0?ye/Re:0;let Ie=isNaN(Ke)||!isFinite(Ke)?0:Math.round(Ke*1e8)/1e8;if(n.maxSizeLimit!==void 0&&n.maxSizeLimit>0&&Ie>n.maxSizeLimit){Ie=n.maxSizeLimit;const Ee=N();if(Ie>0&&se>0&&Ee>0){const nt=Ie*Ee/se*100;g(Math.min(100,Math.max(0,nt)))}else g(te)}else g(te);y(Ie)},[q,A,n.tradePrice,n.maxSizeLimit,N]),V=I.useCallback(te=>{let se=isNaN(te)||te<0?0:te;n.maxSizeLimit!==void 0&&n.maxSizeLimit>0&&se>n.maxSizeLimit&&(se=n.maxSizeLimit),y(se);const ye=q(),Re=N();if(se>0&&ye>0&&Re>0){const Ie=se*Re/ye*100;g(Math.min(100,Math.max(0,Ie)))}else g(0)},[q,N,n.maxSizeLimit]);return{orderType:d,setOrderType:h,fundPercent:p,sizeInput:v,price:b,leverage:k,positionMode:S,marginMode:T,availableBalance:O,currentPrice:A,marketId:B,isReady:o,loading:l,result:u,setFundPercent:J,setSizeInput:V,setPrice:w,setLeverage:_,setPositionMode:C,setMarginMode:D,setMarketId:F,placeBuyOrder:R,placeSellOrder:Z,loadBalance:$,loadMarketPrice:U,calculateSize:H,calculateSizeUSD:X,calculateValue:Y,calculateMargin:W,getOrderPrice:N,getAvailableTradeAmount:q}}function XM(n){const[e,r]=I.useState({asks:[],bids:[]}),[i,s]=I.useState(!0),[o,a]=I.useState(null),[l,c]=I.useState(!1),[u,f]=I.useState(null),d=I.useRef(null),h=I.useRef(null),p=I.useRef([]),g=I.useRef(null),v=I.useRef(!1),y=I.useRef(null),b=I.useRef(null),w=I.useRef(null),k=I.useRef(new Map),_=I.useCallback(P=>{const A=[...P].sort((B,F)=>F[0]-B[0]);let L=0;return A.map(([B,F])=>(L+=F,{price:B,size:F,cumulative:L,flash:null}))},[]),S=I.useCallback((P,A)=>{const L=new Map,B=new Map,F=new Map,$=new Map;P.asks.forEach(V=>{V.size>0&&L.set(V.price,V.size)}),P.bids.forEach(V=>{V.size>0&&B.set(V.price,V.size)}),A.asks&&A.asks.forEach(([V,te])=>{const se=L.get(V)||0;te===0?L.delete(V):(se>0?F.set(V,te>se?"up":"down"):F.set(V,"up"),L.set(V,te))}),A.bids&&A.bids.forEach(([V,te])=>{const se=B.get(V)||0;te===0?B.delete(V):(se>0?$.set(V,te>se?"up":"down"):$.set(V,"up"),B.set(V,te))});const U=Array.from(L.entries()),N=Array.from(B.entries()),q=_(U),H=_(N),X=Date.now();q.forEach(V=>{const te=F.get(V.price);te?(V.flash=te,k.current.set(`ask-${V.price}`,X)):V.flash=null}),H.forEach(V=>{const te=$.get(V.price);te?(V.flash=te,k.current.set(`bid-${V.price}`,X)):V.flash=null});const Y=n.maxDepth||100,W=q.slice(0,Y),R=H.slice(0,Y);let Z,J;if(W.length>0&&R.length>0){const V=W[W.length-1].price,te=R[0].price;Z=V-te,J=(V+te)/2}return{asks:W,bids:R,spread:Z,midPrice:J}},[_,n.maxDepth]),C=I.useCallback(async()=>{if(d.current)try{const P=await d.current.getOrderbook(n.marketId,!0);if(P&&(P.bids||P.asks)){const A=P.asks||[],L=P.bids||[],B=_(A),F=_(L),$=n.maxDepth||100,U=B.slice(0,$),N=F.slice(0,$);let q,H;if(U.length>0&&N.length>0){const X=U[U.length-1].price,Y=N[0].price;q=X-Y,H=(X+Y)/2}r({asks:U,bids:N,spread:q,midPrice:H})}}catch(P){a(P instanceof Error?P.message:"Failed to load orderbook")}},[n.marketId,n.maxDepth,_]),T=I.useCallback(async()=>{if(d.current){s(!0),a(null);try{const P=await d.current.getOrderbook(n.marketId,!0);if(P&&(P.bids||P.asks)){const A=P.asks||[],L=P.bids||[],B=_(A),F=_(L),$=n.maxDepth||100,U=B.slice(0,$),N=F.slice(0,$);let q,H;if(U.length>0&&N.length>0){const X=U[U.length-1].price,Y=N[0].price;q=X-Y,H=(X+Y)/2}r({asks:U,bids:N,spread:q,midPrice:H})}}catch(P){a(P instanceof Error?P.message:"Failed to load orderbook")}finally{s(!1)}}},[n.marketId,n.maxDepth,_]),D=I.useCallback((P,A)=>{if(P.snapshot===!0||P.type==="snapshot"||P.bids&&P.asks&&P.bids.length>10&&P.asks.length>10&&!P.delta){const B=P.asks||[],F=P.bids||[],$=_(B),U=_(F),N=n.maxDepth||100,q=$.slice(0,N),H=U.slice(0,N);let X,Y;if(q.length>0&&H.length>0){const W=q[q.length-1].price,R=H[0].price;X=W-R,Y=(W+R)/2}return{asks:q,bids:H,spread:X,midPrice:Y}}else return S(A,{bids:P.bids,asks:P.asks})},[_,S,n.maxDepth]),O=I.useCallback(P=>{!P||!P.bids&&!P.asks||(p.current.push(P),g.current!==null&&clearTimeout(g.current),g.current=window.setTimeout(()=>{r(A=>{let L=A;for(const B of p.current)L=D(B,L);if(p.current=[],A.asks.length===L.asks.length&&A.bids.length===L.bids.length&&A.spread===L.spread&&A.midPrice===L.midPrice){const B=A.bids.length>0?A.bids[0].price:0,F=A.asks.length>0?A.asks[A.asks.length-1].price:0,$=L.bids.length>0?L.bids[0].price:0,U=L.asks.length>0?L.asks[L.asks.length-1].price:0;if(B===$&&F===U)return A}return L}),g.current=null},100))},[D]);return I.useEffect(()=>{const P=new Qn({baseURL:n.baseURL});d.current=P;const A=new Ta({url:n.wsURL,authToken:n.authToken,walletAddress:n.walletAddress,deviceID:n.deviceID});h.current=A,y.current===null&&(y.current=n.marketId);const L=()=>{if(A.isConnected()){const $=y.current!==null?y.current:n.marketId;(!v.current||y.current!==$)&&(v.current&&y.current!==null&&y.current!==$&&A.unsubscribeOrderbook(y.current,O),A.subscribeOrderbook($,O,!0),v.current=!0,y.current=$)}},B=A.connect();w.current=window.setTimeout(()=>{!A.isConnected()&&d.current&&b.current===null&&(f("WebSocket connection timeout. Using HTTP polling."),c(!1),C(),b.current=window.setInterval(()=>{C()},5e3))},12e3),B.then(()=>{w.current!==null&&(clearTimeout(w.current),w.current=null),c(!0),f(null),L()}).catch(()=>{w.current!==null&&(clearTimeout(w.current),w.current=null),f("slow connection due to network issue"),c(!1),d.current&&(b.current!==null&&(clearInterval(b.current),b.current=null),C(),b.current=window.setInterval(()=>{C()},5e3))});const F=A.onStateChange($=>{$===kt.Connected?(c(!0),f(null),v.current&&L()):($===kt.Disconnected||$===kt.Reconnecting)&&(c(!1),v.current=!1,f("WebSocket disconnected. Using static data."))});return()=>{const $=y.current;g.current!==null&&(clearTimeout(g.current),g.current=null),w.current!==null&&(clearTimeout(w.current),w.current=null),p.current=[],v.current=!1,y.current=null,F&&F(),h.current&&($!==null&&h.current.unsubscribeOrderbook($,O),h.current.disconnect())}},[n.baseURL,n.wsURL,n.authToken,n.walletAddress,n.deviceID]),I.useEffect(()=>{if(!d.current||!h.current)return;const P=y.current;return P!==null&&P!==n.marketId&&h.current.isConnected()&&(h.current.unsubscribeOrderbook(P,O),v.current=!1),r({asks:[],bids:[]}),s(!0),a(null),f(null),T(),h.current.isConnected()&&(h.current.subscribeOrderbook(n.marketId,O,!0),v.current=!0),y.current=n.marketId,()=>{h.current&&h.current.isConnected()&&y.current===n.marketId&&(h.current.unsubscribeOrderbook(n.marketId,O),v.current=!1)}},[n.marketId,T,O]),I.useEffect(()=>(b.current!==null&&(clearInterval(b.current),b.current=null),!l&&d.current&&(C(),b.current=window.setInterval(()=>{C()},5e3)),()=>{b.current!==null&&(clearInterval(b.current),b.current=null)}),[l,n.marketId,C]),I.useEffect(()=>{const P=setInterval(()=>{const A=Date.now(),L=500;r(B=>{let F=!1;const $=B.asks.map(N=>{const q=`ask-${N.price}`,H=k.current.get(q);return N.flash&&H&&A-H>=L?(F=!0,k.current.delete(q),{...N,flash:null}):N}),U=B.bids.map(N=>{const q=`bid-${N.price}`,H=k.current.get(q);return N.flash&&H&&A-H>=L?(F=!0,k.current.delete(q),{...N,flash:null}):N});return F?{...B,asks:$,bids:U}:B})},100);return()=>clearInterval(P)},[]),{orderbook:e,loading:i,error:o,isConnected:l,wsError:u,refresh:T}}function qx(n){const[e,r]=I.useState(null),[i,s]=I.useState(null),[o,a]=I.useState(!0),[l,c]=I.useState(null),[u,f]=I.useState(!1),[d,h]=I.useState(null),p=I.useRef(null),g=I.useRef(null),v=I.useRef(!1),y=I.useRef(!1),b=I.useRef(null),w=I.useRef(null),k=I.useCallback(async()=>{if(!p.current){console.warn("[useTradePrice] pollRecentTrades called but infoClientRef.current is null");return}console.debug("[useTradePrice] Polling recent trades (marketId:",n.marketId,")");try{const O=n.limit||100,P=await p.current.getRecentTrades(n.marketId,O);if(P&&Array.isArray(P)&&P.length>0){const L=[...P].sort((F,$)=>{const U=Yo(F.timestamp);return Yo($.timestamp)-U})[0],B={market_id:L.market_id||n.marketId,price:Nt(L.price),quantity:Nt(L.quantity),timestamp:Yo(L.timestamp),is_buyer_maker:L.is_buyer_maker||!1,trade_id:L.trade_id||""};r(F=>(F&&typeof F.price=="number"&&(B.price>F.price?h("up"):B.price<F.price&&h("down")),setTimeout(()=>h(null),500),B))}else console.warn("[useTradePrice] Polling returned no trades or invalid data:",P)}catch(O){c(O instanceof Error?O.message:"Failed to load recent trades"),console.error("[useTradePrice] Failed to poll recent trades:",O)}},[n.marketId,n.limit]),_=I.useCallback(async()=>{if(p.current){a(!0),c(null);try{const O=n.limit||100,P=await p.current.getRecentTrades(n.marketId,O);if(P&&Array.isArray(P)&&P.length>0){const L=[...P].sort((F,$)=>{const U=Yo(F.timestamp);return Yo($.timestamp)-U})[0],B={market_id:L.market_id||n.marketId,price:Nt(L.price),quantity:Nt(L.quantity),timestamp:Yo(L.timestamp),is_buyer_maker:L.is_buyer_maker||!1,trade_id:L.trade_id||""};r(B)}else console.warn("[useTradePrice] Initialization returned no trades or invalid data:",P)}catch(O){c(O instanceof Error?O.message:"Failed to load recent trades"),console.error("Failed to initialize recent trades:",O)}finally{a(!1)}}},[n.marketId,n.limit]),S=I.useCallback(O=>{if(console.debug("[useTradePrice] handleLastPriceUpdate called with data:",O),!O){console.warn("[useTradePrice] handleLastPriceUpdate received null/undefined data");return}if(!O.price&&O.price!==0){console.warn("[useTradePrice] handleLastPriceUpdate received data without price field:",O);return}const P=Nt(O.price),A=Nt(O.quantity);if(isNaN(P)){console.warn("[useTradePrice] Invalid price value:",O.price);return}r(L=>{rd(L)&&typeof L.price=="number"&&(P>L.price?h("up"):P<L.price&&h("down")),setTimeout(()=>h(null),500);const B={market_id:O.market_id||n.marketId,price:P,quantity:A,timestamp:O.timestamp||Date.now(),is_buyer_maker:O.is_buyer_maker||!1,trade_id:O.trade_id||""};return rd(B)||console.error("[useTradePrice] Invalid LastPriceData structure:",B),console.debug("[useTradePrice] Setting lastPrice to:",B),console.debug("[useTradePrice] Type check - isLastPriceData:",rd(B)),B})},[n.marketId]),C=I.useCallback(O=>{if(!O){console.warn("[useTradePrice] handleMarkPriceUpdate received null/undefined data");return}if(O.mark_price===void 0||O.mark_price===null){console.warn("[useTradePrice] handleMarkPriceUpdate received data without mark_price field:",O);return}const P=Nt(O.mark_price);if(isNaN(P)){console.warn("[useTradePrice] Invalid mark_price value:",O.mark_price);return}const A={symbol:O.symbol||n.symbol||"",mark_price:P,timestamp:O.timestamp||Date.now()};by(A)||console.error("[useTradePrice] Invalid MarkPriceData structure:",A),s(A)},[n.symbol]);I.useEffect(()=>{const O=new Qn({baseURL:n.baseURL});p.current=O;const P=new Ta({url:n.wsURL,authToken:n.authToken,walletAddress:n.walletAddress,deviceID:n.deviceID});g.current=P,_();const A=()=>{P.isConnected()&&(v.current||(P.subscribeLastPrice(n.marketId,S,!0),v.current=!0),n.marketId&&!y.current&&(P.subscribeMarkPrice(n.marketId,C),y.current=!0))};console.debug("[useTradePrice] Attempting WebSocket connection...");const L=P.connect();console.debug("[useTradePrice] Connect promise created, waiting for result..."),w.current=window.setTimeout(()=>{console.warn("[useTradePrice] WebSocket connection timeout fallback triggered after 12 seconds");const F=P.isConnected();console.warn("[useTradePrice] subscriptionClient.isConnected():",F,"hasPollingInterval:",b.current!==null),!F&&p.current&&b.current===null?(console.debug("[useTradePrice] Starting HTTP polling due to connection timeout (marketId:",n.marketId,")"),f(!1),k(),b.current=window.setInterval(()=>{k()},5e3),console.debug("[useTradePrice] HTTP polling interval set up (every 5 seconds)")):F?console.debug("[useTradePrice] Connection established before timeout, no polling needed"):b.current!==null&&console.debug("[useTradePrice] Polling already started, skipping")},12e3),L.then(()=>{w.current!==null&&(clearTimeout(w.current),w.current=null),console.debug("[useTradePrice] WebSocket connected successfully"),f(!0),A()}).catch(F=>{w.current!==null&&(clearTimeout(w.current),w.current=null),console.error("[useTradePrice] WebSocket connection promise rejected:",F);const $=F instanceof Error?F.message:"Unknown error";console.info("WebSocket failed to establish connection. Falling back to HTTP polling:",$),f(!1),p.current?(b.current!==null&&(console.debug("[useTradePrice] Clearing existing polling interval (WebSocket failure handler)"),clearInterval(b.current),b.current=null),console.debug("[useTradePrice] Starting HTTP polling due to WebSocket connection failure (marketId:",n.marketId,")"),k(),b.current=window.setInterval(()=>{k()},5e3),console.debug("[useTradePrice] HTTP polling interval set up (every 5 seconds)")):console.warn("[useTradePrice] Cannot start polling: infoClientRef.current is null")});const B=P.onStateChange(F=>{console.debug("[useTradePrice] WebSocket state changed to:",F),F===kt.Connected?(console.debug("[useTradePrice] WebSocket connected - stopping polling if active"),f(!0),v.current&&A()):(F===kt.Disconnected||F===kt.Reconnecting)&&(console.debug("[useTradePrice] WebSocket disconnected/reconnecting - polling effect should start polling"),f(!1),v.current=!1,y.current=!1)});return()=>{w.current!==null&&(clearTimeout(w.current),w.current=null),v.current=!1,y.current=!1,B&&B(),g.current&&(g.current.unsubscribeLastPrice(n.marketId,S),n.marketId&&g.current.unsubscribeMarkPrice(n.marketId,C),g.current.disconnect())}},[n.baseURL,n.wsURL,n.marketId,n.symbol,n.authToken,n.walletAddress,n.deviceID]),I.useEffect(()=>{p.current&&g.current&&(g.current.isConnected()&&(g.current.unsubscribeLastPrice(n.marketId,S),v.current=!1,n.marketId&&(g.current.unsubscribeMarkPrice(n.marketId,C),y.current=!1)),_(),g.current.isConnected()&&(g.current.subscribeLastPrice(n.marketId,S,!0),v.current=!0,n.marketId&&(g.current.subscribeMarkPrice(n.marketId,C),y.current=!0)))},[n.marketId,n.symbol]),I.useEffect(()=>(console.debug("[useTradePrice] Polling effect triggered - isConnected:",u,"marketId:",n.marketId),b.current!==null&&(console.debug("[useTradePrice] Clearing existing polling interval (polling effect)"),clearInterval(b.current),b.current=null),!u&&p.current?(console.debug("[useTradePrice] Starting HTTP polling (WebSocket disconnected, marketId:",n.marketId,")"),k(),b.current=window.setInterval(()=>{k()},5e3),console.debug("[useTradePrice] HTTP polling interval set up (every 5 seconds)")):!u&&!p.current?console.warn("[useTradePrice] Cannot start polling: infoClientRef.current is null (isConnected:",u,")"):u&&console.debug("[useTradePrice] WebSocket connected, polling not needed"),()=>{b.current!==null&&(console.debug("[useTradePrice] Cleaning up polling interval (polling effect cleanup)"),clearInterval(b.current),b.current=null)}),[u,n.marketId]);const{displayPrice:T,displayTimestamp:D}=I.useMemo(()=>{const O=rd(e)&&e.price!=null,P=by(i)&&i.mark_price!=null;if(O&&P){const A=e.timestamp||0,L=i.timestamp||0;return A>=L?{displayPrice:e.price,displayTimestamp:A}:{displayPrice:i.mark_price,displayTimestamp:L}}return O?{displayPrice:e.price,displayTimestamp:e.timestamp||0}:P?{displayPrice:i.mark_price,displayTimestamp:i.timestamp||0}:{displayPrice:null,displayTimestamp:null}},[e,i]);return{lastPrice:e,markPrice:i,displayPrice:T,displayTimestamp:D,loading:o,error:l,isConnected:u,priceChange:d,refresh:_,isLastPriceData:rd,isMarkPriceData:by}}function Mpe(n){const e=n.historyDepth??1,[r,i]=I.useState(new Map),[s,o]=I.useState(!0),[a,l]=I.useState(null),[c,u]=I.useState(!1),f=I.useRef(null),d=I.useRef(null),h=I.useRef(new Set),p=I.useCallback(async w=>{f.current&&(l(null),console.debug(`[useFundingRate] Skipping HTTP initialization for marketId ${w} (requires symbol)`))},[e]),g=I.useCallback((w,k)=>{var S;if(!k)return;const _=((S=k.market_id)==null?void 0:S.toString())||w;k.symbol,i(C=>{const T=new Map(C),D=T.get(_);if(e===1)T.set(_,k);else{const O=Array.isArray(D)?D:D?[D]:[],P=[k,...O].slice(0,e);T.set(_,P)}return T})},[e]);I.useEffect(()=>{const w=new Qn({baseURL:n.baseURL});f.current=w;const k=new Ta({url:n.wsURL,authToken:n.authToken,walletAddress:n.walletAddress,deviceID:n.deviceID});d.current=k,o(!1);const _=()=>{k.isConnected()&&d.current&&n.marketIds.forEach(C=>{if(!h.current.has(C)){const T=D=>{g(C,D)};k.subscribeFundingRate(C,T),h.current.add(C)}})};k.connect().then(()=>{u(!0),_()}).catch(C=>{console.error("Failed to connect WebSocket:",C),l("WebSocket connection failed")});const S=k.onStateChange(C=>{C===kt.Connected?(u(!0),h.current.size>0&&_()):(C===kt.Disconnected||C===kt.Reconnecting)&&(u(!1),h.current.clear())});return()=>{S&&S(),d.current&&(n.marketIds.forEach(C=>{var T;try{(T=d.current)==null||T.unsubscribeFundingRate(C)}catch(D){console.error(`Failed to unsubscribe from funding rate for marketId ${C}:`,D)}}),d.current.disconnect())}},[n.baseURL,n.wsURL,n.marketIds.join(","),n.authToken,n.walletAddress,n.deviceID,p,g]),I.useEffect(()=>{var w;if((w=d.current)!=null&&w.isConnected()&&d.current){const k=new Set(n.marketIds);h.current.forEach(_=>{var S;k.has(_)||((S=d.current)==null||S.unsubscribeFundingRate(_),h.current.delete(_))}),n.marketIds.forEach(_=>{var S;if(!h.current.has(_)){const C=T=>{g(_,T)};(S=d.current)==null||S.subscribeFundingRate(_,C),h.current.add(_)}})}},[n.marketIds.join(","),g]);const v=I.useCallback(w=>r.get(w),[r]),y=I.useCallback(w=>{const k=r.get(w);if(k)return Array.isArray(k)?k[0]:k},[r]),b=I.useCallback(async w=>{w?await p(w):(o(!0),await Promise.all(n.marketIds.map(k=>p(k))),o(!1))},[n.marketIds,p]);return{fundingRates:r,getFundingRate:v,getLatestFundingRate:y,loading:s,error:a,isConnected:c,refresh:b}}function sX(n){const e=n.useWebSocket!==!1,[r,i]=I.useState([]),[s,o]=I.useState(!0),[a,l]=I.useState(""),[c,u]=I.useState(!1),f=I.useRef(null),d=I.useRef(null),h=I.useRef(0),p=I.useRef(!1),g=I.useRef(n);g.current=n;const v=I.useCallback(w=>{const k=Nt(w.size);let _;w.side?_=w.side==="SIDE_BUY"||w.side.toUpperCase().includes("BUY")?Km:BP:_=k>=0?Km:BP;const S=Nt(w.average_entry_price),C=Nt(w.mark_price),T=w.leverage?Nt(w.leverage):void 0;let D=0;if(w.unrealized_profit!==void 0||w.unrealized_loss!==void 0){const A=av(w.unrealized_profit),L=av(w.unrealized_loss),B=A-L;D=Nt(B.toString())}else w.unrealized_pnl!==void 0&&(D=Nt(w.unrealized_pnl));const P=Nt(w.margin_balance)||(T&&S&&k!==0?Math.abs(Math.abs(k)*S/T):0);return{marketId:w.market_id.toString(),symbol:w.symbol||`m-${w.market_id}`,size:Math.abs(k),entryPrice:S,markPrice:C,liquidationPrice:w.liquidation_price?Nt(w.liquidation_price):void 0,unrealizedPnL:D,leverage:T,margin:P,side:_,marginMode:w.margin_mode||w.margin_type||Vm,bucketId:w.bucket_id?String(w.bucket_id):void 0}},[]),y=I.useCallback(async()=>{if(!f.current)return;const w=g.current;if(!w.walletAddress||w.walletAddress.trim()===""){l(""),i([]),o(!1);return}l("");try{const k=await Ux(YM.http,()=>f.current.getPositions(w.walletAddress));if(Array.isArray(k)){const _=k.map(v);i(S=>{if(S.length!==_.length)return _;const C=JSON.stringify(S),T=JSON.stringify(_);return C===T?S:_})}else i(_=>_.length===0?_:[])}catch(k){l(k instanceof Error?k.message:"Failed to load positions"),console.error("Failed to fetch positions after retries:",k)}finally{o(!1)}},[v]),b=I.useCallback(w=>{if(w.positions&&Array.isArray(w.positions)){const k=w.positions.map(v);i(_=>{if(_.length!==k.length)return k;const S=JSON.stringify(_),C=JSON.stringify(k);return S===C?_:k})}},[v]);return I.useEffect(()=>{const w=new Qn({baseURL:n.baseURL,sessionToken:n.authToken});if(f.current=w,y(),e&&n.wsURL){const k=new Ta({url:n.wsURL,authToken:n.authToken,walletAddress:n.walletAddress,deviceID:n.deviceID});d.current=k;const _=()=>{if(k.isReadyForSubscriptions()&&!p.current)try{const C=n.marketId??"0",T=n.symbol??"USDC/USDC";k.subscribeMultiFeedSubChannel(C,T,"positions",b),p.current=!0}catch(C){console.error("[usePositions] Failed to subscribe to positions:",C),C instanceof Error&&C.message.includes("Authentication")&&(p.current=!1)}else if(k.isConnected()&&!k.isReadyForSubscriptions()){const C=k.getAuthState();C==="pending"?console.debug("[usePositions] Waiting for authentication to complete..."):C==="failed"&&console.error("[usePositions] Authentication failed - cannot subscribe to positions")}};k.connect().then(()=>{u(!0),_()}).catch(C=>{console.error("Failed to connect WebSocket:",C),u(!1),n.refreshInterval&&n.refreshInterval>0&&(h.current=window.setInterval(()=>{y()},n.refreshInterval))});const S=k.onStateChange(C=>{C===kt.Connected?(u(!0),p.current&&_(),h.current!==null&&(clearInterval(h.current),h.current=0)):(C===kt.Disconnected||C===kt.Reconnecting)&&(u(!1),p.current=!1,n.refreshInterval&&n.refreshInterval>0&&h.current===null&&(h.current=window.setInterval(()=>{y()},n.refreshInterval)))});return()=>{S&&S(),h.current!==null&&(clearInterval(h.current),h.current=0),d.current&&(d.current.unsubscribeMultiFeedSubChannel("positions",b),d.current.disconnect())}}else return n.refreshInterval&&n.refreshInterval>0&&(h.current=window.setInterval(()=>{y()},n.refreshInterval)),()=>{h.current!==null&&(clearInterval(h.current),h.current=0)}},[n.baseURL,n.wsURL,n.authToken,n.walletAddress,n.deviceID,n.refreshInterval,n.marketId,n.symbol,e]),{positions:r,loading:s,error:a,isConnected:c,refresh:y}}function oX(n){const[e,r]=I.useState([]),[i,s]=I.useState(!0),[o,a]=I.useState(""),l=I.useRef(null),c=I.useRef(0),u=I.useCallback(async()=>{if(l.current){a(""),s(!0);try{if(!n.walletAddress){a("Wallet address is required"),r([]);return}const f=await l.current.getBuckets(n.walletAddress),d=Array.isArray(f)?f:[];Array.isArray(f)||console.warn("[useBuckets] getBuckets returned non-array:",f);const h=d.map(p=>HM(p,ot));r(h)}catch(f){const d=f instanceof Error?f.message:"Failed to load buckets";a(d),console.error("Failed to fetch buckets:",f),r([])}finally{s(!1)}}},[n.walletAddress]);return I.useEffect(()=>{const f=new Qn({baseURL:n.baseURL,sessionToken:n.authToken});return l.current=f,u(),n.refreshInterval&&n.refreshInterval>0&&(c.current=window.setInterval(()=>{u()},n.refreshInterval)),()=>{c.current!==null&&(clearInterval(c.current),c.current=0)}},[n.baseURL,n.authToken,n.walletAddress,n.refreshInterval]),{buckets:e,loading:i,error:o,refresh:u}}function Ape(n){const e=n.maxDataPoints||100,[r,i]=I.useState([]),[s,o]=I.useState(!0),[a,l]=I.useState(null),[c,u]=I.useState(!1),f=I.useRef(null),d=I.useRef(!1),h=I.useRef(null),p=I.useCallback(g=>{if(!g){console.warn("[useKline] handleKlineUpdate received null/undefined data");return}try{const v=s_(g.open_time,Date.now()),y=s_(g.close_time,v),b=s_(g.timestamp,v),w={market_id:g.market_id||n.marketId,symbol:g.symbol,interval:g.interval||n.interval,open_time:v,close_time:y,open:Nt(g.open),high:Nt(g.high),low:Nt(g.low),close:Nt(g.close),volume:Nt(g.volume),trade_count:g.trade_count||g.tradeCount||0,timestamp:b,raw:g};i(k=>{const _=[...k,w];return _.length>e?_.slice(-e):_})}catch(v){console.error("[useKline] Error processing kline update:",v),l(v instanceof Error?v.message:"Failed to process kline data")}},[n.marketId,n.interval,e]);return I.useEffect(()=>{const g=new Ta({url:n.wsURL,authToken:n.authToken,walletAddress:n.walletAddress,deviceID:n.deviceID});f.current=g;const v=()=>{g.isConnected()&&(d.current||(g.subscribeKline(n.marketId,n.interval,p),d.current=!0))};console.debug("[useKline] Attempting WebSocket connection...");const y=g.connect();h.current=window.setTimeout(()=>{console.warn("[useKline] WebSocket connection timeout after 12 seconds"),g.isConnected()||(u(!1),l("WebSocket connection timeout"),o(!1))},12e3),y.then(()=>{h.current!==null&&(clearTimeout(h.current),h.current=null),console.debug("[useKline] WebSocket connected successfully"),u(!0),o(!1),v()}).catch(w=>{h.current!==null&&(clearTimeout(h.current),h.current=null),console.error("[useKline] WebSocket connection failed:",w);const k=w instanceof Error?w.message:"Unknown error";u(!1),l(k),o(!1)});const b=g.onStateChange(w=>{console.debug("[useKline] WebSocket state changed to:",w),w===kt.Connected?(u(!0),d.current&&v()):(w===kt.Disconnected||w===kt.Reconnecting)&&(u(!1),d.current=!1)});return()=>{h.current!==null&&(clearTimeout(h.current),h.current=null),d.current=!1,b&&b(),f.current&&(f.current.unsubscribeKline(n.marketId,n.interval,p),f.current.disconnect())}},[n.wsURL,n.marketId,n.interval,n.authToken,n.walletAddress,n.deviceID,p]),{klineData:r,loading:s,error:a,isConnected:c}}function Ul(n){const e=I.useRef(null),r=Zt(W=>W.markets),i=Zt(W=>W.marketsById),s=Zt(W=>W.orderbooks),o=Zt(W=>W.tickers),a=Zt(W=>W.recentTrades),l=Zt(W=>W.selectedMarketId),c=Zt(W=>W.loadingMarkets),u=Zt(W=>W.loadingOrderbooks),f=Zt(W=>W.loadingTickers),d=Zt(W=>W.loadingTrades),h=Zt(W=>W.errors),p=Zt(W=>W.setMarkets),g=Zt(W=>W.setMarket),v=Zt(W=>W.getMarket),y=Zt(W=>W.getMarketBySymbol),b=Zt(W=>W.setSelectedMarketId),w=Zt(W=>W.setOrderbook),k=Zt(W=>W.getOrderbook),_=Zt(W=>W.updateOrderbook),S=Zt(W=>W.setTicker),C=Zt(W=>W.getTicker),T=Zt(W=>W.setRecentTrades),D=Zt(W=>W.getRecentTrades),O=Zt(W=>W.setLoading),P=Zt(W=>W.setError),A=Zt(W=>W.clearError),L=Zt(W=>W.clearCache);I.useEffect(()=>{e.current?n.sessionToken&&e.current.setSessionToken(n.sessionToken):e.current=new Qn({baseURL:n.baseURL,sessionToken:n.sessionToken})},[n.baseURL,n.sessionToken]);const B=I.useCallback(async()=>{if(!e.current)throw new Error("InfoClient not initialized");const W="markets";O(W,!0),P(W,null);try{const R=await e.current.getMarkets(),J=(Array.isArray(R)?R:(R==null?void 0:R.markets)||[]).map((V,te)=>{let se;if(V.id!==void 0)se=typeof V.id=="string"?parseInt(V.id,10)||te+1:V.id;else if(V.market_id!==void 0){const ye=String(V.market_id),Re=parseInt(ye,10);isNaN(Re)?se=te+1:Re>Number.MAX_SAFE_INTEGER?se=Re%Number.MAX_SAFE_INTEGER||te+1:se=Re}else se=te+1;return{id:se,symbol:V.symbol||V.moniker,moniker:V.moniker,baseAsset:V.base_asset||V.baseAsset,quoteAsset:V.quote_asset||V.quoteAsset,active:V.active!==void 0?V.active:V.status==="active",market_id:V.market_id,status:V.status,...V}});return p(J),J}catch(R){const Z=R instanceof Error?R.message:"Failed to fetch markets";throw P(W,Z),R}finally{O(W,!1)}},[p,O,P]),F=I.useCallback(async W=>{if(!e.current)throw new Error("InfoClient not initialized");const R=typeof W=="string"?parseInt(W,10):W,Z=isNaN(R)?null:v(R);if(Z)return Z;try{const J=await e.current.getMarketByID(W);return J?(g(J),J):null}catch(J){const V=J instanceof Error?J.message:`Failed to fetch market ${W}`;throw P(`market_${W}`,V),J}},[v,g,P]),$=I.useCallback(async W=>{if(!e.current)throw new Error("InfoClient not initialized");const R=y(W);if(R)return R;try{const Z=await e.current.getMarketByMoniker(W);return Z?(g(Z),Z):null}catch(Z){const J=Z instanceof Error?Z.message:`Failed to fetch market ${W}`;throw P(`market_${W}`,J),Z}},[y,g,P]),U=I.useCallback(async(W,R=!0,Z=20)=>{if(!e.current)throw new Error("InfoClient not initialized");const J=`orderbook_${W}`;O(J,!0),P(J,null);try{const V=await e.current.getOrderbook(W,R,Z);if(V&&(V.bids||V.asks)){const te={bids:V.bids||[],asks:V.asks||[],timestamp:Date.now()};return w(typeof W=="string"?W:W.toString(),te),te}return null}catch(V){const te=V instanceof Error?V.message:`Failed to fetch orderbook for market ${W}`;throw P(J,te),V}finally{O(J,!1)}},[w,O,P]),N=I.useCallback(async W=>{if(!e.current)throw new Error("InfoClient not initialized");const R=`ticker_${W}`;O(R,!0),P(R,null);try{const Z=await e.current.getTicker(W);if(Z){const J=typeof W=="string"?W:W.toString(),V={marketId:J,...Z,timestamp:Date.now()};return S(J,V),V}return null}catch(Z){const J=Z instanceof Error?Z.message:`Failed to fetch ticker for market ${W}`;throw P(R,J),Z}finally{O(R,!1)}},[S,O,P]),q=I.useCallback(async(W,R=100)=>{if(!e.current)throw new Error("InfoClient not initialized");const Z=`trades_${W}`;O(Z,!0),P(Z,null);try{const J=await e.current.getRecentTrades(W,R);if(J){const V=Array.isArray(J)?J:[];return T(typeof W=="string"?W:W.toString(),V),V}return null}catch(J){const V=J instanceof Error?J.message:`Failed to fetch trades for market ${W}`;throw P(Z,V),J}finally{O(Z,!1)}},[T,O,P]);I.useEffect(()=>{n.autoFetchMarkets&&r.length===0&&!c&&B().catch(console.error)},[n.autoFetchMarkets,r.length,c,B]);const H=l?r.find(W=>{var R;return W.market_id===l||((R=W.id)==null?void 0:R.toString())===l}):null,X=H?H.moniker||H.symbol||(H.baseAsset&&H.quoteAsset?`${H.baseAsset}-${H.quoteAsset}`:null):null,Y=I.useCallback(W=>{const R=typeof W=="string"?W:W.toString(),Z=r.find(J=>{var V;return J.market_id===R||((V=J.id)==null?void 0:V.toString())===R});return Z?Z.moniker||Z.symbol||(Z.baseAsset&&Z.quoteAsset?`${Z.baseAsset}/${Z.quoteAsset}`:null):null},[r]);return{markets:r,marketsById:i,orderbooks:s,tickers:o,recentTrades:a,selectedMarketId:l,selectedMarket:H,selectedMarketSymbol:X,loadingMarkets:c,loadingOrderbooks:u,loadingTickers:f,loadingTrades:d,isLoading:W=>{if(W==="markets")return c;if(W.startsWith("orderbook_")){const R=W.split("_").slice(1).join("_");return u.has(R)}if(W.startsWith("ticker_")){const R=W.split("_").slice(1).join("_");return f.has(R)}if(W.startsWith("trades_")){const R=W.split("_").slice(1).join("_");return d.has(R)}return!1},errors:h,getError:W=>h.get(W),getMarket:v,getMarketBySymbol:y,getSymbolByMarketId:Y,getOrderbook:k,getTicker:C,getRecentTrades:D,fetchMarkets:B,fetchMarket:F,fetchMarketBySymbol:$,fetchOrderbook:U,fetchTicker:N,fetchRecentTrades:q,updateOrderbook:_,clearCache:L,clearError:A,setSelectedMarketId:b,infoClient:e.current}}function Rpe(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}const Npe=n=>{switch(n){case"success":return Fpe;case"info":return Bpe;case"warning":return $pe;case"error":return zpe;default:return null}},jpe=Array(12).fill(0),Lpe=({visible:n,className:e})=>Ae.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},Ae.createElement("div",{className:"sonner-spinner"},jpe.map((r,i)=>Ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),Fpe=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),$pe=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Bpe=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),zpe=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Upe=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),qpe=()=>{const[n,e]=Ae.useState(document.hidden);return Ae.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),n};let zP=1;class Wpe{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:i,...s}=e,o=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:zP++,a=this.toasts.find(c=>c.id===o),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(c=>c.id===o?(this.publish({...c,...e,id:o,title:i}),{...c,...e,id:o,dismissible:l,title:i}):c):this.addToast({title:i,...s,dismissible:l,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(i=>i({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let i;r.loading!==void 0&&(i=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let o=i!==void 0,a;const l=s.then(async u=>{if(a=["resolve",u],Ae.isValidElement(u))o=!1,this.create({id:i,type:"default",message:u});else if(Gpe(u)&&!u.ok){o=!1;const d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,g=typeof d=="object"&&!Ae.isValidElement(d)?d:{message:d};this.create({id:i,type:"error",description:h,...g})}else if(u instanceof Error){o=!1;const d=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description,g=typeof d=="object"&&!Ae.isValidElement(d)?d:{message:d};this.create({id:i,type:"error",description:h,...g})}else if(r.success!==void 0){o=!1;const d=typeof r.success=="function"?await r.success(u):r.success,h=typeof r.description=="function"?await r.description(u):r.description,g=typeof d=="object"&&!Ae.isValidElement(d)?d:{message:d};this.create({id:i,type:"success",description:h,...g})}}).catch(async u=>{if(a=["reject",u],r.error!==void 0){o=!1;const f=typeof r.error=="function"?await r.error(u):r.error,d=typeof r.description=="function"?await r.description(u):r.description,p=typeof f=="object"&&!Ae.isValidElement(f)?f:{message:f};this.create({id:i,type:"error",description:d,...p})}}).finally(()=>{o&&(this.dismiss(i),i=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,f)=>l.then(()=>a[0]==="reject"?f(a[1]):u(a[1])).catch(f));return typeof i!="string"&&typeof i!="number"?{unwrap:c}:Object.assign(i,{unwrap:c})},this.custom=(e,r)=>{const i=(r==null?void 0:r.id)||zP++;return this.create({jsx:e(i),id:i,...r}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ti=new Wpe,Hpe=(n,e)=>{const r=(e==null?void 0:e.id)||zP++;return ti.addToast({title:n,...e,id:r}),r},Gpe=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",Ype=Hpe,Vpe=()=>ti.toasts,Kpe=()=>ti.getActiveToasts(),Ze=Object.assign(Ype,{success:ti.success,info:ti.info,warning:ti.warning,error:ti.error,custom:ti.custom,message:ti.message,promise:ti.promise,dismiss:ti.dismiss,loading:ti.loading},{getHistory:Vpe,getToasts:Kpe});Rpe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function hb(n){return n.label!==void 0}const Xpe=3,Qpe="24px",Zpe="16px",T4=4e3,Jpe=356,eme=14,tme=45,nme=200;function Xs(...n){return n.filter(Boolean).join(" ")}function rme(n){const[e,r]=n.split("-"),i=[];return e&&i.push(e),r&&i.push(r),i}const ime=n=>{var e,r,i,s,o,a,l,c,u;const{invert:f,toast:d,unstyled:h,interacting:p,setHeights:g,visibleToasts:v,heights:y,index:b,toasts:w,expanded:k,removeToast:_,defaultRichColors:S,closeButton:C,style:T,cancelButtonStyle:D,actionButtonStyle:O,className:P="",descriptionClassName:A="",duration:L,position:B,gap:F,expandByDefault:$,classNames:U,icons:N,closeButtonAriaLabel:q="Close toast"}=n,[H,X]=Ae.useState(null),[Y,W]=Ae.useState(null),[R,Z]=Ae.useState(!1),[J,V]=Ae.useState(!1),[te,se]=Ae.useState(!1),[ye,Re]=Ae.useState(!1),[Ke,Ie]=Ae.useState(!1),[Ee,He]=Ae.useState(0),[nt,z]=Ae.useState(0),ve=Ae.useRef(d.duration||L||T4),Ne=Ae.useRef(null),ge=Ae.useRef(null),$e=b===0,ue=b+1<=v,ee=d.type,le=d.dismissible!==!1,xe=d.className||"",pe=d.descriptionClassName||"",Le=Ae.useMemo(()=>y.findIndex(Fe=>Fe.toastId===d.id)||0,[y,d.id]),ce=Ae.useMemo(()=>{var Fe;return(Fe=d.closeButton)!=null?Fe:C},[d.closeButton,C]),Oe=Ae.useMemo(()=>d.duration||L||T4,[d.duration,L]),je=Ae.useRef(0),be=Ae.useRef(0),de=Ae.useRef(0),me=Ae.useRef(null),[he,fe]=B.split("-"),De=Ae.useMemo(()=>y.reduce((Fe,we,ft)=>ft>=Le?Fe:Fe+we.height,0),[y,Le]),Ye=qpe(),Ge=d.invert||f,Ve=ee==="loading";be.current=Ae.useMemo(()=>Le*F+De,[Le,De]),Ae.useEffect(()=>{ve.current=Oe},[Oe]),Ae.useEffect(()=>{Z(!0)},[]),Ae.useEffect(()=>{const Fe=ge.current;if(Fe){const we=Fe.getBoundingClientRect().height;return z(we),g(ft=>[{toastId:d.id,height:we,position:d.position},...ft]),()=>g(ft=>ft.filter(at=>at.toastId!==d.id))}},[g,d.id]),Ae.useLayoutEffect(()=>{if(!R)return;const Fe=ge.current,we=Fe.style.height;Fe.style.height="auto";const ft=Fe.getBoundingClientRect().height;Fe.style.height=we,z(ft),g(at=>at.find(Me=>Me.toastId===d.id)?at.map(Me=>Me.toastId===d.id?{...Me,height:ft}:Me):[{toastId:d.id,height:ft,position:d.position},...at])},[R,d.title,d.description,g,d.id,d.jsx,d.action,d.cancel]);const K=Ae.useCallback(()=>{V(!0),He(be.current),g(Fe=>Fe.filter(we=>we.toastId!==d.id)),setTimeout(()=>{_(d)},nme)},[d,_,g,be]);Ae.useEffect(()=>{if(d.promise&&ee==="loading"||d.duration===1/0||d.type==="loading")return;let Fe;return k||p||Ye?(()=>{if(de.current<je.current){const at=new Date().getTime()-je.current;ve.current=ve.current-at}de.current=new Date().getTime()})():(()=>{ve.current!==1/0&&(je.current=new Date().getTime(),Fe=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),K()},ve.current))})(),()=>clearTimeout(Fe)},[k,p,d,ee,Ye,K]),Ae.useEffect(()=>{d.delete&&(K(),d.onDismiss==null||d.onDismiss.call(d,d))},[K,d.delete]);function re(){var Fe;if(N!=null&&N.loading){var we;return Ae.createElement("div",{className:Xs(U==null?void 0:U.loader,d==null||(we=d.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":ee==="loading"},N.loading)}return Ae.createElement(Lpe,{className:Xs(U==null?void 0:U.loader,d==null||(Fe=d.classNames)==null?void 0:Fe.loader),visible:ee==="loading"})}const ne=d.icon||(N==null?void 0:N[ee])||Npe(ee);var ut,Be;return Ae.createElement("li",{tabIndex:0,ref:ge,className:Xs(P,xe,U==null?void 0:U.toast,d==null||(e=d.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[ee],d==null||(r=d.classNames)==null?void 0:r[ee]),"data-sonner-toast":"","data-rich-colors":(ut=d.richColors)!=null?ut:S,"data-styled":!(d.jsx||d.unstyled||h),"data-mounted":R,"data-promise":!!d.promise,"data-swiped":Ke,"data-removed":J,"data-visible":ue,"data-y-position":he,"data-x-position":fe,"data-index":b,"data-front":$e,"data-swiping":te,"data-dismissible":le,"data-type":ee,"data-invert":Ge,"data-swipe-out":ye,"data-swipe-direction":Y,"data-expanded":!!(k||$&&R),"data-testid":d.testId,style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${J?Ee:be.current}px`,"--initial-height":$?"auto":`${nt}px`,...T,...d.style},onDragEnd:()=>{se(!1),X(null),me.current=null},onPointerDown:Fe=>{Fe.button!==2&&(Ve||!le||(Ne.current=new Date,He(be.current),Fe.target.setPointerCapture(Fe.pointerId),Fe.target.tagName!=="BUTTON"&&(se(!0),me.current={x:Fe.clientX,y:Fe.clientY})))},onPointerUp:()=>{var Fe,we,ft;if(ye||!le)return;me.current=null;const at=Number(((Fe=ge.current)==null?void 0:Fe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),At=Number(((we=ge.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Me=new Date().getTime()-((ft=Ne.current)==null?void 0:ft.getTime()),Ce=H==="x"?at:At,ht=Math.abs(Ce)/Me;if(Math.abs(Ce)>=tme||ht>.11){He(be.current),d.onDismiss==null||d.onDismiss.call(d,d),W(H==="x"?at>0?"right":"left":At>0?"down":"up"),K(),Re(!0);return}else{var Ue,lt;(Ue=ge.current)==null||Ue.style.setProperty("--swipe-amount-x","0px"),(lt=ge.current)==null||lt.style.setProperty("--swipe-amount-y","0px")}Ie(!1),se(!1),X(null)},onPointerMove:Fe=>{var we,ft,at;if(!me.current||!le||((we=window.getSelection())==null?void 0:we.toString().length)>0)return;const Me=Fe.clientY-me.current.y,Ce=Fe.clientX-me.current.x;var ht;const Ue=(ht=n.swipeDirections)!=null?ht:rme(B);!H&&(Math.abs(Ce)>1||Math.abs(Me)>1)&&X(Math.abs(Ce)>Math.abs(Me)?"x":"y");let lt={x:0,y:0};const Tt=bt=>1/(1.5+Math.abs(bt)/20);if(H==="y"){if(Ue.includes("top")||Ue.includes("bottom"))if(Ue.includes("top")&&Me<0||Ue.includes("bottom")&&Me>0)lt.y=Me;else{const bt=Me*Tt(Me);lt.y=Math.abs(bt)<Math.abs(Me)?bt:Me}}else if(H==="x"&&(Ue.includes("left")||Ue.includes("right")))if(Ue.includes("left")&&Ce<0||Ue.includes("right")&&Ce>0)lt.x=Ce;else{const bt=Ce*Tt(Ce);lt.x=Math.abs(bt)<Math.abs(Ce)?bt:Ce}(Math.abs(lt.x)>0||Math.abs(lt.y)>0)&&Ie(!0),(ft=ge.current)==null||ft.style.setProperty("--swipe-amount-x",`${lt.x}px`),(at=ge.current)==null||at.style.setProperty("--swipe-amount-y",`${lt.y}px`)}},ce&&!d.jsx&&ee!=="loading"?Ae.createElement("button",{"aria-label":q,"data-disabled":Ve,"data-close-button":!0,onClick:Ve||!le?()=>{}:()=>{K(),d.onDismiss==null||d.onDismiss.call(d,d)},className:Xs(U==null?void 0:U.closeButton,d==null||(i=d.classNames)==null?void 0:i.closeButton)},(Be=N==null?void 0:N.close)!=null?Be:Upe):null,(ee||d.icon||d.promise)&&d.icon!==null&&((N==null?void 0:N[ee])!==null||d.icon)?Ae.createElement("div",{"data-icon":"",className:Xs(U==null?void 0:U.icon,d==null||(s=d.classNames)==null?void 0:s.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||re():null,d.type!=="loading"?ne:null):null,Ae.createElement("div",{"data-content":"",className:Xs(U==null?void 0:U.content,d==null||(o=d.classNames)==null?void 0:o.content)},Ae.createElement("div",{"data-title":"",className:Xs(U==null?void 0:U.title,d==null||(a=d.classNames)==null?void 0:a.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?Ae.createElement("div",{"data-description":"",className:Xs(A,pe,U==null?void 0:U.description,d==null||(l=d.classNames)==null?void 0:l.description)},typeof d.description=="function"?d.description():d.description):null),Ae.isValidElement(d.cancel)?d.cancel:d.cancel&&hb(d.cancel)?Ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||D,onClick:Fe=>{hb(d.cancel)&&le&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,Fe),K())},className:Xs(U==null?void 0:U.cancelButton,d==null||(c=d.classNames)==null?void 0:c.cancelButton)},d.cancel.label):null,Ae.isValidElement(d.action)?d.action:d.action&&hb(d.action)?Ae.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||O,onClick:Fe=>{hb(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,Fe),!Fe.defaultPrevented&&K())},className:Xs(U==null?void 0:U.actionButton,d==null||(u=d.classNames)==null?void 0:u.actionButton)},d.action.label):null)};function E4(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function sme(n,e){const r={};return[n,e].forEach((i,s)=>{const o=s===1,a=o?"--mobile-offset":"--offset",l=o?Zpe:Qpe;function c(u){["top","right","bottom","left"].forEach(f=>{r[`${a}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof i=="number"||typeof i=="string"?c(i):typeof i=="object"?["top","right","bottom","left"].forEach(u=>{i[u]===void 0?r[`${a}-${u}`]=l:r[`${a}-${u}`]=typeof i[u]=="number"?`${i[u]}px`:i[u]}):c(l)}),r}const ome=Ae.forwardRef(function(e,r){const{id:i,invert:s,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:l,closeButton:c,className:u,offset:f,mobileOffset:d,theme:h="light",richColors:p,duration:g,style:v,visibleToasts:y=Xpe,toastOptions:b,dir:w=E4(),gap:k=eme,icons:_,containerAriaLabel:S="Notifications"}=e,[C,T]=Ae.useState([]),D=Ae.useMemo(()=>i?C.filter(R=>R.toasterId===i):C.filter(R=>!R.toasterId),[C,i]),O=Ae.useMemo(()=>Array.from(new Set([o].concat(D.filter(R=>R.position).map(R=>R.position)))),[D,o]),[P,A]=Ae.useState([]),[L,B]=Ae.useState(!1),[F,$]=Ae.useState(!1),[U,N]=Ae.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=Ae.useRef(null),H=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=Ae.useRef(null),Y=Ae.useRef(!1),W=Ae.useCallback(R=>{T(Z=>{var J;return(J=Z.find(V=>V.id===R.id))!=null&&J.delete||ti.dismiss(R.id),Z.filter(({id:V})=>V!==R.id)})},[]);return Ae.useEffect(()=>ti.subscribe(R=>{if(R.dismiss){requestAnimationFrame(()=>{T(Z=>Z.map(J=>J.id===R.id?{...J,delete:!0}:J))});return}setTimeout(()=>{yae.flushSync(()=>{T(Z=>{const J=Z.findIndex(V=>V.id===R.id);return J!==-1?[...Z.slice(0,J),{...Z[J],...R},...Z.slice(J+1)]:[R,...Z]})})})}),[C]),Ae.useEffect(()=>{if(h!=="system"){N(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?N("dark"):N("light")),typeof window>"u")return;const R=window.matchMedia("(prefers-color-scheme: dark)");try{R.addEventListener("change",({matches:Z})=>{N(Z?"dark":"light")})}catch{R.addListener(({matches:J})=>{try{N(J?"dark":"light")}catch(V){console.error(V)}})}},[h]),Ae.useEffect(()=>{C.length<=1&&B(!1)},[C]),Ae.useEffect(()=>{const R=Z=>{var J;if(a.every(se=>Z[se]||Z.code===se)){var te;B(!0),(te=q.current)==null||te.focus()}Z.code==="Escape"&&(document.activeElement===q.current||(J=q.current)!=null&&J.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[a]),Ae.useEffect(()=>{if(q.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,Y.current=!1)}},[q.current]),Ae.createElement("section",{ref:r,"aria-label":`${S} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((R,Z)=>{var J;const[V,te]=R.split("-");return D.length?Ae.createElement("ol",{key:R,dir:w==="auto"?E4():w,tabIndex:-1,ref:q,className:u,"data-sonner-toaster":!0,"data-sonner-theme":U,"data-y-position":V,"data-x-position":te,style:{"--front-toast-height":`${((J=P[0])==null?void 0:J.height)||0}px`,"--width":`${Jpe}px`,"--gap":`${k}px`,...v,...sme(f,d)},onBlur:se=>{Y.current&&!se.currentTarget.contains(se.relatedTarget)&&(Y.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,X.current=se.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{F||B(!1)},onDragEnd:()=>B(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},D.filter(se=>!se.position&&Z===0||se.position===R).map((se,ye)=>{var Re,Ke;return Ae.createElement(ime,{key:se.id,icons:_,index:ye,toast:se,defaultRichColors:p,duration:(Re=b==null?void 0:b.duration)!=null?Re:g,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:s,visibleToasts:y,closeButton:(Ke=b==null?void 0:b.closeButton)!=null?Ke:c,interacting:F,position:R,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,closeButtonAriaLabel:b==null?void 0:b.closeButtonAriaLabel,removeToast:W,toasts:D.filter(Ie=>Ie.position==se.position),heights:P.filter(Ie=>Ie.position==se.position),setHeights:A,expandByDefault:l,gap:k,expanded:L,swipeDirections:e.swipeDirections})})):null}))}),qh="onboard_mnemonic",Hu="onboard_wallet_address",Wh="onboard_auth_token",Hh="onboard_refresh_token",Gh="onboard_expires_at";function _u(n){const[e,r]=I.useState(""),[i,s]=I.useState(""),[o,a]=I.useState(!1),[l,c]=I.useState(""),[u,f]=I.useState(void 0),[d,h]=I.useState(void 0),[p,g]=I.useState(!1),[v,y]=I.useState(null);I.useEffect(()=>{const P=localStorage.getItem(qh),A=localStorage.getItem(Hu),L=localStorage.getItem(Wh),B=localStorage.getItem(Hh),F=localStorage.getItem(Gh);if(r(P||""),s(A||""),L&&c(L),B&&f(B),F){const $=parseInt(F,10);isNaN($)||h($)}},[]);const b=I.useCallback(async P=>{if(!P||P.trim()==="")return null;a(!0);try{mt.isReady()||await mt.initialize();const A=await mt.generateAddress(P.trim(),0);return A.success&&A.address?A.address:(console.error("Failed to generate address:",A.error),null)}catch(A){return console.error("Error generating address:",A),null}finally{a(!1)}},[]),w=I.useCallback(async P=>{const A=P.trim();if(A===""){r(""),s(""),localStorage.removeItem(qh),localStorage.removeItem(Hu);return}r(A),localStorage.setItem(qh,A);const L=await b(A);L?(s(L),localStorage.setItem(Hu,L)):(s(""),localStorage.removeItem(Hu))},[b]),k=I.useCallback((P,A)=>{const L=P.trim(),B=A.trim().toLowerCase();r(L),s(B),localStorage.setItem(qh,L),localStorage.setItem(Hu,B)},[]),_=I.useCallback(()=>{r(""),s(""),localStorage.removeItem(qh),localStorage.removeItem(Hu)},[]),S=I.useMemo(()=>{if(e==="")return null;const P=e.trim();if(P==="")return null;try{const A=Of.fromPhrase(P,"","m/44'/60'/0'/0/0");if(i&&A.address.toLowerCase()!==i.toLowerCase())return console.warn("Address mismatch: derived address does not match stored address"),null;const L=BigInt(A.privateKey),B=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if(L===0n||L>=B)return console.error("Invalid private key: out of secp256k1 curve order"),null;const $=L.toString(16).toLowerCase().padStart(64,"0");return/^[0-9a-f]{64}$/.test($)?$:(console.error("Invalid private key format"),null)}catch(A){return console.error("Error computing private key:",A),null}},[e,i]),C=I.useCallback(async(P,A,L,B)=>{g(!0),y(null);try{await w(P);const F=await VM(P,A,L,B);if(F.success&&F.authToken)c(F.authToken),f(F.refreshToken),h(F.expiresAt),localStorage.setItem(Wh,F.authToken),F.refreshToken&&localStorage.setItem(Hh,F.refreshToken),F.expiresAt&&localStorage.setItem(Gh,F.expiresAt.toString()),Ze.success("Onboarding successful",{description:"Wallet authenticated and auth token generated.",duration:5e3});else{const $=F.error||"Onboarding failed";y($),c(""),f(void 0),h(void 0),localStorage.removeItem(Wh),localStorage.removeItem(Hh),localStorage.removeItem(Gh),Ze.error("Onboarding failed",{description:$,duration:6e3})}}catch(F){const $=(F==null?void 0:F.message)||"Unknown error during onboarding";y($),c(""),f(void 0),h(void 0),localStorage.removeItem(Wh),localStorage.removeItem(Hh),localStorage.removeItem(Gh),Ze.error("Onboarding error",{description:$,duration:6e3})}finally{g(!1)}},[w]),T=I.useCallback(()=>{y(null)},[]),D=I.useCallback(()=>{c(""),f(void 0),h(void 0),y(null),g(!1),localStorage.removeItem(Wh),localStorage.removeItem(Hh),localStorage.removeItem(Gh)},[]),O=I.useCallback(()=>{_(),D()},[_,D]);return{mnemonic:e,walletAddress:i,privateKey:S,authToken:l,refreshToken:u,expiresAt:d,loading:p,error:v,addressLoading:o,onboard:C,setMnemonic:w,setAccountData:k,clearAccountData:_,clearError:T,reset:D,resetAll:O}}function ame(){const{setAccountData:n}=_u(),{mnemonic:e,setMnemonic:r,addressIndex:i,setAddressIndex:s,result:o,loading:a,generateAddress:l,isReady:c}=Whe();return I.useEffect(()=>{o!=null&&o.success&&o.address&&e&&n(e,o.address)},[o,e,n]),m.jsxs("div",{className:"component",children:[m.jsx("h3",{children:"Address Generator"}),m.jsx("p",{children:"Generate Ethereum addresses from mnemonic phrases"}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"mnemonic",children:"Mnemonic Phrase:"}),m.jsx("textarea",{id:"mnemonic",value:e,onChange:u=>r(u.target.value),placeholder:"Enter your mnemonic phrase...",rows:3})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"addressIndex",children:"Address Index:"}),m.jsx("input",{id:"addressIndex",type:"number",value:i,onChange:u=>s(parseInt(u.target.value)||0),min:"0",max:"1000"})]}),m.jsx("button",{className:"button",onClick:l,disabled:a||!c,children:a?"Generating...":"Generate Address"}),o&&m.jsx("div",{className:`output ${o.success?"success":"error"}`,children:o.success?m.jsxs(m.Fragment,{children:[m.jsx("strong",{children:"Generated Address:"}),m.jsx("br",{}),o.address,m.jsx("br",{}),m.jsx("br",{}),m.jsx("strong",{children:"Details:"}),m.jsx("br",{}),"Index: ",o.index,m.jsx("br",{}),"Mnemonic: ",o.mnemonic]}):m.jsxs(m.Fragment,{children:[m.jsx("strong",{children:"Error:"}),m.jsx("br",{}),o.error]})})]})}function lme(){var h,p;const{mnemonic:n,setMnemonic:e,message:r,setMessage:i,useEIP712:s,setUseEIP712:o,addressIndex:a,setAddressIndex:l,result:c,loading:u,signMessage:f,isReady:d}=Hhe();return m.jsxs("div",{className:"component",children:[m.jsx("h3",{children:"Message Signer"}),m.jsx("p",{children:"Sign messages with your private key"}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"mnemonic",children:"Mnemonic Phrase:"}),m.jsx("textarea",{id:"mnemonic",value:n,onChange:g=>e(g.target.value),placeholder:"Enter your mnemonic phrase...",rows:2})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"message",children:"Message to Sign:"}),m.jsx("textarea",{id:"message",value:r,onChange:g=>i(g.target.value),placeholder:"Enter message to sign...",rows:3})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"addressIndex",children:"Address Index:"}),m.jsx("input",{id:"addressIndex",type:"number",value:a,onChange:g=>l(parseInt(g.target.value)||0),min:"0",max:"1000"})]}),m.jsx("div",{className:"form-group",children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",checked:s,onChange:g=>o(g.target.checked),style:{marginRight:"0.5rem"}}),"Use EIP-712 Typed Data"]})}),m.jsx("button",{className:"button",onClick:f,disabled:u||!d,children:u?"Signing...":"Sign Message"}),c&&m.jsx("div",{className:`output ${c.success?"success":"error"}`,children:c.success?m.jsxs(m.Fragment,{children:[m.jsx("strong",{children:"Signature:"}),m.jsx("br",{}),c.signature,m.jsx("br",{}),m.jsx("br",{}),m.jsx("strong",{children:"Details:"}),m.jsx("br",{}),"Message: ",c.message,m.jsx("br",{}),"EIP-712: ",(h=c.options)!=null&&h.useEIP712?"Yes":"No",m.jsx("br",{}),"Address Index: ",((p=c.options)==null?void 0:p.addressIndex)||0]}):m.jsxs(m.Fragment,{children:[m.jsx("strong",{children:"Error:"}),m.jsx("br",{}),c.error]})})]})}const pb={placeOrder:{label:"Place Order",action:NM,fields:[{key:"marketId",label:"Market ID",type:"text",required:!0},{key:"side",label:"Side",type:"select",options:["BUY","SELL"],required:!0},{key:"orderType",label:"Order Type",type:"select",options:["LIMIT","MARKET"],required:!0},{key:"price",label:"Price",type:"number",placeholder:"100.5",required:!0,convertToSatoshi:!0},{key:"quantity",label:"Quantity",type:"number",placeholder:"1.0",required:!0,convertToSatoshi:!0}]},cancelOrder:{label:"Cancel Order",action:pv,fields:[{key:"orderId",label:"Order ID",type:"text",required:!0},{key:"marketId",label:"Market ID",type:"text",required:!0}]},modifyOrder:{label:"Modify Order",action:jM,fields:[{key:"orderId",label:"Order ID",type:"text",required:!0},{key:"marketId",label:"Market ID",type:"text",required:!0},{key:"newPrice",label:"New Price",type:"number",required:!0,convertToSatoshi:!0},{key:"newQuantity",label:"New Quantity",type:"number",required:!0,convertToSatoshi:!0}]},changeLeverage:{label:"Change Leverage",action:LM,fields:[{key:"marketId",label:"Market ID",type:"text",required:!0},{key:"newLeverage",label:"New Leverage",type:"number",required:!0,convertToSatoshi:!0}]},closePosition:{label:"Close Position",action:mv,fields:[{key:"marketId",label:"Market ID",type:"text",required:!0},{key:"quantity",label:"Quantity",type:"number",required:!0,convertToSatoshi:!0},{key:"marketPrice",label:"Market Price",type:"number",required:!0,convertToSatoshi:!0}]},swap:{label:"Swap",action:$M,fields:[{key:"fromToken",label:"From Token",type:"text",required:!0},{key:"toToken",label:"To Token",type:"text",required:!0},{key:"amountIn",label:"Amount In",type:"number",required:!0,convertToSatoshi:!0},{key:"minAmountOut",label:"Min Amount Out",type:"number",required:!0,convertToSatoshi:!0}]},changeMarginRatio:{label:"Change Margin Ratio",action:RM,fields:[{key:"marketId",label:"Market ID",type:"text",required:!0},{key:"bucketId",label:"Bucket ID",type:"text",required:!1}]},internTransfer:{label:"Internal Transfer",action:FM,fields:[{key:"fromAccount",label:"From Account",type:"text",required:!0},{key:"toAccount",label:"To Account",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0},{key:"tokenAddress",label:"Token Address",type:"text",required:!0}]},bucketTransfer:{label:"Bucket Transfer",action:qM,fields:[{key:"fromBucketId",label:"From Bucket ID",type:"text",required:!0},{key:"toBucketId",label:"To Bucket ID",type:"text",required:!0},{key:"assetId",label:"Asset ID",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0}]},extractToBucket:{label:"Extract to Bucket",action:zM,fields:[{key:"bucketId",label:"Bucket ID",type:"text",required:!0},{key:"assetId",label:"Asset ID",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0}]},withdrawFromBucket:{label:"Withdraw from Bucket",action:UM,fields:[{key:"bucketId",label:"Bucket ID",type:"text",required:!0},{key:"assetId",label:"Asset ID",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0}]},bankMint:{label:"Bank Mint",action:BM,fields:[{key:"assetId",label:"Asset ID",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0}]},bankTransfer:{label:"Bank Transfer",action:WM,fields:[{key:"to",label:"To Address",type:"text",required:!0},{key:"assetId",label:"Asset ID",type:"text",required:!0},{key:"amount",label:"Amount",type:"number",required:!0,convertToSatoshi:!0}]}};function cme(){var ye,Re,Ke,Ie,Ee,He,nt,z,ve,Ne;const{connect:n,connectors:e,isPending:r}=AV(),{disconnect:i}=RV(),{address:s,isConnected:o}=dM(),{signTypedDataAsync:a}=fM(),l=DV(),[c,u]=I.useState(null),[f,d]=I.useState({}),[h,p]=I.useState("abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about"),[g,v]=I.useState(""),[y,b]=I.useState(""),[w,k]=I.useState(""),[_,S]=I.useState([]),[C,T]=I.useState(null),[D,O]=I.useState(!1),[P,A]=I.useState(!1),L=typeof window<"u"&&!!((ye=window.ethereum)!=null&&ye.isMetaMask),B=typeof window<"u"&&(!!((Re=window.phantom)!=null&&Re.ethereum)||!!((Ke=window.ethereum)!=null&&Ke.isPhantom)),F=typeof window<"u"&&(!!((Ie=window.$onekey)!=null&&Ie.ethereum)||!!((Ee=window.ethereum)!=null&&Ee.isOneKey)),$=e.find(ge=>ge.id==="injected"),U=typeof window<"u"?(He=window.phantom)!=null&&He.ethereum||(nt=window.ethereum)!=null&&nt.isPhantom?"Phantom":(z=window.$onekey)!=null&&z.ethereum||(ve=window.ethereum)!=null&&ve.isOneKey?"OneKey":(Ne=window.ethereum)!=null&&Ne.isMetaMask?"MetaMask":null:null,N=g&&s&&g.toLowerCase()===s.toLowerCase(),q=o&&N&&g;I.useEffect(()=>{if(c){const ge=pb[c],$e={};ge.fields.forEach(ue=>{$e[ue.key]=""}),d($e),T(null)}},[c]);const H=()=>{const $e=Math.floor(Date.now()/1e3)+3600;k($e.toString())},X=()=>{b(Date.now().toString())},Y=async()=>{if(!h.trim()){alert("Please enter a mnemonic phrase");return}try{const{mormSigner:ge}=await mV(async()=>{const{mormSigner:ue}=await Promise.resolve().then(()=>Uhe);return{mormSigner:ue}},void 0);await ge.initialize();const $e=await ge.generateAddress(h,0);$e.success&&$e.address?v($e.address):alert($e.error||"Failed to generate address")}catch(ge){alert(ge.message||"Failed to generate address")}},W=async()=>{var ge,$e,ue;if(!L&&!B&&!F){alert("No supported wallet detected");return}try{const ee=window.ethereum;let le=ee;if(B&&(le=((ge=window.phantom)==null?void 0:ge.ethereum)||(($e=window.ethereum)!=null&&$e.isPhantom?ee:null)),F&&(le=((ue=window.$onekey)==null?void 0:ue.ethereum)||ee),!le){alert("Wallet provider not found");return}const xe=await le.request({method:"eth_requestAccounts"});xe&&xe.length>0&&(S(xe),xe.length===1&&v(xe[0])),$&&(await n({connector:$}),await new Promise(pe=>setTimeout(pe,300)))}catch(ee){ee.code===4001?alert("User rejected the connection request"):(console.error("Error connecting wallet:",ee),alert(`Failed to connect: ${ee.message||"Unknown error"}`))}},R=()=>{if(!c)throw new Error("No operation selected");const ge=pb[c],$e={action:ge.action};return(c==="cancelOrder"||c==="changeLeverage"||c==="changeMarginRatio"||c==="internTransfer")&&($e.address=g),ge.fields.forEach(ue=>{const ee=f[ue.key];if(ee===void 0||ee===""){if(ue.required)throw new Error(`${ue.label} is required`);return}let le=ee;ue.convertToSatoshi&&ue.type==="number"&&(le=Wt(parseFloat(ee))),c==="bucketTransfer"&&ue.key==="assetId"||(c==="extractToBucket"||c==="withdrawFromBucket"||c==="bankMint"||c==="bankTransfer")&&ue.key==="assetId"?$e.asset=le:c==="closePosition"?ue.key==="quantity"?$e.closeSize=le:ue.key==="marketPrice"?$e.marketPrice=le:$e[ue.key]=le:c==="placeOrder"?ue.key==="side"?$e.side=ee.toUpperCase():ue.key==="orderType"?$e.orderType=ee.toUpperCase():$e[ue.key]=le:$e[ue.key]=le}),$e},Z=ge=>{const $e={name:"Morpheum",version:"1",chainId:l,verifyingContract:"0x0000000000000000000000000000000000000000"},ue={EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Message:[]};Object.keys(ge).forEach(le=>{le==="action"?ue.Message.push({name:"action",type:"string"}):le==="owner"?ue.Message.push({name:"owner",type:"address"}):le==="nonce"?ue.Message.push({name:"nonce",type:"string"}):le==="deadline"?ue.Message.push({name:"deadline",type:"uint256"}):le==="address"?ue.Message.push({name:"address",type:"address"}):typeof ge[le]=="string"&&ge[le].startsWith("0x")?ue.Message.push({name:le,type:"address"}):typeof ge[le]=="number"||/^\d+$/.test(ge[le])?ue.Message.push({name:le,type:"uint256"}):ue.Message.push({name:le,type:"string"})});const ee={};return Object.keys(ge).forEach(le=>{le==="owner"||le==="address"||le.startsWith("0x")&&le.length===42?ee[le]=ge[le].toLowerCase():ee[le]=ge[le]}),{domain:$e,types:ue,primaryType:"Message",message:ee}},J=async()=>{if(!h.trim())throw new Error("Mnemonic is required for WASM signing");const ge=Of.fromPhrase(h.trim(),"","m/44'/60'/0'/0/0");if(ge.address.toLowerCase()!==g.toLowerCase())throw new Error(`Address mismatch: derived ${ge.address} does not match ${g}`);const $e=BigInt(ge.privateKey),ue=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");if($e===0n||$e>=ue)throw new Error("Invalid private key: must be between 1 and secp256k1 order - 1");const le=$e.toString(16).toLowerCase().padStart(64,"0");if(!/^[0-9a-f]{64}$/.test(le))throw new Error("Invalid private key format: must be 64 lowercase hex characters (0-9, a-f) without 0x prefix");return le},V=async()=>{var ge,$e;if(!c){alert("Please select an operation first");return}if(!g){alert("Please set owner address");return}if(!y){alert("Please generate nonce");return}if(!w){alert("Please generate deadline");return}O(!0),T(null);try{const ue=R();ue.owner=g.toLowerCase(),ue.nonce=y,ue.deadline=w;const ee=Z(ue),le=await a({domain:ee.domain,types:ee.types,primaryType:ee.primaryType,message:ee.message});T({success:!0,signature:le,typedData:{payload:ue,typedData:ee}})}catch(ue){ue.code===4001||(ge=ue.message)!=null&&ge.includes("User rejected")||($e=ue.message)!=null&&$e.includes("rejected")?T({success:!1,error:"User rejected the signature request"}):(console.error("Error signing:",ue),T({success:!1,error:ue.message||"Unknown error during signing"}))}finally{O(!1)}},te=async()=>{if(!c){alert("Please select an operation first");return}if(!g){alert("Please set owner address");return}if(!y){alert("Please generate nonce");return}if(!w){alert("Please generate deadline");return}if(!h.trim()){alert("Please enter mnemonic for WASM signing");return}if(!mt.isReady())try{if(await mt.initialize(),!mt.isReady()){alert("WASM module failed to initialize");return}}catch(ge){alert(`Failed to initialize WASM: ${ge.message||"Unknown error"}`);return}A(!0),T(null);try{const ge=R();ge.owner=g.toLowerCase(),ge.nonce=y,ge.deadline=w;const $e=await J(),ue=Math.floor(Date.now()/1e3),ee=parseInt(w,10),le={txId:"",sigType:"ECDSA_LEGACY",threshold:1,timestamp:ue,payload:ge,deadline:ee},xe=await mt.generateSingleSignature(JSON.stringify(le),$e,g.toLowerCase());if(!xe.success||!xe.signature)throw new Error(xe.error||"Failed to generate signature");const pe=Z(ge);T({success:!0,signature:xe.signature,typedData:{payload:ge,typedData:pe,eip712Tx:le}})}catch(ge){console.error("Error signing with WASM:",ge),T({success:!1,error:ge.message||"Unknown error during WASM signing"})}finally{A(!1)}},se=c?pb[c]:null;return m.jsxs("div",{className:"component",children:[m.jsx("h3",{children:"Functional Signer"}),m.jsx("p",{children:"Sign EIP-712 messages for Morpheum protocol operations"}),m.jsxs("div",{className:`agent-delegation-step ${c?"connected":""}`,children:[m.jsxs("h4",{children:["Step 1: Select Operation ",c&&""]}),c?m.jsxs("div",{children:[m.jsxs("p",{style:{marginBottom:"1rem"},children:[m.jsx("strong",{children:"Selected:"})," ",se==null?void 0:se.label]}),m.jsx("button",{className:"button secondary",onClick:()=>{u(null),d({}),T(null)},children:"Change Operation"})]}):m.jsx("div",{className:"agent-delegation-wallet-buttons",children:Object.entries(pb).map(([ge,$e])=>m.jsx("button",{className:"button",onClick:()=>u(ge),children:$e.label},ge))})]}),c?m.jsxs("div",{className:`agent-delegation-step ${g&&y&&w?"connected":""}`,children:[m.jsxs("h4",{children:["Step 2: Configure Parameters"," ",g&&y&&w&&""]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"walletConnection",children:"Wallet Connection:"}),q?m.jsxs("div",{className:"agent-delegation-connected-info",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Connected:"})," ",U||"Wallet",g&&m.jsxs("div",{className:"agent-delegation-address",children:["Address: ",g]})]}),m.jsx("button",{className:"button secondary",onClick:()=>{i(),S([]),v("")},children:"Disconnect"})]}):m.jsxs("div",{children:[m.jsx("button",{className:"button",onClick:W,disabled:r||!$,children:r?"Connecting...":"Connect Wallet"}),_.length>0&&!g&&m.jsxs("div",{style:{marginTop:"1rem"},children:[m.jsx("label",{children:"Select Address:"}),_.map(ge=>m.jsx("button",{className:"button secondary",onClick:()=>v(ge),style:{display:"block",marginTop:"0.5rem",fontFamily:"monospace",fontSize:"0.9rem"},children:ge},ge))]})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"mnemonic",children:"Mnemonic (for address generation):"}),m.jsx("textarea",{id:"mnemonic",value:h,onChange:ge=>p(ge.target.value),placeholder:"Enter mnemonic to generate address...",rows:2}),m.jsx("button",{className:"button secondary",onClick:Y,style:{marginTop:"0.5rem"},children:"Generate Address from Mnemonic"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"ownerAddress",children:"Owner Address:"}),m.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[m.jsx("input",{id:"ownerAddress",type:"text",value:g,onChange:ge=>v(ge.target.value),placeholder:"0x...",style:{flex:1}}),m.jsx("button",{className:"button secondary",onClick:Y,disabled:!h.trim(),children:"Generate"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"nonce",children:"Nonce:"}),m.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[m.jsx("input",{id:"nonce",type:"text",value:y,onChange:ge=>b(ge.target.value),placeholder:"Auto-generated timestamp"}),m.jsx("button",{className:"button secondary",onClick:X,children:"Generate"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"deadline",children:"Deadline (Unix timestamp):"}),m.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[m.jsx("input",{id:"deadline",type:"text",value:w,onChange:ge=>k(ge.target.value),placeholder:"Auto-generated (1 hour from now)"}),m.jsx("button",{className:"button secondary",onClick:H,children:"Generate"})]})]}),se&&m.jsxs(m.Fragment,{children:[m.jsx("h5",{style:{marginTop:"1.5rem",marginBottom:"1rem"},children:"Operation Parameters:"}),se.fields.map(ge=>{var $e;return m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{htmlFor:ge.key,children:[ge.label,ge.required&&" *"]}),ge.type==="select"?m.jsxs("select",{id:ge.key,value:f[ge.key]||"",onChange:ue=>d({...f,[ge.key]:ue.target.value}),children:[m.jsxs("option",{value:"",children:["Select ",ge.label]}),($e=ge.options)==null?void 0:$e.map(ue=>m.jsx("option",{value:ue,children:ue},ue))]}):m.jsx("input",{id:ge.key,type:ge.type,value:f[ge.key]||"",onChange:ue=>d({...f,[ge.key]:ue.target.value}),placeholder:ge.placeholder}),ge.convertToSatoshi&&m.jsx("small",{className:"agent-delegation-small-text",children:"Will be converted to satoshi format"})]},ge.key)})]})]}):m.jsxs("div",{className:"agent-delegation-step disabled",children:[m.jsx("h4",{children:"Step 2: Configure Parameters"}),m.jsx("p",{className:"agent-delegation-disabled-text",children:"Please select an operation in Step 1 to continue."})]}),c&&g&&y&&w?m.jsxs("div",{className:"agent-delegation-step",children:[m.jsx("h4",{children:"Step 3: Sign Message"}),m.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[m.jsx("button",{className:"button",onClick:V,disabled:D||P||!g||!y||!w||((se==null?void 0:se.fields.some(ge=>ge.required&&!f[ge.key]))??!1),children:D?"Signing...":"Sign from Wallet"}),m.jsx("button",{className:"button",onClick:te,disabled:D||P||!g||!y||!w||!h.trim()||((se==null?void 0:se.fields.some(ge=>ge.required&&!f[ge.key]))??!1),children:P?"Signing...":"Sign by WASM"})]})]}):m.jsxs("div",{className:"agent-delegation-step disabled",children:[m.jsx("h4",{children:"Step 3: Sign Message"}),m.jsx("p",{className:"agent-delegation-disabled-text",children:"Please complete Step 2 to continue."})]}),C&&m.jsx("div",{className:`output ${C.success?"success":"error"}`,children:C.success?m.jsxs(m.Fragment,{children:[m.jsx("strong",{children:"Signature:"}),m.jsx("br",{}),C.signature,m.jsx("br",{}),m.jsx("br",{}),C.typedData&&m.jsxs(m.Fragment,{children:[m.jsx("strong",{children:"Payload & Typed Data:"}),m.jsx("br",{}),m.jsx("pre",{className:"agent-delegation-pre",children:JSON.stringify(C.typedData,null,2)})]})]}):m.jsxs(m.Fragment,{children:[m.jsx("strong",{children:"Error:"}),m.jsx("br",{}),C.error]})})]})}function ume(){var z,ve,Ne,ge,$e,ue,ee,le,xe,pe,Le,ce,Oe,je,be,de,me;const{ownerAddress:n,setOwnerAddress:e,agentAddress:r,setAgentAddress:i,agentPrivateKey:s,expiresInDays:o,setExpiresInDays:a,permissions:l,setPermissions:c,agentName:u,setAgentName:f,nonce:d,setNonce:h,result:p,loading:g,generateAgentKeypair:v,isMetaMaskConnected:y,isPhantomConnected:b,isOneKeyConnected:w,isReady:k}=Yhe(),{connect:_,connectors:S,isPending:C}=AV(),{disconnect:T}=RV(),{address:D,isConnected:O}=dM(),{signTypedDataAsync:P}=fM(),A=DV(),[L,B]=I.useState([]),[F,$]=I.useState(null),[U,N]=I.useState(!1),q=()=>{if(!n||!r)throw new Error("Owner and agent addresses are required");const he=l.split(",").map(Ve=>Ve.trim()).filter(Ve=>Ve.length>0),fe=Math.floor(Date.now()/1e3)+o*24*60*60,De={name:"Morpheum",version:"",chainId:A,verifyingContract:"0x0000000000000000000000000000000000000000"},Ye={EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],AgentApproval:[{name:"owner",type:"address"},{name:"agent",type:"address"},{name:"agentName",type:"string"},{name:"expiresInDays",type:"uint256"},{name:"permissions",type:"string[]"},{name:"nonce",type:"string"},{name:"deadline",type:"uint256"}]},Ge={owner:n.toLowerCase(),agent:r.toLowerCase(),agentName:u||"",expiresInDays:o,permissions:he,nonce:d||Date.now().toString(),deadline:fe};return{domain:De,types:Ye,primaryType:"AgentApproval",message:Ge}},H=async()=>{var he,fe;if(!n||!r){$({success:!1,error:"Owner and agent addresses are required"});return}N(!0),$(null);try{const De=q(),Ye=await P({domain:De.domain,types:De.types,primaryType:De.primaryType,message:De.message});$({success:!0,signature:Ye,typedData:De})}catch(De){De.code===4001||(he=De.message)!=null&&he.includes("User rejected")||(fe=De.message)!=null&&fe.includes("rejected")?$({success:!1,error:"User rejected the signature request"}):(console.error("Error signing:",De),$({success:!1,error:De.message||"Unknown error during signing"}))}finally{N(!1)}},X=typeof window<"u"&&!!((z=window.ethereum)!=null&&z.isMetaMask),Y=typeof window<"u"&&(!!((ve=window.phantom)!=null&&ve.ethereum)||!!((Ne=window.ethereum)!=null&&Ne.isPhantom)),W=typeof window<"u"&&(!!((ge=window.$onekey)!=null&&ge.ethereum)||!!(($e=window.ethereum)!=null&&$e.isOneKey)),R=S.find(he=>he.id==="injected");I.useEffect(()=>{var he,fe,De;console.log("[Phantom Debug] Component mounted/updated"),console.log("[Phantom Debug] Window object:",typeof window<"u"?"available":"undefined"),console.log("[Phantom Debug] window.phantom:",window.phantom),console.log("[Phantom Debug] window.ethereum:",window.ethereum),console.log("[Phantom Debug] window.ethereum?.isMetaMask:",(he=window.ethereum)==null?void 0:he.isMetaMask),console.log("[Phantom Debug] window.ethereum?.isPhantom:",(fe=window.ethereum)==null?void 0:fe.isPhantom),console.log("[Phantom Debug] window.ethereum?.isOneKey:",(De=window.ethereum)==null?void 0:De.isOneKey),console.log("[Phantom Debug] isPhantomAvailable:",Y),console.log("[Phantom Debug] All connectors:",S),console.log("[Phantom Debug] Injected connector:",R),console.log("[Phantom Debug] Injected connector ID:",R==null?void 0:R.id),console.log("[Phantom Debug] Injected connector name:",R==null?void 0:R.name),console.log("[Phantom Debug] isConnecting:",C)},[S,R,Y,C]);const Z=n&&D&&n.toLowerCase()===D.toLowerCase(),J=typeof window<"u"?(ue=window.phantom)!=null&&ue.ethereum||(ee=window.ethereum)!=null&&ee.isPhantom?"Phantom":(le=window.$onekey)!=null&&le.ethereum||(xe=window.ethereum)!=null&&xe.isOneKey?"OneKey":(pe=window.ethereum)!=null&&pe.isMetaMask?"MetaMask":null:null,V=y||O&&Z&&J==="MetaMask"||n&&J==="MetaMask"&&X,te=b||O&&Z&&J==="Phantom"||n&&J==="Phantom"&&Y,se=w||O&&Z&&J==="OneKey"||n&&J==="OneKey"&&W,ye=V?"MetaMask":te?"Phantom":se?"OneKey":null,Re=V||te||se,Ke=L.length>0||Re,Ie=Re&&n&&r;I.useEffect(()=>{!O&&L.length>0&&(B([]),n&&e(""))},[O,L.length,n]),I.useEffect(()=>{console.log("[Connection Debug] wagmiIsConnected:",O),console.log("[Connection Debug] wagmiAddress:",D),console.log("[Connection Debug] ownerAddress:",n),console.log("[Connection Debug] isPhantomConnected (hook):",b),console.log("[Connection Debug] isMetaMaskConnected (hook):",y),console.log("[Connection Debug] isOneKeyConnected (hook):",w),console.log("[Connection Debug] detectedWallet:",J),console.log("[Connection Debug] hasMatchingAddress:",Z),console.log("[Connection Debug] isPhantomConnectedEnhanced:",te),console.log("[Connection Debug] isWalletConnected:",Re),console.log("[Connection Debug] availableAddresses:",L)},[O,D,n,b,y,w,J,Z,te,Re,L]);const Ee=async()=>{if(!X){alert("MetaMask wallet is not installed. Please install MetaMask wallet extension.");return}try{const he=window.ethereum;if(he){const fe=await he.request({method:"eth_requestAccounts"});fe&&fe.length>0&&(B(fe),fe.length===1&&e(fe[0]))}R?(await _({connector:R}),await new Promise(fe=>setTimeout(fe,300))):alert("MetaMask connector not found. Please ensure MetaMask wallet is installed.")}catch(he){he.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to MetaMask:",he),alert(`Failed to connect to MetaMask: ${he.message||"Unknown error"}`))}},He=async()=>{var he,fe,De,Ye,Ge,Ve,K;if(console.log("[Phantom Debug] Starting connection process..."),console.log("[Phantom Debug] isPhantomAvailable:",Y),console.log("[Phantom Debug] window.phantom:",window.phantom),console.log("[Phantom Debug] window.ethereum:",window.ethereum),console.log("[Phantom Debug] window.ethereum?.isPhantom:",(he=window.ethereum)==null?void 0:he.isPhantom),!Y){console.error("[Phantom Debug] Phantom wallet not available"),alert("Phantom wallet is not installed. Please install Phantom wallet extension.");return}try{let re=(fe=window.phantom)==null?void 0:fe.ethereum;if(console.log("[Phantom Debug] phantomProvider (window.phantom.ethereum):",re),!re&&window.phantom){const ut=window.phantom;typeof ut.request=="function"&&(re=ut,console.log("[Phantom Debug] Using window.phantom as provider"))}if(!re&&((De=window.ethereum)!=null&&De.isPhantom)&&(re=window.ethereum,console.log("[Phantom Debug] Using window.ethereum as provider (isPhantom=true)")),!re){console.error("[Phantom Debug] No valid Phantom provider found"),console.error("[Phantom Debug] Available providers:",{hasWindowPhantom:!!window.phantom,hasPhantomEthereum:!!((Ye=window.phantom)!=null&&Ye.ethereum),phantomHasRequest:typeof((Ge=window.phantom)==null?void 0:Ge.request)=="function",hasWindowEthereum:!!window.ethereum,ethereumIsPhantom:(Ve=window.ethereum)==null?void 0:Ve.isPhantom,ethereumIsMetaMask:(K=window.ethereum)==null?void 0:K.isMetaMask}),alert("Phantom wallet provider not found. Please ensure Phantom wallet is installed and enabled.");return}console.log("[Phantom Debug] Using provider, requesting accounts...");const ne=await re.request({method:"eth_requestAccounts"});console.log("[Phantom Debug] Accounts received:",ne),ne&&ne.length>0&&(B(ne),console.log("[Phantom Debug] Available addresses:",ne),ne.length===1&&(console.log("[Phantom Debug] Auto-selecting single address:",ne[0]),e(ne[0]))),console.log("[Phantom Debug] Waiting 100ms before wagmi connection..."),await new Promise(ut=>setTimeout(ut,100)),console.log("[Phantom Debug] injectedConnector:",R),console.log("[Phantom Debug] All connectors:",S),R?(console.log("[Phantom Debug] Connecting via wagmi injected connector..."),await _({connector:R}),console.log("[Phantom Debug] Wagmi connect() called"),console.log("[Phantom Debug] Waiting for wagmi state update..."),await new Promise(ut=>setTimeout(ut,300)),console.log("[Phantom Debug] Connection should be complete")):(console.error("[Phantom Debug] Injected connector not found"),alert("Phantom connector not found. Please ensure Phantom wallet is installed."))}catch(re){console.error("[Phantom Debug] Error caught:",re),console.error("[Phantom Debug] Error code:",re.code),console.error("[Phantom Debug] Error message:",re.message),console.error("[Phantom Debug] Error stack:",re.stack),re.code===4001?(console.log("[Phantom Debug] User rejected the connection"),alert("User rejected the connection request.")):(console.error("[Phantom Debug] Unknown error during connection"),alert(`Failed to connect to Phantom: ${re.message||"Unknown error"}`))}},nt=async()=>{var he;if(!W){alert("OneKey wallet is not installed. Please install OneKey wallet extension.");return}try{const fe=((he=window.$onekey)==null?void 0:he.ethereum)||window.ethereum;if(!fe){alert("OneKey wallet provider not found. Please ensure OneKey wallet is installed and enabled.");return}const De=await fe.request({method:"eth_requestAccounts"});De&&De.length>0&&(B(De),De.length===1&&e(De[0])),R?(await _({connector:R}),await new Promise(Ye=>setTimeout(Ye,300))):alert("OneKey connector not found. Please ensure OneKey wallet is installed.")}catch(fe){fe.code===4001?alert("User rejected the connection request."):(console.error("Error connecting to OneKey:",fe),alert(`Failed to connect to OneKey: ${fe.message||"Unknown error"}`))}};return m.jsxs("div",{className:"component",children:[m.jsx("h3",{children:"Agent Delegation"}),m.jsx("p",{children:"Approve an agent private key to act on behalf of the owner wallet"}),m.jsxs("div",{className:`agent-delegation-step ${Ke?"connected":""}`,children:[m.jsxs("h4",{children:["Step 1: Connect Wallet ",Re&&n&&""]}),Ke?L.length>0&&!n?m.jsxs("div",{children:[m.jsxs("p",{style:{marginBottom:"1rem"},children:[m.jsx("strong",{children:"Connected:"})," ",ye||"Wallet"]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"addressSelect",children:"Select an address to use:"}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:L.map(he=>m.jsx("button",{className:`button ${(n==null?void 0:n.toLowerCase())===he.toLowerCase()?"":"secondary"}`,onClick:()=>e(he),style:{textAlign:"left",justifyContent:"flex-start",fontFamily:"monospace",fontSize:"0.9rem"},children:he},he))})]}),m.jsx("button",{className:"button secondary",onClick:()=>{T(),B([]),e("")},style:{marginTop:"1rem"},children:"Disconnect"})]}):m.jsxs("div",{className:"agent-delegation-connected-info",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Connected:"})," ",ye,n&&m.jsxs("div",{className:"agent-delegation-address",children:["Address: ",n]})]}),m.jsx("button",{className:"button secondary",onClick:()=>{T(),B([]),e("")},children:"Disconnect"})]}):m.jsxs("div",{className:"agent-delegation-wallet-buttons",children:[X&&m.jsx("button",{className:"button",onClick:Ee,disabled:C||!R,children:C?"Connecting...":"Connect MetaMask"}),Y&&m.jsx("button",{className:"button",onClick:He,disabled:C||!R,children:C?"Connecting...":"Connect Phantom"}),W&&m.jsx("button",{className:"button",onClick:nt,disabled:C||!R,children:C?"Connecting...":"Connect OneKey"}),!X&&!Y&&!W&&m.jsx("p",{className:"agent-delegation-error-message",children:"No supported wallet detected. Please install MetaMask, Phantom, or OneKey wallet."})]})]}),Re&&n?m.jsxs("div",{className:`agent-delegation-step ${Ie?"connected":""}`,children:[m.jsxs("h4",{children:["Step 2: Configure Agent Delegation ",Ie&&""]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"ownerAddress",children:"Owner Address:"}),m.jsx("input",{id:"ownerAddress",type:"text",value:n,readOnly:!0,style:{fontFamily:"monospace",fontSize:"0.9rem",backgroundColor:"rgba(255, 255, 255, 0.05)",cursor:"not-allowed"}}),m.jsxs("small",{className:"agent-delegation-small-text",children:["This address is from your connected ",ye," wallet."]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"agentAddress",children:"Agent Address:"}),m.jsxs("div",{className:"agent-delegation-input-group",children:[m.jsx("input",{id:"agentAddress",type:"text",value:r,onChange:he=>i(he.target.value),placeholder:"0x...",className:"agent-delegation-input-flex"}),m.jsx("button",{className:"button secondary agent-delegation-button-compact",onClick:v,disabled:g||!k,children:"Generate Keypair"})]})]}),s&&m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"agentPrivateKey",children:"Agent Private Key (save securely):"}),m.jsx("input",{id:"agentPrivateKey",type:"text",value:s,readOnly:!0,className:"agent-delegation-private-key"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"agentName",children:"Agent Name (optional):"}),m.jsx("input",{id:"agentName",type:"text",value:u,onChange:he=>f(he.target.value),placeholder:"enter you agent name"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"expiresInDays",children:"Expires In Days:"}),m.jsx("input",{id:"expiresInDays",type:"number",value:o,onChange:he=>a(parseInt(he.target.value)||180),min:"1",max:"365"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"permissions",children:"Permissions (comma-separated):"}),m.jsx("input",{id:"permissions",type:"text",value:l,onChange:he=>c(he.target.value),placeholder:"clob::submit_order,clob::cancel_order"}),m.jsx("small",{className:"agent-delegation-small-text",children:"Example: clob::submit_order, clob::cancel_order, clob::modify_order"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"nonce",children:"Nonce:"}),m.jsx("input",{id:"nonce",type:"text",value:d,onChange:he=>h(he.target.value),placeholder:Date.now().toString()})]})]}):m.jsxs("div",{className:"agent-delegation-step disabled",children:[m.jsx("h4",{children:"Step 2: Configure Agent Delegation"}),m.jsx("p",{className:"agent-delegation-disabled-text",children:Ke&&!n?"Please select an address in Step 1 to continue.":"Please connect a wallet in Step 1 to continue."})]}),Ie?m.jsxs("div",{className:"agent-delegation-step",children:[m.jsx("h4",{children:"Step 3: Prepare and Sign Agent Approval"}),m.jsxs("div",{className:"agent-delegation-button-group",children:[y&&m.jsx("button",{className:"button",onClick:H,disabled:U||!n||!r,children:U?"Signing with MetaMask...":"Sign Agent Approval (MetaMask)"}),b&&m.jsx("button",{className:"button",onClick:H,disabled:U||!n||!r,children:U?"Signing with Phantom...":"Sign Agent Approval (Phantom)"}),w&&m.jsx("button",{className:"button",onClick:H,disabled:U||!n||!r,children:U?"Signing with OneKey...":"Sign Agent Approval (OneKey)"})]})]}):m.jsxs("div",{className:"agent-delegation-step disabled",children:[m.jsx("h4",{children:"Step 3: Prepare and Sign Agent Approval"}),m.jsx("p",{className:"agent-delegation-disabled-text",children:"Please complete Step 1 (connect wallet) and Step 2 (configure addresses) to continue."})]}),(p||F)&&m.jsx("div",{className:`output ${(Le=p||F)!=null&&Le.success?"success":"error"}`,children:(ce=p||F)!=null&&ce.success?m.jsxs(m.Fragment,{children:[((Oe=p||F)==null?void 0:Oe.signature)&&m.jsxs(m.Fragment,{children:[m.jsx("strong",{children:"Agent Approval Signature:"}),m.jsx("br",{}),(je=p||F)==null?void 0:je.signature,m.jsx("br",{}),m.jsx("br",{})]}),((be=p||F)==null?void 0:be.typedData)&&m.jsxs(m.Fragment,{children:[m.jsx("strong",{children:"EIP-712 Typed Data:"}),m.jsx("br",{}),m.jsx("pre",{className:"agent-delegation-pre",children:JSON.stringify((de=p||F)==null?void 0:de.typedData,null,2)}),m.jsx("br",{}),m.jsx("strong",{children:"Usage:"}),m.jsx("br",{}),"Signature received from wallet. The typed data structure is shown above."]})]}):m.jsxs(m.Fragment,{children:[m.jsx("strong",{children:"Error:"}),m.jsx("br",{}),(me=p||F)==null?void 0:me.error]})})]})}function dme({status:n}){const e=()=>n.loading?"loading":n.loaded?"success":n.error?"error":"loading",r=()=>n.loading?"Loading WASM...":n.loaded?"WASM Ready":n.error?"WASM Error":"Unknown";return m.jsxs("div",{className:"App-section",children:[m.jsx("h3",{children:"WASM Status"}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[m.jsx("span",{className:`status ${e()}`,children:r()}),n.loading&&m.jsx("div",{style:{fontSize:"0.9rem",opacity:.8},children:"Initializing WebAssembly module..."}),n.loaded&&m.jsx("div",{style:{fontSize:"0.9rem",opacity:.8},children:"morm_signer.wasm loaded successfully"}),n.error&&m.jsx("div",{style:{fontSize:"0.9rem",opacity:.8},children:n.error})]})]})}const nh="https://router.morpheum.io",Fg="wss://router.morpheum.io/websocket",Wx="ios-device-1234567890",fme=({isRunning:n,onClick:e})=>m.jsx("button",{onClick:e,disabled:n,style:{color:"#fff",backgroundColor:n?"#ccc":"#007bff",cursor:n?"not-allowed":"pointer"},children:n?"Running Tests...":"Run All Tests"}),hme=({mnemonic:n,baseURL:e,onboardLoading:r,isRunning:i,onOnboard:s})=>{const o=r||i||!n||n.trim()==="";return m.jsx("button",{onClick:()=>{n&&n.trim()!==""&&s(n,e)},disabled:o,style:{color:o?"#ccc":"#fff",backgroundColor:o?"#ccc":"#28a745",cursor:o?"not-allowed":"pointer"},children:r?"Onboarding...":"Onboard & Get Auth Token"})},pme=({isRunning:n,onClick:e})=>m.jsx("button",{onClick:e,disabled:n,style:{color:n?"#ccc":"#fff",backgroundColor:n?"#ccc":"#dc3545",cursor:n?"not-allowed":"pointer"},children:"Clear Results"}),mme=({onClick:n})=>m.jsx("button",{onClick:n,className:"sdk-test-button-dismiss",children:"Dismiss"}),gme=({result:n})=>m.jsxs("div",{className:`sdk-test-result-item ${n.success?"success":"error"}`,children:[m.jsxs("div",{className:"sdk-test-result-content",children:[m.jsxs("div",{className:"sdk-test-result-message",children:[n.success?"":""," ",n.message]}),n.error&&m.jsxs("div",{className:"sdk-test-result-error",children:["Error: ",n.error]}),n.data&&m.jsxs("details",{className:"sdk-test-result-data",children:[m.jsx("summary",{children:"View Data"}),m.jsx("pre",{children:JSON.stringify(n.data,null,2)})]})]}),m.jsx("div",{className:"sdk-test-result-timestamp",children:new Date(n.timestamp).toLocaleTimeString()})]}),bme=({sectionName:n,isExpanded:e,onToggle:r})=>m.jsxs("h2",{className:"sdk-test-section-header",onClick:r,children:[m.jsx("span",{children:n}),m.jsx("span",{className:"sdk-test-section-chevron",children:e?"":""})]});function yme(){var Ie,Ee,He,nt;const[n,e]=I.useState(nh),[r,i]=I.useState(""),[s,o]=I.useState(""),[a,l]=I.useState(""),[c,u]=I.useState(Wx),[f,d]=I.useState({}),[h,p]=I.useState(!1),[g,v]=I.useState(new Set),y=I.useRef(null),b=I.useRef(null),w=I.useRef(n),k=I.useRef([]),_=I.useRef(""),{markets:S,fetchMarkets:C}=Ul({baseURL:n,sessionToken:s,autoFetchMarkets:!1}),{mnemonic:T,walletAddress:D,authToken:O,loading:P,error:A,onboard:L,clearError:B,setMnemonic:F}=_u();I.useEffect(()=>{T||F("legal winner thank year wave sausage worth useful legal winner thank yellow")},[T,F]);const $=I.useRef(T||"");I.useEffect(()=>{$.current=T||""},[T]);const{buckets:U,loading:N,error:q,refresh:H}=oX({baseURL:n,authToken:s||a,walletAddress:D||void 0,refreshInterval:0});I.useEffect(()=>{O&&(l(O),localStorage.setItem("authToken",O))},[O]),I.useEffect(()=>{a&&a.trim()!==""&&localStorage.setItem("authToken",a)},[a]);const X=I.useRef(h);I.useEffect(()=>{X.current===!0&&h===!1&&setTimeout(()=>{const z=Object.values(f).flatMap($e=>$e.results),ve=z.filter($e=>$e.success).length,Ne=z.length,ge=Ne-ve;Ne>0&&(ge===0?Ze.success("All tests passed",{description:`${Ne} test(s) completed successfully.`,duration:5e3}):Ze.warning("Tests completed with failures",{description:`${ve}/${Ne} tests passed. ${ge} test(s) failed.`,duration:6e3}))},100),X.current=h},[h,f]),I.useEffect(()=>{const z=localStorage.getItem("authToken");z&&!a&&l(z)},[]);const Y=S.length>0?(((Ie=S.find(z=>z.active))==null?void 0:Ie.market_id)??S[0].market_id)||(((He=(Ee=S.find(z=>z.active))==null?void 0:Ee.id)==null?void 0:He.toString())??((nt=S[0].id)==null?void 0:nt.toString())??""):null,W=Y??r;I.useEffect(()=>{Y&&r!==Y&&i(Y)},[Y]),I.useEffect(()=>{w.current=n},[n]);const R=(z,ve)=>{d(Ne=>{const ge=Ne[z]||{name:z,results:[]};return{...Ne,[z]:{...ge,results:[...ge.results,ve]}}})},Z=()=>{d({}),v(new Set)},J=z=>{v(ve=>{const Ne=new Set(ve);return Ne.has(z)?Ne.delete(z):Ne.add(z),Ne})};I.useEffect(()=>{const z=Object.keys(f).filter(ve=>f[ve].results.length>0);z.length>0&&v(ve=>{const Ne=new Set(ve);return z.forEach(ge=>Ne.add(ge)),Ne})},[f]);const V=()=>{const z="Utilities";R(z,{success:!0,message:"Testing utility functions...",timestamp:Date.now()});try{const ve=Wt(1);R(z,{success:ve==="100000000",message:`toSatoshi(1.0) = ${ve}`,data:{expected:"100000000",got:ve},timestamp:Date.now()});const Ne=Wt("1.5");R(z,{success:Ne==="150000000",message:`toSatoshi("1.5") = ${Ne}`,data:{expected:"150000000",got:Ne},timestamp:Date.now()});const ge=ot("100000000");R(z,{success:ge===1,message:`fromSatoshi("100000000") = ${ge}`,data:{expected:1,got:ge},timestamp:Date.now()});const $e=hM(1);R(z,{success:$e===1e8,message:`toSatoshiUint64(1.0) = ${$e}`,data:{expected:1e8,got:$e},timestamp:Date.now()});const ue=TP("100000000"),ee=TP("abc");R(z,{success:ue&&!ee,message:`isValidSatoshi tests: "100000000"=${ue}, "abc"=${ee}`,data:{valid1:ue,valid2:ee},timestamp:Date.now()});const le=[1,1.5,2],xe=NV(le),pe=jV(xe);R(z,{success:pe.length===3,message:`Batch conversion: ${le.length} items`,data:{input:le,satoshi:xe,decimal:pe},timestamp:Date.now()}),R(z,{success:zc===1e8,message:`SATOSHI_SCALE = ${zc}`,data:{expected:1e8,got:zc},timestamp:Date.now()})}catch(ve){R(z,{success:!1,message:"Utility test error",error:ve.message,timestamp:Date.now()})}},te=async(z="Authentication")=>{if(!D||D.trim()===""){R(z,{success:!1,message:"Authentication skipped: Wallet address required",timestamp:Date.now()});return}if(!mt.isReady()){R(z,{success:!1,message:"Authentication failed: mormSigner not loaded. Please initialize mormSigner first for address generation.",timestamp:Date.now()});return}try{R(z,{success:!0,message:"Starting authentication (onboarding) with ethers.js EIP-712 signing...",timestamp:Date.now()});const{onboardAndGetAuthToken:ve}=await mV(async()=>{const{onboardAndGetAuthToken:ge}=await Promise.resolve().then(()=>Lhe);return{onboardAndGetAuthToken:ge}},void 0);if(R(z,{success:!0,message:"Calling onboardAndGetAuthToken (handles nonce, EIP-712 signing with ethers.js, and API request)...",timestamp:Date.now()}),!T)throw new Error("Mnemonic is required for authentication");const Ne=await ve(T,w.current);if(!Ne.success||!Ne.authToken)throw new Error(Ne.error||"Onboarding failed");l(Ne.authToken),localStorage.setItem("authToken",Ne.authToken),R(z,{success:!0,message:"AUTHENTICATION SUCCESSFUL!",data:{walletAddress:D,authToken:Ne.authToken.substring(0,32)+"...",refreshToken:Ne.refreshToken,expiresAt:Ne.expiresAt},timestamp:Date.now()})}catch(ve){const Ne=ve.message||String(ve);R(z,{success:!1,message:`Authentication failed: ${Ne}`,error:Ne,timestamp:Date.now()})}},se=async()=>{var $e;const z="Wallet Specific";b.current=new Qn({baseURL:w.current}),s&&b.current&&b.current.setSessionToken(s),R(z,{success:!0,message:"Waiting for wallet address to be available...",timestamp:Date.now()});const ve=5e3,Ne=200;let ge=0;for(;!D||D.trim()==="";){if(ge>=ve){R(z,{success:!1,message:"Timeout: Wallet address not available after 5 seconds",error:"Wallet address is required for wallet-specific tests. Please ensure mnemonic is provided.",timestamp:Date.now()});return}await new Promise(ue=>setTimeout(ue,Ne)),ge+=Ne}if(!D||D.trim()===""){R(z,{success:!1,message:"Wallet address is required for wallet-specific tests",error:"Wallet address not available",timestamp:Date.now()});return}R(z,{success:!0,message:`Wallet address available: ${D.substring(0,10)}...`,timestamp:Date.now()});try{R(z,{success:!0,message:`Testing getBalance() for asset "MORM" at address ${D.substring(0,10)}...`,timestamp:Date.now()});try{const ee=await b.current.getBalance(D,"MORM"),le=(ee==null?void 0:ee.balance)||(ee==null?void 0:ee.amount)||(ee==null?void 0:ee.value)||"N/A",xe=typeof le=="string"?le:JSON.stringify(le);R(z,{success:!!ee,message:`getBalance() - GET /bank/v1/balance/{address} | Asset: MORM | Balance: ${xe} (raw satoshi format)`,data:{balance:ee,asset:"MORM",walletAddress:D.substring(0,10)+"...",note:"Balance is returned in satoshi format (raw integer string). Use getBalanceDecimal() for decimal format."},timestamp:Date.now()})}catch(ee){R(z,{success:!1,message:'getBalance() failed for asset "MORM" (may require authentication)',error:ee.message,data:{asset:"MORM",walletAddress:D.substring(0,10)+"...",endpoint:"GET /bank/v1/balance/{address}"},timestamp:Date.now()})}R(z,{success:!0,message:`Testing getBalance() for asset "USDC" at address ${D.substring(0,10)}...`,timestamp:Date.now()});try{const ee=await b.current.getBalance(D,"USDC"),le=(ee==null?void 0:ee.balance)||(ee==null?void 0:ee.amount)||(ee==null?void 0:ee.value)||"N/A",xe=typeof le=="string"?le:JSON.stringify(le);R(z,{success:!!ee,message:`getBalance() - GET /bank/v1/balance/{address} | Asset: USDC | Balance: ${xe} (raw satoshi format)`,data:{balance:ee,asset:"USDC",walletAddress:D.substring(0,10)+"...",note:"Balance is returned in satoshi format (raw integer string). Use getBalanceDecimal() for decimal format."},timestamp:Date.now()})}catch(ee){R(z,{success:!1,message:'getBalance() failed for asset "USDC" (may require authentication)',error:ee.message,data:{asset:"USDC",walletAddress:D.substring(0,10)+"...",endpoint:"GET /bank/v1/balance/{address}"},timestamp:Date.now()})}try{const ee=await b.current.getBalanceDecimal(D,"USDC");R(z,{success:!!ee,message:"getBalanceDecimal() - GET /bank/v1/balance/{address}",data:ee,timestamp:Date.now()})}catch(ee){R(z,{success:!1,message:"getBalanceDecimal() failed",error:ee.message,timestamp:Date.now()})}try{const ee=await b.current.getBalances(D);R(z,{success:!!ee,message:"getBalances() - GET /bank/v1/balances/{address}",data:ee,timestamp:Date.now()})}catch(ee){R(z,{success:!1,message:"getBalances() failed (may require authentication)",error:ee.message,timestamp:Date.now()})}try{const ee=await b.current.getPositions(D);R(z,{success:Array.isArray(ee),message:`getPositions() - GET /bucket/v1/address/{address}/positions returned ${Array.isArray(ee)?ee.length:0} positions`,data:ee,timestamp:Date.now()})}catch(ee){R(z,{success:!1,message:"getPositions() failed",error:ee.message,timestamp:Date.now()})}let ue=[];try{const ee=await b.current.getOrders(D);ue=(ee==null?void 0:ee.orders)||[];const le=ee&&(Array.isArray(ue)||ee.total_count!==void 0);R(z,{success:le,message:`getOrders() - GET /clob/v1/address/orders?address={address} returned ${Array.isArray(ue)?ue.length:0} orders (total_count: ${(ee==null?void 0:ee.total_count)??"N/A"})`,data:{orders:Array.isArray(ue)?ue.slice(0,3):ue,total_count:ee==null?void 0:ee.total_count,timestamp:ee==null?void 0:ee.timestamp},timestamp:Date.now()})}catch(ee){R(z,{success:!1,message:"getOrders() failed",error:ee.message,timestamp:Date.now()})}if(Array.isArray(ue)&&ue.length>0){const ee=ue[0],le=(ee==null?void 0:ee.orderId)||(ee==null?void 0:ee.order_id)||(ee==null?void 0:ee.id);if(le){R(z,{success:!0,message:`Testing getOrder() for order ID: ${le.substring(0,16)}... (from getOrders result)`,timestamp:Date.now()});try{const xe=await b.current.getOrder(le);R(z,{success:!!xe,message:`getOrder() - GET /clob/v1/order/{orderID} | Order ID: ${le.substring(0,16)}...`,data:{order:xe,orderId:le,source:"First order from getOrders() result"},timestamp:Date.now()})}catch(xe){R(z,{success:!1,message:`getOrder() failed for order ID: ${le.substring(0,16)}...`,error:xe.message,data:{orderId:le,endpoint:"GET /clob/v1/order/{orderID}"},timestamp:Date.now()})}}else R(z,{success:!1,message:"getOrder() test skipped: No valid order ID found in getOrders() result",error:"Order ID not found in order object",data:{order:ee,availableFields:Object.keys(ee||{})},timestamp:Date.now()})}else R(z,{success:!0,message:"getOrder() test skipped: No orders available from getOrders() (need at least 1 order)",data:{ordersCount:ue.length,note:"getOrder() test requires at least one order from getOrders()"},timestamp:Date.now()});try{const ee=await b.current.getOrderHistory(D),le=Array.isArray(ee)?ee:(ee==null?void 0:ee.orders)||[],xe=ee&&(Array.isArray(le)||ee.orders!==void 0);R(z,{success:xe,message:`getOrderHistory() - GET /clob/v1/address/orders/history?address={address} returned ${Array.isArray(le)?le.length:0} orders`,data:Array.isArray(le)?le.slice(0,3):ee,timestamp:Date.now()})}catch(ee){R(z,{success:!1,message:"getOrderHistory() failed",error:ee.message,timestamp:Date.now()})}try{const ee=await b.current.getTradeHistory(D),le=Array.isArray(ee)?ee:(ee==null?void 0:ee.trades)||(ee==null?void 0:ee.data)||[],xe=ee&&(Array.isArray(le)||ee.trades!==void 0||ee.data!==void 0);R(z,{success:xe,message:`getTradeHistory() - GET /clob/v1/address/trades?address={address} returned ${Array.isArray(le)?le.length:0} trades`,data:Array.isArray(le)?le.slice(0,3):ee,timestamp:Date.now()})}catch(ee){R(z,{success:!1,message:"getTradeHistory() failed",error:ee.message,timestamp:Date.now()})}try{const ee=await b.current.getBuckets(D);if(R(z,{success:Array.isArray(ee)||ee!==void 0,message:`getBuckets() - GET /bucket/v1/address/{address}/buckets returned ${Array.isArray(ee)?ee.length:"data"}`,data:Array.isArray(ee)?ee.slice(0,3):ee,timestamp:Date.now()}),Array.isArray(ee)&&ee.length>0){const le=ee[0],xe=le.bucket_id||le.id||le.bucketId;if(xe)try{const pe=await b.current.getBucket(xe);R(z,{success:!!pe,message:`getBucket() - GET /bucket/v1/bucket/{bucket_id} (${xe.substring(0,16)}...)`,data:pe,timestamp:Date.now()})}catch(pe){R(z,{success:!1,message:`getBucket(${xe.substring(0,16)}...) failed`,error:pe.message,timestamp:Date.now()})}}}catch(ee){R(z,{success:!1,message:"getBuckets() failed",error:ee.message,timestamp:Date.now()})}R(z,{success:!0,message:"Testing useBuckets hook...",timestamp:Date.now()});try{if(await H(),R(z,{success:!q&&!N,message:`useBuckets hook: ${U.length} buckets loaded`,data:{buckets:U.slice(0,3),loading:N,error:q,totalBuckets:U.length},timestamp:Date.now()}),U.length>0){const le=($e=U[0].bucketId)==null?void 0:$e.toString();if(le)try{const xe=await b.current.getBucket(le);R(z,{success:!!xe,message:`getBucket() - GET /bucket/v1/bucket/{bucket_id} via hook bucket ID (${le.substring(0,16)}...)`,data:xe,timestamp:Date.now()})}catch(xe){R(z,{success:!1,message:"getBucket() via hook bucket ID failed",error:xe.message,timestamp:Date.now()})}}}catch(ee){R(z,{success:!1,message:"useBuckets hook test failed",error:ee.message,timestamp:Date.now()})}}catch(ue){R(z,{success:!1,message:"Wallet Specific test error",error:ue.message,timestamp:Date.now()})}},ye=async()=>{var ve,Ne,ge,$e,ue;const z="InfoClient";b.current=new Qn({baseURL:w.current}),s&&b.current&&b.current.setSessionToken(s);try{R(z,{success:!0,message:"Testing getMarkets()...",timestamp:Date.now()});const ee=await C();k.current=Array.isArray(ee)?ee:[];const le=Array.isArray(ee)?ee.length:0,xe=le>0?ee.find(ce=>ce.active||ce.status==="active")??ee[0]:null,pe=(xe==null?void 0:xe.market_id)??((ve=xe==null?void 0:xe.id)==null?void 0:ve.toString())??null;if(R(z,{success:Array.isArray(ee)&&le>0,message:`getMarkets() - GET /market/v1/all returned ${le} markets${pe?` | Using market ID: ${pe} (${(xe==null?void 0:xe.moniker)||(xe==null?void 0:xe.symbol)||"auto-selected"})`:""}`,data:{count:le,defaultMarketId:pe,defaultMarket:xe?{id:xe.id,market_id:xe.market_id,moniker:xe.moniker,symbol:xe.symbol,active:xe.active,status:xe.status}:null,markets:ee.slice(0,5)},timestamp:Date.now()}),pe){i(pe),_.current=pe;const ce=(xe==null?void 0:xe.moniker)||(xe==null?void 0:xe.symbol)||(xe!=null&&xe.baseAsset&&(xe!=null&&xe.quoteAsset)?`${xe.baseAsset}-${xe.quoteAsset}`:"Unknown");R(z,{success:!0,message:`Markets loaded: ${le} | Auto-selected: ${ce} (ID: ${pe.substring(0,10)}...)`,data:{selectedMarketId:pe,count:le,market:xe},timestamp:Date.now()}),R(z,{success:!0,message:"Waiting 1.5s for market selection to take effect...",timestamp:Date.now()}),await new Promise(Oe=>setTimeout(Oe,1500)),R(z,{success:!0,message:`Market ID ready: ${pe}`,data:{marketId:pe},timestamp:Date.now()}),R(z,{success:!0,message:`Proceeding with market: ${ce}`,timestamp:Date.now()})}const Le=pe||W||r;if(Le){R(z,{success:!0,message:`Testing getOrderbook(${Le}, true)...`,timestamp:Date.now()});try{const ce=await b.current.getOrderbook(Le,!0);R(z,{success:ce&&(ce.bids||ce.asks),message:"getOrderbook() - GET /clob/v1/orderbook/{marketId} with decimal conversion",data:{bids:(Ne=ce==null?void 0:ce.bids)==null?void 0:Ne.slice(0,3),asks:(ge=ce==null?void 0:ce.asks)==null?void 0:ge.slice(0,3)},timestamp:Date.now()});const Oe=await b.current.getOrderbook(Le,!1);R(z,{success:Oe&&(Oe.bids||Oe.asks),message:"getOrderbook() - GET /clob/v1/orderbook/{marketId} raw satoshi format",data:{bids:($e=Oe==null?void 0:Oe.bids)==null?void 0:$e.slice(0,2),asks:(ue=Oe==null?void 0:Oe.asks)==null?void 0:ue.slice(0,2)},timestamp:Date.now()})}catch(ce){R(z,{success:!1,message:"getOrderbook() - GET /clob/v1/orderbook/{marketId} failed",error:ce.message,timestamp:Date.now()})}R(z,{success:!0,message:`Testing getTicker(${Le})...`,timestamp:Date.now()});try{const ce=await b.current.getTicker(Le);R(z,{success:!!ce,message:"getTicker() - GET /market/v1/market/{marketId}/stats",data:ce,timestamp:Date.now()})}catch(ce){R(z,{success:!1,message:"getTicker() - GET /market/v1/market/{marketId}/stats failed",error:ce.message,timestamp:Date.now()})}R(z,{success:!0,message:`Testing getRecentTrades(${Le}, 10)...`,timestamp:Date.now()});try{const ce=await b.current.getRecentTrades(Le,10);R(z,{success:Array.isArray(ce),message:`getRecentTrades() - GET /clob/v1/trades?market_id={marketId} returned ${Array.isArray(ce)?ce.length:0} trades`,data:ce==null?void 0:ce.slice(0,3),timestamp:Date.now()})}catch(ce){R(z,{success:!1,message:"getRecentTrades() - GET /clob/v1/trades?market_id={marketId} failed",error:ce.message,timestamp:Date.now()})}}else R(z,{success:!1,message:"Skipping market-specific tests: No market ID available",error:"Please ensure markets are loaded and a market is selected",timestamp:Date.now()});R(z,{success:!0,message:"Testing router/v1 endpoints...",timestamp:Date.now()});try{const ce=await b.current.getSupportedActions();R(z,{success:Array.isArray(ce==null?void 0:ce.actions)||(ce==null?void 0:ce.actions)!==void 0,message:"getSupportedActions() - GET /router/v1/tx/supported-actions",data:ce,timestamp:Date.now()})}catch(ce){R(z,{success:!1,message:"getSupportedActions() - GET /router/v1/tx/supported-actions failed",error:ce.message,timestamp:Date.now()})}try{const ce=await b.current.validateAction("clob::submit_order");R(z,{success:(ce==null?void 0:ce.valid)!==void 0||ce!==void 0,message:'validateAction() - GET /router/v1/tx/validate-action ("clob::submit_order")',data:ce,timestamp:Date.now()})}catch(ce){R(z,{success:!1,message:"validateAction() - GET /router/v1/tx/validate-action failed",error:ce.message,timestamp:Date.now()})}try{const ce=await b.current.getHealthSummary();R(z,{success:!!ce,message:"getHealthSummary() - GET /router/v1/health/summary",data:ce,timestamp:Date.now()})}catch(ce){R(z,{success:!1,message:"getHealthSummary() - GET /router/v1/health/summary failed",error:ce.message,timestamp:Date.now()})}try{const ce=await b.current.getHealthDaemons();R(z,{success:!!ce,message:"getHealthDaemons() - GET /router/v1/health/daemons",data:ce,timestamp:Date.now()})}catch(ce){R(z,{success:!1,message:"getHealthDaemons() - GET /router/v1/health/daemons failed",error:ce.message,timestamp:Date.now()})}try{const ce=await b.current.getServerTime();R(z,{success:!!ce&&(ce.serverTime!==void 0||ce!==void 0),message:"getServerTime() - GET /router/v1/time",data:ce,timestamp:Date.now()})}catch(ce){R(z,{success:!1,message:"getServerTime() - GET /router/v1/time failed",error:ce.message,timestamp:Date.now()})}try{const ce=await b.current.getMetricsTPS();R(z,{success:!!ce,message:"getMetricsTPS() - GET /router/v1/metrics/tps",data:ce,timestamp:Date.now()})}catch(ce){R(z,{success:!1,message:"getMetricsTPS() - GET /router/v1/metrics/tps failed",error:ce.message,timestamp:Date.now()})}try{const ce=await b.current.getMetricsLatency();R(z,{success:!!ce,message:"getMetricsLatency() - GET /router/v1/metrics/latency",data:ce,timestamp:Date.now()})}catch(ce){R(z,{success:!1,message:"getMetricsLatency() - GET /router/v1/metrics/latency failed",error:ce.message,timestamp:Date.now()})}}catch(ee){R(z,{success:!1,message:"InfoClient test error",error:ee.message,timestamp:Date.now()})}},Re=async()=>{var $e,ue,ee;const z="ExchangeClient";if(!T){R(z,{success:!1,message:"Mnemonic required for ExchangeClient tests",error:"No mnemonic provided",timestamp:Date.now()});return}let ve=r||W||_.current||"";if(!ve||ve.trim()===""){if(k.current&&k.current.length>0){const le=k.current.find(xe=>xe.active||xe.status==="active")??k.current[0];le&&(ve=le.market_id??(($e=le.id)==null?void 0:$e.toString())??"",_.current=ve,R(z,{success:!0,message:`Market ID not in state, using from fetched markets ref: ${ve.substring(0,16)}...`,data:{source:"fetchedMarketsRef",marketId:ve,market:{moniker:le.moniker,symbol:le.symbol,active:le.active}},timestamp:Date.now()}))}else if(S&&S.length>0){const le=S.find(xe=>xe.active||xe.status==="active")??S[0];le&&(ve=le.market_id??((ue=le.id)==null?void 0:ue.toString())??"",R(z,{success:!0,message:`Market ID not in state, using from markets state: ${ve.substring(0,16)}...`,data:{source:"markets state",marketId:ve,market:{moniker:le.moniker,symbol:le.symbol,active:le.active}},timestamp:Date.now()}))}}if(!ve||ve.trim()===""){R(z,{success:!1,message:"Market ID required from page or loaded markets",error:`Please enter or select a market ID in the configuration section, or ensure markets are loaded first. Debug: marketId="${r||"(empty)"}", effectiveMarketId="${W||"(empty)"}", fetchedMarketIdRef="${_.current||"(empty)"}", fetchedMarketsRef.length=${k.current.length}, markets.length=${S.length}`,data:{marketId:r||"(empty)",effectiveMarketId:W||"(empty)",defaultMarketId:Y||"(empty)",fetchedMarketIdRef:_.current||"(empty)",fetchedMarketsRefCount:k.current.length,marketsCount:S.length,marketsAvailable:S.length>0||k.current.length>0},timestamp:Date.now()});return}const Ne=D||"";if(!Ne||Ne.trim()===""){R(z,{success:!1,message:"Wallet address required from page",error:"Wallet address should be generated from mnemonic or entered manually. Please ensure mnemonic is valid.",timestamp:Date.now()});return}const ge=r?"page state (marketId)":W?"page state (effectiveMarketId)":"loaded markets array";R(z,{success:!0,message:`Using market ID from ${ge}: ${ve.substring(0,16)}...`,data:{marketId:ve,source:ge},timestamp:Date.now()}),R(z,{success:!0,message:`Using wallet address from page: ${Ne.substring(0,10)}...`,data:{walletAddress:Ne},timestamp:Date.now()}),(s||a)&&R(z,{success:!0,message:`Using signing tokens: ${s?"Session Token":""} ${a?"Auth Token":""}`,data:{hasSessionToken:!!s,hasAuthToken:!!a},timestamp:Date.now()}),y.current=new zl({baseURL:w.current,mnemonic:$.current});try{R(z,{success:!0,message:"Initializing ExchangeClient...",timestamp:Date.now()}),await y.current.initialize();const le=y.current.getWalletAddress();if(le.toLowerCase()!==Ne.toLowerCase()){R(z,{success:!1,message:"Wallet address mismatch",error:`ExchangeClient wallet (${le}) does not match page wallet (${Ne})`,timestamp:Date.now()});return}R(z,{success:!0,message:`ExchangeClient initialized successfully (Wallet: ${le.substring(0,10)}...)`,data:{walletAddress:le,marketId:ve,verified:!0},timestamp:Date.now()});const xe=ve;R(z,{success:!0,message:`Using market ID as string: ${xe}`,data:{marketId:xe},timestamp:Date.now()});let pe=null;R(z,{success:!0,message:"Testing placeOrder with validation for btc-usdc-perp market...",timestamp:Date.now()});let Le=[];try{b.current||(b.current=new Qn({baseURL:w.current})),s&&b.current&&b.current.setSessionToken(s);const je=await b.current.getBuckets(le);Le=Array.isArray(je)?je:[],R(z,{success:!0,message:`Fetched ${Le.length} bucket(s) for order test`,timestamp:Date.now()})}catch(je){R(z,{success:!1,message:"Failed to fetch buckets for order test",error:je.message,timestamp:Date.now()})}let ce=null;try{const be=(k.current.length>0?k.current:S).find(de=>{const me=(de.moniker||"").toLowerCase(),he=(de.symbol||"").toLowerCase();return me.includes("btc-usdc-perp")||me.includes("btcusdcperp")||he.includes("btc-usdc-perp")||he.includes("btcusdcperp")||de.baseAsset&&de.quoteAsset&&de.baseAsset.toLowerCase()==="btc"&&de.quoteAsset.toLowerCase()==="usdc"});be?(ce=be.market_id||((ee=be.id)==null?void 0:ee.toString())||null,R(z,{success:!!ce,message:`Found btc-usdc-perp market: ${ce==null?void 0:ce.substring(0,16)}...`,data:{marketId:ce,moniker:be.moniker,symbol:be.symbol},timestamp:Date.now()})):R(z,{success:!1,message:"btc-usdc-perp market not found in available markets",error:"Please ensure btc-usdc-perp market is available",timestamp:Date.now()})}catch(je){R(z,{success:!1,message:"Failed to find btc-usdc-perp market",error:je.message,timestamp:Date.now()})}if(ce)try{let je=null;if(Le.length>0){const be=Le[0];je=be.bucket_id||be.id||be.bucketId||null}if(!je)R(z,{success:!1,message:"Default bucket not available for balance validation",error:"No buckets found",timestamp:Date.now()});else{R(z,{success:!0,message:"Step 1: Loading default bucket balance and checking available margin...",timestamp:Date.now()});const be=1.01,de=100,me=10500,he=Wt(de.toString()),fe=be*me/de;let De=0,Ye=0,Ge=0,Ve=0;try{if(!b.current)throw new Error("InfoClient not initialized");const Me=await b.current.getBucket(je);Ge=ot(Me.available_margin||"0"),Ye=ot(Me.deposited_margin||"0"),Ve=ot(Me.total_equity||"0"),De=Ge,R(z,{success:!0,message:"Step 1: Default bucket balance loaded",data:{availableMargin:Ge.toFixed(2),depositedMargin:Ye.toFixed(2),totalEquity:Ve.toFixed(2),requiredMargin:fe.toFixed(2),raw:Me},timestamp:Date.now()}),R(z,{success:!0,message:`Step 1: Validating sufficient available margin (required: ${fe.toFixed(2)} USDC, available: ${Ge.toFixed(2)} USDC)...`,timestamp:Date.now()});const Ce=Ge>=fe;if(R(z,{success:Ce,message:`Step 1: Margin validation ${Ce?"PASSED":"FAILED"}`,data:{availableMargin:Ge.toFixed(2),requiredMargin:fe.toFixed(2),marginDifference:(Ge-fe).toFixed(2),hasSufficientMargin:Ce,orderQuantity:`${be.toFixed(2)} BTC`,orderPrice:`${me.toFixed(2)} USDC/BTC`,orderLeverage:de.toFixed(2),calculation:`(${be.toFixed(2)} BTC * ${me.toFixed(2)} USDC/BTC) / ${de.toFixed(2)} = ${fe.toFixed(2)} USDC`},timestamp:Date.now()}),!Ce)throw R(z,{success:!1,message:`Step 1: Insufficient available margin. Required: ${fe.toFixed(2)} USDC, Available: ${Ge.toFixed(2)} USDC`,error:`Available margin (${Ge.toFixed(2)} USDC) is less than required margin (${fe.toFixed(2)} USDC)`,data:{availableMargin:Ge.toFixed(2),requiredMargin:fe.toFixed(2),shortfall:(fe-Ge).toFixed(2)},timestamp:Date.now()}),new Error(`Insufficient available margin: ${Ge.toFixed(2)} USDC available, ${fe.toFixed(2)} USDC required`);R(z,{success:!0,message:"Step 1: Sufficient margin available. Proceeding to place order...",data:{availableMargin:Ge.toFixed(2),requiredMargin:fe.toFixed(2),marginRemaining:(Ge-fe).toFixed(2)},timestamp:Date.now()})}catch(Me){throw R(z,{success:!1,message:"Step 1: Failed to load or validate bucket balance",error:Me.message,timestamp:Date.now()}),Me}R(z,{success:!0,message:`Step 2: Preparing to place order - Quantity: ${be.toFixed(2)} BTC, Leverage: ${de}x, Price: ${me.toFixed(2)} USDC/BTC...`,timestamp:Date.now()}),R(z,{success:!0,message:"Step 2.1: Re-checking default bucket available margin before placing order...",timestamp:Date.now()});let K=0;try{if(!b.current)throw new Error("InfoClient not initialized");const Me=await b.current.getBucket(je);K=ot(Me.available_margin||"0"),R(z,{success:!0,message:`Step 2.1: Current available margin: ${K.toFixed(2)} USDC`,data:{currentAvailableMargin:K.toFixed(2),requiredMargin:fe.toFixed(2),previousAvailableMargin:Ge.toFixed(2),raw:Me},timestamp:Date.now()});const Ce=K>=fe;if(R(z,{success:Ce,message:`Step 2.1: Margin check ${Ce?"PASSED":"FAILED"}`,data:{currentAvailableMargin:K.toFixed(2),requiredMargin:fe.toFixed(2),marginDifference:(K-fe).toFixed(2),stillHasSufficientMargin:Ce},timestamp:Date.now()}),!Ce)throw R(z,{success:!1,message:`Step 2.1: Insufficient available margin. Required: ${fe.toFixed(2)} USDC, Available: ${K.toFixed(2)} USDC`,error:`Available margin (${K.toFixed(2)} USDC) is less than required margin (${fe.toFixed(2)} USDC)`,data:{currentAvailableMargin:K.toFixed(2),requiredMargin:fe.toFixed(2),shortfall:(fe-K).toFixed(2)},timestamp:Date.now()}),new Error(`Insufficient available margin: ${K.toFixed(2)} USDC available, ${fe.toFixed(2)} USDC required`);R(z,{success:!0,message:"Step 2.1: Sufficient margin confirmed. Proceeding with order placement...",data:{currentAvailableMargin:K.toFixed(2),requiredMargin:fe.toFixed(2),marginRemaining:(K-fe).toFixed(2)},timestamp:Date.now()})}catch(Me){throw R(z,{success:!1,message:"Step 2.1: Failed to validate available margin before order placement",error:Me.message,timestamp:Date.now()}),Me}R(z,{success:!0,message:`Step 2.2: Placing order - Quantity: ${be.toFixed(2)} BTC, Leverage: ${de}x, Price: ${me.toFixed(2)} USDC/BTC...`,timestamp:Date.now()});let re=null,ne=null;const ut={marketId:ce,side:"buy",orderType:"LIMIT",price:me,quantity:be,timeInForce:"GTC",leverage:he},Be={maxRetries:10,baseDelay:500,maxDelay:2e3,jitter:!0,multiplier:1.5};let Fe=0;try{re=await Ux(Be,async()=>{if(Fe++,Fe>1&&R(z,{success:!0,message:`Step 2.2: Retrying order placement (attempt ${Fe}/${Be.maxRetries+1})...`,data:{attemptCount:Fe},timestamp:Date.now()}),!y.current)throw new Error("ExchangeClient not initialized");const Me=await y.current.placeOrder(ut),Ce=(Me==null?void 0:Me.order_id)||null;if(!Me||!Ce)throw new Error("Order placed but order_id not found in response");return Me},async Me=>{if(mM(Me)){R(z,{success:!1,message:`Step 2.2: Nonce error detected (attempt ${Fe}/${Be.maxRetries+1}): ${(Me==null?void 0:Me.message)||String(Me)}`,data:{error:(Me==null?void 0:Me.message)||String(Me),errorType:"nonce error",attemptCount:Fe,willRetry:Fe<=Be.maxRetries},timestamp:Date.now()});try{if(!y.current)throw new Error("ExchangeClient not initialized");await y.current.refreshNonceFromServer(),R(z,{success:!0,message:"Step 2.2: Refreshed nonce from server, will retry...",timestamp:Date.now()})}catch(ht){R(z,{success:!1,message:"Step 2.2: Failed to refresh nonce from server",error:(ht==null?void 0:ht.message)||String(ht),timestamp:Date.now()})}return!0}return R(z,{success:!1,message:"Step 2.2: Failed to place order (non-retryable error)",error:(Me==null?void 0:Me.message)||String(Me),data:{error:(Me==null?void 0:Me.message)||String(Me),isNonceError:!1},timestamp:Date.now()}),!1}),ne=(re==null?void 0:re.order_id)||null,R(z,{success:!!re&&!!ne,message:`Step 2.2: Order placed successfully${Fe>1?` (after ${Fe-1} retry${Fe>2?"ies":""})`:""}. Order ID: ${ne==null?void 0:ne.substring(0,16)}...`,data:{orderResult:re,orderId:ne,requestBody:ut,attemptCount:Fe},timestamp:Date.now()})}catch(Me){throw R(z,{success:!1,message:`Step 2.2: Failed to place order after ${Fe} attempt${Fe>1?"s":""}`,error:(Me==null?void 0:Me.message)||String(Me),data:{error:(Me==null?void 0:Me.message)||String(Me),attemptCount:Fe,maxRetriesReached:Fe>Be.maxRetries},timestamp:Date.now()}),Me}if(!re||!ne)throw new Error(`Failed to place order after ${Fe} attempts`);if(await new Promise(Me=>setTimeout(Me,1500)),ne){R(z,{success:!0,message:"Step 3: Validating pending order details...",timestamp:Date.now()});try{if(!b.current)throw new Error("InfoClient not initialized");const Me=await b.current.getOrder(ne);if(Me){const Ce=ot(Me.price||"0"),ht=ot(Me.quantity||"0"),Ue=ot(Me.leverage||"0"),lt=Me.side||"",Tt=Me.market_id||"",bt=Math.abs(Ce-me)<.01,xt=Math.abs(ht-be)<.01,yt=Math.abs(Ue-de)<.01,zt=Tt===ce,Gt=lt.toUpperCase().includes("BUY")||lt==="buy";R(z,{success:bt&&xt&&yt&&zt&&Gt,message:`Step 3: Order validation ${bt&&xt&&yt&&zt&&Gt?"PASSED":"FAILED"}`,data:{orderId:ne,expectedPrice:me.toFixed(2),actualPrice:Ce.toFixed(2),priceValid:bt,expectedQuantity:`${be.toFixed(2)} BTC`,actualQuantity:`${ht.toFixed(2)} BTC`,quantityValid:xt,expectedLeverage:de.toFixed(2),actualLeverage:Ue.toFixed(2),leverageValid:yt,expectedMarketId:ce,actualMarketId:Tt,marketIdValid:zt,expectedSide:"buy",actualSide:lt,sideValid:Gt,orderStatus:Me.status,rawOrder:Me},timestamp:Date.now()}),bt||R(z,{success:!1,message:`Order price mismatch: Expected ${me.toFixed(2)}, got ${Ce.toFixed(2)}`,timestamp:Date.now()}),xt||R(z,{success:!1,message:`Order quantity mismatch: Expected ${be.toFixed(2)} BTC, got ${ht.toFixed(2)} BTC`,timestamp:Date.now()}),yt||R(z,{success:!1,message:`Order leverage mismatch: Expected ${de.toFixed(2)}, got ${Ue.toFixed(2)}`,timestamp:Date.now()}),zt||R(z,{success:!1,message:`Order market ID mismatch: Expected ${ce}, got ${Tt}`,timestamp:Date.now()}),Gt||R(z,{success:!1,message:`Order side mismatch: Expected buy, got ${lt}`,timestamp:Date.now()})}else R(z,{success:!1,message:"Step 3: Failed to retrieve pending order",error:"Order not found",timestamp:Date.now()})}catch(Me){R(z,{success:!1,message:"Step 3: Failed to validate pending order",error:Me.message,timestamp:Date.now()})}}R(z,{success:!0,message:"Step 4: Loading default bucket USDC balance after placing order...",timestamp:Date.now()});let we=0;try{if(!b.current)throw new Error("InfoClient not initialized");const Me=await b.current.getBucket(je);we=ot(Me.available_margin||"0"),R(z,{success:!0,message:`Step 4: Default bucket USDC balance after: ${we.toFixed(2)} USDC`,data:{balance:we,raw:Me},timestamp:Date.now()})}catch(Me){throw R(z,{success:!1,message:"Step 4: Failed to load bucket balance after order",error:Me.message,timestamp:Date.now()}),Me}R(z,{success:!0,message:"Step 5: Validating bucket balance change...",timestamp:Date.now()});const ft=K-we,at=fe,At=Math.abs(ft-at)<.01;R(z,{success:At,message:`Step 5: Bucket balance validation ${At?"PASSED":"FAILED"}`,data:{availableMarginBeforeOrder:K.toFixed(2),availableMarginAfterOrder:we.toFixed(2),marginReserved:ft.toFixed(2),expectedMarginReserved:at.toFixed(2),marginReservedValid:At,orderQuantity:`${be.toFixed(2)} BTC`,orderPrice:`${me.toFixed(2)} USDC/BTC`,orderLeverage:de.toFixed(2),calculation:`(${be.toFixed(2)} BTC * ${me.toFixed(2)} USDC/BTC) / ${de.toFixed(2)} = ${at.toFixed(2)} USDC`,note:"Using available margin from Step 2.1 as baseline (most recent before order placement)"},timestamp:Date.now()}),At||R(z,{success:!1,message:`Bucket balance change mismatch: Expected margin reserved ${at.toFixed(2)} USDC, actual change ${ft.toFixed(2)} USDC`,error:`Expected available margin to decrease by ${at.toFixed(2)} USDC, but decreased by ${ft.toFixed(2)} USDC`,timestamp:Date.now()}),R(z,{success:At,message:`Place order validation test ${At?"COMPLETED SUCCESSFULLY":"COMPLETED WITH VALIDATION ERRORS"}`,data:{orderId:ne,marketId:ce,orderQuantity:`${be.toFixed(2)} BTC`,orderLeverage:`${de}x`,orderPrice:`${me.toFixed(2)} USDC`,availableMarginBeforeOrder:`${K.toFixed(2)} USDC`,availableMarginAfterOrder:`${we.toFixed(2)} USDC`,marginReserved:`${ft.toFixed(2)} USDC`,expectedMarginReserved:`${at.toFixed(2)} USDC`,validationPassed:At},timestamp:Date.now()})}}catch(je){R(z,{success:!1,message:"Place order validation test failed",error:je.message,timestamp:Date.now()})}if(ve){const be=Wt("1"),de={marketId:xe,side:"buy",orderType:"LIMIT",price:40010.8778,quantity:.01,timeInForce:"GTC",leverage:be};R(z,{success:!0,message:`Testing placeOrder() (submit order) for market ${ve}...`,data:{requestBody:de,endpoint:"POST /clob/v1/order",note:"Price and quantity are decimal numbers, converted to satoshi strings in buildOrderPayload(). Leverage is already in satoshi format.",leverage:{decimal:1,satoshi:be}},timestamp:Date.now()});try{const me=await y.current.placeOrder(de);me?(pe=me.order_id||me.orderId||me.id||null,pe?R(z,{success:!0,message:`placeOrder() - POST /clob/v1/order executed successfully. Order ID: ${pe.substring(0,16)}...`,data:{orderResult:me,orderId:pe,requestBody:de,endpoint:"POST /clob/v1/order"},timestamp:Date.now()}):R(z,{success:!0,message:"placeOrder() - POST /clob/v1/order executed successfully (orderId not found in response)",data:{orderResult:me,requestBody:de,endpoint:"POST /clob/v1/order"},timestamp:Date.now()})):R(z,{success:!1,message:"placeOrder() - POST /clob/v1/order returned empty response",data:{requestBody:de,endpoint:"POST /clob/v1/order"},timestamp:Date.now()})}catch(me){R(z,{success:!1,message:"placeOrder() - POST /clob/v1/order failed",error:me.message,data:{requestBody:de,endpoint:"POST /clob/v1/order"},timestamp:Date.now()})}}else R(z,{success:!0,message:"Skipping placeOrder() test: No market ID available",timestamp:Date.now()});if(ve&&pe){R(z,{success:!0,message:`Testing cancelOrder() for order ${pe.substring(0,16)}...`,timestamp:Date.now()});try{const je=await y.current.cancelOrder({orderId:pe,marketId:xe});R(z,{success:!!je,message:"cancelOrder() - POST /router/v1/tx executed successfully",data:je,timestamp:Date.now()})}catch(je){R(z,{success:!1,message:"cancelOrder() - POST /router/v1/tx failed",error:je.message,timestamp:Date.now()})}}else ve?pe||R(z,{success:!0,message:"Skipping cancelOrder() test: No order ID available (placeOrder may have failed or orderId not in response)",timestamp:Date.now()}):R(z,{success:!0,message:"Skipping cancelOrder() test: No market ID available",timestamp:Date.now()});if(ve){R(z,{success:!0,message:`Testing closePosition() for market ${ve}...`,timestamp:Date.now()});try{let je=!1,be=0;try{b.current||(b.current=new Qn({baseURL:w.current})),s&&b.current&&b.current.setSessionToken(s);const de=await b.current.getPositions(le),me=Array.isArray(de)?de.find(he=>(he.market_id||he.marketId)===ve):null;if(me)if(je=!0,me.mark_price)be=ot(me.mark_price||"0");else{const he=await b.current.getTicker(ve);he&&he.last_price&&(be=ot(he.last_price))}}catch(de){R(z,{success:!0,message:`Position check failed (will attempt close anyway): ${de.message}`,timestamp:Date.now()})}if(!je)R(z,{success:!0,message:"No open position found for this market. Skipping closePosition() test.",data:{marketId:ve,note:"closePosition() requires an open position to test"},timestamp:Date.now()});else{const de=await y.current.closePosition({marketId:xe,marketPrice:be>0?be:void 0,quantity:void 0});R(z,{success:!!de,message:"closePosition() - POST /bucket/v1/position/close executed successfully",data:{closeResult:de,note:"quantity=undefined means close full position (closeSize=0 in request)"},timestamp:Date.now()})}}catch(je){R(z,{success:!1,message:"closePosition() - POST /bucket/v1/position/close failed (may not have open position)",error:je.message,timestamp:Date.now()})}}else R(z,{success:!0,message:"Skipping closePosition() test: No market ID available",timestamp:Date.now()});R(z,{success:!0,message:"Fetching buckets for bucket operation tests...",timestamp:Date.now()});let Oe=[];try{b.current||(b.current=new Qn({baseURL:w.current})),s&&b.current&&b.current.setSessionToken(s);const je=await b.current.getBuckets(le);Oe=Array.isArray(je)?je:[],R(z,{success:!0,message:`Found ${Oe.length} bucket(s) for testing`,data:{bucketCount:Oe.length,buckets:Oe.slice(0,3).map(be=>({bucketId:be.bucket_id||be.id||be.bucketId,availableMargin:be.available_margin||be.availableMargin}))},timestamp:Date.now()})}catch(je){R(z,{success:!1,message:"Failed to fetch buckets for testing",error:je.message,timestamp:Date.now()})}if(Oe.length>0){const je=Oe[0],be=je.bucket_id||je.id||je.bucketId;if(be){R(z,{success:!0,message:"Testing extractToBucket() (1 USD = 100000000 satoshi)...",timestamp:Date.now()});try{const de=await y.current.extractToBucket({bucketId:be,assetId:"USDC",amount:"100000000"});R(z,{success:!!de,message:"extractToBucket() - POST /bank/v1/extract-to-bucket executed successfully",data:de,timestamp:Date.now()})}catch(de){R(z,{success:!1,message:"extractToBucket() - POST /bank/v1/extract-to-bucket failed",error:de.message,timestamp:Date.now()})}}else R(z,{success:!0,message:"Skipping extractToBucket() test: No valid bucket ID found",timestamp:Date.now()})}else R(z,{success:!0,message:"Skipping extractToBucket() test: No buckets available",timestamp:Date.now()});if(Oe.length>0){const je=Oe[0],be=je.bucket_id||je.id||je.bucketId;if(be){R(z,{success:!0,message:"Testing bucket to spot wallet transfer (10.00 USDC) with validation...",timestamp:Date.now()});try{R(z,{success:!0,message:"Step 1: Loading bucket USDC balance before transfer...",timestamp:Date.now()});let de=0;try{const Be=await b.current.getBucket(be);de=ot(Be.available_margin||"0"),R(z,{success:!0,message:`Step 1: Bucket USDC balance before: ${de.toFixed(2)} USDC`,data:{balance:de,raw:Be},timestamp:Date.now()})}catch(Be){throw R(z,{success:!1,message:"Step 1: Failed to load bucket balance",error:Be.message,timestamp:Date.now()}),Be}R(z,{success:!0,message:"Step 2: Loading spot wallet USDC balance before transfer...",timestamp:Date.now()});let me=0;try{const Be=await b.current.getBalanceDecimal(le,"USDC");me=ot(Be.available_balance||"0"),R(z,{success:!0,message:`Step 2: Spot wallet USDC balance before: ${me.toFixed(2)} USDC`,data:{balance:me,raw:Be},timestamp:Date.now()})}catch(Be){throw R(z,{success:!1,message:"Step 2: Failed to load spot wallet balance",error:Be.message,timestamp:Date.now()}),Be}const he=10,fe=Wt(he.toString());R(z,{success:!0,message:`Step 3: Transferring ${he.toFixed(2)} USDC (${fe} satoshi) from bucket to spot wallet...`,timestamp:Date.now()});try{const Be=await y.current.withdrawFromBucket({bucketId:be,assetId:"USDC",amount:fe});R(z,{success:!!Be,message:"Step 3: Transfer executed successfully",data:Be,timestamp:Date.now()})}catch(Be){throw R(z,{success:!1,message:"Step 3: Transfer failed",error:Be.message,timestamp:Date.now()}),Be}await new Promise(Be=>setTimeout(Be,1e3)),R(z,{success:!0,message:"Step 4: Loading bucket USDC balance after transfer...",timestamp:Date.now()});let De=0;try{const Be=await b.current.getBucket(be);De=ot(Be.available_margin||"0"),R(z,{success:!0,message:`Step 4: Bucket USDC balance after: ${De.toFixed(2)} USDC`,data:{balance:De,raw:Be},timestamp:Date.now()})}catch(Be){throw R(z,{success:!1,message:"Step 4: Failed to load bucket balance after transfer",error:Be.message,timestamp:Date.now()}),Be}R(z,{success:!0,message:"Step 5: Loading spot wallet USDC balance after transfer...",timestamp:Date.now()});let Ye=0;try{const Be=await b.current.getBalanceDecimal(le,"USDC");Ye=ot(Be.available_balance||"0"),R(z,{success:!0,message:`Step 5: Spot wallet USDC balance after: ${Ye.toFixed(2)} USDC`,data:{balance:Ye,raw:Be},timestamp:Date.now()})}catch(Be){throw R(z,{success:!1,message:"Step 5: Failed to load spot wallet balance after transfer",error:Be.message,timestamp:Date.now()}),Be}R(z,{success:!0,message:"Step 6: Validating transfer amounts...",timestamp:Date.now()});const Ge=de-De,Ve=Ye-me,K=he,re=he,ne=Math.abs(Ge-K)<.01,ut=Math.abs(Ve-re)<.01;R(z,{success:ne&&ut,message:`Step 6: Validation ${ne&&ut?"PASSED":"FAILED"}`,data:{bucketBalanceBefore:de.toFixed(2),bucketBalanceAfter:De.toFixed(2),bucketBalanceDecrease:Ge.toFixed(2),expectedBucketDecrease:K.toFixed(2),bucketDecreaseValid:ne,walletBalanceBefore:me.toFixed(2),walletBalanceAfter:Ye.toFixed(2),walletBalanceIncrease:Ve.toFixed(2),expectedWalletIncrease:re.toFixed(2),walletIncreaseValid:ut,transferAmount:he.toFixed(2)},timestamp:Date.now()}),ne||R(z,{success:!1,message:`Validation failed: Bucket balance decrease (${Ge.toFixed(2)}) does not match expected (${K.toFixed(2)})`,error:`Expected bucket to decrease by ${K.toFixed(2)} USDC, but decreased by ${Ge.toFixed(2)} USDC`,timestamp:Date.now()}),ut||R(z,{success:!1,message:`Validation failed: Wallet balance increase (${Ve.toFixed(2)}) does not match expected (${re.toFixed(2)})`,error:`Expected wallet to increase by ${re.toFixed(2)} USDC, but increased by ${Ve.toFixed(2)} USDC`,timestamp:Date.now()}),R(z,{success:ne&&ut,message:`Bucket to spot wallet transfer test ${ne&&ut?"COMPLETED SUCCESSFULLY":"COMPLETED WITH VALIDATION ERRORS"}`,data:{transferAmount:`${he.toFixed(2)} USDC`,bucketBalanceBefore:`${de.toFixed(2)} USDC`,bucketBalanceAfter:`${De.toFixed(2)} USDC`,bucketBalanceChange:`${Ge.toFixed(2)} USDC`,walletBalanceBefore:`${me.toFixed(2)} USDC`,walletBalanceAfter:`${Ye.toFixed(2)} USDC`,walletBalanceChange:`${Ve.toFixed(2)} USDC`,validationPassed:ne&&ut},timestamp:Date.now()})}catch(de){R(z,{success:!1,message:"Bucket to spot wallet transfer test failed",error:de.message,timestamp:Date.now()})}}else R(z,{success:!0,message:"Skipping bucket to spot wallet transfer test: No valid bucket ID found",timestamp:Date.now()})}else R(z,{success:!0,message:"Skipping bucket to spot wallet transfer test: No buckets available",timestamp:Date.now()});if(Oe.length>=2){const je=Oe[0],be=Oe[1],de=je.bucket_id||je.id||je.bucketId,me=be.bucket_id||be.id||be.bucketId;if(de&&me){R(z,{success:!0,message:"Testing bucket to bucket transfer (10.00 USDC) with validation...",timestamp:Date.now()});try{R(z,{success:!0,message:"Step 1: Loading source bucket USDC balance before transfer...",timestamp:Date.now()});let he=0;try{const we=await b.current.getBucket(de);he=ot(we.available_margin||"0"),R(z,{success:!0,message:`Step 1: Source bucket USDC balance before: ${he.toFixed(2)} USDC`,data:{balance:he,raw:we},timestamp:Date.now()})}catch(we){throw R(z,{success:!1,message:"Step 1: Failed to load source bucket balance",error:we.message,timestamp:Date.now()}),we}R(z,{success:!0,message:"Step 2: Loading target bucket USDC balance before transfer...",timestamp:Date.now()});let fe=0;try{const we=await b.current.getBucket(me);fe=ot(we.available_margin||"0"),R(z,{success:!0,message:`Step 2: Target bucket USDC balance before: ${fe.toFixed(2)} USDC`,data:{balance:fe,raw:we},timestamp:Date.now()})}catch(we){throw R(z,{success:!1,message:"Step 2: Failed to load target bucket balance",error:we.message,timestamp:Date.now()}),we}const De=10,Ye=Wt(De.toString());R(z,{success:!0,message:`Step 3: Transferring ${De.toFixed(2)} USDC (${Ye} satoshi) from source bucket to target bucket...`,timestamp:Date.now()});try{const we=await y.current.bucketTransfer({fromBucketId:de,toBucketId:me,assetId:"USDC",amount:Ye});R(z,{success:!!we,message:"Step 3: Transfer executed successfully",data:we,timestamp:Date.now()})}catch(we){throw R(z,{success:!1,message:"Step 3: Transfer failed",error:we.message,timestamp:Date.now()}),we}await new Promise(we=>setTimeout(we,1e3)),R(z,{success:!0,message:"Step 4: Loading source bucket USDC balance after transfer...",timestamp:Date.now()});let Ge=0;try{const we=await b.current.getBucket(de);Ge=ot(we.available_margin||"0"),R(z,{success:!0,message:`Step 4: Source bucket USDC balance after: ${Ge.toFixed(2)} USDC`,data:{balance:Ge,raw:we},timestamp:Date.now()})}catch(we){throw R(z,{success:!1,message:"Step 4: Failed to load source bucket balance after transfer",error:we.message,timestamp:Date.now()}),we}R(z,{success:!0,message:"Step 5: Loading target bucket USDC balance after transfer...",timestamp:Date.now()});let Ve=0;try{const we=await b.current.getBucket(me);Ve=ot(we.available_margin||"0"),R(z,{success:!0,message:`Step 5: Target bucket USDC balance after: ${Ve.toFixed(2)} USDC`,data:{balance:Ve,raw:we},timestamp:Date.now()})}catch(we){throw R(z,{success:!1,message:"Step 5: Failed to load target bucket balance after transfer",error:we.message,timestamp:Date.now()}),we}R(z,{success:!0,message:"Step 6: Validating transfer amounts...",timestamp:Date.now()});const K=he-Ge,re=Ve-fe,ne=De,ut=De,Be=Math.abs(K-ne)<.01,Fe=Math.abs(re-ut)<.01;R(z,{success:Be&&Fe,message:`Step 6: Validation ${Be&&Fe?"PASSED":"FAILED"}`,data:{sourceBucketBalanceBefore:he.toFixed(2),sourceBucketBalanceAfter:Ge.toFixed(2),sourceBucketBalanceDecrease:K.toFixed(2),expectedSourceDecrease:ne.toFixed(2),sourceDecreaseValid:Be,targetBucketBalanceBefore:fe.toFixed(2),targetBucketBalanceAfter:Ve.toFixed(2),targetBucketBalanceIncrease:re.toFixed(2),expectedTargetIncrease:ut.toFixed(2),targetIncreaseValid:Fe,transferAmount:De.toFixed(2)},timestamp:Date.now()}),Be||R(z,{success:!1,message:`Validation failed: Source bucket balance decrease (${K.toFixed(2)}) does not match expected (${ne.toFixed(2)})`,error:`Expected source bucket to decrease by ${ne.toFixed(2)} USDC, but decreased by ${K.toFixed(2)} USDC`,timestamp:Date.now()}),Fe||R(z,{success:!1,message:`Validation failed: Target bucket balance increase (${re.toFixed(2)}) does not match expected (${ut.toFixed(2)})`,error:`Expected target bucket to increase by ${ut.toFixed(2)} USDC, but increased by ${re.toFixed(2)} USDC`,timestamp:Date.now()}),R(z,{success:Be&&Fe,message:`Bucket to bucket transfer test ${Be&&Fe?"COMPLETED SUCCESSFULLY":"COMPLETED WITH VALIDATION ERRORS"}`,data:{transferAmount:`${De.toFixed(2)} USDC`,sourceBucketBalanceBefore:`${he.toFixed(2)} USDC`,sourceBucketBalanceAfter:`${Ge.toFixed(2)} USDC`,sourceBucketBalanceChange:`${K.toFixed(2)} USDC`,targetBucketBalanceBefore:`${fe.toFixed(2)} USDC`,targetBucketBalanceAfter:`${Ve.toFixed(2)} USDC`,targetBucketBalanceChange:`${re.toFixed(2)} USDC`,validationPassed:Be&&Fe},timestamp:Date.now()})}catch(he){R(z,{success:!1,message:"Bucket to bucket transfer test failed",error:he.message,timestamp:Date.now()})}}else R(z,{success:!0,message:"Skipping bucket to bucket transfer test: Invalid bucket IDs",timestamp:Date.now()})}else R(z,{success:!0,message:"Skipping bucket to bucket transfer test: Need at least 2 buckets (found "+Oe.length+")",timestamp:Date.now()});if(Oe.length>0){const je=Oe[0],be=je.bucket_id||je.id||je.bucketId;if(be){R(z,{success:!0,message:"Testing spot wallet to bucket default transfer (10.00 USDC) with validation...",timestamp:Date.now()});try{R(z,{success:!0,message:"Step 1: Loading spot wallet USDC balance before transfer...",timestamp:Date.now()});let de=0;try{const Be=await b.current.getBalanceDecimal(le,"USDC");de=ot(Be.available_balance||"0"),R(z,{success:!0,message:`Step 1: Spot wallet USDC balance before: ${de.toFixed(2)} USDC`,data:{balance:de,raw:Be},timestamp:Date.now()})}catch(Be){throw R(z,{success:!1,message:"Step 1: Failed to load spot wallet balance",error:Be.message,timestamp:Date.now()}),Be}R(z,{success:!0,message:"Step 2: Loading default bucket USDC balance before transfer...",timestamp:Date.now()});let me=0;try{const Be=await b.current.getBucket(be);me=ot(Be.available_margin||"0"),R(z,{success:!0,message:`Step 2: Default bucket USDC balance before: ${me.toFixed(2)} USDC`,data:{balance:me,raw:Be},timestamp:Date.now()})}catch(Be){throw R(z,{success:!1,message:"Step 2: Failed to load bucket balance",error:Be.message,timestamp:Date.now()}),Be}const he=10,fe=Wt(he.toString());R(z,{success:!0,message:`Step 3: Transferring ${he.toFixed(2)} USDC (${fe} satoshi) from spot wallet to default bucket...`,timestamp:Date.now()});try{const Be=await y.current.extractToBucket({bucketId:be,assetId:"USDC",amount:fe});R(z,{success:!!Be,message:"Step 3: Transfer executed successfully",data:Be,timestamp:Date.now()})}catch(Be){throw R(z,{success:!1,message:"Step 3: Transfer failed",error:Be.message,timestamp:Date.now()}),Be}await new Promise(Be=>setTimeout(Be,1e3)),R(z,{success:!0,message:"Step 4: Loading spot wallet USDC balance after transfer...",timestamp:Date.now()});let De=0;try{const Be=await b.current.getBalanceDecimal(le,"USDC");De=ot(Be.available_balance||"0"),R(z,{success:!0,message:`Step 4: Spot wallet USDC balance after: ${De.toFixed(2)} USDC`,data:{balance:De,raw:Be},timestamp:Date.now()})}catch(Be){throw R(z,{success:!1,message:"Step 4: Failed to load spot wallet balance after transfer",error:Be.message,timestamp:Date.now()}),Be}R(z,{success:!0,message:"Step 5: Loading default bucket USDC balance after transfer...",timestamp:Date.now()});let Ye=0;try{const Be=await b.current.getBucket(be);Ye=ot(Be.available_margin||"0"),R(z,{success:!0,message:`Step 5: Default bucket USDC balance after: ${Ye.toFixed(2)} USDC`,data:{balance:Ye,raw:Be},timestamp:Date.now()})}catch(Be){throw R(z,{success:!1,message:"Step 5: Failed to load bucket balance after transfer",error:Be.message,timestamp:Date.now()}),Be}R(z,{success:!0,message:"Step 6: Validating transfer amounts...",timestamp:Date.now()});const Ge=de-De,Ve=Ye-me,K=he,re=he,ne=Math.abs(Ge-K)<.01,ut=Math.abs(Ve-re)<.01;R(z,{success:ne&&ut,message:`Step 6: Validation ${ne&&ut?"PASSED":"FAILED"}`,data:{walletBalanceBefore:de.toFixed(2),walletBalanceAfter:De.toFixed(2),walletBalanceDecrease:Ge.toFixed(2),expectedWalletDecrease:K.toFixed(2),walletDecreaseValid:ne,bucketBalanceBefore:me.toFixed(2),bucketBalanceAfter:Ye.toFixed(2),bucketBalanceIncrease:Ve.toFixed(2),expectedBucketIncrease:re.toFixed(2),bucketIncreaseValid:ut,transferAmount:he.toFixed(2)},timestamp:Date.now()}),ne||R(z,{success:!1,message:`Validation failed: Wallet balance decrease (${Ge.toFixed(2)}) does not match expected (${K.toFixed(2)})`,error:`Expected wallet to decrease by ${K.toFixed(2)} USDC, but decreased by ${Ge.toFixed(2)} USDC`,timestamp:Date.now()}),ut||R(z,{success:!1,message:`Validation failed: Bucket balance increase (${Ve.toFixed(2)}) does not match expected (${re.toFixed(2)})`,error:`Expected bucket to increase by ${re.toFixed(2)} USDC, but increased by ${Ve.toFixed(2)} USDC`,timestamp:Date.now()}),R(z,{success:ne&&ut,message:`Spot wallet to bucket transfer test ${ne&&ut?"COMPLETED SUCCESSFULLY":"COMPLETED WITH VALIDATION ERRORS"}`,data:{transferAmount:`${he.toFixed(2)} USDC`,walletBalanceBefore:`${de.toFixed(2)} USDC`,walletBalanceAfter:`${De.toFixed(2)} USDC`,walletBalanceChange:`${Ge.toFixed(2)} USDC`,bucketBalanceBefore:`${me.toFixed(2)} USDC`,bucketBalanceAfter:`${Ye.toFixed(2)} USDC`,bucketBalanceChange:`${Ve.toFixed(2)} USDC`,validationPassed:ne&&ut},timestamp:Date.now()})}catch(de){R(z,{success:!1,message:"Spot wallet to bucket transfer test failed",error:de.message,timestamp:Date.now()})}}else R(z,{success:!0,message:"Skipping spot wallet to bucket transfer test: No valid default bucket ID found",timestamp:Date.now()})}else R(z,{success:!0,message:"Skipping spot wallet to bucket transfer test: No buckets available",timestamp:Date.now()});R(z,{success:!0,message:"Testing createBucket() (create new margin bucket)...",timestamp:Date.now()});try{R(z,{success:!0,message:"Step 1: Getting current bucket count before creation...",timestamp:Date.now()});let je=[],be=0;try{if(!b.current)throw new Error("InfoClient not initialized");je=await b.current.getBuckets(le),be=Array.isArray(je)?je.length:0,R(z,{success:!0,message:`Step 1: Current bucket count: ${be}`,data:{bucketCount:be,buckets:Array.isArray(je)?je.slice(0,3).map(fe=>({bucketId:fe.bucket_id||fe.id||fe.bucketId,marginType:fe.margin_type||fe.marginType,collateralAsset:fe.collateral_asset||fe.collateralAsset})):[]},timestamp:Date.now()})}catch(fe){throw R(z,{success:!1,message:"Step 1: Failed to get current buckets",error:fe.message,timestamp:Date.now()}),fe}R(z,{success:!0,message:"Step 2: Creating cross margin USDC bucket...",timestamp:Date.now()});let de=null,me=null;try{if(de=await y.current.createBucket({bucketType:"USDC",marginType:"cross"}),!de||!de.success)throw new Error((de==null?void 0:de.message)||"Failed to create bucket");me=de.bucket_id||null,R(z,{success:!!de&&!!me,message:`Step 2: Cross margin USDC bucket created successfully. Bucket ID: ${me==null?void 0:me.substring(0,16)}...`,data:{createResult:de,bucketId:me,bucketType:"USDC",marginType:"cross"},timestamp:Date.now()})}catch(fe){R(z,{success:!1,message:"Step 2: Failed to create cross margin USDC bucket",error:fe.message,timestamp:Date.now()})}if(me&&await new Promise(fe=>setTimeout(fe,2e3)),me){R(z,{success:!0,message:"Step 3: Validating bucket was created...",timestamp:Date.now()});try{if(!b.current)throw new Error("InfoClient not initialized");const fe=await b.current.getBuckets(le),De=Array.isArray(fe)?fe.length:0,Ye=Array.isArray(fe)?fe.find(K=>(K.bucket_id||K.id||K.bucketId)===me):null,Ge=!!Ye,Ve=De>be;R(z,{success:Ge&&Ve,message:`Step 3: Bucket validation ${Ge&&Ve?"PASSED":"FAILED"}`,data:{bucketCountBefore:be,bucketCountAfter:De,bucketCountIncreased:Ve,createdBucketId:me,bucketFound:Ge,createdBucket:Ye?{bucketId:Ye.bucket_id,marginType:Ye.margin_type,collateralAsset:Ye.collateral_asset}:null},timestamp:Date.now()}),Ge||R(z,{success:!1,message:`Validation failed: Created bucket (${me==null?void 0:me.substring(0,16)}...) not found in bucket list`,error:"Bucket was created but not found in subsequent query",timestamp:Date.now()}),Ve||R(z,{success:!1,message:`Validation failed: Bucket count did not increase (before: ${be}, after: ${De})`,error:"Bucket count should increase after creation",timestamp:Date.now()})}catch(fe){R(z,{success:!1,message:"Step 3: Failed to validate bucket creation",error:fe.message,timestamp:Date.now()})}}R(z,{success:!0,message:"Step 4: Testing isolated margin USDC bucket creation...",timestamp:Date.now()});let he=null;try{const fe=await y.current.createBucket({bucketType:"USDC",marginType:"isolated"});if(!fe||!fe.success)throw new Error((fe==null?void 0:fe.message)||"Failed to create isolated bucket");he=fe.bucket_id||null,R(z,{success:!!fe&&!!he,message:`Step 4: Isolated margin USDC bucket created successfully. Bucket ID: ${he==null?void 0:he.substring(0,16)}...`,data:{createResult:fe,bucketId:he,bucketType:"USDC",marginType:"isolated"},timestamp:Date.now()})}catch(fe){R(z,{success:!1,message:"Step 4: Failed to create isolated margin USDC bucket",error:fe.message,timestamp:Date.now()})}R(z,{success:!0,message:`Create bucket test ${me&&he?"COMPLETED SUCCESSFULLY":"COMPLETED WITH SOME FAILURES"}`,data:{crossMarginBucketId:me,isolatedMarginBucketId:he,bucketCountBefore:be,testsPerformed:["createBucket (cross margin USDC)","createBucket (isolated margin USDC)"]},timestamp:Date.now()})}catch(je){R(z,{success:!1,message:"Create bucket test failed",error:je.message,timestamp:Date.now()})}R(z,{success:!0,message:"ExchangeClient tests completed",data:{walletAddress:le,marketId:xe,sessionToken:s?"present":"not set",authToken:a?"present":"not set",methodsTested:["placeOrder","cancelOrder","closePosition","extractToBucket","withdrawFromBucket","bucketTransfer","createBucket"]},timestamp:Date.now()})}catch(le){R(z,{success:!1,message:"ExchangeClient test error",error:le.message,timestamp:Date.now()})}},Ke=async()=>{if(!h){p(!0),Z(),Ze.info("Running tests",{description:"Starting comprehensive SDK test suite..."});try{V(),await ye(),await te("Authentication"),await se(),T&&await Re()}catch(z){R("General",{success:!1,message:"Test suite error",error:z.message,timestamp:Date.now()}),Ze.error("Test suite error",{description:z.message||"An unexpected error occurred during testing.",duration:6e3})}finally{p(!1)}}};return m.jsxs("div",{className:"App-content-row",children:[m.jsx("h1",{children:"SDK QA"}),m.jsx("p",{children:"Comprehensive test suite for all SDK APIs"}),m.jsxs("div",{className:"App-section",children:[m.jsx("h2",{children:"Configuration"}),m.jsxs("div",{className:"sdk-test-config-grid",children:[m.jsx("div",{children:m.jsxs("label",{children:["HTTP Base URL:",m.jsx("input",{type:"text",value:n,onChange:z=>e(z.target.value),className:"sdk-test-config-input"})]})}),m.jsx("div",{children:m.jsxs("label",{children:["Market:",m.jsx("select",{value:r||"",onChange:z=>{const ve=z.target.value;ve&&i(ve)},className:"sdk-test-config-select",children:S.length===0?m.jsx("option",{value:"",children:"Loading markets..."}):m.jsxs(m.Fragment,{children:[m.jsx("option",{value:"",disabled:!0,children:"-- Select a market --"}),S.map(z=>{var $e;const ve=z.market_id??(($e=z.market_id)==null?void 0:$e.toString())??"",Ne=z.moniker?z.moniker:z.symbol?z.symbol:z.baseAsset&&z.quoteAsset?`${z.baseAsset}-${z.quoteAsset}`:`Market ID: ${ve}`,ge=z.active?" [ACTIVE]":"";return m.jsxs("option",{value:ve,children:[Ne," - ID: ",ve,ge]},ve)})]})}),S.length>0&&m.jsx("small",{className:`sdk-test-config-hint ${r===Y?"info":"warning"}`,children:r===Y?` Auto-selected default market (ID: ${Y==null?void 0:Y.substring(0,16)}...)`:` Manual selection (ID: ${r==null?void 0:r.substring(0,16)}...)`})]})}),m.jsx("div",{children:m.jsxs("label",{children:["Mnemonic (for ExchangeClient):",m.jsx("input",{type:"text",value:T||"",onChange:z=>F(z.target.value),placeholder:"Optional",className:"sdk-test-config-input"})]})}),m.jsx("div",{children:m.jsxs("label",{children:["Session Token (for authenticated InfoClient):",m.jsx("input",{type:"text",value:s,onChange:z=>o(z.target.value),disabled:!!(s&&s.trim()!==""),placeholder:"Optional",className:"sdk-test-config-input"})]})}),m.jsx("div",{children:m.jsxs("label",{children:["Auth Token:",m.jsx("input",{type:"text",value:a,onChange:z=>l(z.target.value),disabled:!!(O&&O.trim()!==""),placeholder:O?"Auto-filled from onboarding":'Optional - Use "Onboard" button to generate',className:"sdk-test-config-input"}),O&&m.jsx("small",{className:"sdk-test-config-hint success",children:" Auto-filled from onboarding"})]})}),m.jsx("div",{children:m.jsxs("label",{children:["Wallet Address:",m.jsx("input",{type:"text",value:D||"",disabled:!!(T&&T.trim()!==""),onChange:()=>{},placeholder:"automatic (from mnemonic)",className:"sdk-test-config-input"})]})}),m.jsx("div",{children:m.jsxs("label",{children:["Device ID:",m.jsx("input",{type:"text",value:c,onChange:z=>u(z.target.value),className:"sdk-test-config-input"})]})}),m.jsxs("div",{className:"control-box",children:[m.jsx(fme,{isRunning:h,onClick:Ke}),m.jsx(hme,{mnemonic:T||"",baseURL:n,onboardLoading:P,isRunning:h,onOnboard:(z,ve)=>{z&&z.trim()!==""?L(z,ve):Ze.warning("Mnemonic required",{description:"Please enter a mnemonic first to perform onboard."})}}),m.jsx(pme,{isRunning:h,onClick:Z})]})]}),O&&m.jsxs("span",{className:"sdk-test-status success",children:[" Auth Token: ",O.substring(0,20),"..."]}),A&&m.jsxs("span",{className:"sdk-test-status error",children:[" Onboard Error: ",A,m.jsx(mme,{onClick:B})]})]}),m.jsx("div",{className:"sdk-test-results",children:Object.entries(f).map(([z,ve])=>{const Ne=g.has(z);return m.jsxs("div",{className:"sdk-test-section",children:[m.jsx(bme,{sectionName:z,isExpanded:Ne,onToggle:()=>J(z)}),Ne&&m.jsx("div",{className:"sdk-test-section-content",children:ve.results.map((ge,$e)=>m.jsx(gme,{result:ge},$e))})]},z)})}),Object.keys(f).length===0&&!h&&m.jsx("div",{className:"sdk-test-empty-state",children:'Click "Run All Tests" to start testing the SDK APIs'})]})}const vme=({isConnected:n,isConnecting:e,onConnect:r,onDisconnect:i})=>m.jsxs("div",{className:"config-actions",children:[m.jsx("button",{className:"nav-button",onClick:r,disabled:n||e,style:{backgroundColor:n?"#ccc":e?"#ffc107":"#28a745",color:"white",cursor:n||e?"not-allowed":"pointer"},children:e?" Connecting...":n?" Connected":"Connect"}),e&&m.jsx("span",{style:{color:"#666",fontSize:"0.9rem"},children:"Connection in progress... Check messages below for details"}),m.jsx("button",{className:"nav-button",onClick:i,disabled:!n,style:{backgroundColor:n?"#dc3545":"#ccc",cursor:n?"pointer":"not-allowed"},children:"Disconnect"})]}),xme=({onClick:n})=>m.jsx("button",{onClick:n,style:{padding:"0.5rem 1rem",fontSize:"0.9rem",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Clear"}),Sr=({channel:n,isSubscribed:e,isConnected:r,disabled:i=!1,subscribeLabel:s,unsubscribeLabel:o,onSubscribe:a,onUnsubscribe:l,variant:c="public"})=>{const u=!r||i,f=e?"#dc3545":c==="private"?"#28a745":"#007bff";return m.jsx("button",{onClick:e?l:a,disabled:u,style:{padding:"0.5rem 1rem",fontSize:"0.9rem",backgroundColor:f,color:"white",border:"none",borderRadius:"4px",cursor:u?"not-allowed":"pointer"},children:e?o:s})},wme=({steps:n})=>n.length===0?null:m.jsxs("div",{className:"connection-steps-container",children:[m.jsx("h2",{children:"Connection Steps"}),m.jsx("div",{className:"connection-steps-list",children:n.map((e,r)=>m.jsxs("div",{className:`connection-step-item ${e.status==="error"?"error":e.status==="success"?"success":e.status==="in-progress"?"in-progress":"pending"}`,children:[m.jsx("span",{className:"connection-step-icon",children:e.status==="error"?"":e.status==="success"?"":e.status==="in-progress"?"":""}),m.jsxs("div",{className:"connection-step-content",children:[m.jsxs("div",{className:"connection-step-title",children:["Step ",e.step,": ",e.message]}),e.details&&m.jsx("div",{className:"connection-step-details",children:JSON.stringify(e.details,null,2)}),m.jsx("div",{className:"connection-step-timestamp",children:new Date(e.timestamp).toLocaleTimeString()})]})]},r))})]}),_me=({wsURL:n,onWsURLChange:e,marketId:r,onMarketIdChange:i,markets:s,symbol:o,onSymbolChange:a,klineInterval:l,onKlineIntervalChange:c,twapWindowSize:u,onTwapWindowSizeChange:f,authToken:d,onAuthTokenChange:h,walletAddress:p,deviceID:g,onDeviceIDChange:v,isConnected:y,isConnecting:b,onConnect:w,onDisconnect:k})=>m.jsxs("div",{className:"App-section",children:[m.jsx("h2",{children:"Configuration"}),m.jsxs("div",{className:"config-grid",children:[m.jsx("div",{children:m.jsxs("label",{children:["WebSocket URL:",m.jsx("input",{type:"text",value:n,onChange:_=>e(_.target.value),className:"config-input"})]})}),m.jsx("div",{children:m.jsxs("label",{children:["Market:",m.jsx("select",{value:r||"",onChange:_=>i(_.target.value),className:"config-select",children:s.length===0?m.jsx("option",{value:"",children:"Loading markets..."}):m.jsxs(m.Fragment,{children:[m.jsx("option",{value:"",disabled:!0,children:"-- Select a market --"}),s.map(_=>{var D;const S=_.market_id??((D=_.market_id)==null?void 0:D.toString())??"",C=_.moniker?_.moniker:_.symbol?_.symbol:_.baseAsset&&_.quoteAsset?`${_.baseAsset}-${_.quoteAsset}`:`Market ID: ${S}`,T=_.active?" [ACTIVE]":"";return m.jsxs("option",{value:S,children:[C," - ID: ",S,T]},S)})]})})]})}),m.jsx("div",{children:m.jsxs("label",{children:["Symbol (for funding_rate, deviation, index_price, mark_price, price_feed, twap):",m.jsx("input",{type:"text",value:o,onChange:_=>a(_.target.value),placeholder:"e.g., BTC/USDT or BTC/USDC",className:"config-input"}),o&&!o.includes("/")&&m.jsx("small",{className:"config-error",children:' Symbol must be in format "BASE/QUOTE" (e.g., "BTC/USDC")'})]})}),m.jsx("div",{children:m.jsxs("label",{children:["Kline Interval:",m.jsxs("select",{value:l,onChange:_=>c(_.target.value),className:"config-select",children:[m.jsx("option",{value:"1m",children:"1 minute"}),m.jsx("option",{value:"5m",children:"5 minutes"}),m.jsx("option",{value:"15m",children:"15 minutes"}),m.jsx("option",{value:"1h",children:"1 hour"}),m.jsx("option",{value:"4h",children:"4 hours"}),m.jsx("option",{value:"1d",children:"1 day"})]})]})}),m.jsx("div",{children:m.jsxs("label",{children:["TWAP Window Size (seconds):",m.jsx("input",{type:"number",value:u,onChange:_=>f(_.target.value),placeholder:"e.g., 300 for 5 minutes",min:"1",className:"config-input"}),u&&(isNaN(Number(u))||Number(u)<=0)&&m.jsx("small",{className:"config-error",children:" Window size must be a positive number"})]})}),m.jsx("div",{children:m.jsxs("label",{children:["Auth Token (for private channels):",m.jsx("input",{type:"text",value:d,onChange:_=>h(_.target.value),placeholder:"Required for user_updates (auto-filled from SDK Test Page)",className:"config-input"}),d&&m.jsx("small",{className:"config-hint",children:" Auto-filled from SDK Test Page"})]})}),m.jsx("div",{children:m.jsxs("label",{children:["Wallet Address:",m.jsx("input",{type:"text",value:p||"",disabled:!0,placeholder:"Auto-filled from useOnboard hook",className:`config-input-disabled ${p?"has-value":""}`}),p&&m.jsx("small",{className:"config-hint",children:" Auto-filled from useOnboard hook"})]})}),m.jsx("div",{children:m.jsxs("label",{children:["Device ID:",m.jsx("input",{type:"text",value:g,onChange:_=>v(_.target.value),className:"config-input"})]})})]}),m.jsx(vme,{isConnected:y,isConnecting:b,onConnect:w,onDisconnect:k})]}),Sme=({data:n})=>m.jsxs("div",{className:"funding-rate-details",children:[m.jsx("strong",{className:"funding-rate-title",children:"Funding Rate Details:"}),m.jsxs("div",{className:"funding-rate-grid",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Symbol:"})," ",n.symbol??"N/A"]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Funding Rate:"})," ",n.funding_rate?parseFloat(String(n.funding_rate)).toFixed(6):"N/A"]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Mark Price:"})," ",n.mark_price??"N/A"]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Index Price:"})," ",n.index_price??"N/A"]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Premium Rate:"})," ",n.premium_rate??"N/A"]}),m.jsxs("div",{children:[m.jsx("strong",{children:"EMA Funding Rate:"})," ",n.ema_funding_rate??"N/A"]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Next Funding Time:"})," ",n.next_funding_time_unix?new Date(n.next_funding_time_unix*1e3).toLocaleString():"N/A"]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Funding Interval:"})," ",n.funding_interval_seconds?`${n.funding_interval_seconds}s`:"N/A"]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Valid:"})," ",n.is_valid!==void 0?n.is_valid?"Yes":"No":"N/A"]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Stale:"})," ",m.jsx("span",{className:`funding-rate-stale ${n.is_stale?"":"valid"}`,children:n.is_stale!==void 0?n.is_stale?"Yes":"No":"N/A"})]}),n.option_type&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Option Type:"})," ",n.option_type]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Strike Price:"})," ",n.strike_price??"N/A"]})]})]})]}),kme=({positions:n})=>!n||n.length===0?null:m.jsxs("div",{className:"positions-container",children:[m.jsxs("strong",{className:"positions-title",children:["Positions (",n.length,"):"]}),m.jsx("div",{className:"positions-grid",children:n.map((e,r)=>{const i=e.size||0,s=i>=0?"LONG":"SHORT";return m.jsxs("div",{className:"position-card",children:[m.jsx("div",{className:"position-symbol",children:e.symbol||`Market ${e.marketId||e.market_id||"N/A"}`}),m.jsxs("div",{className:"position-details",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Side:"})," ",m.jsx("span",{className:s==="LONG"?"position-side-long":"position-side-short",children:s})]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Size:"})," ",Math.abs(i).toFixed(8)]}),e.entryPrice!==void 0||e.entry_price!==void 0?m.jsxs("div",{children:[m.jsx("strong",{children:"Entry Price:"})," ",(e.entryPrice||e.entry_price||0).toFixed(8)]}):null,e.markPrice!==void 0||e.mark_price!==void 0?m.jsxs("div",{children:[m.jsx("strong",{children:"Mark Price:"})," ",(e.markPrice||e.mark_price||0).toFixed(8)]}):null,e.liquidationPrice!==void 0||e.liquidation_price!==void 0?m.jsxs("div",{children:[m.jsx("strong",{children:"Liquidation Price:"})," ",(e.liquidationPrice||e.liquidation_price||0).toFixed(8)]}):null,e.unrealizedPnL!==void 0||e.unrealized_pnl!==void 0||e.pnl!==void 0?m.jsxs("div",{children:[m.jsx("strong",{children:"Unrealized PnL:"})," ",m.jsx("span",{className:(e.unrealizedPnL||e.unrealized_pnl||e.pnl||0)>=0?"position-pnl-positive":"position-pnl-negative",children:(e.unrealizedPnL||e.unrealized_pnl||e.pnl||0).toFixed(8)})]}):null,e.leverage!==void 0?m.jsxs("div",{children:[m.jsx("strong",{children:"Leverage:"})," ",e.leverage,"x"]}):null,e.margin!==void 0?m.jsxs("div",{children:[m.jsx("strong",{children:"Margin:"})," ",e.margin.toFixed(8)]}):null,e.marginMode!==void 0||e.margin_mode!==void 0?m.jsxs("div",{children:[m.jsx("strong",{children:"Margin Mode:"})," ",e.marginMode||e.margin_mode||"N/A"]}):null]})]},r)})})]}),Cme=({message:n})=>{const{channel:e,data:r,type:i,step:s,timestamp:o}=n,a=e==="funding_rate"&&typeof r=="object"&&r!==null,l=e==="user_updates"&&typeof r=="object"&&r!==null&&Array.isArray(r.positions)&&r.positions.length>0,c=a||l;return m.jsx("div",{className:`message-item ${i}`,children:m.jsx("div",{className:"message-header",children:m.jsxs("div",{className:"message-content",children:[m.jsxs("div",{className:"message-title",children:[m.jsxs("span",{children:["[",e,"]"]}),s&&m.jsxs("span",{className:"message-step",children:["(",s,")"]}),m.jsx("span",{children:new Date(o).toLocaleTimeString()})]}),a&&m.jsx(Sme,{data:r}),l&&m.jsx(kme,{positions:r.positions}),!c&&m.jsx("div",{className:"message-body",children:typeof r=="string"?r:JSON.stringify(r,null,2)}),typeof r!="string"&&m.jsxs("details",{children:[m.jsx("summary",{className:"raw-data-summary",children:"View Raw Data"}),m.jsx("pre",{className:"raw-data-pre",children:JSON.stringify(r,null,2)})]})]})})})},Tme=({messages:n,isPrivate:e=!1,emptyMessage:r})=>{const i=e?"No messages yet. Connect with auth token and subscribe to user updates.":"No messages yet. Connect and subscribe to channels to see updates.";return m.jsx("div",{className:`messages-container ${e?"private":"public"}`,children:n.length===0?m.jsx("div",{className:`messages-empty ${e?"private":""}`,children:r||i}):n.map(s=>m.jsx(Cme,{message:s},s.id))})},D4=({title:n,isPrivate:e=!1,messages:r,onClearMessages:i,children:s,emptyMessage:o})=>m.jsxs("div",{className:"channel-section",children:[m.jsxs("div",{className:"channel-header",children:[m.jsx("h2",{className:"channel-title",children:n}),m.jsx(xme,{onClick:i})]}),m.jsxs("div",{className:"channel-content",children:[m.jsx("div",{className:"channel-buttons-container",children:s}),m.jsx(Tme,{messages:r,isPrivate:e,emptyMessage:o}),e&&m.jsxs("div",{className:"private-note",children:[m.jsx("strong",{children:"Note:"})," Private channels require authentication. Enter your auth token in the configuration above."]})]})]});function Eme(){var De,Ye,Ge,Ve;const[n,e]=I.useState(Fg),[r,i]=I.useState(()=>localStorage.getItem("authToken")||""),[s,o]=I.useState(Wx),[a,l]=I.useState(""),[c,u]=I.useState("BTC/USDC"),[f,d]=I.useState("1m"),[h,p]=I.useState("300"),[g,v]=I.useState(!1),[y,b]=I.useState([]),[w,k]=I.useState([]),[_,S]=I.useState(new Set),[C,T]=I.useState([]),[D,O]=I.useState(!1),P=I.useRef(null),A=I.useRef(0),L=nh,{walletAddress:B,authToken:F}=_u(),{markets:$}=Ul({baseURL:L,sessionToken:"",autoFetchMarkets:!0}),U=$.length>0?(((De=$.find(K=>K.active))==null?void 0:De.market_id)??$[0].market_id)||(((Ge=(Ye=$.find(K=>K.active))==null?void 0:Ye.id)==null?void 0:Ge.toString())??((Ve=$[0].id)==null?void 0:Ve.toString())??""):null;I.useEffect(()=>{U&&!a&&l(U)},[U]),I.useEffect(()=>{F&&i(F)},[F]),I.useEffect(()=>{const K=ne=>{ne.key==="authToken"&&ne.newValue&&i(ne.newValue)};window.addEventListener("storage",K);const re=setInterval(()=>{const ne=localStorage.getItem("authToken");ne&&ne!==r&&i(ne)},1e3);return()=>{window.removeEventListener("storage",K),clearInterval(re)}},[r]),I.useEffect(()=>{r&&r.trim()!==""&&localStorage.setItem("authToken",r)},[r]);const N=(K,re,ne,ut,Be)=>{const Fe={id:A.current++,timestamp:Date.now(),channel:K,data:re,type:ne,step:Be};ut?k(we=>[...we.slice(-99),Fe]):b(we=>[...we.slice(-99),Fe])},q=(K,re,ne,ut)=>{T(Be=>[...Be,{step:K,status:re,message:ne,timestamp:Date.now(),details:ut}])},H=()=>{T([])},X=async()=>{var Be;if((Be=P.current)!=null&&Be.isConnected()){N("connection","Already connected","info",!1);return}if(O(!0),H(),q("1","in-progress","Validating configuration..."),N("connection","Starting connection process...","debug",!1,"Step 1: Validation"),!n||!n.trim()){q("1","error","WebSocket URL is required"),N("connection","Error: WebSocket URL is required","error",!1,"Step 1: Validation"),O(!1);return}try{const Fe=new URL(n);if(Fe.protocol!=="ws:"&&Fe.protocol!=="wss:")throw new Error("URL must use ws:// or wss:// protocol");q("1","success",`URL format valid: ${n}`),N("connection",`URL validated: ${n}`,"debug",!1,"Step 1: Validation")}catch(Fe){q("1","error",`Invalid URL format: ${Fe.message}`),N("connection",`Error: Invalid URL format - ${Fe.message}`,"error",!1,"Step 1: Validation"),O(!1);return}q("2","in-progress","Building connection URL with parameters...");const K=[];r&&K.push(`token=${encodeURIComponent(r)}`),B&&K.push(`wallet=${encodeURIComponent(B)}`),s&&K.push(`device_id=${encodeURIComponent(s)}`);const re=n.includes("?")?"&":"?",ne=K.length>0?`${n}${re}${K.join("&")}`:n;if(q("2","success",`Connection URL: ${ne}`),N("connection",`Connection URL: ${ne}`,"debug",!1,"Step 2: URL Construction"),K.length>0?N("connection",`Query parameters: ${K.join(", ")}`,"debug",!1,"Step 2: URL Construction"):N("connection","No query parameters (authToken, walletAddress, deviceID)","warning",!1,"Step 2: URL Construction"),q("3","in-progress","Cleaning up existing connection..."),P.current)try{P.current.disconnect(),q("3","success","Previous connection cleaned up"),N("connection","Previous connection cleaned up","debug",!1,"Step 3: Cleanup")}catch{q("3","success","No previous connection to clean up"),N("connection","No previous connection found","debug",!1,"Step 3: Cleanup")}else q("3","success","No previous connection to clean up");q("4","in-progress","Creating SubscriptionClient instance...");try{P.current=new Ta({url:n,authToken:r||void 0,walletAddress:B||void 0,deviceID:s||void 0}),q("4","success","SubscriptionClient created"),N("connection","SubscriptionClient instance created","debug",!1,"Step 4: Client Creation"),N("connection",`Config: ${JSON.stringify({url:n,hasToken:!!r,hasWallet:!!B,deviceID:s},null,2)}`,"debug",!1,"Step 4: Client Creation")}catch(Fe){q("4","error",`Failed to create client: ${Fe.message}`),N("connection",`Error creating client: ${Fe.message}`,"error",!1,"Step 4: Client Creation"),O(!1);return}q("5","in-progress","Initiating WebSocket connection..."),N("connection","Initiating WebSocket handshake...","debug",!1,"Step 5: Connection"),N("connection","Browser will attempt to upgrade HTTP connection to WebSocket","debug",!1,"Step 5: Connection");const ut=Date.now();try{await P.current.connect();const Fe=Date.now()-ut,we=P.current.isConnected(),ft=P.current.getState();N("connection",`Connection attempt completed in ${Fe}ms`,"debug",!1,"Step 5: Connection"),N("connection",`Connection state: ${ft}`,"debug",!1,"Step 5: Connection"),v(we),we?(q("5","success",`WebSocket connected successfully (${Fe}ms)`),N("connection"," WebSocket connected successfully!","success",!1,"Step 5: Connection"),N("connection",`Connection established in ${Fe}ms`,"success",!1,"Step 5: Connection")):(q("5","error","Connection completed but state is not connected"),N("connection"," Connection attempt completed but state is not connected","error",!1,"Step 5: Connection"),N("connection",`Current state: ${ft}`,"error",!1,"Step 5: Connection"))}catch(Fe){const we=Date.now()-ut,ft=Fe.message||String(Fe);let at="",At=null,Me=null;const Ce=ft.match(/code\s+(\d+)/i);Ce&&(At=parseInt(Ce[1],10));const ht=ft.match(/\b(40[0-9]|50[0-9])\b/);if(ht&&(Me=parseInt(ht[1],10)),At!==null)switch(At){case 1006:at=`WebSocket Close Code 1006 (Abnormal Closure)
The connection was closed abnormally. Possible causes:
- Server is not running or unreachable
- Wrong URL or port
- Network connectivity issues
- Firewall blocking the connection
- DNS resolution failure
- SSL/TLS handshake failure (for wss://)`;break;case 1002:at=`WebSocket Close Code 1002 (Protocol Error)
The server encountered a protocol error. Possible causes:
- Server does not support WebSocket protocol
- Protocol version mismatch
- Invalid WebSocket handshake`;break;case 1003:at=`WebSocket Close Code 1003 (Unsupported Data Type)
The server received data in an unsupported format.`;break;case 1008:at=`WebSocket Close Code 1008 (Policy Violation)
Connection closed due to policy violation. Possible causes:
- Authentication failed (missing or invalid token)
- Authorization failed (insufficient permissions)
- Rate limiting or quota exceeded
- Server policy restrictions`;break;case 1011:at=`WebSocket Close Code 1011 (Server Error)
Server encountered an internal error. Check server logs for details.`;break;case 1e3:at=`WebSocket Close Code 1000 (Normal Closure)
Connection closed normally but before opening. This may indicate:
- Server rejected the connection immediately
- Connection timeout`;break;case 1001:at=`WebSocket Close Code 1001 (Going Away)
Server is going away or restarting.`;break;case 1007:at=`WebSocket Close Code 1007 (Invalid Data)
Server received invalid data format.`;break;case 1009:at=`WebSocket Close Code 1009 (Message Too Big)
Message size exceeds server limits.`;break;case 1010:at=`WebSocket Close Code 1010 (Extension Error)
Server could not negotiate required extensions.`;break;case 1012:at=`WebSocket Close Code 1012 (Service Restart)
Service is restarting.`;break;case 1013:at=`WebSocket Close Code 1013 (Try Again Later)
Service temporarily unavailable, try again later.`;break;case 1014:at=`WebSocket Close Code 1014 (Bad Gateway)
Server acting as gateway received invalid response.`;break;case 1015:at=`WebSocket Close Code 1015 (TLS Handshake)
TLS handshake failure (for secure WebSocket connections).`;break;default:at=`WebSocket Close Code ${At}
Connection closed with this close code. Check WebSocket specification for details.`}else if(Me!==null)switch(Me){case 401:at=`HTTP 401 (Unauthorized)
Authentication failed. Possible causes:
- Missing or invalid JWT token
- Token expired
- Server requires authentication but no token provided
- Token signature verification failed
Note: If server uses JWT auth, you must provide a valid token in the authToken field.`;break;case 403:at=`HTTP 403 (Forbidden)
Access denied. Possible causes:
- Insufficient permissions
- Account restrictions
- IP address blocked`;break;case 404:at=`HTTP 404 (Not Found)
WebSocket endpoint not found. Check the WebSocket URL.`;break;case 500:case 502:case 503:case 504:at=`HTTP ${Me} (Server Error)
Server error occurred. Check server logs for details.`;break;default:at=`HTTP ${Me}
Connection failed with this HTTP status code.`}else ft.includes("abnormal closure")||ft.toLowerCase().includes("abnormal")?at=`Abnormal Connection Closure
The server closed the connection abnormally. Possible causes:
- Server is not running
- Wrong URL or port
- Network connectivity issues
- Firewall blocking the connection`:ft.includes("protocol error")||ft.toLowerCase().includes("protocol")?at=`WebSocket Protocol Error
The server may not support WebSocket connections or there's a protocol mismatch.`:ft.includes("policy violation")||ft.toLowerCase().includes("policy")?at=`Policy Violation
Connection closed due to policy violation. Check authentication requirements.`:ft.includes("server error")||ft.toLowerCase().includes("server error")?at=`Server Error
Server returned an error. Check server logs for details.`:ft.includes("Unauthorized")||ft.includes("unauthorized")||ft.includes("401")?at=`Authentication Failed
Possible causes:
- Missing or invalid JWT token (if server requires authentication)
- Token expired
- Server is in production mode requiring JWT authentication
Note: If server uses JWT auth, you must provide a valid token in the authToken field.`:ft.includes("timeout")||ft.toLowerCase().includes("timeout")?at=`Connection Timeout
The connection attempt timed out. Possible causes:
- Server is not responding
- Network latency is too high
- Firewall blocking the connection`:(ft.includes("network")||ft.toLowerCase().includes("network"))&&(at=`Network Error
Network-related issue detected. Check:
- Internet connection
- Firewall settings
- Proxy configuration`);let Ue=`Connection failed: ${ft}`;if(At!==null&&(Ue+=` (Close Code: ${At})`),Me!==null&&(Ue+=` (HTTP Status: ${Me})`),q("5","error",Ue),N("connection",` Connection error: ${ft}`,"error",!1,"Step 5: Connection"),At!==null||Me!==null){const lt={};At!==null&&(lt.closeCode=At),Me!==null&&(lt.httpStatusCode=Me),N("connection",`Extracted error info: ${JSON.stringify(lt,null,2)}`,"debug",!1,"Step 5: Connection")}at&&N("connection",`Error details:
${at}`,"error",!1,"Step 5: Connection"),N("connection",`Connection failed after ${we}ms`,"error",!1,"Step 5: Connection"),N("connection",`Full error: ${JSON.stringify(Fe,Object.getOwnPropertyNames(Fe),2)}`,"error",!1,"Step 5: Connection"),v(!1)}finally{O(!1)}},Y=()=>{if(P.current)try{P.current.disconnect(),v(!1),S(new Set),N("connection","WebSocket disconnected","info",!1)}catch(K){N("connection",`Disconnect error: ${K.message}`,"error",!1)}},W=()=>{var re;if(!((re=P.current)!=null&&re.isConnected())){N("orderbook","Not connected. Please connect first.","error",!1);return}if(!a){N("orderbook","Please select a market first","error",!1);return}const K=ne=>{N("orderbook",ne,"success",!1)};try{P.current.subscribeOrderbook(a,K,!0),S(ne=>new Set([...ne,"orderbook"])),N("orderbook",`Subscribed to orderbook for market ${a}`,"success",!1)}catch(ne){N("orderbook",`Subscription error: ${ne.message}`,"error",!1)}},R=()=>{var K;if((K=P.current)!=null&&K.isConnected()&&a)try{P.current.unsubscribeOrderbook(a),S(re=>{const ne=new Set(re);return ne.delete("orderbook"),ne}),N("orderbook","Unsubscribed from orderbook","info",!1)}catch(re){N("orderbook",`Unsubscribe error: ${re.message}`,"error",!1)}},Z=()=>{var re;if(!((re=P.current)!=null&&re.isConnected())){N("trades","Not connected. Please connect first.","error",!1);return}if(!a){N("trades","Please select a market first","error",!1);return}const K=ne=>{N("trades",ne,"success",!1)};try{P.current.subscribeTrades(a,K),S(ne=>new Set([...ne,"trades"])),N("trades",`Subscribed to trades for market ${a}`,"success",!1)}catch(ne){N("trades",`Subscription error: ${ne.message}`,"error",!1)}},J=()=>{var K;if((K=P.current)!=null&&K.isConnected()&&a)try{P.current.unsubscribeTrades(a),S(re=>{const ne=new Set(re);return ne.delete("trades"),ne}),N("trades","Unsubscribed from trades","info",!1)}catch(re){N("trades",`Unsubscribe error: ${re.message}`,"error",!1)}},V=()=>{var re;if(!((re=P.current)!=null&&re.isConnected())){N("ticker","Not connected. Please connect first.","error",!1);return}if(!a){N("ticker","Please select a market first","error",!1);return}const K=ne=>{N("ticker",ne,"success",!1)};try{P.current.subscribeTicker(a,K),S(ne=>new Set([...ne,"ticker"])),N("ticker",`Subscribed to ticker for market ${a}`,"success",!1)}catch(ne){N("ticker",`Subscription error: ${ne.message}`,"error",!1)}},te=()=>{var K;if((K=P.current)!=null&&K.isConnected()&&a)try{P.current.unsubscribeTicker(a),S(re=>{const ne=new Set(re);return ne.delete("ticker"),ne}),N("ticker","Unsubscribed from ticker","info",!1)}catch(re){N("ticker",`Unsubscribe error: ${re.message}`,"error",!1)}},se=()=>{var re;if(!((re=P.current)!=null&&re.isConnected())){N("last_price","Not connected. Please connect first.","error",!1);return}if(!a){N("last_price","Please select a market first","error",!1);return}const K=ne=>{N("last_price",ne,"success",!1)};try{P.current.subscribeLastPrice(a,K,!0),S(ne=>new Set([...ne,"last_price"])),N("last_price",`Subscribed to last price for market ${a}`,"success",!1)}catch(ne){N("last_price",`Subscription error: ${ne.message}`,"error",!1)}},ye=()=>{var K;if((K=P.current)!=null&&K.isConnected()&&a)try{P.current.unsubscribeLastPrice(a),S(re=>{const ne=new Set(re);return ne.delete("last_price"),ne}),N("last_price","Unsubscribed from last price","info",!1)}catch(re){N("last_price",`Unsubscribe error: ${re.message}`,"error",!1)}},Re=()=>{var re;if(!((re=P.current)!=null&&re.isConnected())){N("user_updates","Not connected. Please connect first.","error",!0);return}if(!B){N("user_updates","Wallet address required for position updates (positions channel)","error",!0);return}const K=ne=>{N("user_updates",ne,"success",!0)};try{P.current.subscribeUserUpdates(K),S(ne=>new Set([...ne,"user_updates"])),N("user_updates","Subscribed to user updates (positions, orders, etc.)","success",!0)}catch(ne){N("user_updates",`Subscription error: ${ne.message}`,"error",!0)}},Ke=()=>{var K;if((K=P.current)!=null&&K.isConnected())try{P.current.unsubscribeUserUpdates(),S(re=>{const ne=new Set(re);return ne.delete("user_updates"),ne}),N("user_updates","Unsubscribed from user updates","info",!0)}catch(re){N("user_updates",`Unsubscribe error: ${re.message}`,"error",!0)}},Ie=()=>{var re;if(!((re=P.current)!=null&&re.isConnected())){N("funding_rate","Not connected. Please connect first.","error",!1);return}if(!a){N("funding_rate","Please select a market first","error",!1);return}const K=ne=>{N("funding_rate",ne,"success",!1)};try{P.current.subscribeFundingRate(a,K),S(ne=>new Set([...ne,"funding_rate"])),N("funding_rate",`Subscribed to funding rate for market ${a}`,"success",!1)}catch(ne){N("funding_rate",`Subscription error: ${ne.message}`,"error",!1)}},Ee=()=>{var K;if((K=P.current)!=null&&K.isConnected()&&a)try{P.current.unsubscribeFundingRate(a),S(re=>{const ne=new Set(re);return ne.delete("funding_rate"),ne}),N("funding_rate","Unsubscribed from funding rate","info",!1)}catch(re){N("funding_rate",`Unsubscribe error: ${re.message}`,"error",!1)}},He=()=>{var re;if(!((re=P.current)!=null&&re.isConnected())){N("buckets","Not connected. Please connect first.","error",!0);return}if(!B){N("buckets","Wallet address required for buckets subscription","error",!0);return}const K=ne=>{N("buckets",ne,"success",!0)};try{P.current.subscribeBuckets(K),S(ne=>new Set([...ne,"buckets"])),N("buckets","Subscribed to buckets","success",!0)}catch(ne){N("buckets",`Subscription error: ${ne.message}`,"error",!0)}},nt=()=>{var K;if((K=P.current)!=null&&K.isConnected())try{P.current.unsubscribeBuckets(),S(re=>{const ne=new Set(re);return ne.delete("buckets"),ne}),N("buckets","Unsubscribed from buckets","info",!0)}catch(re){N("buckets",`Unsubscribe error: ${re.message}`,"error",!0)}},z=()=>{var re;if(!((re=P.current)!=null&&re.isConnected())){N("deviation","Not connected. Please connect first.","error",!1);return}if(!a){N("deviation","Please select a market first","error",!1);return}const K=ne=>{N("deviation",ne,"success",!1)};try{P.current.subscribeDeviation(a,K),S(ne=>new Set([...ne,"deviation"])),N("deviation",`Subscribed to deviation for market ${a}`,"success",!1)}catch(ne){N("deviation",`Subscription error: ${ne.message}`,"error",!1)}},ve=()=>{var K;if((K=P.current)!=null&&K.isConnected()&&a)try{P.current.unsubscribeDeviation(a),S(re=>{const ne=new Set(re);return ne.delete("deviation"),ne}),N("deviation","Unsubscribed from deviation","info",!1)}catch(re){N("deviation",`Unsubscribe error: ${re.message}`,"error",!1)}},Ne=()=>{var re;if(!((re=P.current)!=null&&re.isConnected())){N("index_price","Not connected. Please connect first.","error",!1);return}if(!a){N("index_price","Please select a market first","error",!1);return}const K=ne=>{N("index_price",ne,"success",!1)};try{P.current.subscribeIndexPrice(a,K),S(ne=>new Set([...ne,"index_price"])),N("index_price",`Subscribed to index price for market ${a}`,"success",!1)}catch(ne){N("index_price",`Subscription error: ${ne.message}`,"error",!1)}},ge=()=>{var K;if((K=P.current)!=null&&K.isConnected()&&a)try{P.current.unsubscribeIndexPrice(a),S(re=>{const ne=new Set(re);return ne.delete("index_price"),ne}),N("index_price","Unsubscribed from index price","info",!1)}catch(re){N("index_price",`Unsubscribe error: ${re.message}`,"error",!1)}},$e=()=>{var re;if(!((re=P.current)!=null&&re.isConnected())){N("kline","Not connected. Please connect first.","error",!1);return}if(!a){N("kline","Please select a market first","error",!1);return}if(!f){N("kline","Please select an interval first","error",!1);return}const K=ne=>{N("kline",ne,"success",!1)};try{P.current.subscribeKline(a,f,K),S(ne=>new Set([...ne,"kline"])),N("kline",`Subscribed to kline for market ${a} with interval ${f}`,"success",!1)}catch(ne){N("kline",`Subscription error: ${ne.message}`,"error",!1)}},ue=()=>{var K;if((K=P.current)!=null&&K.isConnected()&&!(!a||!f))try{P.current.unsubscribeKline(a,f),S(re=>{const ne=new Set(re);return ne.delete("kline"),ne}),N("kline","Unsubscribed from kline","info",!1)}catch(re){N("kline",`Unsubscribe error: ${re.message}`,"error",!1)}},ee=()=>{var re;if(!((re=P.current)!=null&&re.isConnected())){N("mark_price","Not connected. Please connect first.","error",!1);return}if(!a){N("mark_price","Please select a market first","error",!1);return}const K=ne=>{N("mark_price",ne,"success",!1)};try{P.current.subscribeMarkPrice(a,K),S(ne=>new Set([...ne,"mark_price"])),N("mark_price",`Subscribed to mark price for market ${a}`,"success",!1)}catch(ne){N("mark_price",`Subscription error: ${ne.message}`,"error",!1)}},le=()=>{var K;if((K=P.current)!=null&&K.isConnected()&&a)try{P.current.unsubscribeMarkPrice(a),S(re=>{const ne=new Set(re);return ne.delete("mark_price"),ne}),N("mark_price","Unsubscribed from mark price","info",!1)}catch(re){N("mark_price",`Unsubscribe error: ${re.message}`,"error",!1)}},xe=()=>{var re;if(!((re=P.current)!=null&&re.isConnected())){N("price_feed","Not connected. Please connect first.","error",!1);return}if(!a){N("price_feed","Please select a market first","error",!1);return}const K=ne=>{N("price_feed",ne,"success",!1)};try{P.current.subscribePriceFeed(a,K),S(ne=>new Set([...ne,"price_feed"])),N("price_feed",`Subscribed to price feed for market ${a}`,"success",!1)}catch(ne){N("price_feed",`Subscription error: ${ne.message}`,"error",!1)}},pe=()=>{var K;if((K=P.current)!=null&&K.isConnected()&&a)try{P.current.unsubscribePriceFeed(a),S(re=>{const ne=new Set(re);return ne.delete("price_feed"),ne}),N("price_feed","Unsubscribed from price feed","info",!1)}catch(re){N("price_feed",`Unsubscribe error: ${re.message}`,"error",!1)}},Le=()=>{var re;if(!((re=P.current)!=null&&re.isConnected())){N("twap","Not connected. Please connect first.","error",!1);return}if(!a){N("twap","Please select a market first","error",!1);return}if(!h||isNaN(Number(h))||Number(h)<=0){N("twap","Please enter a valid window size (positive number in seconds)","error",!1);return}const K=ne=>{N("twap",ne,"success",!1)};try{P.current.subscribeTWAP(a,Number(h),K),S(ne=>new Set([...ne,"twap"])),N("twap",`Subscribed to TWAP for market ${a} with window size ${h}s`,"success",!1)}catch(ne){N("twap",`Subscription error: ${ne.message}`,"error",!1)}},ce=()=>{var K;if((K=P.current)!=null&&K.isConnected()&&!(!a||!h))try{P.current.unsubscribeTWAP(a,Number(h)),S(re=>{const ne=new Set(re);return ne.delete("twap"),ne}),N("twap","Unsubscribed from TWAP","info",!1)}catch(re){N("twap",`Unsubscribe error: ${re.message}`,"error",!1)}},Oe=()=>{if(!P.current){N("multi_feed","SubscriptionClient not initialized. Please connect first.","error",!1);return}if(!P.current.isConnected()){N("multi_feed","Not connected. Please connect first.","error",!1);return}if(!a){N("multi_feed","Please select a market first","error",!1);return}if(!c){N("multi_feed","Please enter a symbol first","error",!1);return}if(typeof P.current.subscribeMultiFeed!="function"){N("multi_feed","subscribeMultiFeed method not available. Please check SDK version.","error",!1),console.error("SubscriptionClient methods:",Object.getOwnPropertyNames(Object.getPrototypeOf(P.current)));return}const K=re=>{const ne=re.sub_channel||"unknown";N(`multi_feed:${ne}`,re,"success",ne==="balances"||ne==="buckets"||ne==="orders"||ne==="positions")};try{P.current.subscribeMultiFeed(a,c,K,f||"1m"),S(re=>new Set([...re,"multi_feed"])),N("multi_feed",`Subscribed to multi-feed for market ${a}, symbol ${c}`,"success",!1)}catch(re){N("multi_feed",`Subscription error: ${re.message}`,"error",!1)}},je=()=>{var K;if((K=P.current)!=null&&K.isConnected()&&!(!a||!c))try{P.current.unsubscribeMultiFeed(a,c),S(re=>{const ne=new Set(re);return ne.delete("multi_feed"),ne}),N("multi_feed","Unsubscribed from multi-feed","info",!1)}catch(re){N("multi_feed",`Unsubscribe error: ${re.message}`,"error",!1)}},be=()=>{if(!P.current){N("balances","SubscriptionClient not initialized. Please connect first.","error",!0);return}if(!P.current.isConnected()){N("balances","Not connected. Please connect first.","error",!0);return}if(!B){N("balances","Wallet address required for balances subscription","error",!0);return}if(typeof P.current.subscribeBalances!="function"){N("balances","subscribeBalances method not available. Please check SDK version.","error",!0),console.error("SubscriptionClient methods:",Object.getOwnPropertyNames(Object.getPrototypeOf(P.current)));return}const K=re=>{N("balances",re,"success",!0)};try{P.current.subscribeBalances(K),S(re=>new Set([...re,"balances"])),N("balances","Subscribed to balances","success",!0)}catch(re){N("balances",`Subscription error: ${re.message}`,"error",!0)}},de=()=>{if(P.current&&P.current.isConnected()){if(typeof P.current.unsubscribeBalances!="function"){N("balances","unsubscribeBalances method not available. Please check SDK version.","error",!0);return}try{P.current.unsubscribeBalances(),S(K=>{const re=new Set(K);return re.delete("balances"),re}),N("balances","Unsubscribed from balances","info",!0)}catch(K){N("balances",`Unsubscribe error: ${K.message}`,"error",!0)}}},me=()=>{if(!P.current){N("orders","SubscriptionClient not initialized. Please connect first.","error",!0);return}if(!P.current.isConnected()){N("orders","Not connected. Please connect first.","error",!0);return}if(!B){N("orders","Wallet address required for orders subscription","error",!0);return}if(typeof P.current.subscribeOrders!="function"){N("orders","subscribeOrders method not available. Please check SDK version.","error",!0),console.error("SubscriptionClient methods:",Object.getOwnPropertyNames(Object.getPrototypeOf(P.current)));return}const K=re=>{N("orders",re,"success",!0)};try{P.current.subscribeOrders(K),S(re=>new Set([...re,"orders"])),N("orders","Subscribed to orders","success",!0)}catch(re){N("orders",`Subscription error: ${re.message}`,"error",!0)}},he=()=>{if(P.current&&P.current.isConnected()){if(typeof P.current.unsubscribeOrders!="function"){N("orders","unsubscribeOrders method not available. Please check SDK version.","error",!0);return}try{P.current.unsubscribeOrders(),S(K=>{const re=new Set(K);return re.delete("orders"),re}),N("orders","Unsubscribed from orders","info",!0)}catch(K){N("orders",`Unsubscribe error: ${K.message}`,"error",!0)}}},fe=K=>{K?k([]):b([])};return I.useEffect(()=>()=>{if(P.current)try{P.current.disconnect()}catch{}},[]),m.jsxs("div",{className:"ws-test-page",children:[m.jsx("h1",{children:"WebSocket QA"}),m.jsx("p",{children:"Test WebSocket subscriptions for public and private channels"}),m.jsx(wme,{steps:C}),m.jsx(_me,{wsURL:n,onWsURLChange:e,marketId:a,onMarketIdChange:l,markets:$,symbol:c,onSymbolChange:u,klineInterval:f,onKlineIntervalChange:d,twapWindowSize:h,onTwapWindowSizeChange:p,authToken:r,onAuthTokenChange:i,walletAddress:B,deviceID:s,onDeviceIDChange:o,isConnected:g,isConnecting:D,onConnect:X,onDisconnect:Y}),m.jsxs("div",{className:"ws-test-page-layout",children:[m.jsxs(D4,{title:"WebSocket Public",isPrivate:!1,messages:y,onClearMessages:()=>fe(!1),children:[m.jsxs("div",{className:"channel-buttons-row",children:[m.jsx(Sr,{channel:"orderbook",isSubscribed:_.has("orderbook"),isConnected:g,subscribeLabel:"Subscribe Orderbook",unsubscribeLabel:"Unsubscribe Orderbook",onSubscribe:W,onUnsubscribe:R}),m.jsx(Sr,{channel:"trades",isSubscribed:_.has("trades"),isConnected:g,subscribeLabel:"Subscribe Trades",unsubscribeLabel:"Unsubscribe Trades",onSubscribe:Z,onUnsubscribe:J}),m.jsx(Sr,{channel:"ticker",isSubscribed:_.has("ticker"),isConnected:g,subscribeLabel:"Subscribe Ticker",unsubscribeLabel:"Unsubscribe Ticker",onSubscribe:V,onUnsubscribe:te}),m.jsx(Sr,{channel:"last_price",isSubscribed:_.has("last_price"),isConnected:g,subscribeLabel:"Subscribe Last Price",unsubscribeLabel:"Unsubscribe Last Price",onSubscribe:se,onUnsubscribe:ye}),m.jsx(Sr,{channel:"funding_rate",isSubscribed:_.has("funding_rate"),isConnected:g,subscribeLabel:"Subscribe Funding Rate",unsubscribeLabel:"Unsubscribe Funding Rate",onSubscribe:Ie,onUnsubscribe:Ee}),m.jsx(Sr,{channel:"deviation",isSubscribed:_.has("deviation"),isConnected:g,subscribeLabel:"Subscribe Deviation",unsubscribeLabel:"Unsubscribe Deviation",onSubscribe:z,onUnsubscribe:ve}),m.jsx(Sr,{channel:"index_price",isSubscribed:_.has("index_price"),isConnected:g,subscribeLabel:"Subscribe Index Price",unsubscribeLabel:"Unsubscribe Index Price",onSubscribe:Ne,onUnsubscribe:ge}),m.jsx(Sr,{channel:"kline",isSubscribed:_.has("kline"),isConnected:g,subscribeLabel:"Subscribe Kline",unsubscribeLabel:"Unsubscribe Kline",onSubscribe:$e,onUnsubscribe:ue})]}),m.jsxs("div",{className:"channel-buttons-row",children:[m.jsx(Sr,{channel:"mark_price",isSubscribed:_.has("mark_price"),isConnected:g,subscribeLabel:"Subscribe Mark Price",unsubscribeLabel:"Unsubscribe Mark Price",onSubscribe:ee,onUnsubscribe:le}),m.jsx(Sr,{channel:"price_feed",isSubscribed:_.has("price_feed"),isConnected:g,subscribeLabel:"Subscribe Price Feed",unsubscribeLabel:"Unsubscribe Price Feed",onSubscribe:xe,onUnsubscribe:pe}),m.jsx(Sr,{channel:"twap",isSubscribed:_.has("twap"),isConnected:g,subscribeLabel:"Subscribe TWAP",unsubscribeLabel:"Unsubscribe TWAP",onSubscribe:Le,onUnsubscribe:ce}),m.jsx(Sr,{channel:"multi_feed",isSubscribed:_.has("multi_feed"),isConnected:g,subscribeLabel:"Subscribe Multi-Feed",unsubscribeLabel:"Unsubscribe Multi-Feed",onSubscribe:Oe,onUnsubscribe:je})]}),m.jsx("small",{className:"private-note-text-block",style:{marginTop:"10px"},children:"Multi-Feed: Unified channel streaming all sub-channels (orderbook, trades, positions, balances, orders, buckets, etc.) Requires market ID and symbol. Authenticated sub-channels (balances, orders, positions, buckets) require wallet address."})]}),m.jsxs(D4,{title:"WebSocket Private",isPrivate:!0,messages:w,onClearMessages:()=>fe(!0),children:[m.jsx(Sr,{channel:"user_updates",isSubscribed:_.has("user_updates"),isConnected:g,disabled:!B,subscribeLabel:"Subscribe User Updates",unsubscribeLabel:"Unsubscribe User Updates",onSubscribe:Re,onUnsubscribe:Ke,variant:"private"}),m.jsx("small",{className:"private-note-text",children:"Position updates (positions channel): Requires wallet address. Returns user positions."}),m.jsx(Sr,{channel:"buckets",isSubscribed:_.has("buckets"),isConnected:g,disabled:!B,subscribeLabel:"Subscribe Buckets",unsubscribeLabel:"Unsubscribe Buckets",onSubscribe:He,onUnsubscribe:nt,variant:"private"}),m.jsx("small",{className:"private-note-text-block",children:"Buckets: User's margin buckets (requires wallet address)"}),m.jsx(Sr,{channel:"balances",isSubscribed:_.has("balances"),isConnected:g,disabled:!B,subscribeLabel:"Subscribe Balances",unsubscribeLabel:"Unsubscribe Balances",onSubscribe:be,onUnsubscribe:de,variant:"private"}),m.jsx("small",{className:"private-note-text-block",children:"Balances: User's spot balances (USDC, MORM, BTC, etc.) - requires wallet address"}),m.jsx(Sr,{channel:"orders",isSubscribed:_.has("orders"),isConnected:g,disabled:!B,subscribeLabel:"Subscribe Orders",unsubscribeLabel:"Unsubscribe Orders",onSubscribe:me,onUnsubscribe:he,variant:"private"}),m.jsx("small",{className:"private-note-text-block",children:"Orders: User's open orders - requires wallet address"})]})]})]})}function QM({top:n,left:e,width:r,height:i}){const s=`translate(${e}px,${n}px)`;return{transform:s,WebkitTransform:s,MozTransform:s,msTransform:s,OTransform:s,width:`${r}px`,height:`${i}px`,position:"absolute"}}function aX({top:n,left:e,width:r,height:i}){return{top:`${n}px`,left:`${e}px`,width:`${r}px`,height:`${i}px`,position:"absolute"}}function P4(n){return n*100+"%"}function Dme(n,e,r,i){return n+r>i?e:r}function lX(n,e,r){return n<0?e:r}function Pme(n){return Math.max(0,n)}function gv(n){return Math.max(0,n)}var ZM=(n,e,r)=>{const{left:i,height:s,width:o}=e,a=n.top-(s-n.height);return{left:i,width:o,height:lX(a,n.height,s),top:gv(a)}},JM=(n,e,r)=>{const{top:i,left:s,height:o,width:a}=e;return{top:i,height:o,width:Dme(n.left,n.width,a,r),left:Pme(s)}},eA=(n,e,r)=>{const{top:i,height:s,width:o}=e,a=n.left+n.width-o;return a<0?{height:s,width:n.left+n.width,top:gv(i),left:0}:{height:s,width:o,top:gv(i),left:a}},tA=(n,e,r)=>{const{top:i,left:s,height:o,width:a}=e;return{width:a,left:s,height:lX(i,n.height,o),top:gv(i)}},Ime=(n,e,r)=>ZM(n,JM(n,e,r)),Ome=(n,e,r)=>ZM(n,eA(n,e)),Mme=(n,e,r)=>tA(n,JM(n,e,r)),Ame=(n,e,r)=>tA(n,eA(n,e)),Rme={n:ZM,ne:Ime,e:JM,se:Mme,s:tA,sw:Ame,w:eA,nw:Ome};function Nme(n,e,r,i){const s=Rme[n];return s?s(e,{...e,...r},i):r}var cX={type:"transform",scale:1,calcStyle(n){return QM(n)},calcDragPosition(n,e,r,i){return{left:n-r,top:e-i}}},jme={type:"absolute",scale:1,calcStyle(n){return aX(n)},calcDragPosition(n,e,r,i){return{left:n-r,top:e-i}}};function Lme(n){return{type:"transform",scale:n,calcStyle(e){return QM(e)},calcDragPosition(e,r,i,s){return{left:(e-i)/n,top:(r-s)/n}}}}var Fme=cX,$me={cols:12,rowHeight:150,margin:[10,10],containerPadding:null,maxRows:1/0},Bme={enabled:!0,bounded:!1,threshold:3},zme={enabled:!0,handles:["se"]},Ume={enabled:!1,defaultItem:{w:1,h:1}};function Hx(n,e){return!(n.i===e.i||n.x+n.w<=e.x||n.x>=e.x+e.w||n.y+n.h<=e.y||n.y>=e.y+e.h)}function As(n,e){for(let r=0;r<n.length;r++){const i=n[r];if(i!==void 0&&Hx(i,e))return i}}function uX(n,e){return n.filter(r=>Hx(r,e))}function dX(n,e){return e==="horizontal"?hX(n):e==="vertical"?fX(n):[...n]}function fX(n){return[...n].sort((e,r)=>e.y!==r.y?e.y-r.y:e.x-r.x)}function hX(n){return[...n].sort((e,r)=>e.x!==r.x?e.x-r.x:e.y-r.y)}function rh(n){let e=0;for(let r=0;r<n.length;r++){const i=n[r];if(i!==void 0){const s=i.y+i.h;s>e&&(e=s)}}return e}function cc(n,e){for(let r=0;r<n.length;r++){const i=n[r];if(i!==void 0&&i.i===e)return i}}function nA(n){return n.filter(e=>e.static===!0)}function Rl(n){return{i:n.i,x:n.x,y:n.y,w:n.w,h:n.h,minW:n.minW,maxW:n.maxW,minH:n.minH,maxH:n.maxH,moved:!!n.moved,static:!!n.static,isDraggable:n.isDraggable,isResizable:n.isResizable,resizeHandles:n.resizeHandles,isBounded:n.isBounded}}function Bs(n){const e=new Array(n.length);for(let r=0;r<n.length;r++){const i=n[r];i!==void 0&&(e[r]=Rl(i))}return e}function qme(n,e){const r=new Array(n.length);for(let i=0;i<n.length;i++){const s=n[i];s!==void 0&&(e.i===s.i?r[i]=e:r[i]=s)}return r}function Wme(n,e,r){let i=cc(n,e);return i?(i=r(Rl(i)),[qme(n,i),i]):[[...n],null]}function rA(n,e){const r=nA(n);for(let i=0;i<n.length;i++){const s=n[i];if(s!==void 0)if(s.x+s.w>e.cols&&(s.x=e.cols-s.w),s.x<0&&(s.x=0,s.w=e.cols),!s.static)r.push(s);else for(;As(r,s);)s.y++}return n}function Sc(n,e,r,i,s,o,a,l,c){if(e.static&&e.isDraggable!==!0)return[...n];if(e.y===i&&e.x===r)return[...n];const u=e.x,f=e.y;typeof r=="number"&&(e.x=r),typeof i=="number"&&(e.y=i),e.moved=!0;let d=dX(n,a);(a==="vertical"&&typeof i=="number"?f>=i:a==="horizontal"&&typeof r=="number"?u>=r:!1)&&(d=d.reverse());const p=uX(d,e),g=p.length>0;if(g&&c)return Bs(n);if(g&&o)return e.x=u,e.y=f,e.moved=!1,n;let v=[...n];for(let y=0;y<p.length;y++){const b=p[y];b!==void 0&&(b.moved||(b.static?v=I4(v,b,e,s,a):v=I4(v,e,b,s,a)))}return v}function I4(n,e,r,i,s,o){const a=s==="horizontal",l=s==="vertical",c=e.static;if(i){i=!1;const d={x:a?Math.max(e.x-r.w,0):r.x,y:l?Math.max(e.y-r.h,0):r.y,w:r.w,h:r.h,i:"-1"},h=As(n,d),p=h!==void 0&&h.y+h.h>e.y,g=h!==void 0&&e.x+e.w>h.x;if(!h)return Sc(n,r,a?d.x:void 0,l?d.y:void 0,i,c,s);if(p&&l)return Sc(n,r,void 0,r.y+1,i,c,s);if(p&&s===null)return e.y=r.y,r.y=r.y+r.h,[...n];if(g&&a)return Sc(n,e,r.x,void 0,i,c,s)}const u=a?r.x+1:void 0,f=l?r.y+1:void 0;return u===void 0&&f===void 0?[...n]:Sc(n,r,u,f,i,c,s)}function Hme(n){return n.filter(e=>e.static)}var Gme={x:"w",y:"h"};function UP(n,e,r,i){const s=Gme[i];e[i]+=1;const o=n.findIndex(a=>a.i===e.i);for(let a=o+1;a<n.length;a++){const l=n[a];if(l!==void 0&&!l.static){if(l.y>e.y+e.h)break;Hx(e,l)&&UP(n,l,r+e[s],i)}}e[i]=r}function Yme(n,e,r,i,s,o,a){const l=r==="vertical",c=r==="horizontal";if(l)for(typeof a=="number"?e.y=Math.min(a,e.y):e.y=Math.min(rh(n),e.y);e.y>0&&!As(n,e);)e.y--;else if(c)for(;e.x>0&&!As(n,e);)e.x--;let u;for(;(u=As(n,e))!==void 0&&!(r===null&&o);)if(c?UP(s,e,u.x+u.w,"x"):UP(s,e,u.y+u.h,"y"),c&&e.x+e.w>i)for(e.x=i-e.w,e.y++;e.x>0&&!As(n,e);)e.x--;return e.y=Math.max(e.y,0),e.x=Math.max(e.x,0),e}function na(n,e,r,i){const s=Hme(n);let o=rh(s);const a=dX(n,e),l=new Array(n.length);for(let c=0;c<a.length;c++){const u=a[c];if(u===void 0)continue;let f=Rl(u);f.static||(f=Yme(s,f,e,r,a,i,o),o=Math.max(o,f.y+f.h),s.push(f));const d=n.indexOf(u);l[d]=f,f.moved=!1}return l}function iA(n,e,r,i){const s=i==="x"?"w":"h";e[i]+=1;const o=n.findIndex(a=>a.i===e.i);for(let a=o+1;a<n.length;a++){const l=n[a];if(l!==void 0&&!l.static){if(l.y>e.y+e.h)break;Hx(e,l)&&iA(n,l,r+e[s],i)}}e[i]=r}function Vme(n,e,r,i){for(e.y=Math.min(i,e.y);e.y>0&&!As(n,e);)e.y--;let s;for(;(s=As(n,e))!==void 0;)iA(r,e,s.y+s.h,"y");return e.y=Math.max(e.y,0),e}function Kme(n,e,r,i){for(;e.x>0&&!As(n,e);)e.x--;let s;for(;(s=As(n,e))!==void 0;)if(iA(i,e,s.x+s.w,"x"),e.x+e.w>r)for(e.x=r-e.w,e.y++;e.x>0&&!As(n,e);)e.x--;return e.x=Math.max(e.x,0),e}var pX={type:"vertical",allowOverlap:!1,compact(n,e){const r=nA(n);let i=rh(r);const s=fX(n),o=new Array(n.length);for(let a=0;a<s.length;a++){const l=s[a];if(l===void 0)continue;let c=Rl(l);c.static||(c=Vme(r,c,s,i),i=Math.max(i,c.y+c.h),r.push(c));const u=n.indexOf(l);o[u]=c,c.moved=!1}return o},onMove(n,e,r,i,s){const o=Bs(n),a=o.find(l=>l.i===e.i);return a&&(a.x=r,a.y=i,a.moved=!0),o}},mX={type:"horizontal",allowOverlap:!1,compact(n,e){const r=nA(n),i=hX(n),s=new Array(n.length);for(let o=0;o<i.length;o++){const a=i[o];if(a===void 0)continue;let l=Rl(a);l.static||(l=Kme(r,l,e,i),r.push(l));const c=n.indexOf(a);s[c]=l,l.moved=!1}return s},onMove(n,e,r,i,s){const o=Bs(n),a=o.find(l=>l.i===e.i);return a&&(a.x=r,a.y=i,a.moved=!0),o}},O4={type:null,allowOverlap:!1,compact(n,e){return Bs(n)},onMove(n,e,r,i,s){const o=Bs(n),a=o.find(l=>l.i===e.i);return a&&(a.x=r,a.y=i,a.moved=!0),o}},Xme={...pX,allowOverlap:!0,compact(n,e){return Bs(n)}},Qme={...mX,allowOverlap:!0,compact(n,e){return Bs(n)}};function sA(n,e=!1,r=!1){let i;return e?n==="vertical"?i=Xme:n==="horizontal"?i=Qme:i=O4:n==="vertical"?i=pX:n==="horizontal"?i=mX:i=O4,r?{...i,preventCollision:r}:i}function gX(n){return Object.keys(n).sort((r,i)=>n[r]-n[i])}function M4(n,e){const r=gX(n);let i=r[0];if(i===void 0)throw new Error("No breakpoints defined");for(let s=1;s<r.length;s++){const o=r[s];if(o===void 0)continue;const a=n[o];e>a&&(i=o)}return i}function A4(n,e){const r=e[n];if(r===void 0)throw new Error(`ResponsiveReactGridLayout: \`cols\` entry for breakpoint ${String(n)} is missing!`);return r}function m_(n,e,r,i,s,o){const a=n[r];if(a)return Bs(a);let l=n[i];const c=gX(e),u=c.slice(c.indexOf(r));for(let d=0;d<u.length;d++){const h=u[d];if(h===void 0)continue;const p=n[h];if(p){l=p;break}}const f=Bs(l||[]);return na(rA(f,{cols:s}),o,s)}function mb(n,e){if(Array.isArray(n))return n;const r=n,i=r[e];if(i!==void 0)return i;const s=Object.keys(r);for(const o of s){const a=r[o];if(a!==void 0)return a}return[10,10]}function Gx(n){const{margin:e,containerPadding:r,containerWidth:i,cols:s}=n;return(i-e[0]*(s-1)-r[0]*2)/s}function bv(n,e,r){return Number.isFinite(n)?Math.round(e*n+Math.max(0,n-1)*r):n}function tc(n,e,r,i,s,o,a){const{margin:l,containerPadding:c,rowHeight:u}=n,f=Gx(n);let d,h,p,g;return a?(d=Math.round(a.width),h=Math.round(a.height)):(d=bv(i,f,l[0]),h=bv(s,u,l[1])),o?(p=Math.round(o.top),g=Math.round(o.left)):a?(p=Math.round(a.top),g=Math.round(a.left)):(p=Math.round((u+l[1])*r+c[1]),g=Math.round((f+l[0])*e+c[0])),{top:p,left:g,width:d,height:h}}function yy(n,e,r,i,s){const{margin:o,containerPadding:a,cols:l,rowHeight:c,maxRows:u}=n,f=Gx(n);let d=Math.round((r-a[0])/(f+o[0])),h=Math.round((e-a[1])/(c+o[1]));return d=fo(d,0,l-i),h=fo(h,0,u-s),{x:d,y:h}}function Zme(n,e,r,i,s,o){const{margin:a,maxRows:l,cols:c,rowHeight:u}=n,f=Gx(n),d=Math.round((e+a[0])/(f+a[0])),h=Math.round((r+a[1])/(u+a[1]));let p=fo(d,0,c-i),g=fo(h,0,l-s);return(o==="sw"||o==="w"||o==="nw")&&(p=fo(d,0,c)),(o==="nw"||o==="n"||o==="ne")&&(g=fo(h,0,l)),{w:p,h:g}}function fo(n,e,r){return Math.max(Math.min(n,r),e)}var Yx={exports:{}},bX={},yX={exports:{}},Jme="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ege=Jme,tge=ege;function vX(){}function xX(){}xX.resetWarningCache=vX;var nge=function(){function n(i,s,o,a,l,c){if(c!==tge){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var r={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:xX,resetWarningCache:vX};return r.PropTypes=r,r};yX.exports=nge();var $g=yX.exports;const ae=lx($g);function wX(n){var e,r,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(r=wX(n[e]))&&(i&&(i+=" "),i+=r)}else for(r in n)n[r]&&(i&&(i+=" "),i+=r);return i}function Xm(){for(var n,e,r=0,i="",s=arguments.length;r<s;r++)(n=arguments[r])&&(e=wX(n))&&(i&&(i+=" "),i+=e);return i}const rge=Object.freeze(Object.defineProperty({__proto__:null,clsx:Xm,default:Xm},Symbol.toStringTag,{value:"Module"})),ige=Gie(rge);var Rn={},So={};Object.defineProperty(So,"__esModule",{value:!0});So.dontSetMe=cge;So.findInArray=sge;So.int=lge;So.isFunction=oge;So.isNum=age;function sge(n,e){for(let r=0,i=n.length;r<i;r++)if(e.apply(e,[n[r],r,n]))return n[r]}function oge(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"}function age(n){return typeof n=="number"&&!isNaN(n)}function lge(n){return parseInt(n,10)}function cge(n,e,r){if(n[e])return new Error(`Invalid prop ${e} passed to ${r} - do not set this, set it on the child.`)}var Su={};Object.defineProperty(Su,"__esModule",{value:!0});Su.browserPrefixToKey=SX;Su.browserPrefixToStyle=uge;Su.default=void 0;Su.getPrefix=_X;const g_=["Moz","Webkit","O","ms"];function _X(){var r,i;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const e=(i=(r=window.document)==null?void 0:r.documentElement)==null?void 0:i.style;if(!e||n in e)return"";for(let s=0;s<g_.length;s++)if(SX(n,g_[s])in e)return g_[s];return""}function SX(n,e){return e?`${e}${dge(n)}`:n}function uge(n,e){return e?`-${e.toLowerCase()}-${n}`:n}function dge(n){let e="",r=!0;for(let i=0;i<n.length;i++)r?(e+=n[i].toUpperCase(),r=!1):n[i]==="-"?r=!0:e+=n[i];return e}Su.default=_X();Object.defineProperty(Rn,"__esModule",{value:!0});Rn.addClassName=TX;Rn.addEvent=hge;Rn.addUserSelectStyles=kge;Rn.createCSSTransform=xge;Rn.createSVGTransform=wge;Rn.getTouch=_ge;Rn.getTouchIdentifier=Sge;Rn.getTranslation=oA;Rn.innerHeight=bge;Rn.innerWidth=yge;Rn.matchesSelector=CX;Rn.matchesSelectorAndParentsTo=fge;Rn.offsetXYFromParent=vge;Rn.outerHeight=mge;Rn.outerWidth=gge;Rn.removeClassName=EX;Rn.removeEvent=pge;Rn.scheduleRemoveUserSelectStyles=Cge;var Mi=So,R4=kX(Su);function kX(n,e){if(typeof WeakMap=="function")var r=new WeakMap,i=new WeakMap;return(kX=function(s,o){if(!o&&s&&s.__esModule)return s;var a,l,c={__proto__:null,default:s};if(s===null||typeof s!="object"&&typeof s!="function")return c;if(a=o?i:r){if(a.has(s))return a.get(s);a.set(s,c)}for(const u in s)u!=="default"&&{}.hasOwnProperty.call(s,u)&&((l=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(s,u))&&(l.get||l.set)?a(c,u,l):c[u]=s[u]);return c})(n,e)}let gb="";function CX(n,e){return gb||(gb=(0,Mi.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,Mi.isFunction)(n[r])})),(0,Mi.isFunction)(n[gb])?n[gb](e):!1}function fge(n,e,r){let i=n;do{if(CX(i,e))return!0;if(i===r)return!1;i=i.parentNode}while(i);return!1}function hge(n,e,r,i){if(!n)return;const s={capture:!0,...i};n.addEventListener?n.addEventListener(e,r,s):n.attachEvent?n.attachEvent("on"+e,r):n["on"+e]=r}function pge(n,e,r,i){if(!n)return;const s={capture:!0,...i};n.removeEventListener?n.removeEventListener(e,r,s):n.detachEvent?n.detachEvent("on"+e,r):n["on"+e]=null}function mge(n){let e=n.clientHeight;const r=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,Mi.int)(r.borderTopWidth),e+=(0,Mi.int)(r.borderBottomWidth),e}function gge(n){let e=n.clientWidth;const r=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,Mi.int)(r.borderLeftWidth),e+=(0,Mi.int)(r.borderRightWidth),e}function bge(n){let e=n.clientHeight;const r=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,Mi.int)(r.paddingTop),e-=(0,Mi.int)(r.paddingBottom),e}function yge(n){let e=n.clientWidth;const r=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,Mi.int)(r.paddingLeft),e-=(0,Mi.int)(r.paddingRight),e}function vge(n,e,r){const s=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(n.clientX+e.scrollLeft-s.left)/r,a=(n.clientY+e.scrollTop-s.top)/r;return{x:o,y:a}}function xge(n,e){const r=oA(n,e,"px");return{[(0,R4.browserPrefixToKey)("transform",R4.default)]:r}}function wge(n,e){return oA(n,e,"")}function oA(n,e,r){let{x:i,y:s}=n,o=`translate(${i}${r},${s}${r})`;if(e){const a=`${typeof e.x=="string"?e.x:e.x+r}`,l=`${typeof e.y=="string"?e.y:e.y+r}`;o=`translate(${a}, ${l})`+o}return o}function _ge(n,e){return n.targetTouches&&(0,Mi.findInArray)(n.targetTouches,r=>e===r.identifier)||n.changedTouches&&(0,Mi.findInArray)(n.changedTouches,r=>e===r.identifier)}function Sge(n){if(n.targetTouches&&n.targetTouches[0])return n.targetTouches[0].identifier;if(n.changedTouches&&n.changedTouches[0])return n.changedTouches[0].identifier}function kge(n){if(!n)return;let e=n.getElementById("react-draggable-style-el");e||(e=n.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,n.getElementsByTagName("head")[0].appendChild(e)),n.body&&TX(n.body,"react-draggable-transparent-selection")}function Cge(n){window.requestAnimationFrame?window.requestAnimationFrame(()=>{N4(n)}):N4(n)}function N4(n){if(n)try{if(n.body&&EX(n.body,"react-draggable-transparent-selection"),n.selection)n.selection.empty();else{const e=(n.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function TX(n,e){n.classList?n.classList.add(e):n.className.match(new RegExp(`(?:^|\\s)${e}(?!\\S)`))||(n.className+=` ${e}`)}function EX(n,e){n.classList?n.classList.remove(e):n.className=n.className.replace(new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g"),"")}var ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.canDragX=Dge;ko.canDragY=Pge;ko.createCoreData=Oge;ko.createDraggableData=Mge;ko.getBoundPosition=Tge;ko.getControlPosition=Ige;ko.snapToGrid=Ege;var xi=So,vd=Rn;function Tge(n,e,r){if(!n.props.bounds)return[e,r];let{bounds:i}=n.props;i=typeof i=="string"?i:Age(i);const s=aA(n);if(typeof i=="string"){const{ownerDocument:o}=s,a=o.defaultView;let l;if(i==="parent"?l=s.parentNode:l=s.getRootNode().querySelector(i),!(l instanceof a.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');const c=l,u=a.getComputedStyle(s),f=a.getComputedStyle(c);i={left:-s.offsetLeft+(0,xi.int)(f.paddingLeft)+(0,xi.int)(u.marginLeft),top:-s.offsetTop+(0,xi.int)(f.paddingTop)+(0,xi.int)(u.marginTop),right:(0,vd.innerWidth)(c)-(0,vd.outerWidth)(s)-s.offsetLeft+(0,xi.int)(f.paddingRight)-(0,xi.int)(u.marginRight),bottom:(0,vd.innerHeight)(c)-(0,vd.outerHeight)(s)-s.offsetTop+(0,xi.int)(f.paddingBottom)-(0,xi.int)(u.marginBottom)}}return(0,xi.isNum)(i.right)&&(e=Math.min(e,i.right)),(0,xi.isNum)(i.bottom)&&(r=Math.min(r,i.bottom)),(0,xi.isNum)(i.left)&&(e=Math.max(e,i.left)),(0,xi.isNum)(i.top)&&(r=Math.max(r,i.top)),[e,r]}function Ege(n,e,r){const i=Math.round(e/n[0])*n[0],s=Math.round(r/n[1])*n[1];return[i,s]}function Dge(n){return n.props.axis==="both"||n.props.axis==="x"}function Pge(n){return n.props.axis==="both"||n.props.axis==="y"}function Ige(n,e,r){const i=typeof e=="number"?(0,vd.getTouch)(n,e):null;if(typeof e=="number"&&!i)return null;const s=aA(r),o=r.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,vd.offsetXYFromParent)(i||n,o,r.props.scale)}function Oge(n,e,r){const i=!(0,xi.isNum)(n.lastX),s=aA(n);return i?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:r,x:e,y:r}:{node:s,deltaX:e-n.lastX,deltaY:r-n.lastY,lastX:n.lastX,lastY:n.lastY,x:e,y:r}}function Mge(n,e){const r=n.props.scale;return{node:e.node,x:n.state.x+e.deltaX/r,y:n.state.y+e.deltaY/r,deltaX:e.deltaX/r,deltaY:e.deltaY/r,lastX:n.state.x,lastY:n.state.y}}function Age(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom}}function aA(n){const e=n.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var Vx={},Kx={};Object.defineProperty(Kx,"__esModule",{value:!0});Kx.default=Rge;function Rge(){}Object.defineProperty(Vx,"__esModule",{value:!0});Vx.default=void 0;var b_=DX(I),Nr=lA($g),Nge=lA($l),kr=Rn,Ba=ko,y_=So,Yh=lA(Kx);function lA(n){return n&&n.__esModule?n:{default:n}}function DX(n,e){if(typeof WeakMap=="function")var r=new WeakMap,i=new WeakMap;return(DX=function(s,o){if(!o&&s&&s.__esModule)return s;var a,l,c={__proto__:null,default:s};if(s===null||typeof s!="object"&&typeof s!="function")return c;if(a=o?i:r){if(a.has(s))return a.get(s);a.set(s,c)}for(const u in s)u!=="default"&&{}.hasOwnProperty.call(s,u)&&((l=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(s,u))&&(l.get||l.set)?a(c,u,l):c[u]=s[u]);return c})(n,e)}function jr(n,e,r){return(e=jge(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function jge(n){var e=Lge(n,"string");return typeof e=="symbol"?e:e+""}function Lge(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const xs={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let za=xs.mouse,Xx=class extends b_.Component{constructor(){super(...arguments),jr(this,"dragging",!1),jr(this,"lastX",NaN),jr(this,"lastY",NaN),jr(this,"touchIdentifier",null),jr(this,"mounted",!1),jr(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:i}=r;if(this.props.disabled||!(e.target instanceof i.defaultView.Node)||this.props.handle&&!(0,kr.matchesSelectorAndParentsTo)(e.target,this.props.handle,r)||this.props.cancel&&(0,kr.matchesSelectorAndParentsTo)(e.target,this.props.cancel,r))return;e.type==="touchstart"&&!this.props.allowMobileScroll&&e.preventDefault();const s=(0,kr.getTouchIdentifier)(e);this.touchIdentifier=s;const o=(0,Ba.getControlPosition)(e,s,this);if(o==null)return;const{x:a,y:l}=o,c=(0,Ba.createCoreData)(this,a,l);(0,Yh.default)("DraggableCore: handleDragStart: %j",c),(0,Yh.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,kr.addUserSelectStyles)(i),this.dragging=!0,this.lastX=a,this.lastY=l,(0,kr.addEvent)(i,za.move,this.handleDrag),(0,kr.addEvent)(i,za.stop,this.handleDragStop))}),jr(this,"handleDrag",e=>{const r=(0,Ba.getControlPosition)(e,this.touchIdentifier,this);if(r==null)return;let{x:i,y:s}=r;if(Array.isArray(this.props.grid)){let l=i-this.lastX,c=s-this.lastY;if([l,c]=(0,Ba.snapToGrid)(this.props.grid,l,c),!l&&!c)return;i=this.lastX+l,s=this.lastY+c}const o=(0,Ba.createCoreData)(this,i,s);if((0,Yh.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(e,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=i,this.lastY=s}),jr(this,"handleDragStop",e=>{if(!this.dragging)return;const r=(0,Ba.getControlPosition)(e,this.touchIdentifier,this);if(r==null)return;let{x:i,y:s}=r;if(Array.isArray(this.props.grid)){let c=i-this.lastX||0,u=s-this.lastY||0;[c,u]=(0,Ba.snapToGrid)(this.props.grid,c,u),i=this.lastX+c,s=this.lastY+u}const o=(0,Ba.createCoreData)(this,i,s);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;const l=this.findDOMNode();l&&this.props.enableUserSelectHack&&(0,kr.scheduleRemoveUserSelectStyles)(l.ownerDocument),(0,Yh.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,l&&((0,Yh.default)("DraggableCore: Removing handlers"),(0,kr.removeEvent)(l.ownerDocument,za.move,this.handleDrag),(0,kr.removeEvent)(l.ownerDocument,za.stop,this.handleDragStop))}),jr(this,"onMouseDown",e=>(za=xs.mouse,this.handleDragStart(e))),jr(this,"onMouseUp",e=>(za=xs.mouse,this.handleDragStop(e))),jr(this,"onTouchStart",e=>(za=xs.touch,this.handleDragStart(e))),jr(this,"onTouchEnd",e=>(za=xs.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,kr.addEvent)(e,xs.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:r}=e;(0,kr.removeEvent)(r,xs.mouse.move,this.handleDrag),(0,kr.removeEvent)(r,xs.touch.move,this.handleDrag),(0,kr.removeEvent)(r,xs.mouse.stop,this.handleDragStop),(0,kr.removeEvent)(r,xs.touch.stop,this.handleDragStop),(0,kr.removeEvent)(e,xs.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,kr.scheduleRemoveUserSelectStyles)(r)}}findDOMNode(){var e,r,i;return(e=this.props)!=null&&e.nodeRef?(i=(r=this.props)==null?void 0:r.nodeRef)==null?void 0:i.current:Nge.default.findDOMNode(this)}render(){return b_.cloneElement(b_.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Vx.default=Xx;jr(Xx,"displayName","DraggableCore");jr(Xx,"propTypes",{allowAnyClick:Nr.default.bool,allowMobileScroll:Nr.default.bool,children:Nr.default.node.isRequired,disabled:Nr.default.bool,enableUserSelectHack:Nr.default.bool,offsetParent:function(n,e){if(n[e]&&n[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Nr.default.arrayOf(Nr.default.number),handle:Nr.default.string,cancel:Nr.default.string,nodeRef:Nr.default.object,onStart:Nr.default.func,onDrag:Nr.default.func,onStop:Nr.default.func,onMouseDown:Nr.default.func,scale:Nr.default.number,className:y_.dontSetMe,style:y_.dontSetMe,transform:y_.dontSetMe});jr(Xx,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),n.default=void 0;var e=d(I),r=f($g),i=f($l),s=ige,o=Rn,a=ko,l=So,c=f(Vx),u=f(Kx);function f(b){return b&&b.__esModule?b:{default:b}}function d(b,w){if(typeof WeakMap=="function")var k=new WeakMap,_=new WeakMap;return(d=function(S,C){if(!C&&S&&S.__esModule)return S;var T,D,O={__proto__:null,default:S};if(S===null||typeof S!="object"&&typeof S!="function")return O;if(T=C?_:k){if(T.has(S))return T.get(S);T.set(S,O)}for(const P in S)P!=="default"&&{}.hasOwnProperty.call(S,P)&&((D=(T=Object.defineProperty)&&Object.getOwnPropertyDescriptor(S,P))&&(D.get||D.set)?T(O,P,D):O[P]=S[P]);return O})(b,w)}function h(){return h=Object.assign?Object.assign.bind():function(b){for(var w=1;w<arguments.length;w++){var k=arguments[w];for(var _ in k)({}).hasOwnProperty.call(k,_)&&(b[_]=k[_])}return b},h.apply(null,arguments)}function p(b,w,k){return(w=g(w))in b?Object.defineProperty(b,w,{value:k,enumerable:!0,configurable:!0,writable:!0}):b[w]=k,b}function g(b){var w=v(b,"string");return typeof w=="symbol"?w:w+""}function v(b,w){if(typeof b!="object"||!b)return b;var k=b[Symbol.toPrimitive];if(k!==void 0){var _=k.call(b,w);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(b)}class y extends e.Component{static getDerivedStateFromProps(w,k){let{position:_}=w,{prevPropsPosition:S}=k;return _&&(!S||_.x!==S.x||_.y!==S.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:_,prevPropsPosition:S}),{x:_.x,y:_.y,prevPropsPosition:{..._}}):null}constructor(w){super(w),p(this,"onDragStart",(k,_)=>{if((0,u.default)("Draggable: onDragStart: %j",_),this.props.onStart(k,(0,a.createDraggableData)(this,_))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),p(this,"onDrag",(k,_)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",_);const S=(0,a.createDraggableData)(this,_),C={x:S.x,y:S.y,slackX:0,slackY:0};if(this.props.bounds){const{x:D,y:O}=C;C.x+=this.state.slackX,C.y+=this.state.slackY;const[P,A]=(0,a.getBoundPosition)(this,C.x,C.y);C.x=P,C.y=A,C.slackX=this.state.slackX+(D-C.x),C.slackY=this.state.slackY+(O-C.y),S.x=C.x,S.y=C.y,S.deltaX=C.x-this.state.x,S.deltaY=C.y-this.state.y}if(this.props.onDrag(k,S)===!1)return!1;this.setState(C)}),p(this,"onDragStop",(k,_)=>{if(!this.state.dragging||this.props.onStop(k,(0,a.createDraggableData)(this,_))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",_);const C={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:D,y:O}=this.props.position;C.x=D,C.y=O}this.setState(C)}),this.state={dragging:!1,dragged:!1,x:w.position?w.position.x:w.defaultPosition.x,y:w.position?w.position.y:w.defaultPosition.y,prevPropsPosition:{...w.position},slackX:0,slackY:0,isElementSVG:!1},w.position&&!(w.onDrag||w.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var w,k;return((k=(w=this.props)==null?void 0:w.nodeRef)==null?void 0:k.current)??i.default.findDOMNode(this)}render(){const{axis:w,bounds:k,children:_,defaultPosition:S,defaultClassName:C,defaultClassNameDragging:T,defaultClassNameDragged:D,position:O,positionOffset:P,scale:A,...L}=this.props;let B={},F=null;const U=!!!O||this.state.dragging,N=O||S,q={x:(0,a.canDragX)(this)&&U?this.state.x:N.x,y:(0,a.canDragY)(this)&&U?this.state.y:N.y};this.state.isElementSVG?F=(0,o.createSVGTransform)(q,P):B=(0,o.createCSSTransform)(q,P);const H=(0,s.clsx)(_.props.className||"",C,{[T]:this.state.dragging,[D]:this.state.dragged});return e.createElement(c.default,h({},L,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(_),{className:H,style:{..._.props.style,...B},transform:F}))}}n.default=y,p(y,"displayName","Draggable"),p(y,"propTypes",{...c.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),p(y,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(bX);const{default:PX,DraggableCore:Fge}=bX;Yx.exports=PX;Yx.exports.default=PX;var $ge=Yx.exports.DraggableCore=Fge,Bge=Yx.exports,cA={exports:{}},Bg={},uA={};uA.__esModule=!0;uA.cloneElement=Gge;var zge=Uge(I);function Uge(n){return n&&n.__esModule?n:{default:n}}function j4(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function L4(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j4(Object(r),!0).forEach(function(i){qge(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):j4(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function qge(n,e,r){return e=Wge(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Wge(n){var e=Hge(n,"string");return typeof e=="symbol"?e:String(e)}function Hge(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Gge(n,e){return e.style&&n.props.style&&(e.style=L4(L4({},n.props.style),e.style)),e.className&&n.props.className&&(e.className=n.props.className+" "+e.className),zge.default.cloneElement(n,e)}var zg={};zg.__esModule=!0;zg.resizableProps=void 0;var _t=Yge($g);function Yge(n){return n&&n.__esModule?n:{default:n}}var Vge={axis:_t.default.oneOf(["both","x","y","none"]),className:_t.default.string,children:_t.default.element.isRequired,draggableOpts:_t.default.shape({allowAnyClick:_t.default.bool,cancel:_t.default.string,children:_t.default.node,disabled:_t.default.bool,enableUserSelectHack:_t.default.bool,offsetParent:_t.default.node,grid:_t.default.arrayOf(_t.default.number),handle:_t.default.string,nodeRef:_t.default.object,onStart:_t.default.func,onDrag:_t.default.func,onStop:_t.default.func,onMouseDown:_t.default.func,scale:_t.default.number}),height:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var s=r[0];if(s.axis==="both"||s.axis==="y"){var o;return(o=_t.default.number).isRequired.apply(o,r)}return _t.default.number.apply(_t.default,r)},handle:_t.default.oneOfType([_t.default.node,_t.default.func]),handleSize:_t.default.arrayOf(_t.default.number),lockAspectRatio:_t.default.bool,maxConstraints:_t.default.arrayOf(_t.default.number),minConstraints:_t.default.arrayOf(_t.default.number),onResizeStop:_t.default.func,onResizeStart:_t.default.func,onResize:_t.default.func,resizeHandles:_t.default.arrayOf(_t.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:_t.default.number,width:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var s=r[0];if(s.axis==="both"||s.axis==="x"){var o;return(o=_t.default.number).isRequired.apply(o,r)}return _t.default.number.apply(_t.default,r)}};zg.resizableProps=Vge;Bg.__esModule=!0;Bg.default=void 0;var Vh=Jge(I),Kge=Bge,Xge=uA,Qge=zg,Zge=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function IX(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(IX=function(s){return s?r:e})(n)}function Jge(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var r=IX(e);if(r&&r.has(n))return r.get(n);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)){var a=s?Object.getOwnPropertyDescriptor(n,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=n[o]}return i.default=n,r&&r.set(n,i),i}function qP(){return qP=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},qP.apply(this,arguments)}function e0e(n,e){if(n==null)return{};var r={},i=Object.keys(n),s,o;for(o=0;o<i.length;o++)s=i[o],!(e.indexOf(s)>=0)&&(r[s]=n[s]);return r}function F4(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function v_(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(r),!0).forEach(function(i){t0e(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function t0e(n,e,r){return e=n0e(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function n0e(n){var e=r0e(n,"string");return typeof e=="symbol"?e:String(e)}function r0e(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function i0e(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,WP(n,e)}function WP(n,e){return WP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},WP(n,e)}var dA=function(n){i0e(e,n);function e(){for(var i,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return i=n.call.apply(n,[this].concat(o))||this,i.handleRefs={},i.lastHandleRect=null,i.slack=null,i}var r=e.prototype;return r.componentWillUnmount=function(){this.resetData()},r.resetData=function(){this.lastHandleRect=this.slack=null},r.runConstraints=function(s,o){var a=this.props,l=a.minConstraints,c=a.maxConstraints,u=a.lockAspectRatio;if(!l&&!c&&!u)return[s,o];if(u){var f=this.props.width/this.props.height,d=s-this.props.width,h=o-this.props.height;Math.abs(d)>Math.abs(h*f)?o=s/f:s=o*f}var p=s,g=o,v=this.slack||[0,0],y=v[0],b=v[1];return s+=y,o+=b,l&&(s=Math.max(l[0],s),o=Math.max(l[1],o)),c&&(s=Math.min(c[0],s),o=Math.min(c[1],o)),this.slack=[y+(p-s),b+(g-o)],[s,o]},r.resizeHandler=function(s,o){var a=this;return function(l,c){var u=c.node,f=c.deltaX,d=c.deltaY;s==="onResizeStart"&&a.resetData();var h=(a.props.axis==="both"||a.props.axis==="x")&&o!=="n"&&o!=="s",p=(a.props.axis==="both"||a.props.axis==="y")&&o!=="e"&&o!=="w";if(!(!h&&!p)){var g=o[0],v=o[o.length-1],y=u.getBoundingClientRect();if(a.lastHandleRect!=null){if(v==="w"){var b=y.left-a.lastHandleRect.left;f+=b}if(g==="n"){var w=y.top-a.lastHandleRect.top;d+=w}}a.lastHandleRect=y,v==="w"&&(f=-f),g==="n"&&(d=-d);var k=a.props.width+(h?f/a.props.transformScale:0),_=a.props.height+(p?d/a.props.transformScale:0),S=a.runConstraints(k,_);k=S[0],_=S[1];var C=k!==a.props.width||_!==a.props.height,T=typeof a.props[s]=="function"?a.props[s]:null,D=s==="onResize"&&!C;T&&!D&&(l.persist==null||l.persist(),T(l,{node:u,size:{width:k,height:_},handle:o})),s==="onResizeStop"&&a.resetData()}}},r.renderResizeHandle=function(s,o){var a=this.props.handle;if(!a)return Vh.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+s,ref:o});if(typeof a=="function")return a(s,o);var l=typeof a.type=="string",c=v_({ref:o},l?{}:{handleAxis:s});return Vh.cloneElement(a,c)},r.render=function(){var s=this,o=this.props,a=o.children,l=o.className,c=o.draggableOpts;o.width,o.height,o.handle,o.handleSize,o.lockAspectRatio,o.axis,o.minConstraints,o.maxConstraints,o.onResize,o.onResizeStop,o.onResizeStart;var u=o.resizeHandles;o.transformScale;var f=e0e(o,Zge);return(0,Xge.cloneElement)(a,v_(v_({},f),{},{className:(l?l+" ":"")+"react-resizable",children:[].concat(a.props.children,u.map(function(d){var h,p=(h=s.handleRefs[d])!=null?h:s.handleRefs[d]=Vh.createRef();return Vh.createElement(Kge.DraggableCore,qP({},c,{nodeRef:p,key:"resizableHandle-"+d,onStop:s.resizeHandler("onResizeStop",d),onStart:s.resizeHandler("onResizeStart",d),onDrag:s.resizeHandler("onResize",d)}),s.renderResizeHandle(d,p))}))}))},e}(Vh.Component);Bg.default=dA;dA.propTypes=Qge.resizableProps;dA.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var Qx={};Qx.__esModule=!0;Qx.default=void 0;var x_=c0e(I),s0e=OX($g),o0e=OX(Bg),a0e=zg,l0e=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function OX(n){return n&&n.__esModule?n:{default:n}}function MX(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(MX=function(s){return s?r:e})(n)}function c0e(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var r=MX(e);if(r&&r.has(n))return r.get(n);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)){var a=s?Object.getOwnPropertyDescriptor(n,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=n[o]}return i.default=n,r&&r.set(n,i),i}function HP(){return HP=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},HP.apply(this,arguments)}function $4(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function yv(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(r),!0).forEach(function(i){u0e(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):$4(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function u0e(n,e,r){return e=d0e(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function d0e(n){var e=f0e(n,"string");return typeof e=="symbol"?e:String(e)}function f0e(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function h0e(n,e){if(n==null)return{};var r={},i=Object.keys(n),s,o;for(o=0;o<i.length;o++)s=i[o],!(e.indexOf(s)>=0)&&(r[s]=n[s]);return r}function p0e(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,GP(n,e)}function GP(n,e){return GP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},GP(n,e)}var AX=function(n){p0e(e,n);function e(){for(var i,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return i=n.call.apply(n,[this].concat(o))||this,i.state={width:i.props.width,height:i.props.height,propsWidth:i.props.width,propsHeight:i.props.height},i.onResize=function(l,c){var u=c.size;i.props.onResize?(l.persist==null||l.persist(),i.setState(u,function(){return i.props.onResize&&i.props.onResize(l,c)})):i.setState(u)},i}e.getDerivedStateFromProps=function(s,o){return o.propsWidth!==s.width||o.propsHeight!==s.height?{width:s.width,height:s.height,propsWidth:s.width,propsHeight:s.height}:null};var r=e.prototype;return r.render=function(){var s=this.props,o=s.handle,a=s.handleSize;s.onResize;var l=s.onResizeStart,c=s.onResizeStop,u=s.draggableOpts,f=s.minConstraints,d=s.maxConstraints,h=s.lockAspectRatio,p=s.axis;s.width,s.height;var g=s.resizeHandles,v=s.style,y=s.transformScale,b=h0e(s,l0e);return x_.createElement(o0e.default,{axis:p,draggableOpts:u,handle:o,handleSize:a,height:this.state.height,lockAspectRatio:h,maxConstraints:d,minConstraints:f,onResizeStart:l,onResize:this.onResize,onResizeStop:c,resizeHandles:g,transformScale:y,width:this.state.width},x_.createElement("div",HP({},b,{style:yv(yv({},v),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},e}(x_.Component);Qx.default=AX;AX.propTypes=yv(yv({},a0e.resizableProps),{},{children:s0e.default.element});cA.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};var m0e=cA.exports.Resizable=Bg.default;cA.exports.ResizableBox=Qx.default;function RX(n){return function(r,i,s,o,a,l,c){return n(r,i,c)}}function Zx(n){return function(r,i,s,o){if(!r||!i||typeof r!="object"||typeof i!="object")return n(r,i,s,o);var a=o.get(r),l=o.get(i);if(a&&l)return a===i&&l===r;o.set(r,i),o.set(i,r);var c=n(r,i,s,o);return o.delete(r),o.delete(i),c}}function NX(n,e){var r={};for(var i in n)r[i]=n[i];for(var i in e)r[i]=e[i];return r}function B4(n){return n.constructor===Object||n.constructor==null}function z4(n){return typeof n.then=="function"}function Jx(n,e){return n===e||n!==n&&e!==e}var g0e="[object Arguments]",b0e="[object Boolean]",y0e="[object Date]",v0e="[object RegExp]",x0e="[object Map]",w0e="[object Number]",_0e="[object Object]",S0e="[object Set]",k0e="[object String]",U4=Object.prototype.toString;function ew(n){var e=n.areArraysEqual,r=n.areDatesEqual,i=n.areMapsEqual,s=n.areObjectsEqual,o=n.areRegExpsEqual,a=n.areSetsEqual,l=n.createIsNestedEqual,c=l(u);function u(f,d,h){if(f===d)return!0;if(!f||!d||typeof f!="object"||typeof d!="object")return f!==f&&d!==d;if(B4(f)&&B4(d))return s(f,d,c,h);var p=Array.isArray(f),g=Array.isArray(d);if(p||g)return p===g&&e(f,d,c,h);var v=U4.call(f);return v!==U4.call(d)?!1:v===y0e?r(f,d,c,h):v===v0e?o(f,d,c,h):v===x0e?i(f,d,c,h):v===S0e?a(f,d,c,h):v===_0e||v===g0e?z4(f)||z4(d)?!1:s(f,d,c,h):v===b0e||v===w0e||v===k0e?Jx(f.valueOf(),d.valueOf()):!1}return u}function jX(n,e,r,i){var s=n.length;if(e.length!==s)return!1;for(;s-- >0;)if(!r(n[s],e[s],s,s,n,e,i))return!1;return!0}var C0e=Zx(jX);function LX(n,e){return Jx(n.valueOf(),e.valueOf())}function FX(n,e,r,i){var s=n.size===e.size;if(!s)return!1;if(!n.size)return!0;var o={},a=0;return n.forEach(function(l,c){if(s){var u=!1,f=0;e.forEach(function(d,h){!u&&!o[f]&&(u=r(c,h,a,f,n,e,i)&&r(l,d,c,h,n,e,i))&&(o[f]=!0),f++}),a++,s=u}}),s}var T0e=Zx(FX),E0e="_owner",D0e=Object.prototype.hasOwnProperty;function $X(n,e,r,i){var s=Object.keys(n),o=s.length;if(Object.keys(e).length!==o)return!1;for(var a;o-- >0;){if(a=s[o],a===E0e){var l=!!n.$$typeof,c=!!e.$$typeof;if((l||c)&&l!==c)return!1}if(!D0e.call(e,a)||!r(n[a],e[a],a,a,n,e,i))return!1}return!0}var P0e=Zx($X);function BX(n,e){return n.source===e.source&&n.flags===e.flags}function zX(n,e,r,i){var s=n.size===e.size;if(!s)return!1;if(!n.size)return!0;var o={};return n.forEach(function(a,l){if(s){var c=!1,u=0;e.forEach(function(f,d){!c&&!o[u]&&(c=r(a,f,l,d,n,e,i))&&(o[u]=!0),u++}),s=c}}),s}var I0e=Zx(zX),UX=Object.freeze({areArraysEqual:jX,areDatesEqual:LX,areMapsEqual:FX,areObjectsEqual:$X,areRegExpsEqual:BX,areSetsEqual:zX,createIsNestedEqual:RX}),qX=Object.freeze({areArraysEqual:C0e,areDatesEqual:LX,areMapsEqual:T0e,areObjectsEqual:P0e,areRegExpsEqual:BX,areSetsEqual:I0e,createIsNestedEqual:RX}),O0e=ew(UX);function el(n,e){return O0e(n,e,void 0)}ew(NX(UX,{createIsNestedEqual:function(){return Jx}}));ew(qX);ew(NX(qX,{createIsNestedEqual:function(){return Jx}}));function q4(n){const{children:e,cols:r,containerWidth:i,margin:s,containerPadding:o,rowHeight:a,maxRows:l,isDraggable:c,isResizable:u,isBounded:f,static:d,useCSSTransforms:h=!0,usePercentages:p=!1,transformScale:g=1,droppingPosition:v,className:y="",style:b,handle:w="",cancel:k="",x:_,y:S,w:C,h:T,minW:D=1,maxW:O=1/0,minH:P=1,maxH:A=1/0,i:L,resizeHandles:B,resizeHandle:F,onDragStart:$,onDrag:U,onDragStop:N,onResizeStart:q,onResize:H,onResizeStop:X}=n,[Y,W]=I.useState(!1),[R,Z]=I.useState(!1),J=I.useRef(null),V=I.useRef({left:0,top:0}),te=I.useRef({top:0,left:0,width:0,height:0}),se=I.useRef(void 0),ye=I.useMemo(()=>({cols:r,containerPadding:o,containerWidth:i,margin:s,maxRows:l,rowHeight:a}),[r,o,i,s,l,a]),Re=I.useCallback(be=>{if(h)return QM(be);const de=aX(be);return p?{...de,left:P4(be.left/i),width:P4(be.width/i)}:de},[h,p,i]),Ke=I.useCallback((be,{node:de})=>{if(!$)return;const{offsetParent:me}=de;if(!me)return;const he=me.getBoundingClientRect(),fe=de.getBoundingClientRect(),De=fe.left/g,Ye=he.left/g,Ge=fe.top/g,Ve=he.top/g,K={left:De-Ye+me.scrollLeft,top:Ge-Ve+me.scrollTop};V.current=K,W(!0);const{x:re,y:ne}=yy(ye,K.top,K.left,C,T);$(L,re,ne,{e:be,node:de,newPosition:K})},[$,g,ye,C,T,L]),Ie=I.useCallback((be,{node:de,deltaX:me,deltaY:he})=>{if(!U||!Y)return;let fe=V.current.top+he,De=V.current.left+me;if(f){const{offsetParent:K}=de;if(K){const re=K.clientHeight-bv(T,a,s[1]);fe=fo(fe,0,re);const ne=Gx(ye),ut=i-bv(C,ne,s[0]);De=fo(De,0,ut)}}const Ye={top:fe,left:De};V.current=Ye;const{x:Ge,y:Ve}=yy(ye,fe,De,C,T);U(L,Ge,Ve,{e:be,node:de,newPosition:Ye})},[U,Y,f,T,a,s,ye,i,C,L]),Ee=I.useCallback((be,{node:de})=>{if(!N||!Y)return;const{left:me,top:he}=V.current,fe={top:he,left:me};W(!1),V.current={left:0,top:0};const{x:De,y:Ye}=yy(ye,he,me,C,T);N(L,De,Ye,{e:be,node:de,newPosition:fe})},[N,Y,ye,C,T,L]),He=I.useCallback((be,{node:de,size:me,handle:he},fe,De)=>{const Ye=De==="onResizeStart"?q:De==="onResize"?H:X;if(!Ye)return;let Ge;de?Ge=Nme(he,fe,me,i):Ge={...me,top:fe.top,left:fe.left},te.current=Ge;let{w:Ve,h:K}=Zme(ye,Ge.width,Ge.height,_,S,he);Ve=fo(Ve,Math.max(D,1),O),K=fo(K,P,A),Ye(L,Ve,K,{e:be.nativeEvent,node:de,size:Ge,handle:he})},[q,H,X,i,ye,_,S,D,O,P,A,L]),nt=I.useCallback((be,de)=>{Z(!0);const me=tc(ye,_,S,C,T),he={...de,handle:de.handle};He(be,he,me,"onResizeStart")},[He,ye,_,S,C,T]),z=I.useCallback((be,de)=>{const me=tc(ye,_,S,C,T),he={...de,handle:de.handle};He(be,he,me,"onResize")},[He,ye,_,S,C,T]),ve=I.useCallback((be,de)=>{Z(!1),te.current={top:0,left:0,width:0,height:0};const me=tc(ye,_,S,C,T),he={...de,handle:de.handle};He(be,he,me,"onResizeStop")},[He,ye,_,S,C,T]);I.useEffect(()=>{if(!v)return;const be=J.current;if(!be)return;const de=se.current||{left:0,top:0},me=Y&&(v.left!==de.left||v.top!==de.top);if(Y){if(me){const he=v.left-V.current.left,fe=v.top-V.current.top,De={node:be,deltaX:he,deltaY:fe,lastX:V.current.left,lastY:V.current.top,x:v.left,y:v.top};Ie(v.e,De)}}else{const he={node:be,deltaX:v.left,deltaY:v.top,lastX:0,lastY:0,x:v.left,y:v.top};Ke(v.e,he)}se.current=v},[v,Y,Ke,Ie]);const Ne=tc(ye,_,S,C,T,Y?V.current:null,R?te.current:null),ge=Ae.Children.only(e),$e=tc(ye,0,0,r,0).width,ue=tc(ye,0,0,D,P),ee=tc(ye,0,0,O,A),le=[ue.width,ue.height],xe=[Math.min(ee.width,$e),Math.min(ee.height,1/0)],pe=ge.props,Le=pe.className,ce=pe.style;let Oe=Ae.cloneElement(ge,{ref:J,className:Xm("react-grid-item",Le,y,{static:d,resizing:R,"react-draggable":c,"react-draggable-dragging":Y,dropping:!!v,cssTransforms:h}),style:{...b,...ce,...Re(Ne)}});const je=F;return Oe=m.jsx(m0e,{draggableOpts:{disabled:!u},className:u?void 0:"react-resizable-hide",width:Ne.width,height:Ne.height,minConstraints:le,maxConstraints:xe,onResizeStart:nt,onResize:z,onResizeStop:ve,transformScale:g,resizeHandles:B,handle:je,children:Oe}),Oe=m.jsx($ge,{disabled:!c,onStart:Ke,onDrag:Ie,onStop:Ee,handle:w,cancel:".react-resizable-handle"+(k?","+k:""),scale:g,nodeRef:J,children:Oe}),Oe}var No=()=>{},W4="react-grid-layout",WX=!1;try{WX=/firefox/i.test(navigator.userAgent)}catch{}function M0e(n,e){const r=Ae.Children.toArray(n),i=Ae.Children.toArray(e);if(r.length!==i.length)return!1;for(let s=0;s<r.length;s++){const o=r[s],a=i[s];if((o==null?void 0:o.key)!==(a==null?void 0:a.key))return!1}return!0}function H4(n,e,r,i,s){const o=[],a=new Set;Ae.Children.forEach(e,c=>{if(!Ae.isValidElement(c)||c.key===null)return;const u=String(c.key);a.add(u);const f=n.find(d=>d.i===u);if(f)o.push(Rl(f));else{const h=c.props["data-grid"];h?o.push({i:u,x:h.x??0,y:h.y??0,w:h.w??1,h:h.h??1,minW:h.minW,maxW:h.maxW,minH:h.minH,maxH:h.maxH,static:h.static,isDraggable:h.isDraggable,isResizable:h.isResizable,resizeHandles:h.resizeHandles,isBounded:h.isBounded}):o.push({i:u,x:0,y:rh(o),w:1,h:1})}});const l=rA(o,{cols:r});return na(l,i,r,s)}function A0e(n){const{children:e,width:r,gridConfig:i,dragConfig:s,resizeConfig:o,dropConfig:a,positionStrategy:l=Fme,compactor:c,layout:u=[],droppingItem:f,autoSize:d=!0,className:h="",style:p={},innerRef:g,onLayoutChange:v=No,onDragStart:y=No,onDrag:b=No,onDragStop:w=No,onResizeStart:k=No,onResize:_=No,onResizeStop:S=No,onDrop:C=No,onDropDragOver:T=No}=n,D=I.useMemo(()=>({...$me,...i}),[i]),O=I.useMemo(()=>({...Bme,...s}),[s]),P=I.useMemo(()=>({...zme,...o}),[o]),A=I.useMemo(()=>({...Ume,...a}),[a]),{cols:L,rowHeight:B,maxRows:F,margin:$,containerPadding:U}=D,{enabled:N,bounded:q,handle:H,cancel:X}=O,{enabled:Y,handles:W,handleComponent:R}=P,{enabled:Z,defaultItem:J}=A,V=c??sA("vertical"),te=V.type,se=V.allowOverlap,ye=V.preventCollision??!1,Re=I.useMemo(()=>f??{i:"__dropping-elem__",...J},[f,J]),Ke=l.type==="transform",Ie=l.scale,Ee=U??$,[He,nt]=I.useState(!1),[z,ve]=I.useState(()=>H4(u,e,L,te,se)),[Ne,ge]=I.useState(null),[$e,ue]=I.useState(!1),[ee,le]=I.useState(null),[xe,pe]=I.useState(),Le=I.useRef(null),ce=I.useRef(null),Oe=I.useRef(null),je=I.useRef(0),be=I.useRef(z),de=I.useRef(u),me=I.useRef(e),he=I.useRef(te);I.useEffect(()=>{nt(!0),el(z,u)||v(z)},[]),I.useEffect(()=>{if(Ne)return;const Ce=!el(u,de.current),ht=!M0e(e,me.current),Ue=te!==he.current;if(Ce||ht||Ue){const Tt=H4(Ce?u:z,e,L,te,se);ve(Tt)}de.current=u,me.current=e,he.current=te},[u,e,L,te,se,Ne,z]),I.useEffect(()=>{!Ne&&!el(z,be.current)&&(be.current=z,v(z))},[z,Ne,v]);const fe=I.useMemo(()=>{if(!d)return;const Ce=rh(z),ht=Ee[1];return Ce*B+(Ce-1)*$[1]+ht*2+"px"},[d,z,B,$,Ee]),De=I.useCallback((Ce,ht,Ue,lt)=>{const Tt=cc(z,Ce);if(!Tt)return;const bt={w:Tt.w,h:Tt.h,x:Tt.x,y:Tt.y,i:Ce};Le.current=Rl(Tt),Oe.current=z,ge(bt),y(z,Tt,Tt,null,lt.e,lt.node)},[z,y]),Ye=I.useCallback((Ce,ht,Ue,lt)=>{const Tt=Le.current,bt=cc(z,Ce);if(!bt)return;const xt={w:bt.w,h:bt.h,x:bt.x,y:bt.y,i:Ce},yt=Sc(z,bt,ht,Ue,!0,ye,te,L,se);b(yt,Tt,bt,xt,lt.e,lt.node),ve(se?yt:na(yt,te,L)),ge(xt)},[z,ye,te,L,se,b]),Ge=I.useCallback((Ce,ht,Ue,lt)=>{if(!Ne)return;const Tt=Le.current,bt=cc(z,Ce);if(!bt)return;const xt=Sc(z,bt,ht,Ue,!0,ye,te,L,se),yt=se?xt:na(xt,te,L);w(yt,Tt,bt,null,lt.e,lt.node);const zt=Oe.current;Le.current=null,Oe.current=null,ge(null),ve(yt),zt&&!el(zt,yt)&&v(yt)},[Ne,z,ye,te,L,se,w,v]),Ve=I.useCallback((Ce,ht,Ue,lt)=>{const Tt=cc(z,Ce);Tt&&(ce.current=Rl(Tt),Oe.current=z,ue(!0),k(z,Tt,Tt,null,lt.e,lt.node))},[z,k]),K=I.useCallback((Ce,ht,Ue,lt)=>{const Tt=ce.current,{handle:bt}=lt;let xt=!1,yt,zt;const[Gt,Kn]=Wme(z,Ce,Cn=>(yt=Cn.x,zt=Cn.y,["sw","w","nw","n","ne"].includes(bt)&&(["sw","nw","w"].includes(bt)&&(yt=Cn.x+(Cn.w-ht),ht=Cn.x!==yt&&yt<0?Cn.w:ht,yt=yt<0?0:yt),["ne","n","nw"].includes(bt)&&(zt=Cn.y+(Cn.h-Ue),Ue=Cn.y!==zt&&zt<0?Cn.h:Ue,zt=zt<0?0:zt),xt=!0),ye&&!se&&uX(z,{...Cn,w:ht,h:Ue,x:yt??Cn.x,y:zt??Cn.y}).filter(Xl=>Xl.i!==Cn.i).length>0&&(zt=Cn.y,Ue=Cn.h,yt=Cn.x,ht=Cn.w,xt=!1),Cn.w=ht,Cn.h=Ue,Cn));if(!Kn)return;let Zr=Gt;xt&&yt!==void 0&&zt!==void 0&&(Zr=Sc(Gt,Kn,yt,zt,!0,ye,te,L,se));const Ys={w:Kn.w,h:Kn.h,x:Kn.x,y:Kn.y,i:Ce,static:!0};_(Zr,Tt,Kn,Ys,lt.e,lt.node),ve(se?Zr:na(Zr,te,L)),ge(Ys)},[z,ye,se,te,L,_]),re=I.useCallback((Ce,ht,Ue,lt)=>{const Tt=ce.current,bt=cc(z,Ce),xt=se?z:na(z,te,L);S(xt,Tt,bt??null,null,lt.e,lt.node);const yt=Oe.current;ce.current=null,Oe.current=null,ge(null),ue(!1),ve(xt),yt&&!el(yt,xt)&&v(xt)},[z,se,te,L,S,v]),ne=I.useCallback(()=>{const Ce=na(z.filter(ht=>ht.i!==Re.i),te,L,se);ve(Ce),le(null),ge(null),pe(void 0)},[z,Re.i,te,L,se]),ut=I.useCallback(Ce=>{var yt;if(Ce.preventDefault(),Ce.stopPropagation(),WX&&!((yt=Ce.nativeEvent.target)!=null&&yt.classList.contains(W4)))return!1;const ht=T(Ce);if(ht===!1)return ee&&ne(),!1;const Ue={...Re,...ht},lt=Ce.currentTarget.getBoundingClientRect(),Tt=Ce.clientX-lt.left,bt=Ce.clientY-lt.top,xt={left:Tt/Ie,top:bt/Ie,e:Ce.nativeEvent};if(ee)xe&&(xe.left!==Tt||xe.top!==bt)&&pe(xt);else{const Gt=yy({cols:L,margin:$,maxRows:F,rowHeight:B,containerWidth:r,containerPadding:Ee},bt,Tt,Ue.w,Ue.h);le(m.jsx("div",{},Ue.i)),pe(xt),ve([...z,{...Ue,x:Gt.x,y:Gt.y,static:!1,isDraggable:!0}])}},[ee,xe,Re,T,ne,Ie,L,$,F,B,r,Ee,z]),Be=I.useCallback(Ce=>{Ce.preventDefault(),Ce.stopPropagation(),je.current--,je.current===0&&ne()},[ne]),Fe=I.useCallback(Ce=>{Ce.preventDefault(),Ce.stopPropagation(),je.current++},[]),we=I.useCallback(Ce=>{Ce.preventDefault(),Ce.stopPropagation();const ht=z.find(Ue=>Ue.i===Re.i);je.current=0,ne(),C(z,ht,Ce.nativeEvent)},[z,Re.i,ne,C]),ft=I.useCallback((Ce,ht)=>{if(!Ce||!Ce.key)return null;const Ue=cc(z,String(Ce.key));if(!Ue)return null;const lt=typeof Ue.isDraggable=="boolean"?Ue.isDraggable:!Ue.static&&N,Tt=typeof Ue.isResizable=="boolean"?Ue.isResizable:!Ue.static&&Y,bt=Ue.resizeHandles||[...W],xt=lt&&q&&Ue.isBounded!==!1,yt=R;return m.jsx(q4,{containerWidth:r,cols:L,margin:$,containerPadding:Ee,maxRows:F,rowHeight:B,cancel:X,handle:H,onDragStart:De,onDrag:Ye,onDragStop:Ge,onResizeStart:Ve,onResize:K,onResizeStop:re,isDraggable:lt,isResizable:Tt,isBounded:xt,useCSSTransforms:Ke&&He,usePercentages:!He,transformScale:Ie,w:Ue.w,h:Ue.h,x:Ue.x,y:Ue.y,i:Ue.i,minH:Ue.minH,minW:Ue.minW,maxH:Ue.maxH,maxW:Ue.maxW,static:Ue.static,droppingPosition:ht?xe:void 0,resizeHandles:bt,resizeHandle:yt,children:Ce},Ue.i)},[z,r,L,$,Ee,F,B,X,H,De,Ye,Ge,Ve,K,re,N,Y,q,Ke,He,Ie,xe,W,R]),at=()=>Ne?m.jsx(q4,{w:Ne.w,h:Ne.h,x:Ne.x,y:Ne.y,i:Ne.i,className:`react-grid-placeholder ${$e?"placeholder-resizing":""}`,containerWidth:r,cols:L,margin:$,containerPadding:Ee,maxRows:F,rowHeight:B,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:Ke,transformScale:Ie,children:m.jsx("div",{})}):null,At=Xm(W4,h),Me={height:fe,...p};return m.jsxs("div",{ref:g,className:At,style:Me,onDrop:Z?we:void 0,onDragLeave:Z?Be:void 0,onDragEnter:Z?Fe:void 0,onDragOver:Z?ut:void 0,children:[Ae.Children.map(e,Ce=>Ae.isValidElement(Ce)?ft(Ce):null),Z&&ee&&ft(ee,!0),at()]})}var R0e={lg:1200,md:996,sm:768,xs:480,xxs:0},N0e={lg:12,md:10,sm:6,xs:4,xxs:2},w_=()=>{};function j0e(n,e,r,i,s){const o=[];Ae.Children.forEach(e,l=>{if(!Ae.isValidElement(l)||l.key===null)return;const c=String(l.key),u=n.find(f=>f.i===c);if(u)o.push({...u,i:c});else{const d=l.props["data-grid"];d?o.push({i:c,x:d.x??0,y:d.y??0,w:d.w??1,h:d.h??1,minW:d.minW,maxW:d.maxW,minH:d.minH,maxH:d.maxH,static:d.static,isDraggable:d.isDraggable,isResizable:d.isResizable,resizeHandles:d.resizeHandles,isBounded:d.isBounded}):o.push({i:c,x:0,y:rh(o),w:1,h:1})}});const a=rA(o,{cols:r});return na(a,i,r,s)}function L0e(n){const{children:e,width:r,breakpoint:i,breakpoints:s=R0e,cols:o=N0e,layouts:a={},rowHeight:l=150,maxRows:c=1/0,margin:u=[10,10],containerPadding:f=null,compactor:d,onBreakpointChange:h=w_,onLayoutChange:p=w_,onWidthChange:g=w_,...v}=n,y=d??sA("vertical"),b=y.type,w=y.allowOverlap,k=I.useMemo(()=>i??M4(s,r),[]),_=I.useMemo(()=>A4(k,o),[k,o]),S=I.useMemo(()=>m_(a,s,k,k,_,b),[]),[C,T]=I.useState(k),[D,O]=I.useState(_),[P,A]=I.useState(S),[L,B]=I.useState(a),F=I.useRef(r),$=I.useRef(i),U=I.useRef(s),N=I.useRef(o),q=I.useRef(a),H=I.useRef(b);I.useEffect(()=>{if(!el(a,q.current)){const Z=m_(a,s,C,C,D,b);A(Z),B(a),q.current=a}},[a,s,C,D,b]),I.useEffect(()=>{if(b!==H.current){const Z=na(Bs(P),b,D,w),J={...L,[C]:Z};A(Z),B(J),p(Z,J),H.current=b}},[b,P,D,w,L,C,p]),I.useEffect(()=>{const Z=r!==F.current,J=i!==$.current,V=!el(s,U.current),te=!el(o,N.current);if(Z||J||V||te){const se=i??M4(s,r),ye=A4(se,o),Re=C;if(Re!==se||V||te){const Ee={...L};Ee[Re]||(Ee[Re]=Bs(P));let He=m_(Ee,s,se,Re,ye,b);He=j0e(He,e,ye,b,w),Ee[se]=He,T(se),O(ye),A(He),B(Ee),h(se,ye),p(He,Ee)}const Ke=mb(u,se),Ie=f?mb(f,se):null;g(r,Ke,ye,Ie),F.current=r,$.current=i,U.current=s,N.current=o}},[r,i,s,o,C,D,P,L,e,b,w,u,f,h,p,g]);const X=I.useCallback(Z=>{const J={...L,[C]:Z};A(Z),B(J),p(Z,J)},[L,C,p]),Y=I.useMemo(()=>mb(u,C),[u,C]),W=I.useMemo(()=>f===null?null:mb(f,C),[f,C]),R=I.useMemo(()=>({cols:D,rowHeight:l,maxRows:c,margin:Y,containerPadding:W}),[D,l,c,Y,W]);return m.jsx(A0e,{...v,width:r,gridConfig:R,compactor:y,onLayoutChange:X,layout:P,children:e})}function HX(n){const{children:e,width:r,breakpoint:i,breakpoints:s,cols:o,layouts:a,onBreakpointChange:l,onLayoutChange:c,onWidthChange:u,rowHeight:f,maxRows:d,margin:h,containerPadding:p,droppingItem:g,compactType:v,preventCollision:y=!1,allowOverlap:b=!1,verticalCompact:w,isDraggable:k=!0,isBounded:_=!1,draggableHandle:S,draggableCancel:C,isResizable:T=!0,resizeHandles:D=["se"],resizeHandle:O,isDroppable:P=!1,useCSSTransforms:A=!0,transformScale:L=1,autoSize:B,className:F,style:$,innerRef:U,onDragStart:N,onDrag:q,onDragStop:H,onResizeStart:X,onResize:Y,onResizeStop:W,onDrop:R,onDropDragOver:Z}=n;let J=v===void 0?"vertical":v;w===!1&&(J=null);const V={enabled:k,bounded:_,handle:S,cancel:C},te={enabled:T,handles:D,handleComponent:O},se={enabled:P};let ye;A?L!==1?ye=Lme(L):ye=cX:ye=jme;const Re=sA(J,b,y);return m.jsx(L0e,{width:r,breakpoint:i,breakpoints:s,cols:o,layouts:a,rowHeight:f,maxRows:d,margin:h,containerPadding:p,compactor:Re,dragConfig:V,resizeConfig:te,dropConfig:se,positionStrategy:ye,droppingItem:g,autoSize:B,className:F,style:$,innerRef:U,onBreakpointChange:l,onLayoutChange:c,onWidthChange:u,onDragStart:N,onDrag:q,onDragStop:H,onResizeStart:X,onResize:Y,onResizeStop:W,onDrop:R,onDropDragOver:Z,children:e})}HX.displayName="ResponsiveReactGridLayout";var F0e=HX,$0e="react-grid-layout";function B0e(n){function e(r){const{measureBeforeMount:i=!1,className:s,style:o,...a}=r,[l,c]=I.useState(1280),[u,f]=I.useState(!1),d=I.useRef(null),h=I.useRef(null);return I.useEffect(()=>{f(!0),h.current=new ResizeObserver(g=>{if(d.current instanceof HTMLElement&&g[0]){const y=g[0].contentRect.width;c(y)}});const p=d.current;return p instanceof HTMLElement&&h.current.observe(p),()=>{var g;p instanceof HTMLElement&&h.current&&h.current.unobserve(p),(g=h.current)==null||g.disconnect()}},[]),i&&!u?m.jsx("div",{className:Xm(s,$0e),style:o,ref:d}):m.jsx(n,{innerRef:d,className:s,style:o,...a,width:l})}return e.displayName=`WidthProvider(${n.displayName||n.name||"Component"})`,e}const Vp=[[0,4,8,16],[8,4,2,16],[0,40,3,27],[0,20,3,20],[3,20,7,13],[3,33,7,8],[3,41,7,6],[3,47,2,16],[0,0,10,4]],z0e=[[0,4,8,16],[8,4,2,16],[9,20,3,27],[0,20,3,20],[3,20,6,13],[0,40,9,7],[3,33,6,7],[10,4,2,16],[0,0,12,4]],G4=0,U0e=8;function q0e(n){return n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():""}function W0e(n,e){return Math.floor(Math.random()*(e-n+1))+n}function H0e(n){const e=Math.ceil(Math.random()*4)+1;return{x:W0e(0,5)*2%12,y:Math.floor(n/6)*e,w:2,h:e,i:n.toString(),static:Math.random()<.05}}function G0e(n,e){const[r,i,s,o]=e;return{x:r,y:i,w:s,h:o,i:n.toString(),static:!0}}function Kp(n,e){const r=n.length,i=[];for(let s=0;s<r;s++)s<n.length?i.push(G0e(s,n[s])):i.push(H0e(s));return i}function Y0e(n,e){const r=Object.keys(n),i=Object.keys(e);if(r.length!==i.length)return!1;for(const s of r){const o=n[s],a=e[s];if(!o||!a){if(o!==a)return!1;continue}if(o.length!==a.length)return!1;for(let l=0;l<o.length;l++){const c=o[l],u=a[l];if(c.x!==u.x||c.y!==u.y||c.w!==u.w||c.h!==u.h)return!1}}return!0}function __(n,e){const r={};for(const i in n){const s=n[i];s&&(r[i]=s.map(o=>({...o,static:e})))}return r}const V0e=B0e(F0e),ax=class ax extends Ae.Component{constructor(r){super(r);Te(this,"isUpdatingLayout",!1);Te(this,"domCache",null);Te(this,"lastLayoutKey","");Te(this,"handleResponsiveLayoutChange",(r,i)=>{const s=Array.isArray(r)?r:[r],o=i;this.onLayoutChange(s,o)});Te(this,"generateNewLayout",()=>{const r=Kp(Vp),i=this.props.allStatic??this.state.allStatic,s=r.map(o=>({...o,static:i}));this.domCache=null,this.lastLayoutKey="",this.setState({layouts:{lg:s}})});this.state={currentBreakpoint:"lg",compactType:r.compactType??"vertical",mounted:!1,layouts:{lg:r.initialLayout||Kp(Vp)},allStatic:r.allStatic??!0},this.onBreakpointChange=this.onBreakpointChange.bind(this),this.onCompactTypeChange=this.onCompactTypeChange.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.onNewLayout=this.onNewLayout.bind(this),this.onToggleStatic=this.onToggleStatic.bind(this)}componentDidMount(){this.setState({mounted:!0})}generateDOM(){const r=this.state.layouts.lg||[],{slotContent:i=[]}=this.props,s=this.props.allStatic??this.state.allStatic,o=`${r.length}-${s}-${i.length}`;if(this.domCache&&this.lastLayoutKey===o)return this.domCache;const a=[];for(let l=0;l<r.length;l++){const c=r[l],u=l>=G4&&l<=U0e,f=l-G4,d=u&&i[f]?i[f]:null,h=c.static??s;a.push(m.jsx("div",{className:h?"static":"",children:d?m.jsx("div",{className:"external-slot-content",children:d}):h?m.jsxs("span",{className:"text",title:"This item is static and cannot be removed or resized.",children:["Static - ",l]}):m.jsx("span",{className:"text",children:l})},c.i||l.toString()))}return this.domCache=a,this.lastLayoutKey=o,a}onBreakpointChange(r){this.setState({currentBreakpoint:r})}onCompactTypeChange(){if(this.props.onCompactTypeChange)this.props.onCompactTypeChange();else{const{compactType:r}=this.state,i=r==="horizontal"?"vertical":r==="vertical"?null:"horizontal";this.setState({compactType:i})}}onLayoutChange(r,i){if(this.isUpdatingLayout){this.props.onLayoutChange(r,i);return}const s=this.props.allStatic??this.state.allStatic;if(s){this.props.onLayoutChange(r,i);return}const o=__(i,s);!Y0e(this.state.layouts,o)&&(this.domCache=null,this.lastLayoutKey="",this.isUpdatingLayout=!0,this.setState({layouts:o},()=>{this.isUpdatingLayout=!1})),this.props.onLayoutChange(r,o)}onNewLayout(){this.props.onNewLayout?this.props.onNewLayout():this.generateNewLayout()}onToggleStatic(){if(this.props.onToggleStatic)this.props.onToggleStatic();else{const r=!this.state.allStatic,i=__(this.state.layouts,r);this.domCache=null,this.lastLayoutKey="",this.setState({allStatic:r,layouts:i})}}componentDidUpdate(r){if(r.compactType!==this.props.compactType&&this.props.compactType!==void 0&&this.setState({compactType:this.props.compactType}),r.allStatic!==this.props.allStatic&&this.props.allStatic!==void 0){const i=__(this.state.layouts,this.props.allStatic);this.domCache=null,this.lastLayoutKey="",this.setState({allStatic:this.props.allStatic,layouts:i})}r.slotContent!==this.props.slotContent&&(this.domCache=null,this.lastLayoutKey="")}render(){const{cols:r}=this.props,i=r||ax.defaultProps.cols||{},s=this.props.compactType??this.state.compactType;return m.jsxs("div",{children:[m.jsxs("div",{children:["Current Breakpoint: ",this.state.currentBreakpoint," (",i[this.state.currentBreakpoint]," columns)"]}),m.jsxs("div",{children:["Compaction type: ",q0e(s)||"No Compaction"]}),m.jsx(V0e,{...this.props,layouts:this.state.layouts,onBreakpointChange:this.onBreakpointChange,onLayoutChange:this.handleResponsiveLayoutChange,measureBeforeMount:!1,useCSSTransforms:this.state.mounted,compactType:s,preventCollision:!s,children:this.generateDOM()})]})}};Te(ax,"defaultProps",{className:"layout",rowHeight:30,onLayoutChange:function(){},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},initialLayout:Kp(Vp)});let YP=ax;function GX(){const n=document.getElementById("tradingview-widget-script");n&&n.parentNode&&n.parentNode.removeChild(n)}function K0e(){return new Promise((n,e)=>{if(typeof window.TradingView<"u"){n();return}GX();const r=document.createElement("script");r.id="tradingview-widget-script",r.src=ipe,r.async=!0,r.onload=()=>{typeof window.TradingView<"u"?n():e(new Error("TradingView script loaded but TradingView object not found"))},r.onerror=()=>{e(new Error("Failed to load TradingView script"))},document.head.appendChild(r)})}function X0e(n){if(typeof window.TradingView>"u")throw new Error("TradingView is not loaded. Call loadTradingViewScript() first.");const e={autosize:n.autosize!==!1,symbol:n.symbol,interval:n.interval,timezone:n.timezone||"Etc/UTC",theme:"dark",style:"1",locale:n.locale||"en",toolbar_bg:"#1a1a1a",enable_publishing:n.enablePublishing||!1,hide_top_toolbar:n.hideTopToolbar||!1,hide_legend:n.hideLegend||!1,save_image:!1,container_id:n.containerId,hide_volume:n.hideVolume||!1,studies:n.studies||["RSI@tv-basicstudies","MASimple@tv-basicstudies"]};return new window.TradingView.widget(e)}function Q0e(){return`tradingview-widget-container-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function Z0e({symbol:n=npe,interval:e=rpe,isCollapsed:r=!1,className:i=""}){const s=I.useRef(null),o=I.useRef(null),a=I.useRef(Q0e());return I.useEffect(()=>{if(r||!s.current)return;s.current&&(s.current.id=a.current);let l=!0;return K0e().then(()=>{if(!l||!s.current)return;const c={symbol:n,interval:e,containerId:a.current};o.current=X0e(c)}).catch(c=>{console.error("Failed to load TradingView widget:",c)}),()=>{l=!1,o.current&&(o.current=null)}},[n,e,r]),I.useEffect(()=>()=>{GX()},[]),r?m.jsx("div",{className:`tradingview-widget-container ${i}`}):m.jsx("div",{className:`tradingview-widget-wrapper ${i}`,children:m.jsx("div",{ref:s,id:a.current,className:"tradingview-widget-container"})})}function ku(n,e=2,r=2,i="0.00"){return n==null||isNaN(n)?i:n.toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:r})}function vv(n){return n==null||isNaN(n)?"--":ku(n,2,2,"--")}function Md(n){return n==null||isNaN(n)?"--":ku(n,2,8,"--")}function xv(n){return n==null||isNaN(n)?"0.000":ku(n,3,3,"0.000")}function J0e(n){return n==null||isNaN(n)?"0":ku(n,3,8,"0")}function ebe(n){return n==null||isNaN(n)?"0.00":ku(n,2,2,"0.00")}function tbe(n){return n==null||isNaN(n)?"0.00":ku(n,2,2,"0.00")}function xn(n){return n==null||isNaN(n)?"0.00":ku(n,2,2,"0.00")}function YX(n){return n==null||isNaN(n)?"0%":`${(n*100).toFixed(2)}%`}function VX(n){if(n==null||typeof n=="string"&&(n.trim()===""||isNaN(Number(n))))return"0";try{return ot(n).toFixed(8).replace(/\.?0+$/,"")}catch{return"0"}}function nbe(n){if(n==null||typeof n=="string"&&(n.trim()===""||isNaN(Number(n))))return"--";try{const r=VX(n).split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),r.join(".")}catch{return"--"}}function rbe(n){if(n==null||typeof n=="string"&&(n.trim()===""||isNaN(Number(n))))return"0";try{return VX(n)}catch{return"0"}}function ibe(n,e="--"){if(n==null)return e;try{return(typeof n=="string"||typeof n=="number"?ot(n):0).toFixed(2).replace(/\.?0+$/,"")}catch{return e}}function sbe(n,e,r){return e!==n?m.jsx("span",{style:{fontSize:"0.7rem",opacity:.5,marginLeft:"0.25rem"},children:""}):m.jsx("span",{style:{fontSize:"0.7rem",marginLeft:"0.25rem"},children:r==="asc"?"":""})}function ih({message:n="Loading..."}){return m.jsx("div",{className:"message loading",children:n})}function sh({error:n}){return m.jsxs("div",{className:"message error",children:["Error: ",n]})}function da({message:n}){return m.jsx("div",{className:"message empty",children:n})}function KX({message:n}){return m.jsx("div",{className:"message warning",children:n})}function fA({isConnected:n,connectedText:e=" LIVE",disconnectedText:r=" OFFLINE"}){return m.jsx("div",{className:"status-indicator",children:m.jsx("span",{className:`status-dot ${n?"connected":"disconnected"}`,children:n?e:r})})}function oh({title:n,children:e}){return m.jsxs("div",{className:"layout-header",children:[m.jsx("div",{className:"layout-header-title",children:n}),e&&m.jsx("div",{className:"layout-header-actions",children:e})]})}function ir({field:n,currentSortField:e,sortDirection:r,onSort:i,children:s,center:o=!1}){return m.jsxs("div",{className:`table-header-cell ${o?"left":"right"}`,onClick:()=>i(n),children:[s,sbe(n,e,r)]})}function VP({children:n,center:e=!1}){return m.jsx("div",{className:`table-header-cell ${e?"left":"right"}`,children:n})}function obe({onClick:n,disabled:e}){return console.log("[CancelButton] Rendering",{disabled:e,hasOnClick:!!n}),m.jsx("button",{onClick:r=>{console.log("[CancelButton] Button clicked",{disabled:e,event:r}),!e&&n?n(r):console.warn("[CancelButton] Click ignored - button is disabled",{disabled:e})},onMouseDown:r=>{console.log("[CancelButton] Mouse down",{disabled:e,event:r})},className:"btn btn-danger",disabled:e,style:{pointerEvents:e?"none":"auto",cursor:e?"not-allowed":"pointer"},children:"Cancel"})}function abe({onClick:n}){return m.jsx("button",{onClick:n,className:"btn btn-success",children:"Close"})}function lbe({onConfirm:n,label:e="Slide to confirm",confirmThreshold:r=90,disabled:i=!1,icon:s}){const[o,a]=I.useState(0),[l,c]=I.useState(!1),u=I.useRef(null),f=I.useRef(null),d=p=>{i||(p.preventDefault(),c(!0))};I.useEffect(()=>{if(!l)return;const p=v=>{if(!u.current||i)return;const y=u.current.getBoundingClientRect(),b=v.clientX-y.left,w=y.width,k=Math.max(0,Math.min(100,b/w*100));a(k)},g=()=>{i||(o>=r?(n(),setTimeout(()=>{a(0)},200)):a(0),c(!1))};return document.addEventListener("mousemove",p),document.addEventListener("mouseup",g),()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",g)}},[l,o,r,n,i]);const h=o>=r;return m.jsxs("div",{ref:u,className:`slider-confirm-bar ${i?"disabled":""} ${l?"dragging":""}`,children:[m.jsx("div",{className:`slider-confirm-bar-progress ${h?"confirmed":"default"} ${l?"no-transition":""}`,style:{width:`${o}%`}}),m.jsx("div",{className:"slider-confirm-bar-label",children:h?"Release to confirm":e}),m.jsx("div",{ref:f,onMouseDown:d,className:`slider-confirm-bar-thumb ${i?"disabled":""} ${l?"dragging":""} ${h?"confirmed":""}`,style:{left:`${o}%`},children:s?m.jsx("span",{className:`slider-confirm-bar-thumb-icon ${h?"confirmed":""}`,children:s}):m.jsx("span",{className:`slider-confirm-bar-thumb-arrow ${h?"confirmed":""}`,children:""})})]})}function cbe({isOpen:n,value:e,min:r,max:i,onConfirm:s,onCancel:o}){const[a,l]=I.useState("");if(I.useEffect(()=>{n&&l(e.toString())},[n,e]),!n)return null;const c=y=>{const b=a==="0"?y:a+y;parseFloat(b)<=i&&l(b)},u=()=>{a.includes(".")||l(a+".")},f=()=>{a.length>1?l(a.slice(0,-1)):l("0")},d=()=>{l("0")},h=()=>{const y=parseFloat(a)||0,b=Math.max(r,Math.min(i,y));s(b)},p=parseFloat(a)||0,g=p>=r&&p<=i,v=m.jsx("div",{className:"modal-overlay",onClick:o,style:{zIndex:1e4},children:m.jsxs("div",{className:"modal-content number-pad-content",onClick:y=>y.stopPropagation(),children:[m.jsx("div",{className:"modal-header",children:m.jsx("h3",{children:"Enter Amount"})}),m.jsxs("div",{className:"modal-body",children:[m.jsxs("div",{className:"number-pad-display",children:[m.jsx("div",{className:"number-pad-display-value",children:xn(p)}),m.jsxs("div",{className:"number-pad-display-range",children:["Min: ",xn(r)," | Max: ",xn(i)]}),!g&&p>0&&m.jsxs("div",{className:"number-pad-display-error",children:["Value must be between ",xn(r)," and"," ",xn(i)]})]}),m.jsxs("div",{className:"number-pad-grid",children:[m.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"1"),children:"1"}),m.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"2"),children:"2"}),m.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"3"),children:"3"}),m.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"4"),children:"4"}),m.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"5"),children:"5"}),m.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"6"),children:"6"}),m.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"7"),children:"7"}),m.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"8"),children:"8"}),m.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"9"),children:"9"}),m.jsx("button",{type:"button",className:"number-pad-button",onClick:u,children:"."}),m.jsx("button",{type:"button",className:"number-pad-button",onClick:c.bind(null,"0"),children:"0"}),m.jsx("button",{type:"button",className:"number-pad-button number-pad-button-action",onClick:f,children:""})]}),m.jsxs("div",{className:"number-pad-actions",children:[m.jsx("button",{type:"button",className:"number-pad-action-button",onClick:d,children:"Clear"}),m.jsx("button",{type:"button",className:"number-pad-action-button number-pad-action-button-max",onClick:()=>{l(i.toString())},children:"Max"})]})]}),m.jsxs("div",{className:"modal-footer",children:[m.jsx("button",{onClick:o,className:"btn btn-secondary",children:"Cancel"}),m.jsx("button",{onClick:h,className:"btn btn-primary",disabled:!g,children:"Confirm"})]})]})});return typeof document<"u"?$l.createPortal(v,document.body):null}const XX=({level:n,index:e,isLast:r,depthPercent:i,formatPrice:s,formatSize:o})=>{const a=n.flash==="up"?"flash-up":n.flash==="down"?"flash-down-ask":"";return m.jsxs("div",{className:`orderbook-level ask ${a}`,style:{borderBottom:r?"none":void 0},children:[m.jsx("div",{className:"orderbook-depth-bar ask",style:{width:`${i}%`}}),m.jsx("div",{className:"orderbook-level-content ask",children:s(n.price)}),m.jsx("div",{className:"orderbook-level-content right",children:o(n.size)}),m.jsx("div",{className:"orderbook-depth-indicator",children:m.jsx("div",{className:"orderbook-depth-line ask"})})]})},QX=({level:n,index:e,isLast:r,depthPercent:i,formatPrice:s,formatSize:o})=>{const a=n.flash==="up"?"flash-up":n.flash==="down"?"flash-down-bid":"";return m.jsxs("div",{className:`orderbook-level bid ${a}`,style:{borderBottom:r?"none":void 0},children:[m.jsx("div",{className:"orderbook-depth-bar bid",style:{width:`${i}%`}}),m.jsx("div",{className:"orderbook-level-content bid",children:s(n.price)}),m.jsx("div",{className:"orderbook-level-content right",children:o(n.size)}),m.jsx("div",{className:"orderbook-depth-indicator",children:m.jsx("div",{className:"orderbook-depth-line bid"})})]})};function ube({baseURL:n,wsURL:e,marketId:r,maxDepth:i=iX,height:s=rX,authToken:o,walletAddress:a,deviceID:l}){var D,O;const{orderbook:c,loading:u,error:f,isConnected:d,wsError:h}=XM({baseURL:n,wsURL:e,marketId:r,maxDepth:i,authToken:o,walletAddress:a,deviceID:l}),p=I.useRef(null),g=I.useRef(null),v=I.useRef(null),y=I.useRef(0),b=I.useRef(0);I.useEffect(()=>{const P=c.asks.length!==y.current,A=c.bids.length!==b.current;if(!(!P&&!A))return y.current=c.asks.length,b.current=c.bids.length,v.current!==null&&cancelAnimationFrame(v.current),v.current=requestAnimationFrame(()=>{if(p.current&&P){const L=p.current;L.scrollTop=L.scrollHeight}if(g.current&&A){const L=g.current;L.scrollTop=0}v.current=null}),()=>{v.current!==null&&(cancelAnimationFrame(v.current),v.current=null)}},[c.asks.length,c.bids.length]);const w=c.asks.length>0?((D=c.asks[c.asks.length-1])==null?void 0:D.cumulative)??0:0,k=c.bids.length>0?((O=c.bids[c.bids.length-1])==null?void 0:O.cumulative)??0:0,_=I.useMemo(()=>Math.max(w,k),[w,k]),S=vv,C=xv,T=I.useCallback(P=>_===0?0:P/_*100,[_]);return u?m.jsx(ih,{message:"Loading orderbook..."}):f?m.jsx(sh,{error:f}):m.jsxs("div",{className:"layout-container",style:{height:s},children:[h&&(c.asks.length>0||c.bids.length>0)&&m.jsxs("div",{className:"orderbook-ws-warning",children:[m.jsx("img",{src:"/caution-icon.svg",alt:"Caution",className:"orderbook-ws-warning-icon"}),m.jsx("span",{className:"orderbook-ws-warning-text",children:h})]}),m.jsx(oh,{title:m.jsx(fA,{isConnected:d}),children:m.jsxs("div",{children:["Depth: ",i]})}),c.midPrice&&m.jsxs("div",{className:"orderbook-mid-price",children:[m.jsx("div",{className:"orderbook-mid-price-value",children:S(c.midPrice)}),c.spread!==void 0&&m.jsxs("div",{className:"orderbook-mid-price-spread",children:["Spread: ",S(c.spread)]})]}),m.jsxs("div",{className:"orderbook-content",children:[m.jsxs("div",{className:"orderbook-section",ref:p,children:[c.asks.map((P,A)=>{const L=T(P.cumulative);return m.jsx(XX,{level:P,index:A,isLast:A===c.asks.length-1,depthPercent:L,formatPrice:S,formatSize:C},`ask-${P.price}-${A}`)}),c.asks.length===0&&m.jsx(da,{message:"No ask orders"})]}),m.jsxs("div",{className:"orderbook-section bids",ref:g,children:[c.bids.map((P,A)=>{const L=T(P.cumulative);return m.jsx(QX,{level:P,index:A,isLast:A===c.bids.length-1,depthPercent:L,formatPrice:S,formatSize:C},`bid-${P.price}-${A}`)}),c.bids.length===0&&m.jsx(da,{message:"No bid orders"})]})]}),m.jsx(ZX,{totalBids:k,totalAsks:w})]})}const ZX=Ae.memo(({totalBids:n,totalAsks:e})=>{const r=n+e,i=r>0?`${(n/r*100).toFixed(0)}%`:"0%",s=r>0?`${(e/r*100).toFixed(0)}%`:"0%";return m.jsxs("div",{className:"orderbook-footer",children:[m.jsxs("div",{className:"orderbook-footer-legend",children:[m.jsx("div",{className:"orderbook-footer-bar bid"}),m.jsx("span",{className:"color-text-muted",children:i})]}),m.jsxs("div",{className:"orderbook-footer-legend",children:[m.jsx("div",{className:"orderbook-footer-bar ask"}),m.jsx("span",{className:"color-text-muted",children:s})]})]})});ZX.displayName="FooterSummary";const dbe=Ae.memo(ube);function fbe(n,e,r,i){const s=a=>{const l=1-a;return 3*l*l*a*n+3*l*a*a*r+a*a*a},o=a=>{const l=1-a;return 3*l*l*a*e+3*l*a*a*i+a*a*a};return a=>{if(a<=0)return 0;if(a>=1)return 1;let l=0,c=1,u=.5;for(let f=0;f<12;f++){const d=s(u);if(Math.abs(d-a)<1e-4)break;d<a?l=u:c=u,u=(l+c)/2}return o(u)}}function hbe({baseURL:n,wsURL:e,marketId:r,maxDepth:i=iX,height:s=rX,authToken:o,walletAddress:a,deviceID:l}){var H,X;const{orderbook:c,loading:u,error:f,isConnected:d,wsError:h}=XM({baseURL:n,wsURL:e,marketId:r,maxDepth:i,authToken:o,walletAddress:a,deviceID:l}),p=I.useRef(null),g=I.useRef(null),v=I.useRef(null),y=I.useRef(null),b=I.useRef(!1),w=I.useRef(null),k=I.useRef(null),_=I.useRef(!1),S=I.useRef(0),C=c.asks.length>0?((H=c.asks[c.asks.length-1])==null?void 0:H.cumulative)??0:0,T=c.bids.length>0?((X=c.bids[c.bids.length-1])==null?void 0:X.cumulative)??0:0,D=I.useMemo(()=>Math.max(C,T),[C,T]),O=vv,P=xv,A=I.useCallback(Y=>D===0?0:Y/D*100,[D]),L=I.useCallback((Y,W,R)=>{if(b.current)return;b.current=!0;const Z=R,J=W-Z,V=300,te=performance.now(),se=te+V,ye=fbe(.57,.4,.55,1.17),Re=Ke=>{if(Ke>=se){Y.scrollTop=Math.max(0,W),b.current=!1,S.current=performance.now(),y.current&&(cancelAnimationFrame(y.current),y.current=null);return}const Ie=Ke-te,Ee=Math.min(Ie/V,1),He=ye(Ee),nt=Z+J*He;Y.scrollTop=Math.max(0,nt),y.current=requestAnimationFrame(Re)};y.current=requestAnimationFrame(Re)},[]),B=I.useCallback((Y=0)=>{if(b.current||performance.now()-S.current<500||!p.current||!g.current)return;const Z=p.current,V=g.current.clientHeight;if(V===0)return;const te=V/2,se=20.83333;if(c.asks.length*se<=te||c.spread===void 0)return;if(!v.current){if(Y<3){k.current&&clearTimeout(k.current);const Ne=50*(Y+1);k.current=window.setTimeout(()=>{k.current=null,B(Y+1)},Ne)}return}const Re=v.current,Ke=Re.offsetTop,Ie=Re.offsetHeight;if(Ie===0){if(Y<3){k.current&&clearTimeout(k.current);const Ne=50*(Y+1);k.current=window.setTimeout(()=>{k.current=null,B(Y+1)},Ne)}return}const Ee=Ke+Ie/2,He=V/2,nt=Ee-He-se,z=Z.scrollTop;Math.abs(nt-z)>1&&L(Z,Math.max(0,nt),z)},[c.asks.length,c.spread,L]);I.useEffect(()=>{const Y=()=>{_.current&&(_.current=!1,B())};return window.addEventListener("mouseup",Y),()=>{window.removeEventListener("mouseup",Y)}},[B]),I.useEffect(()=>{if(!p.current||!g.current)return;const Y=requestAnimationFrame(()=>{requestAnimationFrame(()=>{B()})});return()=>{cancelAnimationFrame(Y),y.current&&(cancelAnimationFrame(y.current),y.current=null),w.current&&(clearTimeout(w.current),w.current=null),k.current&&(clearTimeout(k.current),k.current=null),b.current=!1}},[c.asks.length,c.bids.length,c.spread,D,B]);const F=I.useCallback(()=>{b.current&&y.current&&(cancelAnimationFrame(y.current),y.current=null,b.current=!1),w.current&&(clearTimeout(w.current),w.current=null)},[]),$=I.useCallback(Y=>{const W=Y.currentTarget,R=W.offsetWidth-W.clientWidth;if(R>0){const Z=W.getBoundingClientRect();Y.clientX-Z.left>W.clientWidth-R-5&&(_.current=!0,F())}},[F]),U=I.useCallback(()=>{_.current&&F()},[F]),N=I.useCallback(()=>{_.current&&(_.current=!1,B())},[B]),q=I.useCallback(()=>{F(),w.current&&clearTimeout(w.current),_.current||(w.current=window.setTimeout(()=>{w.current=null,B()},150))},[B,F]);return u?m.jsx(ih,{message:"Loading orderbook..."}):f?m.jsx(sh,{error:f}):m.jsxs("div",{className:"layout-container",style:{height:s},children:[h&&(c.asks.length>0||c.bids.length>0)&&m.jsxs("div",{className:"orderbook-ws-warning",children:[m.jsx("img",{src:"/caution-icon.svg",alt:"Caution",className:"orderbook-ws-warning-icon"}),m.jsx("span",{className:"orderbook-ws-warning-text",children:h})]}),m.jsx(oh,{title:m.jsx(fA,{isConnected:d}),children:m.jsxs("div",{children:["Depth: ",i]})}),m.jsx("div",{className:"orderbook-content",ref:g,children:m.jsxs("div",{className:"orderbook-section",ref:p,onScroll:q,onMouseDown:$,onMouseMove:U,onMouseUp:N,onMouseLeave:N,children:[c.asks.map((Y,W)=>{const R=A(Y.cumulative);return m.jsx(XX,{level:Y,index:W,isLast:W===c.asks.length-1&&c.bids.length===0,depthPercent:R,formatPrice:O,formatSize:P},`ask-${Y.price}-${W}`)}),c.spread!==void 0&&m.jsxs("div",{className:"orderbook-mid-price-spread",ref:v,children:["Spread: ",O(c.spread)]}),c.bids.map((Y,W)=>{const R=A(Y.cumulative);return m.jsx(QX,{level:Y,index:W,isLast:W===c.bids.length-1,depthPercent:R,formatPrice:O,formatSize:P},`bid-${Y.price}-${W}`)}),c.asks.length===0&&c.bids.length===0&&m.jsx(da,{message:"No orders"}),c.asks.length===0&&c.bids.length>0&&m.jsx(da,{message:"No ask orders"}),c.bids.length===0&&c.asks.length>0&&m.jsx(da,{message:"No bid orders"})]})}),m.jsx(JX,{totalBids:T,totalAsks:C})]})}const JX=Ae.memo(({totalBids:n,totalAsks:e})=>{const r=n+e,i=r>0?`${(n/r*100).toFixed(0)}%`:"0%",s=r>0?`${(e/r*100).toFixed(0)}%`:"0%";return m.jsxs("div",{className:"orderbook-footer",children:[m.jsxs("div",{className:"orderbook-footer-legend",children:[m.jsx("div",{className:"orderbook-footer-bar bid"}),m.jsx("span",{className:"color-text-muted",children:i})]}),m.jsxs("div",{className:"orderbook-footer-legend",children:[m.jsx("div",{className:"orderbook-footer-bar ask"}),m.jsx("span",{className:"color-text-muted",children:s})]})]})});JX.displayName="FooterSummary";const pbe=Ae.memo(hbe);function mbe({baseURL:n=su,wsURL:e=nX,marketId:r=Qhe,symbol:i,limit:s=Zhe,authToken:o,walletAddress:a,deviceID:l}){const{lastPrice:c,displayPrice:u,loading:f,error:d,isConnected:h,priceChange:p}=qx({baseURL:n,wsURL:e,marketId:r,symbol:i,limit:s,authToken:o,walletAddress:a,deviceID:l}),[g,v]=I.useState([]),[y,b]=I.useState(!1),w=I.useRef(null),k=I.useRef(!1),_=I.useRef(null),S=I.useCallback(async()=>{if(!w.current||!r){console.debug("[TradePrice] fetchRecentTrades skipped: missing client or marketId");return}if(k.current){console.debug("[TradePrice] fetchRecentTrades skipped: already fetching");return}console.debug("[TradePrice] Starting fetchRecentTrades"),k.current=!0,b(!0);try{const q=await w.current.getRecentTrades(r,20);if(q&&Array.isArray(q)&&q.length>0){const X=[...q].sort((Y,W)=>{const R=Yo(Y.timestamp);return Yo(W.timestamp)-R}).map(Y=>{const W=Yo(Y.timestamp),R=typeof Y.quantity=="string"?ot(Y.quantity):typeof Y.quantity=="number"?Y.quantity:0,Z=typeof Y.price=="string"?ot(Y.price):typeof Y.price=="number"?Y.price:0;return{time:W,size:R,price:Z,is_buyer_maker:!1}});v(X),console.debug("[TradePrice] fetchRecentTrades completed successfully")}else v([]),console.debug("[TradePrice] fetchRecentTrades: no trades returned")}catch(q){console.error("[TradePrice] Failed to fetch recent trades:",q),v([])}finally{console.debug("[TradePrice] fetchRecentTrades finished, clearing loading state"),b(!1),k.current=!1}},[r]);I.useEffect(()=>{if(!r){console.debug("[TradePrice] Initialization skipped: no marketId");return}console.debug("[TradePrice] Initializing trades fetch for marketId:",r),k.current=!1,b(!1),w.current=new Qn({baseURL:n});const q=setTimeout(()=>{w.current&&r&&!k.current?(console.debug("[TradePrice] Executing initial fetchRecentTrades"),S()):console.debug("[TradePrice] Initial fetch skipped:",{hasClient:!!w.current,hasMarketId:!!r,isFetching:k.current})},100);return()=>{console.debug("[TradePrice] Cleaning up trades fetch effect"),clearTimeout(q),k.current=!1,b(!1)}},[n,r]);const C=I.useRef(""),T=I.useRef(null),D=I.useCallback(()=>{const q=_.current;if(!q)return;const H=q.parentElement;if(!H)return;const X=q.textContent||"";if(!X)return;const Y=window.getComputedStyle(H),W=parseFloat(Y.paddingLeft)+parseFloat(Y.paddingRight),R=H.clientWidth-W;let Z=12,J=48,V=Z;const te=document.createElement("div");for(te.style.position="absolute",te.style.visibility="hidden",te.style.whiteSpace="nowrap",te.style.fontFamily=window.getComputedStyle(q).fontFamily,te.style.fontWeight=window.getComputedStyle(q).fontWeight,document.body.appendChild(te);Z<=J;){const ye=Math.floor((Z+J)/2);te.style.fontSize=`${ye}px`,te.textContent=X,te.offsetWidth<=R?(V=ye,Z=ye+1):J=ye-1}document.body.removeChild(te);const se=parseFloat(window.getComputedStyle(q).fontSize);Math.abs(se-V)>.5&&(q.style.fontSize=`${V}px`)},[]);I.useEffect(()=>{if(u==null)return;const q=Md(u);if(q===C.current)return;C.current=q,T.current!==null&&clearTimeout(T.current),T.current=window.setTimeout(()=>{D()},150);let H;const X=()=>{clearTimeout(H),H=window.setTimeout(()=>{T.current!==null&&clearTimeout(T.current),T.current=window.setTimeout(()=>{D()},150)},100)};return window.addEventListener("resize",X),()=>{T.current!==null&&clearTimeout(T.current),clearTimeout(H),window.removeEventListener("resize",X)}},[u,D]);const O=I.useCallback(q=>{if(!q||isNaN(q)||q<=0)return"Invalid";let H=q;H<9466848e5&&(H=H*1e3);const X=new Date(H);return isNaN(X.getTime())?"Invalid":X.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})},[]),P=I.useCallback(q=>q?"#51cf66":"#ff6b6b",[]),A=I.useCallback(q=>q?"BUY":"SELL",[]),L=I.useCallback(q=>q?"":"",[]);if(f)return m.jsx(ih,{message:"Loading trade price..."});if(d)return m.jsx(sh,{error:d});if(u==null)return m.jsx(da,{message:"No trade data available"});const B=c&&c.is_buyer_maker!==void 0,F=B?P(c.is_buyer_maker):"#888",$=B?A(c.is_buyer_maker):"N/A",U=B?L(c.is_buyer_maker):"",N=p==="up"?"flash-price-up":p==="down"?"flash-price-down":"";return m.jsxs("div",{className:"layout-container trade-price-container",children:[m.jsx(oh,{title:m.jsx(fA,{isConnected:h}),children:m.jsx("div",{children:"Last Trade Price"})}),m.jsxs("div",{className:`trade-price-main ${N}`,children:[m.jsx("div",{ref:_,className:"trade-price-value",style:{color:F},children:Md(u)}),m.jsxs("div",{className:"trade-price-side",style:{color:F},children:[m.jsx("span",{children:U}),m.jsx("span",{children:$})]})]}),m.jsx("div",{className:"trade-price-trades-table",children:y?m.jsx("div",{className:"message",children:"Loading trades..."}):g.length===0?m.jsx("div",{className:"message",children:"No trades available"}):m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Time"}),m.jsx("th",{className:"right",children:"Size"}),m.jsx("th",{className:"right",children:"Price"})]})}),m.jsx("tbody",{children:g.map(q=>{const H=q.is_buyer_maker?"#51cf66":"#ff6b6b";return m.jsxs("tr",{children:[m.jsx("td",{children:O(q.time)}),m.jsx("td",{className:"right",children:J0e(q.size)}),m.jsx("td",{className:"right price",style:{color:H},children:Md(q.price)})]},`${q.time}-${q.price}-${q.size}`)})})]})})]})}const gbe=Ae.memo(mbe),bbe=({...n})=>m.jsx(ome,{...n,className:"toaster",expand:!0,richColors:!1,closeButton:!1,toastOptions:{duration:4e3,classNames:{toast:"toast",title:"toast-title",description:"toast-description",actionButton:"toast-action-button",cancelButton:"toast-cancel-button",closeButton:"toast-close-button"}}}),ybe=async n=>{try{return await navigator.clipboard.writeText(n),!0}catch{try{const r=document.createElement("textarea");return r.value=n,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),!0}catch(r){return console.error("Failed to copy to clipboard:",r),!1}}},si=n=>({label:"Copy",onClick:async()=>{await ybe(n)?Ze.success("Error message copied to clipboard"):Ze.error("Failed to copy error message")}});function eQ(n){const e=n.useWebSocket!==!1,[r,i]=I.useState([]),[s,o]=I.useState(!0),[a,l]=I.useState(""),[c,u]=I.useState(0),[f,d]=I.useState(!1),h=I.useRef(null),p=I.useRef(null),g=I.useRef(0),v=I.useRef(!0),y=I.useRef(!1),b=I.useRef(n);b.current=n;const w=I.useCallback(C=>{const T=HM(C,ot),D=String(T.bucketId).trim();return(!D||D===""||D==="undefined"||D==="null")&&console.warn("[useBucketCollections] [transformBucket] Invalid bucketId detected:",D),T},[]),k=I.useCallback(async()=>{if(!h.current)return;const C=b.current;if(!C.walletAddress||C.walletAddress.trim()===""){u(0);return}try{const T=await h.current.getBalanceDecimal(C.walletAddress,"USDC"),D=Nt(T.available_balance);u(D)}catch(T){console.warn("Failed to fetch spot wallet balance (USDC):",T),u(0)}},[]),_=I.useCallback(async()=>{if(!h.current)return;const C=b.current;if(!C.walletAddress||C.walletAddress.trim()===""){l("Wallet address is required"),i([]),o(!1),v.current=!1;return}l(""),v.current&&o(!0);try{console.log("[useBucketCollections] [fetchCollections] Starting fetch...",{walletAddress:C.walletAddress,useWebSocket:e,isSubscribed:y.current}),k(),console.log("[useBucketCollections] [fetchCollections] Calling getBuckets API...");const T=await h.current.getBuckets(C.walletAddress);console.log("[useBucketCollections] [fetchCollections] Raw API response:",{response:T,responseType:typeof T,isArray:Array.isArray(T),responseLength:Array.isArray(T)?T.length:"N/A"});const D=Array.isArray(T)?T:[];console.log("[useBucketCollections] [fetchCollections] Buckets data after normalization:",{bucketsData:D,bucketsDataLength:D.length,bucketsDataTypes:D.map((A,L)=>({index:L,type:typeof A,hasBucketId:!!(A!=null&&A.bucket_id),bucketId:A==null?void 0:A.bucket_id}))}),console.log(`[useBucketCollections] [fetchCollections] About to transform ${D.length} buckets:`,D);const P=D.map(w).filter(A=>A.bucketId&&A.bucketId.trim()!==""&&A.status!=="dormant");i(P),(!e||!y.current)&&(v.current=!1,o(!1))}catch(T){const D=T instanceof Error?T.message:"Failed to load bucket collections";l(D),console.error("[useBucketCollections] [fetchCollections] Failed to fetch bucket collections:",{error:T,errorMessage:D,walletAddress:C.walletAddress,stack:T instanceof Error?T.stack:void 0}),(!e||!y.current)&&(v.current=!1,o(!1))}},[w,k,e]),S=I.useCallback(C=>{if(console.log("[useBucketCollections] [handleBucketsUpdate] WebSocket data received:",{data:C,hasBuckets:!!C.buckets,bucketsIsArray:Array.isArray(C.buckets),bucketsLength:Array.isArray(C.buckets)?C.buckets.length:0}),C.buckets&&Array.isArray(C.buckets)){console.log("[useBucketCollections] [handleBucketsUpdate] Transforming WebSocket buckets:",C.buckets);const T=C.buckets.map(w);console.log("[useBucketCollections] [handleBucketsUpdate] Transformed collections:",T);const D=T.filter(O=>O.bucketId&&O.bucketId.trim()!==""&&O.status!=="dormant");if(D.length!==T.length){const O=T.length-D.length,P=T.filter(L=>!L.bucketId||L.bucketId.trim()===""),A=T.filter(L=>L.bucketId&&L.bucketId.trim()!==""&&L.status==="dormant");console.warn(`[useBucketCollections] [handleBucketsUpdate] WebSocket: Filtered out ${O} collections (${P.length} with empty bucketId, ${A.length} with status "dormant")`,{filteredByBucketId:P,filteredByStatus:A})}console.log("[useBucketCollections] [handleBucketsUpdate] Setting collections from WebSocket:",{validCollectionsCount:D.length,validCollections:D}),i(O=>{if(console.log("[useBucketCollections] [handleBucketsUpdate] Previous collections:",{prevCount:O.length,prev:O}),O.length!==D.length)return D;const P=JSON.stringify(O),A=JSON.stringify(D);return P===A?O:D}),v.current&&(v.current=!1,o(!1))}},[w]);return I.useEffect(()=>{if(!n.walletAddress||n.walletAddress.trim()===""){o(!1),l("Wallet address is required"),i([]),p.current&&(p.current.disconnect(),p.current=null),g.current!==null&&(clearInterval(g.current),g.current=0);return}if(!n.wsURL||n.wsURL.trim()===""){o(!1),l("WebSocket URL is required"),i([]);return}const C=new Qn({baseURL:n.baseURL,sessionToken:n.authToken});if(h.current=C,v.current=!0,y.current=!1,console.log("[useBucketCollections] [useEffect] Initializing, calling fetchCollections..."),_(),e){const T=new Ta({url:n.wsURL,authToken:n.authToken,walletAddress:n.walletAddress,deviceID:n.deviceID});p.current=T;const D=()=>{if(T.isReadyForSubscriptions()&&!y.current)try{const P=n.marketId??"0",A=n.symbol??"USDC/USDC";T.subscribeMultiFeedSubChannel(P,A,"buckets",S),y.current=!0}catch(P){console.error("[useBucketCollections] Failed to subscribe to buckets:",P),P instanceof Error&&P.message.includes("Authentication")&&(y.current=!1)}else if(T.isConnected()&&!T.isReadyForSubscriptions()){const P=T.getAuthState();P==="pending"?console.debug("[useBucketCollections] Waiting for authentication to complete..."):P==="failed"&&(console.error("[useBucketCollections] Authentication failed - cannot subscribe to buckets"),l("Authentication failed. Please re-authenticate."))}};T.connect().then(()=>{d(!0),D()}).catch(P=>{console.error("Failed to connect WebSocket:",P),d(!1),v.current&&(v.current=!1,o(!1)),n.refreshInterval&&n.refreshInterval>0&&(g.current=window.setInterval(()=>{_()},n.refreshInterval))});const O=T.onStateChange(P=>{P===kt.Connected?(d(!0),y.current&&D(),g.current!==null&&(clearInterval(g.current),g.current=0)):(d(!1),P===kt.Disconnected&&n.refreshInterval&&n.refreshInterval>0&&g.current===null&&(g.current=window.setInterval(()=>{_()},n.refreshInterval)))});return()=>{O&&O(),p.current&&(p.current.unsubscribeMultiFeedSubChannel("buckets",S),p.current.disconnect(),p.current=null),g.current!==null&&(clearInterval(g.current),g.current=0)}}else return n.refreshInterval&&n.refreshInterval>0&&(g.current=window.setInterval(()=>{_()},n.refreshInterval)),()=>{g.current!==null&&(clearInterval(g.current),g.current=0)}},[n.baseURL,n.wsURL,n.authToken,n.walletAddress,n.deviceID,n.refreshInterval,n.marketId,n.symbol,e,S]),I.useEffect(()=>{console.log("[useBucketCollections] [useEffect] Hook state changed, returning:",{collectionsCount:r.length,collections:r,loading:s,error:a,spotWalletBalance:c})},[r,s,a,c]),{collections:r,loading:s,error:a,refresh:_,spotWalletBalance:c,isConnected:f}}const vbe=I.forwardRef(function({baseURL:e=su,wsURL:r=nX,mnemonic:i=Jhe,marketId:s,marketSymbol:o,selectedBucketBalance:a,selectedBucketId:l,onLeverageClick:c,authToken:u,walletAddress:f},d){const{selectedMarketId:h,selectedMarketSymbol:p}=Ul({baseURL:e,autoFetchMarkets:!0}),g=s||h||"",v=o||p||"Market",{lastPrice:y}=qx({baseURL:e,wsURL:r,marketId:g}),b=(y==null?void 0:y.price)||0,w=I.useRef(0),{collections:k,spotWalletBalance:_}=eQ({baseURL:e,wsURL:r,walletAddress:f||"",authToken:u||"",useWebSocket:!!f&&!!u}),S=I.useMemo(()=>!l||!k.length?null:k.find(Ve=>Ve.bucketId===l)||null,[k,l]),{orderType:C,setOrderType:T,fundPercent:D,sizeInput:O,price:P,leverage:A,positionMode:L,marginMode:B,availableBalance:F,currentPrice:$,isReady:U,loading:N,result:q,setFundPercent:H,setSizeInput:X,setPrice:Y,setMarginMode:W,setLeverage:R,placeBuyOrder:Z,placeSellOrder:J,calculateValue:V,calculateMargin:te,calculateSizeUSD:se,getOrderPrice:ye,getAvailableTradeAmount:Re}=Ope({baseURL:e,mnemonic:i,marketId:g,selectedBucketBalance:a,tradePrice:b}),Ke=I.useMemo(()=>ye(),[ye,C,P,$]),Ie=I.useMemo(()=>Re(),[Re,F,A]),Ee=I.useMemo(()=>V(),[V,O,D,F,Ke,A]),He=I.useMemo(()=>te(),[te,A,Ee]),nt=I.useMemo(()=>ot(Ee),[Ee]),z=I.useMemo(()=>ot(He),[He]),ve=I.useMemo(()=>({minimumFractionDigits:Fa,maximumFractionDigits:spe}),[]),Ne=I.useMemo(()=>$.toFixed(Fa),[$]);I.useMemo(()=>l?`Available in ${l}`:"Available to Trade",[l]);const ge=I.useMemo(()=>{const Ve=k.reduce((K,re)=>K+re.totalEquity,0);return _+Ve},[k,_]),$e=I.useMemo(()=>ge.toLocaleString("en-US",ve),[ge,ve]),ue=I.useMemo(()=>_.toLocaleString("en-US",ve),[_,ve]),ee=I.useMemo(()=>S?S.nominalValue.toLocaleString("en-US",ve):"--",[S,ve]),le=I.useMemo(()=>S?S.nominalValue.toLocaleString("en-US",ve):"--",[S,ve]),xe=I.useMemo(()=>S?S.unrealizedPnL.toLocaleString("en-US",ve):"--",[S,ve]),pe=I.useMemo(()=>S?(S.crossMarginRatio*100).toFixed(Fa)+"%":"--",[S]),Le=I.useMemo(()=>S?S.maintenanceMargin.toLocaleString("en-US",ve):"--",[S,ve]),ce=I.useMemo(()=>S?`${S.leverage.toFixed(Fa)}x`:"--",[S]),Oe=I.useCallback(()=>{W(B===Vm?ope:Vm)},[B,W]),je=I.useCallback(()=>{T($P)},[T]),be=I.useCallback(()=>{T(c_)},[T]),de=I.useCallback(()=>{H(Math.min(a_,D+l_))},[D,H]),me=I.useCallback(()=>{H(Math.max(db,D-l_))},[D,H]),he=I.useCallback(Ve=>{const K=parseInt(Ve.target.value);H(K)},[H]),fe=I.useCallback(Ve=>{Y(Ve.target.value)},[Y]),De=I.useCallback(Ve=>{const K=parseFloat(Ve.target.value);X(isNaN(K)?0:K)},[X]),Ye=I.useCallback(()=>{const Ve=Ze.loading("Submit transaction...",{description:"Placing buy order"});w.current=typeof Ve=="number"?Ve:0,Z()},[Z]),Ge=I.useCallback(()=>{const Ve=Ze.loading("Submit transaction...",{description:"Placing sell order"});w.current=typeof Ve=="number"?Ve:0,J()},[J]);return I.useImperativeHandle(d,()=>({leverage:A,setLeverage:R,calculateMaxRatio:Ve=>{const K=se();ye();const re=K;return F>0&&re>0?(re/F).toFixed(Fa):Ve.toFixed(Fa)}}),[A,R,se,ye,F]),I.useEffect(()=>{if(q)if(w.current!==0&&(Ze.dismiss(w.current),w.current=0),q.success){const Ve=q.orderId?`Order ID: ${q.orderId}`:q.message||"Order placed successfully";Ze.success("Order Placed Successfully",{description:Ve})}else q.error&&Ze.error("Order Failed",{description:q.error,action:si(q.error||"")})},[q]),m.jsxs("div",{className:"component",children:[m.jsx("h2",{children:v}),m.jsxs("div",{className:"trade-op-config",children:[m.jsx("div",{className:"trade-op-badge",children:m.jsx("span",{className:"trade-op-badge-label",children:L})}),m.jsxs("div",{className:"trade-op-badge",onClick:Oe,style:{cursor:"pointer"},children:[m.jsx("span",{className:"trade-op-badge-label",children:B}),m.jsx("span",{className:"trade-op-info-icon",children:"i"})]}),m.jsxs("div",{className:"trade-op-badge",onClick:c,style:{cursor:"pointer"},children:[m.jsxs("span",{className:"trade-op-badge-label",children:[A,"x"]}),m.jsx("span",{className:"trade-op-info-icon",children:"i"})]})]}),m.jsxs("div",{className:"trade-op-order-type-selector",children:[m.jsx("button",{onClick:je,className:`btn-toggle ${C===$P?"active":""}`,children:"MARKET"}),m.jsx("button",{onClick:be,className:`btn-toggle ${C===c_?"active":""}`,children:"LIMIT"})]}),C===c_&&m.jsx("div",{className:"trade-op-form-group",children:m.jsxs("div",{className:"trade-op-form-row",children:[m.jsx("label",{htmlFor:"price",className:"trade-op-label",children:"Price:"}),m.jsx("input",{id:"price",type:"number",value:P,onChange:fe,placeholder:Ne,step:tpe,min:o4})]})}),m.jsxs("div",{className:"trade-op-form-group",children:[m.jsxs("div",{className:"trade-op-form-row",style:{marginBottom:"0.5rem"},children:[m.jsx("label",{htmlFor:"size",className:"trade-op-label",children:"Size:"}),m.jsxs("div",{className:"trade-op-size-controls",children:[m.jsx("input",{id:"size",type:"number",step:"any",value:O===0?"":O,onChange:De,placeholder:"0",min:o4,max:Ie,className:"trade-op-input"}),m.jsxs("div",{className:"trade-op-size-buttons",children:[m.jsx("button",{onClick:de,className:"btn-small",children:""}),m.jsx("button",{onClick:me,className:"btn-small",children:""})]})]})]}),m.jsx("input",{type:"range",min:db,max:a_,value:D,onChange:he,step:l_,style:{width:"100%","--slider-progress":`${(D-db)/(a_-db)*100}%`},className:"filled-slider"}),m.jsxs("div",{className:"trade-op-slider-labels",children:[m.jsx("span",{children:"0"}),m.jsx("span",{children:"20"}),m.jsx("span",{children:"40"}),m.jsx("span",{children:"60"}),m.jsx("span",{children:"80"}),m.jsx("span",{children:"100"})]})]}),m.jsxs("div",{className:"trade-op-action-panel",children:[m.jsxs("div",{children:[m.jsx("div",{className:"trade-op-panel-title buy",children:"LONG"}),m.jsxs("div",{className:"trade-op-panel-size",children:[O.toFixed(3),"/100.000"]}),m.jsx("button",{onClick:Ye,disabled:N||!U||Ee<=0,className:"btn-buy",children:N?"PLACING...":"BUY LONG"}),m.jsxs("div",{className:"trade-op-panel-details",children:[m.jsxs("div",{children:["Value ",nt.toFixed(2)]}),m.jsxs("div",{children:["Margin ",z.toFixed(2)]})]})]}),m.jsxs("div",{children:[m.jsx("div",{className:"trade-op-panel-title sell",children:"SHORT"}),m.jsxs("div",{className:"trade-op-panel-size",children:[O.toFixed(3),"/100.000"]}),m.jsx("button",{onClick:Ge,disabled:N||!U||Ee<=0,className:"btn-sell",children:N?"PLACING...":"SELL SHORT"}),m.jsxs("div",{className:"trade-op-panel-details",children:[m.jsxs("div",{children:["Value ",nt.toFixed(Fa)]}),m.jsxs("div",{children:["Margin ",z.toFixed(Fa)]})]})]})]}),m.jsxs("div",{className:"trade-op-info-panel",children:[m.jsxs("div",{className:"trade-op-info-row",children:[m.jsx("span",{className:"trade-op-info-label",children:"Account Equity:"}),m.jsxs("span",{className:"trade-op-info-value",children:[$e," USDC"]})]}),m.jsxs("div",{className:"trade-op-info-row",children:[m.jsx("span",{className:"trade-op-info-label",children:"Spot:"}),m.jsxs("span",{className:"trade-op-info-value",children:[ue," USDC"]})]}),m.jsxs("div",{className:"trade-op-info-row",children:[m.jsxs("span",{className:"trade-op-info-label",children:[l||"Bucket",":"]}),m.jsxs("span",{className:"trade-op-info-value",children:[ee," USDC"]})]}),m.jsx("div",{className:"trade-op-info-row",children:m.jsxs("span",{className:"trade-op-info-label",children:["Bucket Overview: ",l||"--"]})}),m.jsxs("div",{className:"trade-op-info-row",children:[m.jsx("span",{className:"trade-op-info-label",children:"Balance:"}),m.jsxs("span",{className:"trade-op-info-value",children:[le," USDC"]})]}),m.jsxs("div",{className:"trade-op-info-row",children:[m.jsx("span",{className:"trade-op-info-label",children:"Unrealized PNL:"}),m.jsxs("span",{className:"trade-op-info-value",children:[xe," USDC"]})]}),m.jsxs("div",{className:"trade-op-info-row",children:[m.jsx("span",{className:"trade-op-info-label",children:"Cross Margin Ratio:"}),m.jsx("span",{className:"trade-op-info-value",children:pe})]}),m.jsxs("div",{className:"trade-op-info-row",children:[m.jsx("span",{className:"trade-op-info-label",children:"Maintenance Margin:"}),m.jsxs("span",{className:"trade-op-info-value",children:[Le," USDC"]})]}),m.jsxs("div",{className:"trade-op-info-row",children:[m.jsx("span",{className:"trade-op-info-label",children:"Cross Account Leverage:"}),m.jsx("span",{className:"trade-op-info-value",children:ce})]})]})]})});function tQ(n){const e=n.useWebSocket!==!1,[r,i]=I.useState([]),[s,o]=I.useState(!0),[a,l]=I.useState(null),[c,u]=I.useState(!1),f=I.useRef(null),d=I.useRef(null),h=I.useRef(!1),p=I.useRef(!1),g=I.useRef(n.walletAddress),v=I.useRef(n);v.current=n;const y=I.useCallback(_=>{const S=_.side==="ORDER_SIDE_BUY"?"BUY":"SELL",C=_.status||"PENDING";let T=C;C.includes("ORDER_STATUS_")&&(T=C.replace("ORDER_STATUS_",""));const D=_.time_in_force;let O=D;D&&D.includes("TIME_IN_FORCE_")&&(O=D.replace("TIME_IN_FORCE_",""));const P=N=>Nt(N),A=P(_.quantity),L=P(_.price),B=P(_.filled_quantity),F=A-B,U=(N=>{if(N==null||N==="")return Date.now();if(typeof N=="number")return N;const q=parseFloat(String(N));return isNaN(q)?Date.now():q})(_.timestamp);return{id:_.order_id,orderId:_.order_id,marketId:_.market_id||_.bucket_id,symbol:`Market-${_.market_id||_.bucket_id||"N/A"}`,side:S,type:_.type,quantity:A,price:L,filledQuantity:B,remainingQuantity:F,status:T,timeInForce:O,createdAt:U,updatedAt:U}},[]),b=I.useCallback(async()=>{if(!f.current)return;const _=v.current;if(!_.walletAddress||_.walletAddress.trim()===""){l(null),i([]),o(!1);return}l(null);try{const C=(await Ux(YM.http,()=>f.current.getOrders(_.walletAddress))).orders||[];if(C.length>0){const T=C.map(y);i(D=>{if(D.length!==T.length)return T;const O=JSON.stringify(D),P=JSON.stringify(T);return O===P?D:T})}else i(T=>T.length===0?T:[])}catch(S){const C=S instanceof Error?S.message:"Failed to load orders";l(C),console.error("Failed to fetch orders after retries:",S)}finally{o(!1)}},[y]),w=I.useCallback(_=>_.orderId,[]),k=I.useCallback(_=>{if(!_||typeof _!="object"||!("order_id"in _)||typeof _.order_id!="string"||_.order_id.length===0){console.warn("Received invalid order data, skipping:",_);return}const S=y(_),C=w(S);if(!C){console.warn("Received order without ID, skipping:",S);return}i(T=>{const D=new Map;T.forEach(F=>{const $=w(F);$&&D.set($,F)});const O=S.status.toUpperCase();O==="FILLED"||O==="CANCELLED"||O==="REJECTED"||O==="EXPIRED"||O==="CLOSED"||O==="DONE"?D.delete(C):D.set(C,S);const A=Array.from(D.values()).filter(F=>w(F)!==void 0);if(T.length!==A.length)return A;const L=JSON.stringify(T),B=JSON.stringify(A);return L===B?T:A})},[y,w]);return I.useEffect(()=>{if(n.walletAddress!==g.current&&(p.current=!1,g.current=n.walletAddress),!n.walletAddress||n.walletAddress.trim()===""){o(!1),l(null),i([]),d.current&&(d.current.disconnect(),d.current=null),p.current=!1;return}const _=new Qn({baseURL:n.baseURL,sessionToken:n.authToken});if(f.current=_,p.current||b().finally(()=>{p.current=!0}),e&&n.wsURL){const S=new Ta({url:n.wsURL,authToken:n.authToken,walletAddress:n.walletAddress,deviceID:n.deviceID});d.current=S;const C=()=>{if(S.isReadyForSubscriptions()&&!h.current)try{const D=n.marketId??"0",O=n.symbol??"USDC/USDC";S.subscribeMultiFeedSubChannel(D,O,"orders",k),h.current=!0}catch(D){console.error("[usePendingOrders] Failed to subscribe to orders:",D),D instanceof Error&&D.message.includes("Authentication")&&(h.current=!1)}else if(S.isConnected()&&!S.isReadyForSubscriptions()){const D=S.getAuthState();D==="pending"?console.debug("[usePendingOrders] Waiting for authentication to complete..."):D==="failed"&&console.error("[usePendingOrders] Authentication failed - cannot subscribe to orders")}};S.connect().then(()=>{u(!0),C()}).catch(D=>{console.error("Failed to connect WebSocket:",D),u(!1)});const T=S.onStateChange(D=>{D===kt.Connected?(u(!0),h.current&&C()):(D===kt.Disconnected||D===kt.Reconnecting)&&(u(!1),h.current=!1)});return()=>{T&&T(),d.current&&(d.current.unsubscribeMultiFeedSubChannel("orders",k),d.current.disconnect())}}else return()=>{}},[n.baseURL,n.wsURL,n.authToken,n.walletAddress,n.deviceID,n.refreshInterval,n.marketId,n.symbol,e]),{orders:r,loading:s,error:a,isConnected:c,refresh:b}}function xbe({baseURL:n=su,wsURL:e,authToken:r,walletAddress:i,mnemonic:s,height:o=Xhe,refreshInterval:a=KM}){const{orders:l,loading:c,error:u,isConnected:f,refresh:d}=tQ({baseURL:n,wsURL:e,authToken:r,walletAddress:i,refreshInterval:a}),h=I.useRef(null),p=I.useRef(0),[g,v]=I.useState(null),{getSymbolByMarketId:y}=Ul({baseURL:n,sessionToken:r,autoFetchMarkets:!1}),[b,w]=I.useState($a),[k,_]=I.useState(null),[S,C]=I.useState(Od),T=I.useMemo(()=>l.filter(N=>{const q=N.status.toUpperCase(),H=q.startsWith("ORDER_STATUS_")?q:`ORDER_STATUS_${q}`;return b===$a?_4.some(X=>q===X.toUpperCase()||H===X.toUpperCase()):!_4.some(X=>q===X.toUpperCase()||H===X.toUpperCase())}),[l,b]),D=I.useMemo(()=>k?[...T].sort((N,q)=>{let H=0,X=0;switch(k){case m4:H=N.symbol,X=q.symbol;break;case g4:H=N.side,X=q.side;break;case b4:H=N.quantity,X=q.quantity;break;case y4:H=N.price,X=q.price;break;case v4:H=N.filledQuantity||0,X=q.filledQuantity||0;break;case x4:H=N.status,X=q.status;break}if(typeof H=="string"&&typeof X=="string")return S===pl?H.localeCompare(X):X.localeCompare(H);const Y=Number(H),W=Number(X);return isNaN(Y)||isNaN(W)?0:S===pl?Y-W:W-Y}):T,[T,k,S]),O=N=>{k===N?C(S===pl?Od:pl):(_(N),C(Od))},P=N=>N.side,A=nbe,L=rbe,B=N=>{const q=(N||"").toUpperCase(),H={ORDER_STATUS_PENDING:{short:"P",full:"Pending",color:f_},PENDING:{short:"P",full:"Pending",color:f_},ORDER_STATUS_OPEN:{short:"O",full:"Open",color:h_},OPEN:{short:"O",full:"Open",color:h_},NEW:{short:"N",full:"New",color:h_},ORDER_STATUS_FILLED:{short:"F",full:"Filled",color:S4},FILLED:{short:"F",full:"Filled",color:S4},ORDER_STATUS_CANCELED:{short:"C",full:"Canceled",color:p_},CANCELED:{short:"C",full:"Canceled",color:p_},CANCELLED:{short:"C",full:"Canceled",color:p_},ORDER_STATUS_REJECTED:{short:"R",full:"Rejected",color:k4},REJECTED:{short:"R",full:"Rejected",color:k4},PARTIALLY_FILLED:{short:"PF",full:"Partially Filled",color:f_}};if(H[q])return H[q];const X=q.startsWith("ORDER_STATUS_")?q:`ORDER_STATUS_${q}`;return H[X]?H[X]:{short:"?",full:N||Ipe,color:ype}},F=N=>N===Km||N==="BUY"?vpe:xpe,$=N=>!N||typeof N!="string"?Ppe:N.replace("ORDER_TYPE_",""),U=async N=>{var Y;const q=N.orderId,H=N.marketId;if(!q){const W="Cannot cancel order without a valid order ID.";Ze.error("Order ID is missing",{description:W,action:si(W)});return}if(!H){const W="Cannot cancel order without a valid market ID.";Ze.error("Market ID is missing",{description:W,action:si(W)});return}if(!s){const W=`Please provide the 'mnemonic' prop to the PendingOrders component. Order ID: ${q}`;Ze.error("Mnemonic required",{description:W,duration:5e3,action:si(W)});return}if(typeof s!="string"||s.trim()===""){const W=`The mnemonic prop is empty or invalid. Please provide a valid mnemonic. Order ID: ${q}`;Ze.error("Invalid mnemonic",{description:W,duration:5e3,action:si(W)});return}if(g){Ze.info("Cancellation in progress",{description:"Please wait for the current cancellation to complete."});return}v(q);const X=Ze.loading("Canceling order...",{description:`Canceling order ${q}`});p.current=typeof X=="number"?X:0;try{h.current||(h.current=new zl({baseURL:n,mnemonic:s.trim()}),await h.current.initialize());const W=await h.current.cancelOrder({orderId:q,marketId:H}),R=(W==null?void 0:W.success)===!0||(W==null?void 0:W.result)==="success"||W&&!W.error&&!W.message;if(p.current!==0&&(Ze.dismiss(p.current),p.current=0),R)Ze.success("Order canceled successfully",{description:`Order ${q} has been canceled.`}),d&&await d();else{const Z=(W==null?void 0:W.error)||(W==null?void 0:W.message)||((Y=W==null?void 0:W.response)==null?void 0:Y.error)||"Failed to cancel order";throw new Error(Z)}}catch(W){p.current!==0&&(Ze.dismiss(p.current),p.current=0);const Z=`${W instanceof Error?W.message:"Unknown error occurred"}. Order ID: ${q}`;Ze.error("Failed to cancel order",{description:Z,duration:6e3,action:si(Z)})}finally{v(null)}};return!i||i.trim()===""?m.jsx(KX,{message:Tpe}):c?m.jsx(ih,{message:wpe}):u?m.jsx(sh,{error:u}):m.jsxs("div",{className:"layout-container",style:{height:o},children:[m.jsxs(oh,{title:b===$a?kpe:Cpe,children:[m.jsxs("div",{className:"btn-tab",children:[m.jsx("span",{style:{fontSize:"0.7rem"},children:""}),m.jsx("span",{children:"Current Symbol"})]}),m.jsxs("div",{onClick:()=>w(b===$a?w4:$a),className:`btn-tab ${b===w4?"active":""}`,children:[m.jsx("img",{src:"/transfer-net.svg"}),m.jsx("span",{children:b===$a?Dpe:Epe})]}),!f&&m.jsxs("div",{onClick:async()=>{d&&await d()},className:"btn-tab",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},title:"WebSocket disconnected - Click to refresh orders",children:[m.jsx("img",{src:"/caution-icy.svg",alt:"Warning",style:{width:"1rem",height:"1rem"}}),m.jsx("span",{children:"Refresh"})]})]}),m.jsxs("div",{className:"table-container shrinkable",children:[m.jsxs("div",{className:"table-header",style:{gridTemplateColumns:C4},children:[m.jsx(ir,{field:m4,currentSortField:k,sortDirection:S,onSort:O,children:"Symbol"}),m.jsx(ir,{field:g4,currentSortField:k,sortDirection:S,onSort:O,children:"Side"}),m.jsx(VP,{center:!0,children:"Type"}),m.jsx(ir,{field:b4,currentSortField:k,sortDirection:S,onSort:O,children:"Quantity"}),m.jsx(ir,{field:y4,currentSortField:k,sortDirection:S,onSort:O,children:"Price"}),m.jsx(ir,{field:v4,currentSortField:k,sortDirection:S,onSort:O,children:"Filled"}),m.jsx(ir,{field:x4,currentSortField:k,sortDirection:S,onSort:O,children:"Status"}),m.jsx(VP,{center:!0,children:"Actions"})]}),D.length===0?m.jsx(da,{message:b===$a?_pe:Spe}):D.map((N,q)=>{const H=P(N),X=F(H),{short:Y,full:W,color:R}=B(N.status),Z=y(N.marketId)||N.symbol||`m-${N.marketId}`;return m.jsxs("div",{className:`table-row ${q%2===0?"even":""}`,style:{gridTemplateColumns:C4},children:[m.jsx("div",{className:"table-cell primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:m.jsx("span",{children:Z})}),m.jsx("div",{className:"table-cell center",style:{color:X,fontWeight:500},children:H}),m.jsx("div",{className:"table-cell center",children:$(N.type)}),m.jsx("div",{className:"table-cell right monospace",children:L(N.quantity)}),m.jsx("div",{className:"table-cell right monospace",children:A(N.price)}),m.jsxs("div",{className:"table-cell right monospace",children:[L(N.filledQuantity)," /"," ",L(N.quantity)]}),m.jsx("div",{className:"table-cell center",style:{color:R,fontWeight:600,cursor:"help",fontSize:"0.9rem"},title:W,children:Y}),m.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"},children:b===$a?m.jsxs(m.Fragment,{children:[(!s||s.trim()==="")&&m.jsx("span",{style:{fontSize:"0.7rem",color:"#ffc107",cursor:"help"},title:"Mnemonic required to cancel orders",children:""}),m.jsx(obe,{onClick:J=>{J.preventDefault(),J.stopPropagation(),!s||s.trim()===""||g===N.orderId||!!g||U(N)},disabled:!s||s.trim()===""||g===N.orderId||!!g})]}):m.jsx("span",{className:"color-text-dim",children:""})})]},`order-${N.orderId}`)})]})]})}const wbe=Ae.memo(xbe);function _be({baseURL:n=su,authToken:e,walletAddress:r,mnemonic:i,height:s=Khe,refreshInterval:o=KM,selectedBucketId:a=null}){const{positions:l,loading:c,error:u,isConnected:f,refresh:d}=sX({baseURL:n,authToken:e,walletAddress:r,refreshInterval:o}),h=I.useRef(null);I.useEffect(()=>{if(!i||!n){h.current=null;return}const T=new zl({baseURL:n,mnemonic:i});T.initialize().then(()=>{h.current=T}).catch(D=>{const O=D instanceof Error?D.message:"Failed to initialize exchange client";console.error("Failed to initialize ExchangeClient:",D),Ze.error("Exchange client initialization failed",{description:O,action:si(O)}),h.current=null})},[i,n]);const[p,g]=I.useState(u_),[v,y]=I.useState(null),[b,w]=I.useState(Od),k=I.useMemo(()=>{let T=[...l];return p===fb&&a&&(T=T.filter(D=>{var A;const O=(A=D.bucketId)==null?void 0:A.toString(),P=a.toString();return O===P})),v?T.sort((D,O)=>{let P=0,A=0;switch(v){case a4:P=D.symbol||"",A=O.symbol||"";break;case l4:try{P=D.leverage?ot(D.leverage):0,A=O.leverage?ot(O.leverage):0}catch{P=0,A=0}break;case c4:P=D.size||0,A=O.size||0;break;case u4:P=D.liquidationPrice||0,A=O.liquidationPrice||0;break;case d4:P=D.unrealizedPnL||0,A=O.unrealizedPnL||0;break;case f4:P=D.entryPrice||0,A=O.entryPrice||0;break;case h4:P=D.margin||0,A=O.margin||0;break}if(typeof P=="string"&&typeof A=="string")return b===pl?P.localeCompare(A):A.localeCompare(P);const L=Number(P),B=Number(A);return b===pl?L-B:B-L}):T},[l,v,b,a,p]),_=T=>{v===T?w(b===pl?Od:pl):(y(T),w(Od))},S=I.useRef(0),C=async T=>{if(!i){const O="Please provide the 'mnemonic' prop to enable position closing.";Ze.error("Mnemonic required",{description:O,action:si(O)});return}if(!h.current){const O="Please wait for the exchange client to initialize.";Ze.error("Exchange client not ready",{description:O,action:si(O)});return}const D=Ze.loading("Closing position...",{description:`Closing ${T.side} position for ${T.symbol} (Size: ${xv(T.size)})`});S.current=typeof D=="number"?D:0;try{const O=await h.current.closePosition({marketId:T.marketId,marketPrice:T.markPrice,quantity:T.size});S.current!==0&&(Ze.dismiss(S.current),S.current=0),Ze.success("Position closed successfully",{description:`${T.side} position for ${T.symbol} has been closed. tx: ${O.txhash}`,duration:5e3}),d&&await d()}catch(O){S.current!==0&&(Ze.dismiss(S.current),S.current=0);const P=O instanceof Error?O.message:"Unknown error occurred";Ze.error("Failed to close position",{description:P,duration:6e3,action:si(P)}),console.error("Failed to close position:",O)}};return c?m.jsx(ih,{message:upe}):u?m.jsx(sh,{error:u}):m.jsxs("div",{className:"layout-container",style:{height:s},children:[m.jsxs(oh,{title:`${fpe} ${p===fb&&a?`(Bucket ${a})`:""}`,children:[m.jsx("div",{onClick:()=>{g(u_),y(null)},className:`btn-tab ${p===u_?"active":""}`,children:hpe}),m.jsxs("div",{onClick:()=>{g(fb),y(null)},className:`btn-tab ${p===fb?"active":""}`,children:[m.jsx("img",{src:"/bucket-g.svg"}),m.jsx("span",{children:ppe})]}),!f&&m.jsxs("div",{onClick:async()=>{d&&await d()},className:"btn-tab",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},title:"WebSocket disconnected - Click to refresh positions",children:[m.jsx("img",{src:"/caution-icy.svg",alt:"Warning",style:{width:"1rem",height:"1rem"}}),m.jsx("span",{children:"Refresh"})]})]}),m.jsxs("div",{className:"table-container",children:[m.jsxs("div",{className:"table-header",style:{gridTemplateColumns:p4},children:[m.jsx(ir,{field:a4,currentSortField:v,sortDirection:b,onSort:_,left:!0,children:"Symbol"}),m.jsx(ir,{field:l4,currentSortField:v,sortDirection:b,onSort:_,children:"Leverage"}),m.jsx(ir,{field:c4,currentSortField:v,sortDirection:b,onSort:_,children:"Size"}),m.jsx(ir,{field:u4,currentSortField:v,sortDirection:b,onSort:_,children:"Liq. Price"}),m.jsx(ir,{field:d4,currentSortField:v,sortDirection:b,onSort:_,children:"P/L"}),m.jsx(ir,{field:f4,currentSortField:v,sortDirection:b,onSort:_,children:"Entry Price"}),m.jsx(ir,{field:h4,currentSortField:v,sortDirection:b,onSort:_,children:"Margin"}),m.jsx(VP,{center:!0,children:"Actions"})]}),k.length===0?m.jsx(da,{message:dpe}):k.map((T,D)=>{const O=T.side===Km,P=(T.unrealizedPnL||0)>=0?lpe:cpe,A=ibe(T.leverage,d_);return m.jsxs("div",{className:`table-row ${D%2===0?"even":""}`,style:{gridTemplateColumns:p4},children:[m.jsx("div",{className:"table-cell primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:m.jsx("span",{children:T.symbol})}),m.jsxs("div",{className:"color-buy",style:{fontWeight:500},children:[O?Km:BP," ",A===d_?d_:`${A}x`," ","@ ",T.marginMode||Vm]}),m.jsx("div",{className:"color-buy right monospace",children:xv(T.size)}),m.jsx("div",{className:"table-cell right monospace",children:vv(T.liquidationPrice)}),m.jsx("div",{className:"table-cell right monospace",style:{color:P,fontWeight:500},children:tbe(T.unrealizedPnL)}),m.jsx("div",{className:"table-cell right monospace",children:vv(T.entryPrice)}),m.jsx("div",{className:"table-cell right monospace",children:ebe(T.margin)}),m.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:m.jsx(abe,{onClick:()=>C(T)})})]},`position-${T.marketId}-${D}`)})]})]})}const Sbe=Ae.memo(_be);function kbe({isOpen:n,currentLeverage:e,tempLeverage:r,maxRatio:i,onLeverageChange:s,onConfirm:o,onCancel:a}){if(!n)return null;const l=m.jsx("div",{className:"modal-overlay",onClick:a,children:m.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[m.jsx("div",{className:"modal-header",children:m.jsx("h3",{children:"Select Leverage"})}),m.jsxs("div",{className:"modal-body",children:[m.jsxs("div",{className:"leverage-max-ratio",children:[m.jsx("div",{className:"leverage-max-ratio-label",children:"Maximum Ratio"}),m.jsxs("div",{className:"leverage-max-ratio-value",children:[i,"x"]})]}),m.jsxs("div",{className:"leverage-slider-container",children:[m.jsx("input",{type:"range",min:o_,max:s4,value:r,onChange:c=>s(parseInt(c.target.value)),className:"filled-slider",style:{"--slider-progress":`${(r-o_)/(s4-o_)*100}%`}}),m.jsxs("div",{className:"leverage-slider-labels",children:[m.jsx("span",{children:"1x"}),m.jsxs("span",{className:"leverage-current-value",children:[r,"x"]}),m.jsx("span",{children:"100x"})]})]})]}),m.jsxs("div",{className:"modal-footer",children:[m.jsx("button",{onClick:a,className:"btn btn-secondary",children:"Cancel"}),m.jsx("button",{onClick:o,className:"btn btn-primary",children:"Confirm"})]})]})});return typeof document<"u"?$l.createPortal(l,document.body):null}function Cbe({isOpen:n,fromValue:e,toValue:r,options:i,bucketsData:s,transferAmount:o,createBucketAmount:a,createBucketType:l,createMarginType:c,onFromChange:u,onToChange:f,onTransferAmountChange:d,onCreateBucketAmountChange:h,onCreateBucketTypeChange:p,onCreateMarginTypeChange:g,onConfirm:v,onCancel:y,spotWalletBalance:b=0,activeTab:w,onActiveTabChange:k,isTransferring:_=!1,onOpen:S}){const[C,T]=I.useState("transfer"),D=w??C,O=k??T,P=I.useRef(!1),[A,L]=I.useState(!1),[B,F]=I.useState("transfer"),[$,U]=I.useState(!1);I.useEffect(()=>{n&&!P.current&&S&&S(),P.current=n,n||U(!1)},[n,S,D]);const N=I.useMemo(()=>e==="spot-wallet"?null:s.find(V=>V.bucketId===e),[s,e]),q=I.useMemo(()=>e==="spot-wallet"?b:(N==null?void 0:N.totalEquity)||0,[e,b,N]),H=10,X=Math.max(H,q);if(Ae.useEffect(()=>{if(e&&X>0){const V=D==="transfer"?o:a;V>X?D==="transfer"?d(X):h(X):V<H&&X>=H&&(D==="transfer"?d(H):h(H))}},[e,X,D,o,a,d,h]),!n)return null;const Y=e&&r&&o>=H&&o<=X,W=e&&a>=H&&a<=X&&l&&c,R=m.jsx("div",{className:"modal-overlay",onClick:y,children:m.jsxs("div",{className:"modal-content transfer-modal-content",onClick:V=>V.stopPropagation(),children:[m.jsx("div",{className:"modal-header",children:m.jsx("h3",{children:"Transfer Funds"})}),m.jsxs("div",{className:"transfer-modal-tabs",children:[m.jsx("button",{className:`transfer-tab ${D==="transfer"?"active":""}`,onClick:()=>O("transfer"),type:"button",disabled:_,children:"Transfer"}),m.jsx("button",{className:`transfer-tab ${D==="create"?"active":""}`,onClick:()=>O("create"),type:"button",disabled:_,children:"Create Bucket"})]}),m.jsx("div",{className:"modal-body",children:D==="transfer"?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"transfer-field-group",children:[m.jsx("label",{className:"transfer-field-label",children:"From"}),m.jsxs("select",{value:e,onChange:V=>u(V.target.value),className:"transfer-select",children:[m.jsx("option",{value:"",children:"Select source bucket"}),i.map(V=>m.jsx("option",{value:V.value,children:V.label},V.value))]})]}),m.jsxs("div",{className:"transfer-field-group",children:[m.jsx("label",{className:"transfer-field-label",children:"To"}),m.jsxs("select",{value:r,onChange:V=>f(V.target.value),className:"transfer-select",disabled:!e,children:[m.jsx("option",{value:"",children:"Select destination bucket"}),i.filter(V=>V.value!==e).map(V=>m.jsx("option",{value:V.value,children:V.label},V.value))]})]}),e&&X>=H?m.jsxs("div",{className:"transfer-field-group",children:[m.jsxs("div",{className:"transfer-amount-header",children:[m.jsx("label",{className:"transfer-field-label",children:"Amount"}),m.jsxs("div",{className:"transfer-available-balance",children:["Available: ",xn(q)]})]}),m.jsx("div",{className:"transfer-amount-display",onClick:()=>{F("transfer"),L(!0)},style:{cursor:"pointer"},children:m.jsx("span",{className:"transfer-amount-value",children:xn(o)})}),m.jsxs("div",{className:"transfer-amount-container",children:[m.jsx("input",{type:"range",min:H,max:X,step:.01,value:o,onChange:V=>d(parseFloat(V.target.value)),className:"transfer-amount-slider",style:{"--slider-progress":`${(o-H)/(X-H)*100}%`}}),m.jsxs("div",{className:"transfer-amount-labels",children:[m.jsx("span",{children:xn(H)}),m.jsx("span",{children:xn(X)})]})]})]}):e?m.jsx("div",{className:"transfer-field-group",children:m.jsxs("div",{className:"transfer-insufficient-funds",children:["Insufficient funds. Minimum required:"," ",xn(H)]})}):null]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"transfer-field-group",children:[m.jsx("label",{className:"transfer-field-label",children:"From"}),m.jsxs("select",{value:e,onChange:V=>u(V.target.value),className:"transfer-select",children:[m.jsx("option",{value:"",children:"Select source bucket"}),i.map(V=>m.jsx("option",{value:V.value,children:V.label},V.value))]})]}),m.jsxs("div",{className:"transfer-field-group",children:[m.jsx("label",{className:"transfer-field-label",children:"Bucket Type"}),m.jsxs("select",{value:l,onChange:V=>p(V.target.value),className:"transfer-select",children:[m.jsx("option",{value:"",children:"Select bucket type"}),m.jsx("option",{value:"USDC",children:"USDC"}),m.jsx("option",{value:"USDT",children:"USDT"})]})]}),m.jsxs("div",{className:"transfer-field-group",children:[m.jsx("label",{className:"transfer-field-label",children:"Margin Type"}),m.jsxs("select",{value:c,onChange:V=>g(V.target.value),className:"transfer-select",children:[m.jsx("option",{value:"",children:"Select margin type"}),m.jsx("option",{value:"cross",children:"Cross Margin"}),m.jsx("option",{value:"isolated",children:"Isolated Margin"})]})]}),e&&X>=H?m.jsxs("div",{className:"transfer-field-group",children:[m.jsxs("div",{className:"transfer-amount-header",children:[m.jsx("label",{className:"transfer-field-label",children:"Amount"}),m.jsxs("div",{className:"transfer-available-balance",children:["Available: ",xn(q)]})]}),m.jsx("div",{className:"transfer-amount-display",onClick:()=>{F("create"),L(!0)},style:{cursor:"pointer"},children:m.jsx("span",{className:"transfer-amount-value",children:xn(a)})}),m.jsxs("div",{className:"transfer-amount-container",children:[m.jsx("input",{type:"range",min:H,max:X,step:.01,value:a,onChange:V=>h(parseFloat(V.target.value)),className:"transfer-amount-slider",style:{"--slider-progress":`${(a-H)/(X-H)*100}%`}}),m.jsxs("div",{className:"transfer-amount-labels",children:[m.jsx("span",{children:xn(H)}),m.jsx("span",{children:xn(X)})]})]})]}):e?m.jsx("div",{className:"transfer-field-group",children:m.jsxs("div",{className:"transfer-insufficient-funds",children:["Insufficient funds. Minimum required:"," ",xn(H)]})}):null]})}),m.jsxs("div",{className:"modal-footer",children:[m.jsx("button",{onClick:y,className:"btn btn-secondary",disabled:_,children:"Cancel"}),m.jsxs("div",{style:{flex:1,position:"relative",minHeight:"48px"},children:[m.jsx("div",{className:"slider-confirm-container",style:{position:"absolute",top:0,left:0,right:0,opacity:$?0:1,visibility:$?"hidden":"visible",transition:"opacity 0.3s ease, visibility 0.3s ease",pointerEvents:$?"none":"auto"},children:m.jsx(lbe,{onConfirm:()=>{U(!0)},label:"Slide to confirm",disabled:_||(D==="transfer"?!Y:!W),icon:m.jsx("img",{src:"/bconfirm.svg"})})}),m.jsx("button",{onClick:v,className:"btn btn-primary",disabled:_||(D==="transfer"?!Y:!W),style:{position:"absolute",top:0,right:0,opacity:$?1:0,visibility:$?"visible":"hidden",transition:"opacity 0.3s ease, visibility 0.3s ease",pointerEvents:$?"auto":"none",width:"100%",height:"100%",color:"black"},children:_?"Processing...":"Confirm"})]})]})]})}),Z=B==="transfer"?o:a,J=V=>{B==="transfer"?d(V):h(V),L(!1)};return m.jsxs(m.Fragment,{children:[typeof document<"u"?$l.createPortal(R,document.body):null,m.jsx(cbe,{isOpen:A,value:Z,min:H,max:X,onConfirm:J,onCancel:()=>L(!1)})]})}function Tbe({baseURL:n=su,wsURL:e=su,authToken:r,walletAddress:i,mnemonic:s,height:o=Vhe,refreshInterval:a=KM,onBucketSelect:l}){const{collections:c,loading:u,error:f,spotWalletBalance:d,isConnected:h,refresh:p}=eQ({baseURL:n,wsURL:e,authToken:r,walletAddress:i,refreshInterval:a}),[g,v]=I.useState(null),[y,b]=I.useState("desc"),[w,k]=I.useState(""),[_,S]=I.useState(!1),[C,T]=I.useState(""),[D,O]=I.useState(""),[P,A]=I.useState(10),[L,B]=I.useState(10),[F,$]=I.useState(""),[U,N]=I.useState("cross"),[q,H]=I.useState("transfer"),[X,Y]=I.useState(!1),W=I.useRef(null),R=I.useRef(0),Z=I.useMemo(()=>{const Ie=c.filter(Ee=>Ee&&Ee.bucketId&&typeof Ee.bucketId=="string"&&Ee.bucketId.trim()!=="");return g?[...Ie].sort((Ee,He)=>{let nt=0,z=0;switch(g){case"marginType":nt=gy(Ee),z=gy(He);break;case"usedMargin":nt=Ee.usedMargin||0,z=He.usedMargin||0;break;case"totalEquity":nt=Ee.totalEquity||0,z=He.totalEquity||0;break;case"riskRatio":nt=my(Ee),z=my(He);break;case"bucketId":nt=Ee.bucketId||"",z=He.bucketId||"";break}if(typeof nt=="string"&&typeof z=="string")return y==="asc"?nt.localeCompare(z):z.localeCompare(nt);const ve=Number(nt),Ne=Number(z);return y==="asc"?ve-Ne:Ne-ve}):Ie},[c,g,y]),J=Ie=>{g===Ie?b(y==="asc"?"desc":"asc"):(v(Ie),b("desc"))},V=(Ie,Ee)=>{l&&l(Ie,Ee),k(Ie)},te=()=>{S(!0),T(""),O(""),A(10),B(10),$(""),N("cross"),H("transfer")},se=()=>{S(!1),T(""),O(""),A(10),B(10),$(""),N("cross"),H("transfer")};I.useEffect(()=>{if(!s||!n){W.current=null;return}const Ie=new zl({baseURL:n,mnemonic:s});Ie.initialize().then(()=>{W.current=Ie}).catch(Ee=>{const He=Ee instanceof Error?Ee.message:"Failed to initialize exchange client";console.error("Failed to initialize ExchangeClient:",Ee),Ze.error("Exchange client initialization failed",{description:He,action:si(He)}),W.current=null})},[s,n]);const ye=async()=>{if(!s){const He="Mnemonic is required to perform transfers. Please provide a mnemonic to enable transfer functionality.";Ze.error("Mnemonic required",{description:He,action:si(He)});return}const Ie=W.current;if(!Ie){const He="Exchange client is still initializing. Please wait a moment and try again.";Ze.error("Exchange client not ready",{description:He,action:si(He)});return}Y(!0);const Ee=Ze.loading("Processing transfer...",{description:"Please wait while the transfer is being processed"});R.current=typeof Ee=="number"?Ee:0;try{const He="USDC";let nt,z="";if(q==="transfer"){if(!C||!D)throw new Error("Please select both source and destination");if(C==="spot-wallet"&&D==="spot-wallet")throw new Error("Cannot transfer from spot wallet to spot wallet");C==="spot-wallet"?(nt=await Ie.extractToBucket({bucketId:D,assetId:He,amount:P}),z=`Successfully transferred ${xn(P)} from Spot Wallet to ${D}`):D==="spot-wallet"?(nt=await Ie.withdrawFromBucket({bucketId:C,assetId:He,amount:P}),z=`Successfully transferred ${xn(P)} from ${C} to Spot Wallet`):(nt=await Ie.bucketTransfer({fromBucketId:C,toBucketId:D,assetId:He,amount:P}),z=`Successfully transferred ${xn(P)} from ${C} to ${D}`)}else{if(!C)throw new Error("Please select a source");if(!F)throw new Error("Please select a bucket type (USDC or USDT)");if(!U)throw new Error("Please select a margin type (cross or isolated)");const ve=await Ie.createBucket({bucketType:F,marginType:U});if(!ve.success)throw new Error(ve.message||"Failed to create bucket");if(z=`Successfully created ${U} margin bucket (${F})`,L>0&&C==="spot-wallet"){const Ne=await Ie.extractToBucket({bucketId:ve.bucket_id,assetId:F,amount:L});if(!Ne.success)throw new Error(`Bucket created but failed to transfer funds: ${Ne.error_message||"Unknown error"}`);z=`Successfully created ${U} margin bucket (${F}) and transferred ${xn(L)}`}else if(L>0&&C!=="spot-wallet"){if(!Ke.find($e=>$e.bucketId===C))throw new Error("Source bucket not found");const ge=await Ie.bucketTransfer({fromBucketId:C,toBucketId:ve.bucket_id,assetId:F,amount:L});if(!ge.success)throw new Error(`Bucket created but failed to transfer funds: ${ge.message||"Unknown error"}`);z=`Successfully created ${U} margin bucket (${F}) and transferred ${xn(L)}`}}console.log("Transfer successful:",nt),R.current!==0&&(Ze.dismiss(R.current),R.current=0),Ze.success("Transfer completed",{description:z}),p(),S(!1),T(""),O(""),A(10),B(10),$(""),N("cross")}catch(He){R.current!==0&&(Ze.dismiss(R.current),R.current=0);const nt=He instanceof Error?He.message:"Transfer failed";Ze.error("Transfer failed",{description:nt,action:si(nt)}),console.error("Transfer error:",He)}finally{Y(!1)}},Re=I.useMemo(()=>{const Ie=Z.map(Ee=>({value:Ee.bucketId,label:`${Ee.bucketId} (${xn(Ee.totalEquity)})`}));return[{value:"spot-wallet",label:`Spot Wallet (${xn(d)})`},...Ie]},[Z,d]),Ke=I.useMemo(()=>Z.map(Ie=>({bucketId:Ie.bucketId,totalEquity:Ie.totalEquity})),[Z]);return!i||i.trim()===""?m.jsx(KX,{message:"Wallet address required to view bucket collections"}):u?m.jsx(ih,{message:"Loading bucket collections..."}):f?m.jsx(sh,{error:f}):m.jsxs("div",{className:"layout-container",style:{height:o},children:[m.jsxs(oh,{title:"BUCKET COLLECTIONS",children:[m.jsxs("div",{onClick:te,className:"btn-tab",children:[m.jsx("img",{src:"/transfer-repu.svg"}),m.jsx("span",{children:"Transfer"})]}),!h&&m.jsxs("div",{onClick:async()=>{p&&await p()},className:"btn-tab",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},title:"WebSocket disconnected - Click to refresh bucket collections",children:[m.jsx("img",{src:"/caution-icy.svg",alt:"Warning",style:{width:"1rem",height:"1rem"}}),m.jsx("span",{children:"Refresh"})]})]}),m.jsxs("div",{className:"table-container shrinkable",children:[m.jsxs("div",{className:"table-header",style:{gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr"},children:[m.jsx(ir,{field:"bucketId",currentSortField:g,sortDirection:y,onSort:J,left:!0,children:"Bucket ID"}),m.jsx(ir,{field:"marginType",currentSortField:g,sortDirection:y,onSort:J,children:"Margin Type"}),m.jsx(ir,{field:"usedMargin",currentSortField:g,sortDirection:y,onSort:J,children:"Used Margin"}),m.jsx(ir,{field:"totalEquity",currentSortField:g,sortDirection:y,onSort:J,children:"Total Equity"}),m.jsx(ir,{field:"riskRatio",currentSortField:g,sortDirection:y,onSort:J,left:!1,children:"Risk Ratio"})]}),Z.length===0?m.jsx(da,{message:c.length===0?"No bucket collections found. Make sure your wallet address is correct and has buckets.":`Filtered out all ${c.length} collections (invalid data structure)`}):Z.map((Ie,Ee)=>{const He=my(Ie),nt=gy(Ie);return m.jsxs("div",{onClick:()=>V(Ie.bucketId,Ie.totalEquity),className:`table-row clickable ${Ee%2===0?"even":""} ${w===Ie.bucketId?"selected":""}`,style:{gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr"},children:[m.jsx("div",{className:"table-cell primary",children:Ie.bucketId||"---"}),m.jsx("div",{className:"table-cell",children:nt.toUpperCase()}),m.jsx("div",{className:"table-cell right monospace",children:xn(Ie.usedMargin||0)}),m.jsx("div",{className:"table-cell right monospace",children:xn(Ie.totalEquity||0)}),m.jsx("div",{className:"table-cell right monospace",style:{color:He>.5?"#ff6b6b":"#51cf66",fontWeight:500},children:YX(He)})]},`collection-${Ie.bucketId}-${Ee}`)})]}),m.jsx(Cbe,{isOpen:_,fromValue:C,toValue:D,options:Re,bucketsData:Ke,transferAmount:P,createBucketAmount:L,createBucketType:F,createMarginType:U,onFromChange:T,onToChange:O,onTransferAmountChange:A,onCreateBucketAmountChange:B,onCreateBucketTypeChange:$,onCreateMarginTypeChange:N,onConfirm:ye,onCancel:se,spotWalletBalance:d,activeTab:q,onActiveTabChange:H,isTransferring:X,onOpen:p})]})}const Ebe=Ae.memo(Tbe);function Dbe({baseURL:n=su,selectedMarketId:e,authToken:r,height:i,onMarketSelect:s,favorites:o=[],onFavoriteToggle:a}){const{markets:l,tickers:c,selectedMarketId:u,setSelectedMarketId:f}=Ul({baseURL:n,autoFetchMarkets:!0}),[d,h]=I.useState(new Set(o)),[p,g]=I.useState("1H"),v=I.useRef(null),y=e||u||null,b=I.useMemo(()=>{const B=new Set(d);return o.forEach(F=>B.add(F)),B},[o,d]),w=I.useMemo(()=>l.map(B=>{var X,Y;const F=((X=B.market_id)==null?void 0:X.toString())||((Y=B.id)==null?void 0:Y.toString())||"",$=c.get(F),U=B.moniker||B.symbol||(B.baseAsset&&B.quoteAsset?`${B.baseAsset}/${B.quoteAsset}`:"Unknown"),N=!B.active||!($!=null&&$.lastPrice)||typeof $.lastPrice=="string"&&$.lastPrice==="0";let q=null;$!=null&&$.lastPrice&&(typeof $.lastPrice=="string"?q=parseFloat($.lastPrice):q=$.lastPrice);let H=null;return $!=null&&$.priceChangePercent24h&&(typeof $.priceChangePercent24h=="string"?H=parseFloat($.priceChangePercent24h):H=$.priceChangePercent24h),{marketId:F,symbol:U,price:q,priceChangePercent:H,isClosed:N,isFavorite:b.has(F)}}).filter(B=>B.marketId),[l,c,b]),k=I.useMemo(()=>y?l.find(B=>{var F,$;return((F=B.market_id)==null?void 0:F.toString())===y||(($=B.id)==null?void 0:$.toString())===y}):null,[l,y]),_=I.useMemo(()=>y?c.get(y):null,[c,y]),S=I.useMemo(()=>k?k.moniker||k.symbol||(k.baseAsset&&k.quoteAsset?`${k.baseAsset}/${k.quoteAsset}`:"Unknown"):"Select Market",[k]),C=I.useMemo(()=>{if(!k)return"";const B=k.baseAsset||"",F=k.quoteAsset||"";return B&&F?`${B} to ${F}`:k.moniker||k.symbol||""},[k]),T=I.useMemo(()=>_!=null&&_.lastPrice?typeof _.lastPrice=="string"?parseFloat(_.lastPrice):_.lastPrice:null,[_]),D=I.useMemo(()=>_!=null&&_.priceChangePercent24h?typeof _.priceChangePercent24h=="string"?parseFloat(_.priceChangePercent24h):_.priceChangePercent24h:null,[_]),O=B=>{s?s(B):f(B)},P=(B,F)=>{F.stopPropagation();const $=new Set(b);$.has(B)?$.delete(B):$.add(B),h($),a&&a(B)},A=B=>{var U;const F=((U=B.split("/")[0])==null?void 0:U.toUpperCase())||"";return{BTC:"",ETH:"",EUR:"",USD:"$",USDC:"$",USDT:"$"}[F]||F.charAt(0)||"?"},L=B=>{if(B==null)return"0";const F=typeof B=="string"?parseFloat(B):B;return isNaN(F)?"0":F>=1e6?`${(F/1e6).toFixed(1)}M`:F>=1e3?`${(F/1e3).toFixed(1)}K`:F.toFixed(2)};return m.jsxs("div",{className:"ticker-bar-container",style:i?{height:i}:void 0,children:[m.jsx("div",{className:"ticker-bar-top",ref:v,children:m.jsx("div",{className:"ticker-bar-scroll",children:w.map((B,F)=>m.jsxs(Ae.Fragment,{children:[m.jsxs("div",{className:`ticker-item ${B.marketId===y?"active":""}`,onClick:()=>O(B.marketId),children:[m.jsx("span",{className:"ticker-favorite-star",onClick:$=>P(B.marketId,$),style:{cursor:"pointer",opacity:B.isFavorite?1:.3},children:""}),m.jsx("span",{className:"ticker-asset-icon",children:A(B.symbol)}),m.jsx("span",{className:"ticker-symbol",children:B.symbol}),m.jsx("span",{className:"ticker-value",children:B.isClosed?m.jsx("span",{className:"ticker-closed",children:"CLOSED"}):B.price!==null?Md(B.price):"--"})]}),F<w.length-1&&m.jsx("div",{className:"ticker-separator"})]},B.marketId))})}),m.jsxs("div",{className:"ticker-bar-bottom",children:[m.jsxs("div",{className:"ticker-detail-left",children:[m.jsx("div",{className:"ticker-detail-icon-large",children:k?A(S):"?"}),m.jsxs("div",{className:"ticker-detail-symbol-group",children:[m.jsx("div",{className:"ticker-detail-symbol-row",children:m.jsx("span",{className:"ticker-detail-symbol",children:S})}),m.jsx("div",{className:"ticker-detail-description",children:C})]}),m.jsxs("div",{className:"ticker-detail-price-group",children:[m.jsx("div",{className:"ticker-detail-price",children:T!==null?Md(T):"--"}),D!==null&&m.jsxs("div",{className:`ticker-detail-change ${D>=0?"positive":"negative"}`,children:[D>=0?"+":"",YX(D/100)]})]})]}),m.jsxs("div",{className:"ticker-detail-metrics",children:[m.jsxs("div",{className:"ticker-metric",children:[m.jsx("label",{className:"ticker-metric-label",title:"Oracle Price",children:"Oracle Price"}),m.jsx("span",{className:"ticker-metric-value",children:T!==null?Md(T):"--"})]}),m.jsxs("div",{className:"ticker-metric",children:[m.jsx("label",{className:"ticker-metric-label",title:"Open Interest (Long)",children:"Open Interest (L)"}),m.jsx("span",{className:"ticker-metric-value",children:_!=null&&_.volume?`${L(_.volume)} / 20.0M USDC`:"--"})]}),m.jsxs("div",{className:"ticker-metric",children:[m.jsx("label",{className:"ticker-metric-label",title:"Open Interest (Short)",children:"Open Interest (S)"}),m.jsx("span",{className:"ticker-metric-value",children:_!=null&&_.volume?`${L(_.volume)} / 20.0M USDC`:"--"})]}),m.jsxs("div",{className:"ticker-metric",children:[m.jsx("label",{className:"ticker-metric-label",title:"Skew",children:"Skew"}),m.jsx("span",{className:"ticker-metric-value",children:"50%/50%"})]})]}),m.jsxs("div",{className:"ticker-detail-right",children:[m.jsxs("div",{className:"ticker-metric",children:[m.jsx("label",{className:"ticker-metric-label",title:"Holding (Long)",children:"Holding (L)"}),m.jsx("span",{className:"ticker-metric-value positive",children:"0.0012%"})]}),m.jsxs("div",{className:"ticker-metric",children:[m.jsx("label",{className:"ticker-metric-label",title:"Holding (Short)",children:"Holding (S)"}),m.jsx("span",{className:"ticker-metric-value negative",children:"0.0021%"})]})]}),m.jsx("div",{className:"ticker-timeframe-selector",children:m.jsxs("select",{className:"ticker-timeframe-select",value:p,onChange:B=>g(B.target.value),children:[m.jsx("option",{value:"1H",children:"1H"}),m.jsx("option",{value:"4H",children:"4H"}),m.jsx("option",{value:"1D",children:"1D"}),m.jsx("option",{value:"1W",children:"1W"}),m.jsx("option",{value:"1M",children:"1M"})]})})]})]})}const Pbe=Ae.memo(Dbe);function Ibe(n){var $e;const[e,r]=I.useState("vertical"),[i,s]=I.useState(!0),[o,a]=I.useState(!1),[l,c]=I.useState("--"),[u,f]=I.useState(void 0),[d,h]=I.useState(!1),[p,g]=I.useState(10),[v,y]=I.useState("default"),b=I.useRef(null),w=I.useRef(null),k=I.useRef(!1),_=I.useRef(nh),S=I.useRef(Fg),C=I.useRef([]),T=_.current,D=S.current,O=I.useMemo(()=>Kp(v==="default"?Vp:z0e),[v]),[P,A]=I.useState(()=>Kp(Vp));I.useEffect(()=>{A(O),C.current=O},[O]);const[L,B]=I.useState(()=>localStorage.getItem("authToken")||""),{markets:F,selectedMarketId:$,selectedMarketSymbol:U,setSelectedMarketId:N,loadingMarkets:q,getError:H}=Ul({baseURL:T,sessionToken:L,autoFetchMarkets:!0}),{mnemonic:X,walletAddress:Y,authToken:W,setMnemonic:R}=_u();I.useEffect(()=>{X||R("legal winner thank year wave sausage worth useful legal winner thank yellow")},[X,R]),I.useEffect(()=>{C.current=P},[P]),I.useEffect(()=>{W&&(B(W),localStorage.setItem("authToken",W))},[W]);const Z=I.useRef(!1);I.useEffect(()=>{L&&L.trim()!==""&&!Z.current&&localStorage.getItem("authToken")!==L&&localStorage.setItem("authToken",L),Z.current=!1},[L]),I.useEffect(()=>{const ue=le=>{le.key==="authToken"&&le.newValue&&(Z.current=!0,B(le.newValue))};window.addEventListener("storage",ue);const ee=setInterval(()=>{const le=localStorage.getItem("authToken");B(xe=>le&&le!==xe?(Z.current=!0,le):xe)},5e3);return()=>{window.removeEventListener("storage",ue),clearInterval(ee)}},[]);const J=I.useMemo(()=>{var ue,ee,le,xe;return F.length>0?((ue=F.find(pe=>pe.active))==null?void 0:ue.market_id)??F[0].market_id??((le=(ee=F.find(pe=>pe.active))==null?void 0:ee.id)==null?void 0:le.toString())??((xe=F[0].id)==null?void 0:xe.toString())??null:null},[F]),V=I.useCallback((ue,ee)=>{if(i)return;const le=C.current,xe=ue;if(le.length!==xe.length){k.current=!0,C.current=xe,A(xe);return}let pe=!1;for(let Le=0;Le<le.length;Le++){const ce=le[Le],Oe=xe[Le];if(ce.x!==Oe.x||ce.y!==Oe.y||ce.w!==Oe.w||ce.h!==Oe.h||ce.i!==Oe.i){pe=!0;break}}pe&&(k.current=!0,C.current=xe,A(xe))},[i]),te=I.useCallback(()=>{r(ue=>ue==="horizontal"?"vertical":ue==="vertical"?null:"horizontal")},[]),se=I.useCallback(()=>{a(ue=>!ue)},[]);I.useEffect(()=>(o?document.body.classList.add("full-width-screen"):document.body.classList.remove("full-width-screen"),()=>{document.body.classList.remove("full-width-screen")}),[o]);const ye=I.useCallback(()=>{s(ue=>!ue),i&&(k.current=!1)},[i]),Re=I.useCallback(()=>{b.current&&(k.current=!1,b.current.generateNewLayout())},[]),Ke=I.useCallback(async()=>{try{const ee=`[
${P.slice().sort((le,xe)=>{const pe=parseInt(le.i,10),Le=parseInt(xe.i,10);return pe-Le}).map(le=>`  [${le.x}, ${le.y}, ${le.w}, ${le.h}]`).join(`,
`)},
]`;await navigator.clipboard.writeText(ee),alert("Layout matrix copied to clipboard!")}catch(ue){console.error("Failed to copy layout matrix:",ue),alert("Failed to copy layout matrix to clipboard")}},[P]),Ie=I.useMemo(()=>P.map(function(ue){return m.jsxs("div",{className:"layoutItem",children:[m.jsx("b",{children:ue.i}),": [",ue.x,", ",ue.y,", ",ue.w,", ",ue.h,"]"]},ue.i)}),[P]),Ee=$||"",He=30,nt=10,z=12,ve=I.useMemo(()=>{if(P.length===0)return{};const ue={};for(let ee=0;ee<=6;ee++){const le=P.find(xe=>xe.i===ee.toString());if(le){const xe=le.h*He+(le.h-1)*nt,pe=le.w/z*100;ue[ee]={width:`${pe}%`,height:`${xe}px`}}}return ue},[P]),Ne=I.useMemo(()=>{var ue,ee,le,xe,pe,Le;return[m.jsx(Z0e,{symbol:"BINANCE:BTCUSDT",interval:"5",isCollapsed:!1},"tv"),m.jsx(pbe,{baseURL:T,wsURL:D,marketId:Ee,maxDepth:20,height:(ue=ve[1])==null?void 0:ue.height,authToken:L},`clobx-${Ee}`),m.jsx(gbe,{baseURL:T,wsURL:D,marketId:Ee,symbol:U||void 0,authToken:L},`price-${Ee}`),m.jsx(vbe,{ref:w,baseURL:T,wsURL:D,marketId:Ee,selectedBucketBalance:u,selectedBucketId:l,authToken:L,walletAddress:Y,onLeverageClick:()=>{w.current&&g(w.current.leverage),h(!0)}},`trade-${Ee}`),m.jsx(wbe,{baseURL:T,wsURL:D,authToken:L,walletAddress:Y,mnemonic:X,height:(ee=ve[4])==null?void 0:ee.height,refreshInterval:5e3},`order-${Ee}`),m.jsx(Sbe,{baseURL:T,authToken:L,walletAddress:Y,mnemonic:X,height:(le=ve[5])==null?void 0:le.height,refreshInterval:5e3,selectedBucketId:l},`pos-${Ee}`),m.jsx(Ebe,{baseURL:T,wsURL:D,mnemonic:X,authToken:L,walletAddress:Y,height:(xe=ve[6])==null?void 0:xe.height,refreshInterval:5e3,onBucketSelect:(ce,Oe)=>{c(ce),f(Oe)}},`bucket-${Ee}`),m.jsx(dbe,{baseURL:T,wsURL:D,marketId:Ee,maxDepth:20,height:(pe=ve[7])==null?void 0:pe.height,authToken:L},`clobclassic-${Ee}`),m.jsx(Pbe,{baseURL:T,selectedMarketId:Ee,height:(Le=ve[8])==null?void 0:Le.height,authToken:L},`ticker-${Ee}`)]},[T,D,L,Y,Ee,U,ve,l,u]);if(q)return m.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:m.jsx("div",{children:"Loading markets..."})});const ge=H("markets");return ge?m.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#ff6b6b"},children:m.jsxs("div",{children:["Error loading markets: ",ge]})}):F.length===0||!$?m.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:m.jsx("div",{children:"No markets available."})}):m.jsxs("div",{className:"App-content-row",children:[m.jsxs("div",{className:"App-section",children:[m.jsx("h3",{style:{marginTop:"0",marginBottom:"0.75rem"},children:"Configuration"}),m.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"flex-end",flexWrap:"wrap"},children:[m.jsxs("div",{style:{flex:"1",minWidth:"300px"},children:[m.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500"},children:"Market:"}),m.jsx("select",{value:$||"",onChange:ue=>{const ee=ue.target.value;ee&&N(ee)},style:{width:"100%",padding:"0.5rem",fontSize:"1rem",borderRadius:"4px",border:"1px solid #ccc",backgroundColor:"white",color:"#333"},children:F.length===0?m.jsx("option",{value:"",children:"Loading markets..."}):m.jsxs(m.Fragment,{children:[m.jsx("option",{value:"",disabled:!0,children:"-- Select a market --"}),F.map(ue=>{var pe;const ee=ue.market_id??((pe=ue.id)==null?void 0:pe.toString())??"",le=ue.moniker?ue.moniker:ue.symbol?ue.symbol:ue.baseAsset&&ue.quoteAsset?`${ue.baseAsset}-${ue.quoteAsset}`:`Market ID: ${ee}`,xe=ue.active?" [ACTIVE]":"";return m.jsxs("option",{value:ee,children:[le," - ID: ",ee,xe]},ee)})]})}),F.length>0&&m.jsx("small",{style:{display:"block",marginTop:"0.25rem",color:$===J?"#51cf66":"#ff9f43"},children:$===J?` Auto-selected default market (ID: ${J==null?void 0:J.substring(0,16)}...)`:` Manual selection (ID: ${$==null?void 0:$.substring(0,16)}...)`})]}),m.jsxs("div",{style:{flex:"1",minWidth:"300px"},children:[m.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500"},children:"Mnemonic (for wallet address):"}),m.jsx("input",{type:"text",value:X||"",onChange:ue=>R(ue.target.value),placeholder:"Enter mnemonic to generate wallet address",style:{width:"100%",padding:"0.5rem",fontSize:"1rem",border:"1px solid #ccc",backgroundColor:"white",color:"#333"}})]}),m.jsxs("div",{style:{flex:"1",minWidth:"300px"},children:[m.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500"},children:"Wallet Address:"}),m.jsx("input",{type:"text",value:Y||"",disabled:!!(X&&X.trim()!==""),placeholder:"automatic (from mnemonic via useOnboard)",style:{width:"100%",padding:"0.5rem",fontSize:"1rem",border:"1px solid #ccc",backgroundColor:Y?"#e7f3ff":"#f5f5f5",color:"#333"}}),Y&&m.jsx("small",{style:{display:"block",marginTop:"0.25rem",color:"#28a745"},children:" Auto-generated from mnemonic via useOnboard hook"})]}),m.jsxs("div",{style:{flex:"1",minWidth:"300px"},children:[m.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500"},children:"Layout Type:"}),m.jsxs("select",{value:v,onChange:ue=>{const ee=ue.target.value;y(ee)},style:{width:"100%",padding:"0.5rem",fontSize:"1rem",borderRadius:"4px",border:"1px solid #ccc",backgroundColor:"white",color:"#333"},children:[m.jsx("option",{value:"default",children:"Default Predefined Layouts"}),m.jsx("option",{value:"widthfit",children:"Width Fit"})]})]})]}),m.jsx("h3",{children:"Layout Controls"}),m.jsx("button",{onClick:Re,style:{marginRight:"0.5rem"},children:"Generate New Layout"}),m.jsx("button",{onClick:ye,style:{marginRight:"0.5rem"},children:i?"Enable Dragging":"Disable Dragging"}),m.jsx("button",{onClick:te,style:{marginRight:"0.5rem"},children:"Change Compaction Type"}),m.jsx("button",{onClick:se,children:"Full Width Screen"}),m.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.9em",color:"#fff"},children:["Compaction type:"," ",e?e.charAt(0).toUpperCase()+e.slice(1):"No Compaction"]})]}),m.jsx(YP,{ref:b,onLayoutChange:V,slotContent:Ne,compactType:e,allStatic:i,onCompactTypeChange:te,onToggleStatic:ye,onNewLayout:Re,initialLayout:O},v),m.jsxs("div",{className:"overview-layout layoutJSON",children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[m.jsxs("span",{children:["Displayed as ",m.jsx("code",{children:"[x, y, w, h]"}),":"]}),m.jsx("button",{onClick:Ke,style:{padding:"0.5rem 1rem",fontSize:"0.9rem",borderRadius:"4px",border:"1px solid #313131",backgroundColor:"#ccc",color:"black",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:ue=>{ue.currentTarget.style.color="white",ue.currentTarget.style.backgroundColor="#0056b3"},onMouseOut:ue=>{ue.currentTarget.style.color="black",ue.currentTarget.style.backgroundColor="#ccc"},children:"Copy"})]}),m.jsx("div",{className:"columns",children:Ie})]}),m.jsx(kbe,{isOpen:d,currentLeverage:(($e=w.current)==null?void 0:$e.leverage)||10,tempLeverage:p,maxRatio:w.current?w.current.calculateMaxRatio(p):p.toFixed(2),onLeverageChange:g,onConfirm:()=>{w.current&&w.current.setLeverage(p),h(!1)},onCancel:()=>{w.current&&g(w.current.leverage),h(!1)}})]})}function Gu({data:n,maxVisible:e=10,maxDataPoints:r=100,height:i=400,width:s=1080,rowWidth:o=280,onItemClick:a,getValue:l,color:c="#2196F3"}){const u=I.useRef(null),f=I.useRef(null),d=I.useRef(0),[h,p]=I.useState(!1),[g,v]=I.useState(0),y=20,b=800,w=I.useMemo(()=>!n||n.length===0?[]:n.length<=r?n:n.slice(-r),[n,r]),k=_=>{const S=[];if(_.timestamp!==void 0&&S.push({label:"Time",value:new Date(_.timestamp).toLocaleTimeString()}),_.market_id!==void 0&&S.push({label:"Market",value:String(_.market_id)}),_.symbol!==void 0&&S.push({label:"Symbol",value:String(_.symbol)}),_.open!==void 0){const C=Number(_.open);S.push({label:"Open",value:isNaN(C)?String(_.open):C.toFixed(4)})}if(_.close!==void 0){const C=Number(_.close);S.push({label:"Close",value:isNaN(C)?String(_.close):C.toFixed(4)})}if(_.high!==void 0){const C=Number(_.high);S.push({label:"High",value:isNaN(C)?String(_.high):C.toFixed(4)})}if(_.low!==void 0){const C=Number(_.low);S.push({label:"Low",value:isNaN(C)?String(_.low):C.toFixed(4)})}if(_.volume!==void 0){const C=Number(_.volume);S.push({label:"Volume",value:isNaN(C)?String(_.volume):C.toFixed(2)})}if(_.price!==void 0){const C=Number(_.price);S.push({label:"Price",value:isNaN(C)?String(_.price):C.toFixed(4)})}if(_.mark_price!==void 0){const C=Number(_.mark_price);S.push({label:"Mark Price",value:isNaN(C)?String(_.mark_price):C.toFixed(4)})}if(_.last_price!==void 0){const C=Number(_.last_price);S.push({label:"Last Price",value:isNaN(C)?String(_.last_price):C.toFixed(4)})}if(_.size!==void 0){const C=Number(_.size);S.push({label:"Size",value:isNaN(C)?String(_.size):C.toFixed(4)})}if(_.entryPrice!==void 0){const C=Number(_.entryPrice);S.push({label:"Entry",value:isNaN(C)?String(_.entryPrice):C.toFixed(4)})}if(_.unrealizedPnL!==void 0){const C=Number(_.unrealizedPnL);S.push({label:"PnL",value:isNaN(C)?String(_.unrealizedPnL):C.toFixed(4)})}if(_.orderId!==void 0&&S.push({label:"Order ID",value:String(_.orderId)}),_.status!==void 0&&S.push({label:"Status",value:String(_.status)}),_.bucketId!==void 0&&S.push({label:"Bucket ID",value:String(_.bucketId)}),_.maxLeverage!==void 0&&S.push({label:"Max Lev",value:String(_.maxLeverage)}),_.value!==void 0&&S.length===0){const C=Number(_.value);S.push({label:"Value",value:isNaN(C)?String(_.value):C.toFixed(4)})}return S.length===0&&S.push({label:"Data",value:"Click to view"}),S.slice(0,6)};return I.useEffect(()=>{if(!f.current||!u.current)return;const _=w.length;if(_===0){v(0),d.current=0;return}const T=u.current.offsetWidth-20*2,D=_*o+(_-1)*y;if(D>T){const P=D-T;v(-P)}else v(0);const O=w.length>d.current;d.current=w.length,O&&f.current&&requestAnimationFrame(()=>{f.current&&f.current.offsetWidth})},[w.length,o,y,s]),I.useEffect(()=>{f.current&&(f.current.style.transition=h?"none":`transform ${b}ms ease-out`,f.current.style.transform=`translateX(${g}px)`)},[g,h,b]),m.jsxs("div",{ref:u,className:"data-flow-container",style:{width:`${s}px`,height:`${i}px`},onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[m.jsx("div",{ref:f,className:"data-flow-rows-wrapper",style:{gap:`${y}px`},children:w.map((_,S)=>{const C=k(_),T=S;return m.jsxs("div",{className:"data-flow-row",onClick:()=>{a&&a(_)},style:{width:`${o}px`,background:c},children:[m.jsx("div",{className:"data-flow-row-header",children:_.timestamp?new Date(_.timestamp).toLocaleTimeString():`#${T+1}`}),m.jsx("div",{className:"data-flow-row-fields",children:C.map((D,O)=>m.jsxs("div",{className:"data-flow-field",children:[m.jsxs("span",{className:"data-flow-field-label",children:[D.label,":"]}),m.jsx("span",{className:"data-flow-field-value",children:D.value})]},O))}),m.jsx("div",{className:"data-flow-row-footer",children:"Click to view details"})]},`${T}-${_.timestamp||Date.now()}-${_.id||JSON.stringify(_)}`)})}),h&&m.jsx("div",{className:"data-flow-paused-indicator",children:"Paused"})]})}function Obe({data:n,isOpen:e,onClose:r,title:i="Data Details"}){return I.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),I.useEffect(()=>{const s=o=>{o.key==="Escape"&&e&&r()};return e&&window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}},[e,r]),e?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"data-modal-overlay",onClick:r}),m.jsxs("div",{className:"data-modal",onClick:s=>s.stopPropagation(),children:[m.jsx("h3",{className:"data-modal-title",children:i}),m.jsx("pre",{className:"data-modal-content",children:JSON.stringify(n,null,2)}),m.jsx("button",{className:"data-modal-close-button",onClick:r,children:"Close"})]})]}):null}function vy(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function Mbe(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function nQ(n){let e,r,i;n.length!==2?(e=vy,r=(l,c)=>vy(n(l),c),i=(l,c)=>n(l)-c):(e=n===vy||n===Mbe?n:Abe,r=n,i=n);function s(l,c,u=0,f=l.length){if(u<f){if(e(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function o(l,c,u=0,f=l.length){if(u<f){if(e(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function a(l,c,u=0,f=l.length){const d=s(l,c,u,f-1);return d>u&&i(l[d-1],c)>-i(l[d],c)?d-1:d}return{left:s,center:a,right:o}}function Abe(){return 0}function Rbe(n){return n===null?NaN:+n}const Nbe=nQ(vy),jbe=Nbe.right;nQ(Rbe).center;class Y4 extends Map{constructor(e,r=$be){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[i,s]of e)this.set(i,s)}get(e){return super.get(V4(this,e))}has(e){return super.has(V4(this,e))}set(e,r){return super.set(Lbe(this,e),r)}delete(e){return super.delete(Fbe(this,e))}}function V4({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):r}function Lbe({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):(n.set(i,r),r)}function Fbe({_intern:n,_key:e},r){const i=e(r);return n.has(i)&&(r=n.get(i),n.delete(i)),r}function $be(n){return n!==null&&typeof n=="object"?n.valueOf():n}const Bbe=Math.sqrt(50),zbe=Math.sqrt(10),Ube=Math.sqrt(2);function wv(n,e,r){const i=(e-n)/Math.max(0,r),s=Math.floor(Math.log10(i)),o=i/Math.pow(10,s),a=o>=Bbe?10:o>=zbe?5:o>=Ube?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/a,l=Math.round(n*u),c=Math.round(e*u),l/u<n&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,s)*a,l=Math.round(n/u),c=Math.round(e/u),l*u<n&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?wv(n,e,r*2):[l,c,u]}function qbe(n,e,r){if(e=+e,n=+n,r=+r,!(r>0))return[];if(n===e)return[n];const i=e<n,[s,o,a]=i?wv(e,n,r):wv(n,e,r);if(!(o>=s))return[];const l=o-s+1,c=new Array(l);if(i)if(a<0)for(let u=0;u<l;++u)c[u]=(o-u)/-a;else for(let u=0;u<l;++u)c[u]=(o-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(s+u)/-a;else for(let u=0;u<l;++u)c[u]=(s+u)*a;return c}function KP(n,e,r){return e=+e,n=+n,r=+r,wv(n,e,r)[2]}function Wbe(n,e,r){e=+e,n=+n,r=+r;const i=e<n,s=i?KP(e,n,r):KP(n,e,r);return(i?-1:1)*(s<0?1/-s:s)}function XP(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let s of n)(s=e(s,++i,n))!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}return r}function K4(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let s of n)(s=e(s,++i,n))!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}return r}function Hbe(n,e,r){n=+n,e=+e,r=(s=arguments.length)<2?(e=n,n=0,1):s<3?1:+r;for(var i=-1,s=Math.max(0,Math.ceil((e-n)/r))|0,o=new Array(s);++i<s;)o[i]=n+i*r;return o}function Gbe(n,e){let r=0;for(let i of n)(i=+i)&&(r+=i);return r}function Ybe(n){return n}var S_=1,k_=2,QP=3,Sp=4,X4=1e-6;function Vbe(n){return"translate("+n+",0)"}function Kbe(n){return"translate(0,"+n+")"}function Xbe(n){return e=>+n(e)}function Qbe(n,e){return e=Math.max(0,n.bandwidth()-e*2)/2,n.round()&&(e=Math.round(e)),r=>+n(r)+e}function Zbe(){return!this.__axis}function rQ(n,e){var r=[],i=null,s=null,o=6,a=6,l=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=n===S_||n===Sp?-1:1,f=n===Sp||n===k_?"x":"y",d=n===S_||n===QP?Vbe:Kbe;function h(p){var g=i??(e.ticks?e.ticks.apply(e,r):e.domain()),v=s??(e.tickFormat?e.tickFormat.apply(e,r):Ybe),y=Math.max(o,0)+l,b=e.range(),w=+b[0]+c,k=+b[b.length-1]+c,_=(e.bandwidth?Qbe:Xbe)(e.copy(),c),S=p.selection?p.selection():p,C=S.selectAll(".domain").data([null]),T=S.selectAll(".tick").data(g,e).order(),D=T.exit(),O=T.enter().append("g").attr("class","tick"),P=T.select("line"),A=T.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),T=T.merge(O),P=P.merge(O.append("line").attr("stroke","currentColor").attr(f+"2",u*o)),A=A.merge(O.append("text").attr("fill","currentColor").attr(f,u*y).attr("dy",n===S_?"0em":n===QP?"0.71em":"0.32em")),p!==S&&(C=C.transition(p),T=T.transition(p),P=P.transition(p),A=A.transition(p),D=D.transition(p).attr("opacity",X4).attr("transform",function(L){return isFinite(L=_(L))?d(L+c):this.getAttribute("transform")}),O.attr("opacity",X4).attr("transform",function(L){var B=this.parentNode.__axis;return d((B&&isFinite(B=B(L))?B:_(L))+c)})),D.remove(),C.attr("d",n===Sp||n===k_?a?"M"+u*a+","+w+"H"+c+"V"+k+"H"+u*a:"M"+c+","+w+"V"+k:a?"M"+w+","+u*a+"V"+c+"H"+k+"V"+u*a:"M"+w+","+c+"H"+k),T.attr("opacity",1).attr("transform",function(L){return d(_(L)+c)}),P.attr(f+"2",u*o),A.attr(f,u*y).text(v),S.filter(Zbe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===k_?"start":n===Sp?"end":"middle"),S.each(function(){this.__axis=_})}return h.scale=function(p){return arguments.length?(e=p,h):e},h.ticks=function(){return r=Array.from(arguments),h},h.tickArguments=function(p){return arguments.length?(r=p==null?[]:Array.from(p),h):r.slice()},h.tickValues=function(p){return arguments.length?(i=p==null?null:Array.from(p),h):i&&i.slice()},h.tickFormat=function(p){return arguments.length?(s=p,h):s},h.tickSize=function(p){return arguments.length?(o=a=+p,h):o},h.tickSizeInner=function(p){return arguments.length?(o=+p,h):o},h.tickSizeOuter=function(p){return arguments.length?(a=+p,h):a},h.tickPadding=function(p){return arguments.length?(l=+p,h):l},h.offset=function(p){return arguments.length?(c=+p,h):c},h}function Q4(n){return rQ(QP,n)}function Jbe(n){return rQ(Sp,n)}var eye={value:()=>{}};function Ug(){for(var n=0,e=arguments.length,r={},i;n<e;++n){if(!(i=arguments[n]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new xy(r)}function xy(n){this._=n}function tye(n,e){return n.trim().split(/^|\s+/).map(function(r){var i="",s=r.indexOf(".");if(s>=0&&(i=r.slice(s+1),r=r.slice(0,s)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}xy.prototype=Ug.prototype={constructor:xy,on:function(n,e){var r=this._,i=tye(n+"",r),s,o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((s=(n=i[o]).type)&&(s=nye(r[s],n.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(s=(n=i[o]).type)r[s]=Z4(r[s],n.name,e);else if(e==null)for(s in r)r[s]=Z4(r[s],n.name,null);return this},copy:function(){var n={},e=this._;for(var r in e)n[r]=e[r].slice();return new xy(n)},call:function(n,e){if((s=arguments.length-2)>0)for(var r=new Array(s),i=0,s,o;i<s;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(o=this._[n],i=0,s=o.length;i<s;++i)o[i].value.apply(e,r)},apply:function(n,e,r){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],s=0,o=i.length;s<o;++s)i[s].value.apply(e,r)}};function nye(n,e){for(var r=0,i=n.length,s;r<i;++r)if((s=n[r]).name===e)return s.value}function Z4(n,e,r){for(var i=0,s=n.length;i<s;++i)if(n[i].name===e){n[i]=eye,n=n.slice(0,i).concat(n.slice(i+1));break}return r!=null&&n.push({name:e,value:r}),n}var ZP="http://www.w3.org/1999/xhtml";const J4={svg:"http://www.w3.org/2000/svg",xhtml:ZP,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tw(n){var e=n+="",r=e.indexOf(":");return r>=0&&(e=n.slice(0,r))!=="xmlns"&&(n=n.slice(r+1)),J4.hasOwnProperty(e)?{space:J4[e],local:n}:n}function rye(n){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===ZP&&e.documentElement.namespaceURI===ZP?e.createElement(n):e.createElementNS(r,n)}}function iye(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function iQ(n){var e=tw(n);return(e.local?iye:rye)(e)}function sye(){}function hA(n){return n==null?sye:function(){return this.querySelector(n)}}function oye(n){typeof n!="function"&&(n=hA(n));for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s)for(var o=e[s],a=o.length,l=i[s]=new Array(a),c,u,f=0;f<a;++f)(c=o[f])&&(u=n.call(c,c.__data__,f,o))&&("__data__"in c&&(u.__data__=c.__data__),l[f]=u);return new Gr(i,this._parents)}function sQ(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function aye(){return[]}function oQ(n){return n==null?aye:function(){return this.querySelectorAll(n)}}function lye(n){return function(){return sQ(n.apply(this,arguments))}}function cye(n){typeof n=="function"?n=lye(n):n=oQ(n);for(var e=this._groups,r=e.length,i=[],s=[],o=0;o<r;++o)for(var a=e[o],l=a.length,c,u=0;u<l;++u)(c=a[u])&&(i.push(n.call(c,c.__data__,u,a)),s.push(c));return new Gr(i,s)}function aQ(n){return function(){return this.matches(n)}}function lQ(n){return function(e){return e.matches(n)}}var uye=Array.prototype.find;function dye(n){return function(){return uye.call(this.children,n)}}function fye(){return this.firstElementChild}function hye(n){return this.select(n==null?fye:dye(typeof n=="function"?n:lQ(n)))}var pye=Array.prototype.filter;function mye(){return Array.from(this.children)}function gye(n){return function(){return pye.call(this.children,n)}}function bye(n){return this.selectAll(n==null?mye:gye(typeof n=="function"?n:lQ(n)))}function yye(n){typeof n!="function"&&(n=aQ(n));for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s)for(var o=e[s],a=o.length,l=i[s]=[],c,u=0;u<a;++u)(c=o[u])&&n.call(c,c.__data__,u,o)&&l.push(c);return new Gr(i,this._parents)}function cQ(n){return new Array(n.length)}function vye(){return new Gr(this._enter||this._groups.map(cQ),this._parents)}function _v(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}_v.prototype={constructor:_v,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function xye(n){return function(){return n}}function wye(n,e,r,i,s,o){for(var a=0,l,c=e.length,u=o.length;a<u;++a)(l=e[a])?(l.__data__=o[a],i[a]=l):r[a]=new _v(n,o[a]);for(;a<c;++a)(l=e[a])&&(s[a]=l)}function _ye(n,e,r,i,s,o,a){var l,c,u=new Map,f=e.length,d=o.length,h=new Array(f),p;for(l=0;l<f;++l)(c=e[l])&&(h[l]=p=a.call(c,c.__data__,l,e)+"",u.has(p)?s[l]=c:u.set(p,c));for(l=0;l<d;++l)p=a.call(n,o[l],l,o)+"",(c=u.get(p))?(i[l]=c,c.__data__=o[l],u.delete(p)):r[l]=new _v(n,o[l]);for(l=0;l<f;++l)(c=e[l])&&u.get(h[l])===c&&(s[l]=c)}function Sye(n){return n.__data__}function kye(n,e){if(!arguments.length)return Array.from(this,Sye);var r=e?_ye:wye,i=this._parents,s=this._groups;typeof n!="function"&&(n=xye(n));for(var o=s.length,a=new Array(o),l=new Array(o),c=new Array(o),u=0;u<o;++u){var f=i[u],d=s[u],h=d.length,p=Cye(n.call(f,f&&f.__data__,u,i)),g=p.length,v=l[u]=new Array(g),y=a[u]=new Array(g),b=c[u]=new Array(h);r(f,d,v,y,b,p,e);for(var w=0,k=0,_,S;w<g;++w)if(_=v[w]){for(w>=k&&(k=w+1);!(S=y[k])&&++k<g;);_._next=S||null}}return a=new Gr(a,i),a._enter=l,a._exit=c,a}function Cye(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Tye(){return new Gr(this._exit||this._groups.map(cQ),this._parents)}function Eye(n,e,r){var i=this.enter(),s=this,o=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),e!=null&&(s=e(s),s&&(s=s.selection())),r==null?o.remove():r(o),i&&s?i.merge(s).order():s}function Dye(n){for(var e=n.selection?n.selection():n,r=this._groups,i=e._groups,s=r.length,o=i.length,a=Math.min(s,o),l=new Array(s),c=0;c<a;++c)for(var u=r[c],f=i[c],d=u.length,h=l[c]=new Array(d),p,g=0;g<d;++g)(p=u[g]||f[g])&&(h[g]=p);for(;c<s;++c)l[c]=r[c];return new Gr(l,this._parents)}function Pye(){for(var n=this._groups,e=-1,r=n.length;++e<r;)for(var i=n[e],s=i.length-1,o=i[s],a;--s>=0;)(a=i[s])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Iye(n){n||(n=Oye);function e(d,h){return d&&h?n(d.__data__,h.__data__):!d-!h}for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o){for(var a=r[o],l=a.length,c=s[o]=new Array(l),u,f=0;f<l;++f)(u=a[f])&&(c[f]=u);c.sort(e)}return new Gr(s,this._parents).order()}function Oye(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function Mye(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function Aye(){return Array.from(this)}function Rye(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],s=0,o=i.length;s<o;++s){var a=i[s];if(a)return a}return null}function Nye(){let n=0;for(const e of this)++n;return n}function jye(){return!this.node()}function Lye(n){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var s=e[r],o=0,a=s.length,l;o<a;++o)(l=s[o])&&n.call(l,l.__data__,o,s);return this}function Fye(n){return function(){this.removeAttribute(n)}}function $ye(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Bye(n,e){return function(){this.setAttribute(n,e)}}function zye(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function Uye(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(n):this.setAttribute(n,r)}}function qye(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}}function Wye(n,e){var r=tw(n);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((e==null?r.local?$ye:Fye:typeof e=="function"?r.local?qye:Uye:r.local?zye:Bye)(r,e))}function uQ(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Hye(n){return function(){this.style.removeProperty(n)}}function Gye(n,e,r){return function(){this.style.setProperty(n,e,r)}}function Yye(n,e,r){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,r)}}function Vye(n,e,r){return arguments.length>1?this.each((e==null?Hye:typeof e=="function"?Yye:Gye)(n,e,r??"")):Mf(this.node(),n)}function Mf(n,e){return n.style.getPropertyValue(e)||uQ(n).getComputedStyle(n,null).getPropertyValue(e)}function Kye(n){return function(){delete this[n]}}function Xye(n,e){return function(){this[n]=e}}function Qye(n,e){return function(){var r=e.apply(this,arguments);r==null?delete this[n]:this[n]=r}}function Zye(n,e){return arguments.length>1?this.each((e==null?Kye:typeof e=="function"?Qye:Xye)(n,e)):this.node()[n]}function dQ(n){return n.trim().split(/^|\s+/)}function pA(n){return n.classList||new fQ(n)}function fQ(n){this._node=n,this._names=dQ(n.getAttribute("class")||"")}fQ.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function hQ(n,e){for(var r=pA(n),i=-1,s=e.length;++i<s;)r.add(e[i])}function pQ(n,e){for(var r=pA(n),i=-1,s=e.length;++i<s;)r.remove(e[i])}function Jye(n){return function(){hQ(this,n)}}function eve(n){return function(){pQ(this,n)}}function tve(n,e){return function(){(e.apply(this,arguments)?hQ:pQ)(this,n)}}function nve(n,e){var r=dQ(n+"");if(arguments.length<2){for(var i=pA(this.node()),s=-1,o=r.length;++s<o;)if(!i.contains(r[s]))return!1;return!0}return this.each((typeof e=="function"?tve:e?Jye:eve)(r,e))}function rve(){this.textContent=""}function ive(n){return function(){this.textContent=n}}function sve(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function ove(n){return arguments.length?this.each(n==null?rve:(typeof n=="function"?sve:ive)(n)):this.node().textContent}function ave(){this.innerHTML=""}function lve(n){return function(){this.innerHTML=n}}function cve(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function uve(n){return arguments.length?this.each(n==null?ave:(typeof n=="function"?cve:lve)(n)):this.node().innerHTML}function dve(){this.nextSibling&&this.parentNode.appendChild(this)}function fve(){return this.each(dve)}function hve(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pve(){return this.each(hve)}function mve(n){var e=typeof n=="function"?n:iQ(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function gve(){return null}function bve(n,e){var r=typeof n=="function"?n:iQ(n),i=e==null?gve:typeof e=="function"?e:hA(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function yve(){var n=this.parentNode;n&&n.removeChild(this)}function vve(){return this.each(yve)}function xve(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function wve(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function _ve(n){return this.select(n?wve:xve)}function Sve(n){return arguments.length?this.property("__data__",n):this.node().__data__}function kve(n){return function(e){n.call(this,e,this.__data__)}}function Cve(n){return n.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");return i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),{type:e,name:r}})}function Tve(n){return function(){var e=this.__on;if(e){for(var r=0,i=-1,s=e.length,o;r<s;++r)o=e[r],(!n.type||o.type===n.type)&&o.name===n.name?this.removeEventListener(o.type,o.listener,o.options):e[++i]=o;++i?e.length=i:delete this.__on}}}function Eve(n,e,r){return function(){var i=this.__on,s,o=kve(e);if(i){for(var a=0,l=i.length;a<l;++a)if((s=i[a]).type===n.type&&s.name===n.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=r),s.value=e;return}}this.addEventListener(n.type,o,r),s={type:n.type,name:n.name,value:e,listener:o,options:r},i?i.push(s):this.__on=[s]}}function Dve(n,e,r){var i=Cve(n+""),s,o=i.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,f;c<u;++c)for(s=0,f=l[c];s<o;++s)if((a=i[s]).type===f.type&&a.name===f.name)return f.value}return}for(l=e?Eve:Tve,s=0;s<o;++s)this.each(l(i[s],e,r));return this}function mQ(n,e,r){var i=uQ(n),s=i.CustomEvent;typeof s=="function"?s=new s(e,r):(s=i.document.createEvent("Event"),r?(s.initEvent(e,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(e,!1,!1)),n.dispatchEvent(s)}function Pve(n,e){return function(){return mQ(this,n,e)}}function Ive(n,e){return function(){return mQ(this,n,e.apply(this,arguments))}}function Ove(n,e){return this.each((typeof e=="function"?Ive:Pve)(n,e))}function*Mve(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],s=0,o=i.length,a;s<o;++s)(a=i[s])&&(yield a)}var mA=[null];function Gr(n,e){this._groups=n,this._parents=e}function qg(){return new Gr([[document.documentElement]],mA)}function Ave(){return this}Gr.prototype=qg.prototype={constructor:Gr,select:oye,selectAll:cye,selectChild:hye,selectChildren:bye,filter:yye,data:kye,enter:vye,exit:Tye,join:Eye,merge:Dye,selection:Ave,order:Pye,sort:Iye,call:Mye,nodes:Aye,node:Rye,size:Nye,empty:jye,each:Lye,attr:Wye,style:Vye,property:Zye,classed:nve,text:ove,html:uve,raise:fve,lower:pve,append:mve,insert:bve,remove:vve,clone:_ve,datum:Sve,on:Dve,dispatch:Ove,[Symbol.iterator]:Mve};function Dr(n){return typeof n=="string"?new Gr([[document.querySelector(n)]],[document.documentElement]):new Gr([[n]],mA)}function Rve(n){let e;for(;e=n.sourceEvent;)n=e;return n}function Ps(n,e){if(n=Rve(n),e===void 0&&(e=n.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[n.clientX-s.left-e.clientLeft,n.clientY-s.top-e.clientTop]}}return[n.pageX,n.pageY]}function Nve(n){return typeof n=="string"?new Gr([document.querySelectorAll(n)],[document.documentElement]):new Gr([sQ(n)],mA)}const jve={passive:!1},Qm={capture:!0,passive:!1};function C_(n){n.stopImmediatePropagation()}function Ad(n){n.preventDefault(),n.stopImmediatePropagation()}function gQ(n){var e=n.document.documentElement,r=Dr(n).on("dragstart.drag",Ad,Qm);"onselectstart"in e?r.on("selectstart.drag",Ad,Qm):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function bQ(n,e){var r=n.document.documentElement,i=Dr(n).on("dragstart.drag",null);e&&(i.on("click.drag",Ad,Qm),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const bb=n=>()=>n;function JP(n,{sourceEvent:e,subject:r,target:i,identifier:s,active:o,x:a,y:l,dx:c,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}JP.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function Lve(n){return!n.ctrlKey&&!n.button}function Fve(){return this.parentNode}function $ve(n,e){return e??{x:n.x,y:n.y}}function Bve(){return navigator.maxTouchPoints||"ontouchstart"in this}function zve(){var n=Lve,e=Fve,r=$ve,i=Bve,s={},o=Ug("start","drag","end"),a=0,l,c,u,f,d=0;function h(_){_.on("mousedown.drag",p).filter(i).on("touchstart.drag",y).on("touchmove.drag",b,jve).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(_,S){if(!(f||!n.call(this,_,S))){var C=k(this,e.call(this,_,S),_,S,"mouse");C&&(Dr(_.view).on("mousemove.drag",g,Qm).on("mouseup.drag",v,Qm),gQ(_.view),C_(_),u=!1,l=_.clientX,c=_.clientY,C("start",_))}}function g(_){if(Ad(_),!u){var S=_.clientX-l,C=_.clientY-c;u=S*S+C*C>d}s.mouse("drag",_)}function v(_){Dr(_.view).on("mousemove.drag mouseup.drag",null),bQ(_.view,u),Ad(_),s.mouse("end",_)}function y(_,S){if(n.call(this,_,S)){var C=_.changedTouches,T=e.call(this,_,S),D=C.length,O,P;for(O=0;O<D;++O)(P=k(this,T,_,S,C[O].identifier,C[O]))&&(C_(_),P("start",_,C[O]))}}function b(_){var S=_.changedTouches,C=S.length,T,D;for(T=0;T<C;++T)(D=s[S[T].identifier])&&(Ad(_),D("drag",_,S[T]))}function w(_){var S=_.changedTouches,C=S.length,T,D;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),T=0;T<C;++T)(D=s[S[T].identifier])&&(C_(_),D("end",_,S[T]))}function k(_,S,C,T,D,O){var P=o.copy(),A=Ps(O||C,S),L,B,F;if((F=r.call(_,new JP("beforestart",{sourceEvent:C,target:h,identifier:D,active:a,x:A[0],y:A[1],dx:0,dy:0,dispatch:P}),T))!=null)return L=F.x-A[0]||0,B=F.y-A[1]||0,function $(U,N,q){var H=A,X;switch(U){case"start":s[D]=$,X=a++;break;case"end":delete s[D],--a;case"drag":A=Ps(q||N,S),X=a;break}P.call(U,_,new JP(U,{sourceEvent:N,subject:F,target:h,identifier:D,active:X,x:A[0]+L,y:A[1]+B,dx:A[0]-H[0],dy:A[1]-H[1],dispatch:P}),T)}}return h.filter=function(_){return arguments.length?(n=typeof _=="function"?_:bb(!!_),h):n},h.container=function(_){return arguments.length?(e=typeof _=="function"?_:bb(_),h):e},h.subject=function(_){return arguments.length?(r=typeof _=="function"?_:bb(_),h):r},h.touchable=function(_){return arguments.length?(i=typeof _=="function"?_:bb(!!_),h):i},h.on=function(){var _=o.on.apply(o,arguments);return _===o?h:_},h.clickDistance=function(_){return arguments.length?(d=(_=+_)*_,h):Math.sqrt(d)},h}function gA(n,e,r){n.prototype=e.prototype=r,r.constructor=n}function yQ(n,e){var r=Object.create(n.prototype);for(var i in e)r[i]=e[i];return r}function Wg(){}var Zm=.7,Sv=1/Zm,Rd="\\s*([+-]?\\d+)\\s*",Jm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uve=/^#([0-9a-f]{3,8})$/,qve=new RegExp(`^rgb\\(${Rd},${Rd},${Rd}\\)$`),Wve=new RegExp(`^rgb\\(${vo},${vo},${vo}\\)$`),Hve=new RegExp(`^rgba\\(${Rd},${Rd},${Rd},${Jm}\\)$`),Gve=new RegExp(`^rgba\\(${vo},${vo},${vo},${Jm}\\)$`),Yve=new RegExp(`^hsl\\(${Jm},${vo},${vo}\\)$`),Vve=new RegExp(`^hsla\\(${Jm},${vo},${vo},${Jm}\\)$`),ej={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gA(Wg,ou,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:tj,formatHex:tj,formatHex8:Kve,formatHsl:Xve,formatRgb:nj,toString:nj});function tj(){return this.rgb().formatHex()}function Kve(){return this.rgb().formatHex8()}function Xve(){return vQ(this).formatHsl()}function nj(){return this.rgb().formatRgb()}function ou(n){var e,r;return n=(n+"").trim().toLowerCase(),(e=Uve.exec(n))?(r=e[1].length,e=parseInt(e[1],16),r===6?rj(e):r===3?new li(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?yb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?yb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=qve.exec(n))?new li(e[1],e[2],e[3],1):(e=Wve.exec(n))?new li(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Hve.exec(n))?yb(e[1],e[2],e[3],e[4]):(e=Gve.exec(n))?yb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Yve.exec(n))?oj(e[1],e[2]/100,e[3]/100,1):(e=Vve.exec(n))?oj(e[1],e[2]/100,e[3]/100,e[4]):ej.hasOwnProperty(n)?rj(ej[n]):n==="transparent"?new li(NaN,NaN,NaN,0):null}function rj(n){return new li(n>>16&255,n>>8&255,n&255,1)}function yb(n,e,r,i){return i<=0&&(n=e=r=NaN),new li(n,e,r,i)}function Qve(n){return n instanceof Wg||(n=ou(n)),n?(n=n.rgb(),new li(n.r,n.g,n.b,n.opacity)):new li}function eI(n,e,r,i){return arguments.length===1?Qve(n):new li(n,e,r,i??1)}function li(n,e,r,i){this.r=+n,this.g=+e,this.b=+r,this.opacity=+i}gA(li,eI,yQ(Wg,{brighter(n){return n=n==null?Sv:Math.pow(Sv,n),new li(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Zm:Math.pow(Zm,n),new li(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new li(Wc(this.r),Wc(this.g),Wc(this.b),kv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ij,formatHex:ij,formatHex8:Zve,formatRgb:sj,toString:sj}));function ij(){return`#${kc(this.r)}${kc(this.g)}${kc(this.b)}`}function Zve(){return`#${kc(this.r)}${kc(this.g)}${kc(this.b)}${kc((isNaN(this.opacity)?1:this.opacity)*255)}`}function sj(){const n=kv(this.opacity);return`${n===1?"rgb(":"rgba("}${Wc(this.r)}, ${Wc(this.g)}, ${Wc(this.b)}${n===1?")":`, ${n})`}`}function kv(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Wc(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function kc(n){return n=Wc(n),(n<16?"0":"")+n.toString(16)}function oj(n,e,r,i){return i<=0?n=e=r=NaN:r<=0||r>=1?n=e=NaN:e<=0&&(n=NaN),new Ms(n,e,r,i)}function vQ(n){if(n instanceof Ms)return new Ms(n.h,n.s,n.l,n.opacity);if(n instanceof Wg||(n=ou(n)),!n)return new Ms;if(n instanceof Ms)return n;n=n.rgb();var e=n.r/255,r=n.g/255,i=n.b/255,s=Math.min(e,r,i),o=Math.max(e,r,i),a=NaN,l=o-s,c=(o+s)/2;return l?(e===o?a=(r-i)/l+(r<i)*6:r===o?a=(i-e)/l+2:a=(e-r)/l+4,l/=c<.5?o+s:2-o-s,a*=60):l=c>0&&c<1?0:a,new Ms(a,l,c,n.opacity)}function Jve(n,e,r,i){return arguments.length===1?vQ(n):new Ms(n,e,r,i??1)}function Ms(n,e,r,i){this.h=+n,this.s=+e,this.l=+r,this.opacity=+i}gA(Ms,Jve,yQ(Wg,{brighter(n){return n=n==null?Sv:Math.pow(Sv,n),new Ms(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Zm:Math.pow(Zm,n),new Ms(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,s=2*r-i;return new li(T_(n>=240?n-240:n+120,s,i),T_(n,s,i),T_(n<120?n+240:n-120,s,i),this.opacity)},clamp(){return new Ms(aj(this.h),vb(this.s),vb(this.l),kv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=kv(this.opacity);return`${n===1?"hsl(":"hsla("}${aj(this.h)}, ${vb(this.s)*100}%, ${vb(this.l)*100}%${n===1?")":`, ${n})`}`}}));function aj(n){return n=(n||0)%360,n<0?n+360:n}function vb(n){return Math.max(0,Math.min(1,n||0))}function T_(n,e,r){return(n<60?e+(r-e)*n/60:n<180?r:n<240?e+(r-e)*(240-n)/60:e)*255}const bA=n=>()=>n;function exe(n,e){return function(r){return n+r*e}}function txe(n,e,r){return n=Math.pow(n,r),e=Math.pow(e,r)-n,r=1/r,function(i){return Math.pow(n+i*e,r)}}function nxe(n){return(n=+n)==1?xQ:function(e,r){return r-e?txe(e,r,n):bA(isNaN(e)?r:e)}}function xQ(n,e){var r=e-n;return r?exe(n,r):bA(isNaN(n)?e:n)}const Cv=function n(e){var r=nxe(e);function i(s,o){var a=r((s=eI(s)).r,(o=eI(o)).r),l=r(s.g,o.g),c=r(s.b,o.b),u=xQ(s.opacity,o.opacity);return function(f){return s.r=a(f),s.g=l(f),s.b=c(f),s.opacity=u(f),s+""}}return i.gamma=n,i}(1);function rxe(n,e){e||(e=[]);var r=n?Math.min(e.length,n.length):0,i=e.slice(),s;return function(o){for(s=0;s<r;++s)i[s]=n[s]*(1-o)+e[s]*o;return i}}function ixe(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function sxe(n,e){var r=e?e.length:0,i=n?Math.min(r,n.length):0,s=new Array(i),o=new Array(r),a;for(a=0;a<i;++a)s[a]=yA(n[a],e[a]);for(;a<r;++a)o[a]=e[a];return function(l){for(a=0;a<i;++a)o[a]=s[a](l);return o}}function oxe(n,e){var r=new Date;return n=+n,e=+e,function(i){return r.setTime(n*(1-i)+e*i),r}}function Os(n,e){return n=+n,e=+e,function(r){return n*(1-r)+e*r}}function axe(n,e){var r={},i={},s;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in n?r[s]=yA(n[s],e[s]):i[s]=e[s];return function(o){for(s in r)i[s]=r[s](o);return i}}var tI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,E_=new RegExp(tI.source,"g");function lxe(n){return function(){return n}}function cxe(n){return function(e){return n(e)+""}}function wQ(n,e){var r=tI.lastIndex=E_.lastIndex=0,i,s,o,a=-1,l=[],c=[];for(n=n+"",e=e+"";(i=tI.exec(n))&&(s=E_.exec(e));)(o=s.index)>r&&(o=e.slice(r,o),l[a]?l[a]+=o:l[++a]=o),(i=i[0])===(s=s[0])?l[a]?l[a]+=s:l[++a]=s:(l[++a]=null,c.push({i:a,x:Os(i,s)})),r=E_.lastIndex;return r<e.length&&(o=e.slice(r),l[a]?l[a]+=o:l[++a]=o),l.length<2?c[0]?cxe(c[0].x):lxe(e):(e=c.length,function(u){for(var f=0,d;f<e;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function yA(n,e){var r=typeof e,i;return e==null||r==="boolean"?bA(e):(r==="number"?Os:r==="string"?(i=ou(e))?(e=i,Cv):wQ:e instanceof ou?Cv:e instanceof Date?oxe:ixe(e)?rxe:Array.isArray(e)?sxe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?axe:Os)(n,e)}function uxe(n,e){return n=+n,e=+e,function(r){return Math.round(n*(1-r)+e*r)}}var lj=180/Math.PI,nI={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _Q(n,e,r,i,s,o){var a,l,c;return(a=Math.sqrt(n*n+e*e))&&(n/=a,e/=a),(c=n*r+e*i)&&(r-=n*c,i-=e*c),(l=Math.sqrt(r*r+i*i))&&(r/=l,i/=l,c/=l),n*i<e*r&&(n=-n,e=-e,c=-c,a=-a),{translateX:s,translateY:o,rotate:Math.atan2(e,n)*lj,skewX:Math.atan(c)*lj,scaleX:a,scaleY:l}}var xb;function dxe(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?nI:_Q(e.a,e.b,e.c,e.d,e.e,e.f)}function fxe(n){return n==null||(xb||(xb=document.createElementNS("http://www.w3.org/2000/svg","g")),xb.setAttribute("transform",n),!(n=xb.transform.baseVal.consolidate()))?nI:(n=n.matrix,_Q(n.a,n.b,n.c,n.d,n.e,n.f))}function SQ(n,e,r,i){function s(u){return u.length?u.pop()+" ":""}function o(u,f,d,h,p,g){if(u!==d||f!==h){var v=p.push("translate(",null,e,null,r);g.push({i:v-4,x:Os(u,d)},{i:v-2,x:Os(f,h)})}else(d||h)&&p.push("translate("+d+e+h+r)}function a(u,f,d,h){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),h.push({i:d.push(s(d)+"rotate(",null,i)-2,x:Os(u,f)})):f&&d.push(s(d)+"rotate("+f+i)}function l(u,f,d,h){u!==f?h.push({i:d.push(s(d)+"skewX(",null,i)-2,x:Os(u,f)}):f&&d.push(s(d)+"skewX("+f+i)}function c(u,f,d,h,p,g){if(u!==d||f!==h){var v=p.push(s(p)+"scale(",null,",",null,")");g.push({i:v-4,x:Os(u,d)},{i:v-2,x:Os(f,h)})}else(d!==1||h!==1)&&p.push(s(p)+"scale("+d+","+h+")")}return function(u,f){var d=[],h=[];return u=n(u),f=n(f),o(u.translateX,u.translateY,f.translateX,f.translateY,d,h),a(u.rotate,f.rotate,d,h),l(u.skewX,f.skewX,d,h),c(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,h),u=f=null,function(p){for(var g=-1,v=h.length,y;++g<v;)d[(y=h[g]).i]=y.x(p);return d.join("")}}}var hxe=SQ(dxe,"px, ","px)","deg)"),pxe=SQ(fxe,", ",")",")"),mxe=1e-12;function cj(n){return((n=Math.exp(n))+1/n)/2}function gxe(n){return((n=Math.exp(n))-1/n)/2}function bxe(n){return((n=Math.exp(2*n))-1)/(n+1)}const yxe=function n(e,r,i){function s(o,a){var l=o[0],c=o[1],u=o[2],f=a[0],d=a[1],h=a[2],p=f-l,g=d-c,v=p*p+g*g,y,b;if(v<mxe)b=Math.log(h/u)/e,y=function(T){return[l+T*p,c+T*g,u*Math.exp(e*T*b)]};else{var w=Math.sqrt(v),k=(h*h-u*u+i*v)/(2*u*r*w),_=(h*h-u*u-i*v)/(2*h*r*w),S=Math.log(Math.sqrt(k*k+1)-k),C=Math.log(Math.sqrt(_*_+1)-_);b=(C-S)/e,y=function(T){var D=T*b,O=cj(S),P=u/(r*w)*(O*bxe(e*D+S)-gxe(S));return[l+P*p,c+P*g,u*O/cj(e*D+S)]}}return y.duration=b*1e3*e/Math.SQRT2,y}return s.rho=function(o){var a=Math.max(.001,+o),l=a*a,c=l*l;return n(a,l,c)},s}(Math.SQRT2,2,4);var Af=0,kp=0,Kh=0,kQ=1e3,Tv,Cp,Ev=0,au=0,nw=0,eg=typeof performance=="object"&&performance.now?performance:Date,CQ=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function vA(){return au||(CQ(vxe),au=eg.now()+nw)}function vxe(){au=0}function Dv(){this._call=this._time=this._next=null}Dv.prototype=xA.prototype={constructor:Dv,restart:function(n,e,r){if(typeof n!="function")throw new TypeError("callback is not a function");r=(r==null?vA():+r)+(e==null?0:+e),!this._next&&Cp!==this&&(Cp?Cp._next=this:Tv=this,Cp=this),this._call=n,this._time=r,rI()},stop:function(){this._call&&(this._call=null,this._time=1/0,rI())}};function xA(n,e,r){var i=new Dv;return i.restart(n,e,r),i}function xxe(){vA(),++Af;for(var n=Tv,e;n;)(e=au-n._time)>=0&&n._call.call(void 0,e),n=n._next;--Af}function uj(){au=(Ev=eg.now())+nw,Af=kp=0;try{xxe()}finally{Af=0,_xe(),au=0}}function wxe(){var n=eg.now(),e=n-Ev;e>kQ&&(nw-=e,Ev=n)}function _xe(){for(var n,e=Tv,r,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(r=e._next,e._next=null,e=n?n._next=r:Tv=r);Cp=n,rI(i)}function rI(n){if(!Af){kp&&(kp=clearTimeout(kp));var e=n-au;e>24?(n<1/0&&(kp=setTimeout(uj,n-eg.now()-nw)),Kh&&(Kh=clearInterval(Kh))):(Kh||(Ev=eg.now(),Kh=setInterval(wxe,kQ)),Af=1,CQ(uj))}}function dj(n,e,r){var i=new Dv;return e=e==null?0:+e,i.restart(s=>{i.stop(),n(s+e)},e,r),i}var Sxe=Ug("start","end","cancel","interrupt"),kxe=[],TQ=0,fj=1,iI=2,wy=3,hj=4,sI=5,_y=6;function rw(n,e,r,i,s,o){var a=n.__transition;if(!a)n.__transition={};else if(r in a)return;Cxe(n,r,{name:e,index:i,group:s,on:Sxe,tween:kxe,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:TQ})}function wA(n,e){var r=Us(n,e);if(r.state>TQ)throw new Error("too late; already scheduled");return r}function Co(n,e){var r=Us(n,e);if(r.state>wy)throw new Error("too late; already running");return r}function Us(n,e){var r=n.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function Cxe(n,e,r){var i=n.__transition,s;i[e]=r,r.timer=xA(o,0,r.time);function o(u){r.state=fj,r.timer.restart(a,r.delay,r.time),r.delay<=u&&a(u-r.delay)}function a(u){var f,d,h,p;if(r.state!==fj)return c();for(f in i)if(p=i[f],p.name===r.name){if(p.state===wy)return dj(a);p.state===hj?(p.state=_y,p.timer.stop(),p.on.call("interrupt",n,n.__data__,p.index,p.group),delete i[f]):+f<e&&(p.state=_y,p.timer.stop(),p.on.call("cancel",n,n.__data__,p.index,p.group),delete i[f])}if(dj(function(){r.state===wy&&(r.state=hj,r.timer.restart(l,r.delay,r.time),l(u))}),r.state=iI,r.on.call("start",n,n.__data__,r.index,r.group),r.state===iI){for(r.state=wy,s=new Array(h=r.tween.length),f=0,d=-1;f<h;++f)(p=r.tween[f].value.call(n,n.__data__,r.index,r.group))&&(s[++d]=p);s.length=d+1}}function l(u){for(var f=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=sI,1),d=-1,h=s.length;++d<h;)s[d].call(n,f);r.state===sI&&(r.on.call("end",n,n.__data__,r.index,r.group),c())}function c(){r.state=_y,r.timer.stop(),delete i[e];for(var u in i)return;delete n.__transition}}function Sy(n,e){var r=n.__transition,i,s,o=!0,a;if(r){e=e==null?null:e+"";for(a in r){if((i=r[a]).name!==e){o=!1;continue}s=i.state>iI&&i.state<sI,i.state=_y,i.timer.stop(),i.on.call(s?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete r[a]}o&&delete n.__transition}}function Txe(n){return this.each(function(){Sy(this,n)})}function Exe(n,e){var r,i;return function(){var s=Co(this,n),o=s.tween;if(o!==r){i=r=o;for(var a=0,l=i.length;a<l;++a)if(i[a].name===e){i=i.slice(),i.splice(a,1);break}}s.tween=i}}function Dxe(n,e,r){var i,s;if(typeof r!="function")throw new Error;return function(){var o=Co(this,n),a=o.tween;if(a!==i){s=(i=a).slice();for(var l={name:e,value:r},c=0,u=s.length;c<u;++c)if(s[c].name===e){s[c]=l;break}c===u&&s.push(l)}o.tween=s}}function Pxe(n,e){var r=this._id;if(n+="",arguments.length<2){for(var i=Us(this.node(),r).tween,s=0,o=i.length,a;s<o;++s)if((a=i[s]).name===n)return a.value;return null}return this.each((e==null?Exe:Dxe)(r,n,e))}function _A(n,e,r){var i=n._id;return n.each(function(){var s=Co(this,i);(s.value||(s.value={}))[e]=r.apply(this,arguments)}),function(s){return Us(s,i).value[e]}}function EQ(n,e){var r;return(typeof e=="number"?Os:e instanceof ou?Cv:(r=ou(e))?(e=r,Cv):wQ)(n,e)}function Ixe(n){return function(){this.removeAttribute(n)}}function Oxe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Mxe(n,e,r){var i,s=r+"",o;return function(){var a=this.getAttribute(n);return a===s?null:a===i?o:o=e(i=a,r)}}function Axe(n,e,r){var i,s=r+"",o;return function(){var a=this.getAttributeNS(n.space,n.local);return a===s?null:a===i?o:o=e(i=a,r)}}function Rxe(n,e,r){var i,s,o;return function(){var a,l=r(this),c;return l==null?void this.removeAttribute(n):(a=this.getAttribute(n),c=l+"",a===c?null:a===i&&c===s?o:(s=c,o=e(i=a,l)))}}function Nxe(n,e,r){var i,s,o;return function(){var a,l=r(this),c;return l==null?void this.removeAttributeNS(n.space,n.local):(a=this.getAttributeNS(n.space,n.local),c=l+"",a===c?null:a===i&&c===s?o:(s=c,o=e(i=a,l)))}}function jxe(n,e){var r=tw(n),i=r==="transform"?pxe:EQ;return this.attrTween(n,typeof e=="function"?(r.local?Nxe:Rxe)(r,i,_A(this,"attr."+n,e)):e==null?(r.local?Oxe:Ixe)(r):(r.local?Axe:Mxe)(r,i,e))}function Lxe(n,e){return function(r){this.setAttribute(n,e.call(this,r))}}function Fxe(n,e){return function(r){this.setAttributeNS(n.space,n.local,e.call(this,r))}}function $xe(n,e){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Fxe(n,o)),r}return s._value=e,s}function Bxe(n,e){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Lxe(n,o)),r}return s._value=e,s}function zxe(n,e){var r="attr."+n;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var i=tw(n);return this.tween(r,(i.local?$xe:Bxe)(i,e))}function Uxe(n,e){return function(){wA(this,n).delay=+e.apply(this,arguments)}}function qxe(n,e){return e=+e,function(){wA(this,n).delay=e}}function Wxe(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?Uxe:qxe)(e,n)):Us(this.node(),e).delay}function Hxe(n,e){return function(){Co(this,n).duration=+e.apply(this,arguments)}}function Gxe(n,e){return e=+e,function(){Co(this,n).duration=e}}function Yxe(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?Hxe:Gxe)(e,n)):Us(this.node(),e).duration}function Vxe(n,e){if(typeof e!="function")throw new Error;return function(){Co(this,n).ease=e}}function Kxe(n){var e=this._id;return arguments.length?this.each(Vxe(e,n)):Us(this.node(),e).ease}function Xxe(n,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Co(this,n).ease=r}}function Qxe(n){if(typeof n!="function")throw new Error;return this.each(Xxe(this._id,n))}function Zxe(n){typeof n!="function"&&(n=aQ(n));for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s)for(var o=e[s],a=o.length,l=i[s]=[],c,u=0;u<a;++u)(c=o[u])&&n.call(c,c.__data__,u,o)&&l.push(c);return new wa(i,this._parents,this._name,this._id)}function Jxe(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,r=n._groups,i=e.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=e[l],u=r[l],f=c.length,d=a[l]=new Array(f),h,p=0;p<f;++p)(h=c[p]||u[p])&&(d[p]=h);for(;l<i;++l)a[l]=e[l];return new wa(a,this._parents,this._name,this._id)}function ewe(n){return(n+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function twe(n,e,r){var i,s,o=ewe(e)?wA:Co;return function(){var a=o(this,n),l=a.on;l!==i&&(s=(i=l).copy()).on(e,r),a.on=s}}function nwe(n,e){var r=this._id;return arguments.length<2?Us(this.node(),r).on.on(n):this.each(twe(r,n,e))}function rwe(n){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==n)return;e&&e.removeChild(this)}}function iwe(){return this.on("end.remove",rwe(this._id))}function swe(n){var e=this._name,r=this._id;typeof n!="function"&&(n=hA(n));for(var i=this._groups,s=i.length,o=new Array(s),a=0;a<s;++a)for(var l=i[a],c=l.length,u=o[a]=new Array(c),f,d,h=0;h<c;++h)(f=l[h])&&(d=n.call(f,f.__data__,h,l))&&("__data__"in f&&(d.__data__=f.__data__),u[h]=d,rw(u[h],e,r,h,u,Us(f,r)));return new wa(o,this._parents,e,r)}function owe(n){var e=this._name,r=this._id;typeof n!="function"&&(n=oQ(n));for(var i=this._groups,s=i.length,o=[],a=[],l=0;l<s;++l)for(var c=i[l],u=c.length,f,d=0;d<u;++d)if(f=c[d]){for(var h=n.call(f,f.__data__,d,c),p,g=Us(f,r),v=0,y=h.length;v<y;++v)(p=h[v])&&rw(p,e,r,v,h,g);o.push(h),a.push(f)}return new wa(o,a,e,r)}var awe=qg.prototype.constructor;function lwe(){return new awe(this._groups,this._parents)}function cwe(n,e){var r,i,s;return function(){var o=Mf(this,n),a=(this.style.removeProperty(n),Mf(this,n));return o===a?null:o===r&&a===i?s:s=e(r=o,i=a)}}function DQ(n){return function(){this.style.removeProperty(n)}}function uwe(n,e,r){var i,s=r+"",o;return function(){var a=Mf(this,n);return a===s?null:a===i?o:o=e(i=a,r)}}function dwe(n,e,r){var i,s,o;return function(){var a=Mf(this,n),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(n),Mf(this,n))),a===c?null:a===i&&c===s?o:(s=c,o=e(i=a,l))}}function fwe(n,e){var r,i,s,o="style."+e,a="end."+o,l;return function(){var c=Co(this,n),u=c.on,f=c.value[o]==null?l||(l=DQ(e)):void 0;(u!==r||s!==f)&&(i=(r=u).copy()).on(a,s=f),c.on=i}}function hwe(n,e,r){var i=(n+="")=="transform"?hxe:EQ;return e==null?this.styleTween(n,cwe(n,i)).on("end.style."+n,DQ(n)):typeof e=="function"?this.styleTween(n,dwe(n,i,_A(this,"style."+n,e))).each(fwe(this._id,n)):this.styleTween(n,uwe(n,i,e),r).on("end.style."+n,null)}function pwe(n,e,r){return function(i){this.style.setProperty(n,e.call(this,i),r)}}function mwe(n,e,r){var i,s;function o(){var a=e.apply(this,arguments);return a!==s&&(i=(s=a)&&pwe(n,a,r)),i}return o._value=e,o}function gwe(n,e,r){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,mwe(n,e,r??""))}function bwe(n){return function(){this.textContent=n}}function ywe(n){return function(){var e=n(this);this.textContent=e??""}}function vwe(n){return this.tween("text",typeof n=="function"?ywe(_A(this,"text",n)):bwe(n==null?"":n+""))}function xwe(n){return function(e){this.textContent=n.call(this,e)}}function wwe(n){var e,r;function i(){var s=n.apply(this,arguments);return s!==r&&(e=(r=s)&&xwe(s)),e}return i._value=n,i}function _we(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,wwe(n))}function Swe(){for(var n=this._name,e=this._id,r=PQ(),i=this._groups,s=i.length,o=0;o<s;++o)for(var a=i[o],l=a.length,c,u=0;u<l;++u)if(c=a[u]){var f=Us(c,e);rw(c,n,r,u,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new wa(i,this._parents,n,r)}function kwe(){var n,e,r=this,i=r._id,s=r.size();return new Promise(function(o,a){var l={value:a},c={value:function(){--s===0&&o()}};r.each(function(){var u=Co(this,i),f=u.on;f!==n&&(e=(n=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),u.on=e}),s===0&&o()})}var Cwe=0;function wa(n,e,r,i){this._groups=n,this._parents=e,this._name=r,this._id=i}function PQ(){return++Cwe}var jo=qg.prototype;wa.prototype={constructor:wa,select:swe,selectAll:owe,selectChild:jo.selectChild,selectChildren:jo.selectChildren,filter:Zxe,merge:Jxe,selection:lwe,transition:Swe,call:jo.call,nodes:jo.nodes,node:jo.node,size:jo.size,empty:jo.empty,each:jo.each,on:nwe,attr:jxe,attrTween:zxe,style:hwe,styleTween:gwe,text:vwe,textTween:_we,remove:iwe,tween:Pxe,delay:Wxe,duration:Yxe,ease:Kxe,easeVarying:Qxe,end:kwe,[Symbol.iterator]:jo[Symbol.iterator]};function Twe(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var Ewe={time:null,delay:0,duration:250,ease:Twe};function Dwe(n,e){for(var r;!(r=n.__transition)||!(r=r[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return r}function Pwe(n){var e,r;n instanceof wa?(e=n._id,n=n._name):(e=PQ(),(r=Ewe).time=vA(),n=n==null?null:n+"");for(var i=this._groups,s=i.length,o=0;o<s;++o)for(var a=i[o],l=a.length,c,u=0;u<l;++u)(c=a[u])&&rw(c,n,e,u,a,r||Dwe(c,e));return new wa(i,this._parents,n,e)}qg.prototype.interrupt=Txe;qg.prototype.transition=Pwe;function Iwe(n){const e=+this._x.call(null,n),r=+this._y.call(null,n);return IQ(this.cover(e,r),e,r,n)}function IQ(n,e,r,i){if(isNaN(e)||isNaN(r))return n;var s,o=n._root,a={data:i},l=n._x0,c=n._y0,u=n._x1,f=n._y1,d,h,p,g,v,y,b,w;if(!o)return n._root=a,n;for(;o.length;)if((v=e>=(d=(l+u)/2))?l=d:u=d,(y=r>=(h=(c+f)/2))?c=h:f=h,s=o,!(o=o[b=y<<1|v]))return s[b]=a,n;if(p=+n._x.call(null,o.data),g=+n._y.call(null,o.data),e===p&&r===g)return a.next=o,s?s[b]=a:n._root=a,n;do s=s?s[b]=new Array(4):n._root=new Array(4),(v=e>=(d=(l+u)/2))?l=d:u=d,(y=r>=(h=(c+f)/2))?c=h:f=h;while((b=y<<1|v)===(w=(g>=h)<<1|p>=d));return s[w]=o,s[b]=a,n}function Owe(n){var e,r,i=n.length,s,o,a=new Array(i),l=new Array(i),c=1/0,u=1/0,f=-1/0,d=-1/0;for(r=0;r<i;++r)isNaN(s=+this._x.call(null,e=n[r]))||isNaN(o=+this._y.call(null,e))||(a[r]=s,l[r]=o,s<c&&(c=s),s>f&&(f=s),o<u&&(u=o),o>d&&(d=o));if(c>f||u>d)return this;for(this.cover(c,u).cover(f,d),r=0;r<i;++r)IQ(this,a[r],l[r],n[r]);return this}function Mwe(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var r=this._x0,i=this._y0,s=this._x1,o=this._y1;if(isNaN(r))s=(r=Math.floor(n))+1,o=(i=Math.floor(e))+1;else{for(var a=s-r||1,l=this._root,c,u;r>n||n>=s||i>e||e>=o;)switch(u=(e<i)<<1|n<r,c=new Array(4),c[u]=l,l=c,a*=2,u){case 0:s=r+a,o=i+a;break;case 1:r=s-a,o=i+a;break;case 2:s=r+a,i=o-a;break;case 3:r=s-a,i=o-a;break}this._root&&this._root.length&&(this._root=l)}return this._x0=r,this._y0=i,this._x1=s,this._y1=o,this}function Awe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function Rwe(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Br(n,e,r,i,s){this.node=n,this.x0=e,this.y0=r,this.x1=i,this.y1=s}function Nwe(n,e,r){var i,s=this._x0,o=this._y0,a,l,c,u,f=this._x1,d=this._y1,h=[],p=this._root,g,v;for(p&&h.push(new Br(p,s,o,f,d)),r==null?r=1/0:(s=n-r,o=e-r,f=n+r,d=e+r,r*=r);g=h.pop();)if(!(!(p=g.node)||(a=g.x0)>f||(l=g.y0)>d||(c=g.x1)<s||(u=g.y1)<o))if(p.length){var y=(a+c)/2,b=(l+u)/2;h.push(new Br(p[3],y,b,c,u),new Br(p[2],a,b,y,u),new Br(p[1],y,l,c,b),new Br(p[0],a,l,y,b)),(v=(e>=b)<<1|n>=y)&&(g=h[h.length-1],h[h.length-1]=h[h.length-1-v],h[h.length-1-v]=g)}else{var w=n-+this._x.call(null,p.data),k=e-+this._y.call(null,p.data),_=w*w+k*k;if(_<r){var S=Math.sqrt(r=_);s=n-S,o=e-S,f=n+S,d=e+S,i=p.data}}return i}function jwe(n){if(isNaN(f=+this._x.call(null,n))||isNaN(d=+this._y.call(null,n)))return this;var e,r=this._root,i,s,o,a=this._x0,l=this._y0,c=this._x1,u=this._y1,f,d,h,p,g,v,y,b;if(!r)return this;if(r.length)for(;;){if((g=f>=(h=(a+c)/2))?a=h:c=h,(v=d>=(p=(l+u)/2))?l=p:u=p,e=r,!(r=r[y=v<<1|g]))return this;if(!r.length)break;(e[y+1&3]||e[y+2&3]||e[y+3&3])&&(i=e,b=y)}for(;r.data!==n;)if(s=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,s?(o?s.next=o:delete s.next,this):e?(o?e[y]=o:delete e[y],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[b]=r:this._root=r),this):(this._root=o,this)}function Lwe(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function Fwe(){return this._root}function $we(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function Bwe(n){var e=[],r,i=this._root,s,o,a,l,c;for(i&&e.push(new Br(i,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!n(i=r.node,o=r.x0,a=r.y0,l=r.x1,c=r.y1)&&i.length){var u=(o+l)/2,f=(a+c)/2;(s=i[3])&&e.push(new Br(s,u,f,l,c)),(s=i[2])&&e.push(new Br(s,o,f,u,c)),(s=i[1])&&e.push(new Br(s,u,a,l,f)),(s=i[0])&&e.push(new Br(s,o,a,u,f))}return this}function zwe(n){var e=[],r=[],i;for(this._root&&e.push(new Br(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var s=i.node;if(s.length){var o,a=i.x0,l=i.y0,c=i.x1,u=i.y1,f=(a+c)/2,d=(l+u)/2;(o=s[0])&&e.push(new Br(o,a,l,f,d)),(o=s[1])&&e.push(new Br(o,f,l,c,d)),(o=s[2])&&e.push(new Br(o,a,d,f,u)),(o=s[3])&&e.push(new Br(o,f,d,c,u))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this}function Uwe(n){return n[0]}function qwe(n){return arguments.length?(this._x=n,this):this._x}function Wwe(n){return n[1]}function Hwe(n){return arguments.length?(this._y=n,this):this._y}function OQ(n,e,r){var i=new SA(e??Uwe,r??Wwe,NaN,NaN,NaN,NaN);return n==null?i:i.addAll(n)}function SA(n,e,r,i,s,o){this._x=n,this._y=e,this._x0=r,this._y0=i,this._x1=s,this._y1=o,this._root=void 0}function pj(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var Xr=OQ.prototype=SA.prototype;Xr.copy=function(){var n=new SA(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=pj(e),n;for(r=[{source:e,target:n._root=new Array(4)}];e=r.pop();)for(var s=0;s<4;++s)(i=e.source[s])&&(i.length?r.push({source:i,target:e.target[s]=new Array(4)}):e.target[s]=pj(i));return n};Xr.add=Iwe;Xr.addAll=Owe;Xr.cover=Mwe;Xr.data=Awe;Xr.extent=Rwe;Xr.find=Nwe;Xr.remove=jwe;Xr.removeAll=Lwe;Xr.root=Fwe;Xr.size=$we;Xr.visit=Bwe;Xr.visitAfter=zwe;Xr.x=qwe;Xr.y=Hwe;function Gwe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function Pv(n,e){if((r=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var r,i=n.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+n.slice(r+1)]}function Rf(n){return n=Pv(Math.abs(n)),n?n[1]:NaN}function Ywe(n,e){return function(r,i){for(var s=r.length,o=[],a=0,l=n[0],c=0;s>0&&l>0&&(c+l+1>i&&(l=Math.max(1,i-c)),o.push(r.substring(s-=l,s+l)),!((c+=l+1)>i));)l=n[a=(a+1)%n.length];return o.reverse().join(e)}}function Vwe(n){return function(e){return e.replace(/[0-9]/g,function(r){return n[+r]})}}var Kwe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Iv(n){if(!(e=Kwe.exec(n)))throw new Error("invalid format: "+n);var e;return new kA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Iv.prototype=kA.prototype;function kA(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}kA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xwe(n){e:for(var e=n.length,r=1,i=-1,s;r<e;++r)switch(n[r]){case".":i=s=r;break;case"0":i===0&&(i=r),s=r;break;default:if(!+n[r])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(s+1):n}var MQ;function Qwe(n,e){var r=Pv(n,e);if(!r)return n+"";var i=r[0],s=r[1],o=s-(MQ=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Pv(n,Math.max(0,e+o-1))[0]}function mj(n,e){var r=Pv(n,e);if(!r)return n+"";var i=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}const gj={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Gwe,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>mj(n*100,e),r:mj,s:Qwe,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function bj(n){return n}var yj=Array.prototype.map,vj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Zwe(n){var e=n.grouping===void 0||n.thousands===void 0?bj:Ywe(yj.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",s=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?bj:Vwe(yj.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",l=n.minus===void 0?"":n.minus+"",c=n.nan===void 0?"NaN":n.nan+"";function u(d){d=Iv(d);var h=d.fill,p=d.align,g=d.sign,v=d.symbol,y=d.zero,b=d.width,w=d.comma,k=d.precision,_=d.trim,S=d.type;S==="n"?(w=!0,S="g"):gj[S]||(k===void 0&&(k=12),_=!0,S="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var C=v==="$"?r:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",T=v==="$"?i:/[%p]/.test(S)?a:"",D=gj[S],O=/[defgprs%]/.test(S);k=k===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function P(A){var L=C,B=T,F,$,U;if(S==="c")B=D(A)+B,A="";else{A=+A;var N=A<0||1/A<0;if(A=isNaN(A)?c:D(Math.abs(A),k),_&&(A=Xwe(A)),N&&+A==0&&g!=="+"&&(N=!1),L=(N?g==="("?g:l:g==="-"||g==="("?"":g)+L,B=(S==="s"?vj[8+MQ/3]:"")+B+(N&&g==="("?")":""),O){for(F=-1,$=A.length;++F<$;)if(U=A.charCodeAt(F),48>U||U>57){B=(U===46?s+A.slice(F+1):A.slice(F))+B,A=A.slice(0,F);break}}}w&&!y&&(A=e(A,1/0));var q=L.length+A.length+B.length,H=q<b?new Array(b-q+1).join(h):"";switch(w&&y&&(A=e(H+A,H.length?b-B.length:1/0),H=""),p){case"<":A=L+A+B+H;break;case"=":A=L+H+A+B;break;case"^":A=H.slice(0,q=H.length>>1)+L+A+B+H.slice(q);break;default:A=H+L+A+B;break}return o(A)}return P.toString=function(){return d+""},P}function f(d,h){var p=u((d=Iv(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Rf(h)/3)))*3,v=Math.pow(10,-g),y=vj[8+g/3];return function(b){return p(v*b)+y}}return{format:u,formatPrefix:f}}var wb,AQ,RQ;Jwe({thousands:",",grouping:[3],currency:["$",""]});function Jwe(n){return wb=Zwe(n),AQ=wb.format,RQ=wb.formatPrefix,wb}function e1e(n){return Math.max(0,-Rf(Math.abs(n)))}function t1e(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rf(e)/3)))*3-Rf(Math.abs(n)))}function n1e(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,Rf(e)-Rf(n))+1}function CA(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const xj=Symbol("implicit");function TA(){var n=new Y4,e=[],r=[],i=xj;function s(o){let a=n.get(o);if(a===void 0){if(i!==xj)return i;n.set(o,a=e.push(o)-1)}return r[a%r.length]}return s.domain=function(o){if(!arguments.length)return e.slice();e=[],n=new Y4;for(const a of o)n.has(a)||n.set(a,e.push(a)-1);return s},s.range=function(o){return arguments.length?(r=Array.from(o),s):r.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.copy=function(){return TA(e,r).unknown(i)},CA.apply(s,arguments),s}function NQ(){var n=TA().unknown(void 0),e=n.domain,r=n.range,i=0,s=1,o,a,l=!1,c=0,u=0,f=.5;delete n.unknown;function d(){var h=e().length,p=s<i,g=p?s:i,v=p?i:s;o=(v-g)/Math.max(1,h-c+u*2),l&&(o=Math.floor(o)),g+=(v-g-o*(h-c))*f,a=o*(1-c),l&&(g=Math.round(g),a=Math.round(a));var y=Hbe(h).map(function(b){return g+o*b});return r(p?y.reverse():y)}return n.domain=function(h){return arguments.length?(e(h),d()):e()},n.range=function(h){return arguments.length?([i,s]=h,i=+i,s=+s,d()):[i,s]},n.rangeRound=function(h){return[i,s]=h,i=+i,s=+s,l=!0,d()},n.bandwidth=function(){return a},n.step=function(){return o},n.round=function(h){return arguments.length?(l=!!h,d()):l},n.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},n.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},n.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},n.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},n.copy=function(){return NQ(e(),[i,s]).round(l).paddingInner(c).paddingOuter(u).align(f)},CA.apply(d(),arguments)}function r1e(n){return function(){return n}}function i1e(n){return+n}var wj=[0,1];function xd(n){return n}function oI(n,e){return(e-=n=+n)?function(r){return(r-n)/e}:r1e(isNaN(e)?NaN:.5)}function s1e(n,e){var r;return n>e&&(r=n,n=e,e=r),function(i){return Math.max(n,Math.min(e,i))}}function o1e(n,e,r){var i=n[0],s=n[1],o=e[0],a=e[1];return s<i?(i=oI(s,i),o=r(a,o)):(i=oI(i,s),o=r(o,a)),function(l){return o(i(l))}}function a1e(n,e,r){var i=Math.min(n.length,e.length)-1,s=new Array(i),o=new Array(i),a=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<i;)s[a]=oI(n[a],n[a+1]),o[a]=r(e[a],e[a+1]);return function(l){var c=jbe(n,l,1,i)-1;return o[c](s[c](l))}}function l1e(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function c1e(){var n=wj,e=wj,r=yA,i,s,o,a=xd,l,c,u;function f(){var h=Math.min(n.length,e.length);return a!==xd&&(a=s1e(n[0],n[h-1])),l=h>2?a1e:o1e,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(c||(c=l(n.map(i),e,r)))(i(a(h)))}return d.invert=function(h){return a(s((u||(u=l(e,n.map(i),Os)))(h)))},d.domain=function(h){return arguments.length?(n=Array.from(h,i1e),f()):n.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),r=uxe,f()},d.clamp=function(h){return arguments.length?(a=h?!0:xd,f()):a!==xd},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return i=h,s=p,f()}}function u1e(){return c1e()(xd,xd)}function d1e(n,e,r,i){var s=Wbe(n,e,r),o;switch(i=Iv(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(o=t1e(s,a))&&(i.precision=o),RQ(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(o=n1e(s,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=o-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(o=e1e(s))&&(i.precision=o-(i.type==="%")*2);break}}return AQ(i)}function f1e(n){var e=n.domain;return n.ticks=function(r){var i=e();return qbe(i[0],i[i.length-1],r??10)},n.tickFormat=function(r,i){var s=e();return d1e(s[0],s[s.length-1],r??10,i)},n.nice=function(r){r==null&&(r=10);var i=e(),s=0,o=i.length-1,a=i[s],l=i[o],c,u,f=10;for(l<a&&(u=a,a=l,l=u,u=s,s=o,o=u);f-- >0;){if(u=KP(a,l,r),u===c)return i[s]=a,i[o]=l,e(i);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return n},n}function jQ(){var n=u1e();return n.copy=function(){return l1e(n,jQ())},CA.apply(n,arguments),f1e(n)}function h1e(n){for(var e=n.length/6|0,r=new Array(e),i=0;i<e;)r[i]="#"+n.slice(i*6,++i*6);return r}const p1e=h1e("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),_b=n=>()=>n;function m1e(n,{sourceEvent:e,target:r,transform:i,dispatch:s}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function sa(n,e,r){this.k=n,this.x=e,this.y=r}sa.prototype={constructor:sa,scale:function(n){return n===1?this:new sa(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new sa(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var EA=new sa(1,0,0);to.prototype=sa.prototype;function to(n){for(;!n.__zoom;)if(!(n=n.parentNode))return EA;return n.__zoom}function D_(n){n.stopImmediatePropagation()}function Xh(n){n.preventDefault(),n.stopImmediatePropagation()}function g1e(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function b1e(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function _j(){return this.__zoom||EA}function y1e(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function v1e(){return navigator.maxTouchPoints||"ontouchstart"in this}function x1e(n,e,r){var i=n.invertX(e[0][0])-r[0][0],s=n.invertX(e[1][0])-r[1][0],o=n.invertY(e[0][1])-r[0][1],a=n.invertY(e[1][1])-r[1][1];return n.translate(s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function w1e(){var n=g1e,e=b1e,r=x1e,i=y1e,s=v1e,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,c=yxe,u=Ug("start","zoom","end"),f,d,h,p=500,g=150,v=0,y=10;function b(F){F.property("__zoom",_j).on("wheel.zoom",D,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",P).filter(s).on("touchstart.zoom",A).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(F,$,U,N){var q=F.selection?F.selection():F;q.property("__zoom",_j),F!==q?S(F,$,U,N):q.interrupt().each(function(){C(this,arguments).event(N).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},b.scaleBy=function(F,$,U,N){b.scaleTo(F,function(){var q=this.__zoom.k,H=typeof $=="function"?$.apply(this,arguments):$;return q*H},U,N)},b.scaleTo=function(F,$,U,N){b.transform(F,function(){var q=e.apply(this,arguments),H=this.__zoom,X=U==null?_(q):typeof U=="function"?U.apply(this,arguments):U,Y=H.invert(X),W=typeof $=="function"?$.apply(this,arguments):$;return r(k(w(H,W),X,Y),q,a)},U,N)},b.translateBy=function(F,$,U,N){b.transform(F,function(){return r(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof U=="function"?U.apply(this,arguments):U),e.apply(this,arguments),a)},null,N)},b.translateTo=function(F,$,U,N,q){b.transform(F,function(){var H=e.apply(this,arguments),X=this.__zoom,Y=N==null?_(H):typeof N=="function"?N.apply(this,arguments):N;return r(EA.translate(Y[0],Y[1]).scale(X.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof U=="function"?-U.apply(this,arguments):-U),H,a)},N,q)};function w(F,$){return $=Math.max(o[0],Math.min(o[1],$)),$===F.k?F:new sa($,F.x,F.y)}function k(F,$,U){var N=$[0]-U[0]*F.k,q=$[1]-U[1]*F.k;return N===F.x&&q===F.y?F:new sa(F.k,N,q)}function _(F){return[(+F[0][0]+ +F[1][0])/2,(+F[0][1]+ +F[1][1])/2]}function S(F,$,U,N){F.on("start.zoom",function(){C(this,arguments).event(N).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(N).end()}).tween("zoom",function(){var q=this,H=arguments,X=C(q,H).event(N),Y=e.apply(q,H),W=U==null?_(Y):typeof U=="function"?U.apply(q,H):U,R=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),Z=q.__zoom,J=typeof $=="function"?$.apply(q,H):$,V=c(Z.invert(W).concat(R/Z.k),J.invert(W).concat(R/J.k));return function(te){if(te===1)te=J;else{var se=V(te),ye=R/se[2];te=new sa(ye,W[0]-se[0]*ye,W[1]-se[1]*ye)}X.zoom(null,te)}})}function C(F,$,U){return!U&&F.__zooming||new T(F,$)}function T(F,$){this.that=F,this.args=$,this.active=0,this.sourceEvent=null,this.extent=e.apply(F,$),this.taps=0}T.prototype={event:function(F){return F&&(this.sourceEvent=F),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(F,$){return this.mouse&&F!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&F!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&F!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(F){var $=Dr(this.that).datum();u.call(F,this.that,new m1e(F,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:u}),$)}};function D(F,...$){if(!n.apply(this,arguments))return;var U=C(this,$).event(F),N=this.__zoom,q=Math.max(o[0],Math.min(o[1],N.k*Math.pow(2,i.apply(this,arguments)))),H=Ps(F);if(U.wheel)(U.mouse[0][0]!==H[0]||U.mouse[0][1]!==H[1])&&(U.mouse[1]=N.invert(U.mouse[0]=H)),clearTimeout(U.wheel);else{if(N.k===q)return;U.mouse=[H,N.invert(H)],Sy(this),U.start()}Xh(F),U.wheel=setTimeout(X,g),U.zoom("mouse",r(k(w(N,q),U.mouse[0],U.mouse[1]),U.extent,a));function X(){U.wheel=null,U.end()}}function O(F,...$){if(h||!n.apply(this,arguments))return;var U=F.currentTarget,N=C(this,$,!0).event(F),q=Dr(F.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",R,!0),H=Ps(F,U),X=F.clientX,Y=F.clientY;gQ(F.view),D_(F),N.mouse=[H,this.__zoom.invert(H)],Sy(this),N.start();function W(Z){if(Xh(Z),!N.moved){var J=Z.clientX-X,V=Z.clientY-Y;N.moved=J*J+V*V>v}N.event(Z).zoom("mouse",r(k(N.that.__zoom,N.mouse[0]=Ps(Z,U),N.mouse[1]),N.extent,a))}function R(Z){q.on("mousemove.zoom mouseup.zoom",null),bQ(Z.view,N.moved),Xh(Z),N.event(Z).end()}}function P(F,...$){if(n.apply(this,arguments)){var U=this.__zoom,N=Ps(F.changedTouches?F.changedTouches[0]:F,this),q=U.invert(N),H=U.k*(F.shiftKey?.5:2),X=r(k(w(U,H),N,q),e.apply(this,$),a);Xh(F),l>0?Dr(this).transition().duration(l).call(S,X,N,F):Dr(this).call(b.transform,X,N,F)}}function A(F,...$){if(n.apply(this,arguments)){var U=F.touches,N=U.length,q=C(this,$,F.changedTouches.length===N).event(F),H,X,Y,W;for(D_(F),X=0;X<N;++X)Y=U[X],W=Ps(Y,this),W=[W,this.__zoom.invert(W),Y.identifier],q.touch0?!q.touch1&&q.touch0[2]!==W[2]&&(q.touch1=W,q.taps=0):(q.touch0=W,H=!0,q.taps=1+!!f);f&&(f=clearTimeout(f)),H&&(q.taps<2&&(d=W[0],f=setTimeout(function(){f=null},p)),Sy(this),q.start())}}function L(F,...$){if(this.__zooming){var U=C(this,$).event(F),N=F.changedTouches,q=N.length,H,X,Y,W;for(Xh(F),H=0;H<q;++H)X=N[H],Y=Ps(X,this),U.touch0&&U.touch0[2]===X.identifier?U.touch0[0]=Y:U.touch1&&U.touch1[2]===X.identifier&&(U.touch1[0]=Y);if(X=U.that.__zoom,U.touch1){var R=U.touch0[0],Z=U.touch0[1],J=U.touch1[0],V=U.touch1[1],te=(te=J[0]-R[0])*te+(te=J[1]-R[1])*te,se=(se=V[0]-Z[0])*se+(se=V[1]-Z[1])*se;X=w(X,Math.sqrt(te/se)),Y=[(R[0]+J[0])/2,(R[1]+J[1])/2],W=[(Z[0]+V[0])/2,(Z[1]+V[1])/2]}else if(U.touch0)Y=U.touch0[0],W=U.touch0[1];else return;U.zoom("touch",r(k(X,Y,W),U.extent,a))}}function B(F,...$){if(this.__zooming){var U=C(this,$).event(F),N=F.changedTouches,q=N.length,H,X;for(D_(F),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),H=0;H<q;++H)X=N[H],U.touch0&&U.touch0[2]===X.identifier?delete U.touch0:U.touch1&&U.touch1[2]===X.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(X=Ps(X,this),Math.hypot(d[0]-X[0],d[1]-X[1])<y)){var Y=Dr(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return b.wheelDelta=function(F){return arguments.length?(i=typeof F=="function"?F:_b(+F),b):i},b.filter=function(F){return arguments.length?(n=typeof F=="function"?F:_b(!!F),b):n},b.touchable=function(F){return arguments.length?(s=typeof F=="function"?F:_b(!!F),b):s},b.extent=function(F){return arguments.length?(e=typeof F=="function"?F:_b([[+F[0][0],+F[0][1]],[+F[1][0],+F[1][1]]]),b):e},b.scaleExtent=function(F){return arguments.length?(o[0]=+F[0],o[1]=+F[1],b):[o[0],o[1]]},b.translateExtent=function(F){return arguments.length?(a[0][0]=+F[0][0],a[1][0]=+F[1][0],a[0][1]=+F[0][1],a[1][1]=+F[1][1],b):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},b.constrain=function(F){return arguments.length?(r=F,b):r},b.duration=function(F){return arguments.length?(l=+F,b):l},b.interpolate=function(F){return arguments.length?(c=F,b):c},b.on=function(){var F=u.on.apply(u,arguments);return F===u?b:F},b.clickDistance=function(F){return arguments.length?(v=(F=+F)*F,b):Math.sqrt(v)},b.tapDistance=function(F){return arguments.length?(y=+F,b):y},b}function Yu({data:n,height:e=150,width:r=900,maxBars:i=60,getTimestamp:s=o=>o.timestamp||Date.now()}){const o=I.useRef(null),a=I.useRef(null),[l,c]=I.useState([]),u=I.useCallback(f=>s(f),[s]);return I.useEffect(()=>{if(n.length===0){c([]);return}const f=Date.now(),d=new Map;n.forEach(p=>{const g=u(p);if(!g||isNaN(g)||!isFinite(g))return;const v=Math.floor((f-g)/1e3);if(v>=0&&v<i){const y=d.get(v)||0;d.set(v,y+1)}});const h=[];for(let p=i-1;p>=0;p--)h.push({time:p,count:d.get(p)||0});c(h)},[n,i,u]),I.useEffect(()=>{if(!o.current||l.length===0)return;const f=Dr(o.current);f.selectAll("*").remove();const d={top:20,right:20,bottom:40,left:50},h=r-d.left-d.right,p=e-d.top-d.bottom,g=f.append("g").attr("transform",`translate(${d.left}, ${d.top})`),v=NQ().domain(l.map((w,k)=>k.toString())).range([0,h]).padding(.1);XP(l,w=>w.count);const b=jQ().domain([0,5]).range([p,0]).nice();return g.append("g").attr("transform",`translate(0, ${p})`).call(Q4(v).tickValues(v.domain().filter((w,k)=>k%Math.ceil(i/10)===0)).tickFormat((w,k)=>{var T;const _=parseInt(w||"0"),S=((T=l[_])==null?void 0:T.time)||0;return S===0?"now":S<60?`-${S}s`:`-${Math.floor(S/60)}m`})).selectAll("text").attr("class","data-rate-axis-text"),g.append("g").call(Jbe(b).ticks(5)).selectAll("text").attr("class","data-rate-axis-text"),g.append("text").attr("class","data-rate-y-axis-label").attr("transform","rotate(-90)").attr("y",-35).attr("x",-p/2).attr("text-anchor","middle").text("Data Points/sec"),g.selectAll("rect").data(l).enter().append("rect").attr("x",(w,k)=>v(k.toString())||0).attr("y",w=>b(w.count)).attr("width",v.bandwidth()).attr("height",w=>p-b(w.count)).attr("fill",w=>w.count>=3.5?"#4CAF50":w.count>=2?"#FF9800":w.count>0?"#F44336":"#E0E0E0").attr("rx",2).style("opacity",.8).on("mouseover",function(w,k){var O;Dr(this).style("opacity",1),a.current&&a.current.remove();const S=Dr("body").append("div").attr("class","data-rate-tooltip").style("opacity",0),C=(O=o.current)==null?void 0:O.getBoundingClientRect(),[T,D]=Ps(w,o.current);C&&S.style("left",`${C.left+T+10}px`).style("top",`${C.top+D-10}px`).text(`${k.count} data points ${k.time===0?"now":`${k.time}s ago`}`).transition().duration(200).style("opacity",1),a.current=S}).on("mouseout",function(){Dr(this).style("opacity",.8),a.current&&(a.current.transition().duration(200).style("opacity",0).remove(),a.current=null)}),g.append("g").attr("class","grid").attr("transform",`translate(0, ${p})`).call(Q4(v).tickSize(-p).tickValues(v.domain().filter((w,k)=>k%Math.ceil(i/10)===0)).tickFormat(()=>"")).selectAll("line").attr("class","data-rate-grid-line"),()=>{a.current&&(a.current.remove(),a.current=null),Nve(".data-rate-tooltip").remove()}},[l,r,e,i]),m.jsxs("div",{className:"data-rate-histogram-container",children:[m.jsx("h4",{className:"data-rate-histogram-title",children:"Data Rate (points/second)"}),m.jsx("svg",{ref:o,className:"data-rate-histogram-svg",width:r,height:e})]})}function _1e(){var Ve;const[n,e]=I.useState(nh),[r,i]=I.useState(Fg),[s,o]=I.useState(Wx),[a,l]=I.useState(100),[c,u]=I.useState(10),{walletAddress:f,authToken:d,error:h}=_u(),{markets:p,selectedMarketId:g,setSelectedMarketId:v,fetchMarkets:y,loadingMarkets:b,getMarket:w}=Ul({baseURL:n,sessionToken:d,autoFetchMarkets:!0}),[k,_]=I.useState("0"),[S,C]=I.useState("1m"),[T,D]=I.useState("0"),[O,P]=I.useState("BTC/USDC"),[A,L]=I.useState("0"),[B,F]=I.useState(["0"]);I.useEffect(()=>{if(g){const K=String(g);_(K),D(K),L(K),F([K]);const re=typeof g=="string"?parseInt(g,10):Number(g);if(!isNaN(re)&&isFinite(re)){const ne=w(re);ne&&P(ne.symbol||`${ne.baseAsset}/${ne.quoteAsset}`)}}},[g,w]);const[$,U]=I.useState(null),[N,q]=I.useState("Data Details"),[H,X]=I.useState(!1),{klineData:Y,loading:W,error:R,isConnected:Z}=Ape({baseURL:n,wsURL:r,marketId:k,interval:S,authToken:d,walletAddress:f,deviceID:s,maxDataPoints:a}),{lastPrice:J,markPrice:V,error:te,isConnected:se}=qx({baseURL:n,wsURL:r,marketId:T,symbol:O,authToken:d,walletAddress:f,deviceID:s}),[ye,Re]=I.useState([]),[Ke,Ie]=I.useState([]);I.useEffect(()=>{J&&Re(K=>{const re=[...K,{...J,value:J.price,timestamp:J.timestamp,arrivalTime:Date.now(),raw:J}];return re.length>a?re.slice(-a):re})},[J,a]),I.useEffect(()=>{V&&Ie(K=>{const re=[...K,{...V,value:V.mark_price,timestamp:V.timestamp,arrivalTime:Date.now(),raw:V}];return re.length>a?re.slice(-a):re})},[V,a]);const{buckets:Ee,loading:He,error:nt,refresh:z}=oX({baseURL:n,authToken:d,walletAddress:f,refreshInterval:5e3}),{positions:ve,loading:Ne,error:ge,isConnected:$e,refresh:ue}=sX({baseURL:n,wsURL:r,authToken:d,walletAddress:f,deviceID:s,useWebSocket:!0}),{orders:ee,loading:le,error:xe,isConnected:pe,refresh:Le}=tQ({baseURL:n,wsURL:r,authToken:d,walletAddress:f,deviceID:s,useWebSocket:!0}),{orderbook:ce,loading:Oe,error:je,isConnected:be,refresh:de}=XM({baseURL:n,wsURL:r,marketId:A,authToken:d,walletAddress:f,deviceID:s}),{fundingRates:me,loading:he,error:fe,isConnected:De,refresh:Ye}=Mpe({baseURL:n,wsURL:r,marketIds:B,authToken:d,walletAddress:f,deviceID:s}),Ge=(K,re)=>{U(K.raw||K),q(re),X(!0)};return m.jsxs("div",{className:"App-content-row",children:[m.jsx("h1",{children:"Hooks Test QA"}),m.jsx("p",{children:"realtime monitor of data flow and block"}),m.jsxs("div",{className:"App-section",children:[m.jsx("h2",{className:"hooks-test-section-header",children:"Shared Configuration"}),m.jsxs("div",{className:"hooks-test-config-grid",children:[m.jsx("div",{children:m.jsxs("label",{className:"hooks-test-label",children:["API Base URL:",m.jsx("input",{type:"text",className:"hooks-test-input",value:n,onChange:K=>e(K.target.value)})]})}),m.jsx("div",{children:m.jsxs("label",{className:"hooks-test-label",children:["WebSocket URL:",m.jsx("input",{type:"text",className:"hooks-test-input",value:r,onChange:K=>i(K.target.value)})]})}),m.jsx("div",{children:m.jsxs("label",{className:"hooks-test-label",children:["Wallet Address (from useOnboard):",m.jsx("input",{type:"text",className:"hooks-test-input-readonly",value:f||"",readOnly:!0,placeholder:"Set via useOnboard hook"}),h&&m.jsx("div",{className:"hooks-test-error-message",children:h})]})}),m.jsx("div",{children:m.jsxs("label",{className:"hooks-test-label",children:["Auth Token (from useOnboard):",m.jsx("input",{type:"text",className:"hooks-test-input-readonly",value:d||"",readOnly:!0,placeholder:"Set via useOnboard hook"})]})}),m.jsx("div",{children:m.jsxs("label",{className:"hooks-test-label",children:["Market Selection:",m.jsxs("select",{className:"hooks-test-select",value:g||"",onChange:K=>{const re=K.target.value;re&&v(re)},children:[m.jsx("option",{value:"",children:"Select a market..."}),p.map(K=>m.jsxs("option",{value:String(K.market_id),children:[K.symbol||`${K.baseAsset}/${K.quoteAsset}`," ","(ID: ",K.market_id,")"]},K.market_id))]}),b&&m.jsx("div",{className:"hooks-test-info-message",children:"Loading markets..."}),!b&&p.length===0&&m.jsx("button",{className:"hooks-test-button",onClick:()=>y(),style:{marginTop:"0.5rem"},children:"Fetch Markets"})]})}),m.jsx("div",{children:m.jsxs("label",{className:"hooks-test-label",children:["Device ID:",m.jsx("input",{type:"text",className:"hooks-test-input",value:s,onChange:K=>o(K.target.value)})]})}),m.jsx("div",{children:m.jsxs("label",{className:"hooks-test-label",children:["Max Data Points (Memory):",m.jsx("input",{type:"number",className:"hooks-test-input",value:a,onChange:K=>l(Math.max(10,parseInt(K.target.value)||100)),min:"10"})]})}),m.jsx("div",{children:m.jsxs("label",{className:"hooks-test-label",children:["Max Visible Rectangles:",m.jsx("input",{type:"number",className:"hooks-test-input",value:c,onChange:K=>u(Math.max(1,parseInt(K.target.value)||10)),min:"1"})]})})]})]}),m.jsxs("div",{className:"App-section",children:[m.jsxs("div",{className:"hooks-test-section-header-flex",children:[m.jsx("h2",{className:"hooks-test-section-header-title",children:"Kline Hook"}),m.jsxs("div",{className:"hooks-test-status-group",children:[m.jsx("span",{className:`hooks-test-status-badge ${Z?"hooks-test-status-badge-connected":"hooks-test-status-badge-disconnected"}`,children:Z?"WS Connected":"WS Disconnected"}),m.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[Y.length," data points"]})]})]}),m.jsxs("div",{className:"hooks-test-form-grid",children:[m.jsx("div",{children:m.jsxs("label",{className:"hooks-test-label",children:["Market ID (controlled by Market Selection above):",m.jsx("input",{type:"text",className:"hooks-test-input",value:k,onChange:K=>_(K.target.value),placeholder:"Select market from dropdown above",style:{backgroundColor:g?"#f8f9fa":"white"}}),m.jsx("div",{className:"hooks-test-helper-text",children:"Can be manually overridden if needed"})]})}),m.jsx("div",{children:m.jsxs("label",{className:"hooks-test-label",children:["Interval:",m.jsxs("select",{className:"hooks-test-select",value:S,onChange:K=>C(K.target.value),children:[m.jsx("option",{value:"1m",children:"1m"}),m.jsx("option",{value:"5m",children:"5m"}),m.jsx("option",{value:"15m",children:"15m"}),m.jsx("option",{value:"1h",children:"1h"}),m.jsx("option",{value:"4h",children:"4h"}),m.jsx("option",{value:"1d",children:"1d"})]})]})})]}),R&&m.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",R]}),W&&Y.length===0?m.jsx("div",{className:"hooks-test-loading-state",children:"Loading kline data..."}):Y.length===0?m.jsx("div",{className:"hooks-test-empty-state",children:"No kline data available"}):m.jsxs(m.Fragment,{children:[m.jsx(Gu,{data:Y,maxVisible:c,maxDataPoints:a,getValue:K=>K.close||K.high||100,onItemClick:K=>Ge(K,"Kline Data")}),m.jsx(Yu,{data:Y,getTimestamp:K=>{let re=K.timestamp||K.open_time||Date.now();return re<9466848e5&&(re=re*1e3),re}})]})]}),m.jsxs("div",{className:"App-section",children:[m.jsxs("div",{className:"hooks-test-section-header-flex",children:[m.jsx("h2",{className:"hooks-test-section-header-title",children:"Mark Price Hook"}),m.jsx("span",{className:`hooks-test-status-badge ${se?"hooks-test-status-badge-connected":"hooks-test-status-badge-disconnected"}`,children:se?"WS Connected":"WS Disconnected"})]}),m.jsxs("div",{className:"hooks-test-form-grid",children:[m.jsx("div",{children:m.jsxs("label",{className:"hooks-test-label",children:["Market ID (controlled by Market Selection above):",m.jsx("input",{type:"text",className:"hooks-test-input",value:T,onChange:K=>D(K.target.value),placeholder:"Select market from dropdown above",style:{backgroundColor:g?"#f8f9fa":"white"}}),m.jsx("div",{className:"hooks-test-helper-text",children:"Mark price subscription uses marketId (not symbol). Can be manually overridden if needed."})]})}),m.jsx("div",{children:m.jsxs("label",{className:"hooks-test-label",children:["Symbol (for display only, auto-updated from selected market):",m.jsx("input",{type:"text",className:"hooks-test-input",value:O,onChange:K=>P(K.target.value),placeholder:"BTC/USDC",style:{backgroundColor:g?"#f8f9fa":"white"}}),m.jsx("div",{className:"hooks-test-helper-text",children:"Symbol is only used for display in mark price data, not for subscription."})]})})]}),te&&m.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",te]}),Ke.length===0?m.jsx("div",{className:"hooks-test-loading-state",children:"No mark price data available"}):m.jsxs(m.Fragment,{children:[m.jsx(Gu,{data:Ke,maxVisible:c,maxDataPoints:a,getValue:K=>K.value||K.mark_price||100,onItemClick:K=>Ge(K,"Mark Price Data")}),m.jsx(Yu,{data:Ke,getTimestamp:K=>K.arrivalTime||K.timestamp||Date.now()})]})]}),m.jsxs("div",{className:"App-section",children:[m.jsxs("div",{className:"hooks-test-section-header-flex",children:[m.jsx("h2",{className:"hooks-test-section-header-title",children:"Last Price Hook"}),m.jsx("span",{className:`hooks-test-status-badge ${se?"hooks-test-status-badge-connected":"hooks-test-status-badge-disconnected"}`,children:se?"WS Connected":"WS Disconnected"})]}),m.jsx("div",{className:"hooks-test-form-grid",children:m.jsx("div",{children:m.jsxs("label",{className:"hooks-test-label",children:["Market ID (controlled by Market Selection above):",m.jsx("input",{type:"text",className:"hooks-test-input",value:T,onChange:K=>D(K.target.value),placeholder:"Select market from dropdown above",style:{backgroundColor:g?"#f8f9fa":"white"}}),m.jsx("div",{className:"hooks-test-helper-text",children:"Can be manually overridden if needed"})]})})}),te&&m.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",te]}),ye.length===0?m.jsx("div",{className:"hooks-test-loading-state",children:"No last price data available"}):m.jsxs(m.Fragment,{children:[m.jsx(Gu,{data:ye,maxVisible:c,maxDataPoints:a,getValue:K=>K.value||K.price||100,onItemClick:K=>Ge(K,"Last Price Data")}),m.jsx(Yu,{data:ye,getTimestamp:K=>K.arrivalTime||K.timestamp||Date.now()})]})]}),m.jsxs("div",{className:"App-section",children:[m.jsxs("div",{className:"hooks-test-section-header-flex",children:[m.jsx("h2",{className:"hooks-test-section-header-title",children:"Bucket Hook"}),m.jsxs("div",{className:"hooks-test-status-group",children:[m.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[Ee.length," buckets"]}),m.jsx("button",{className:"hooks-test-button",onClick:()=>z(),disabled:He,children:He?"Loading...":"Refresh"})]})]}),nt&&m.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",nt]}),He&&Ee.length===0?m.jsx("div",{className:"hooks-test-loading-state",children:"Loading buckets..."}):Ee.length===0?m.jsx("div",{className:"hooks-test-loading-state",children:"No buckets found"}):m.jsxs(m.Fragment,{children:[m.jsx(Gu,{data:Ee,maxVisible:c,maxDataPoints:a,getValue:K=>K.totalMargin||K.unrealizedPnL||100,onItemClick:K=>Ge(K,"Bucket Data")}),m.jsx(Yu,{data:Ee,getTimestamp:K=>K.createdAt?new Date(K.createdAt).getTime():Date.now()})]})]}),m.jsxs("div",{className:"App-section",children:[m.jsxs("div",{className:"hooks-test-section-header-flex",children:[m.jsx("h2",{className:"hooks-test-section-header-title",children:"Position Hook"}),m.jsxs("div",{className:"hooks-test-status-group",children:[m.jsx("span",{className:`hooks-test-status-badge ${$e?"hooks-test-status-badge-connected":"hooks-test-status-badge-disconnected"}`,children:$e?"WS Connected":"WS Disconnected"}),m.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[ve.length," positions"]}),m.jsx("button",{className:"hooks-test-button",onClick:()=>ue(),disabled:Ne,children:Ne?"Loading...":"Refresh"})]})]}),ge&&m.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",ge]}),Ne&&ve.length===0?m.jsx("div",{className:"hooks-test-loading-state",children:"Loading positions..."}):ve.length===0?m.jsx("div",{className:"hooks-test-loading-state",children:"No positions found"}):m.jsxs(m.Fragment,{children:[m.jsx(Gu,{data:ve,maxVisible:c,maxDataPoints:a,getValue:K=>K.size||K.margin||100,onItemClick:K=>Ge(K,"Position Data")}),m.jsx(Yu,{data:ve,getTimestamp:K=>Date.now()})]})]}),m.jsxs("div",{className:"App-section",children:[m.jsxs("div",{className:"hooks-test-section-header-flex",children:[m.jsx("h2",{className:"hooks-test-section-header-title",children:"Order Hook"}),m.jsxs("div",{className:"hooks-test-status-group",children:[m.jsx("span",{className:`hooks-test-status-badge ${pe?"hooks-test-status-badge-connected":"hooks-test-status-badge-disconnected"}`,children:pe?"WS Connected":"WS Disconnected"}),m.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[ee.length," orders"]}),m.jsx("button",{className:"hooks-test-button",onClick:()=>Le(),disabled:le,children:le?"Loading...":"Refresh"})]})]}),xe&&m.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",xe]}),le&&ee.length===0?m.jsx("div",{className:"hooks-test-loading-state",children:"Loading orders..."}):ee.length===0?m.jsx("div",{className:"hooks-test-loading-state",children:"No orders found"}):m.jsxs(m.Fragment,{children:[m.jsx(Gu,{data:ee,maxVisible:c,maxDataPoints:a,getValue:K=>K.quantity||K.price||100,onItemClick:K=>Ge(K,"Order Data")}),m.jsx(Yu,{data:ee,getTimestamp:K=>K.createdAt?typeof K.createdAt=="number"?K.createdAt:new Date(K.createdAt).getTime():K.updatedAt?typeof K.updatedAt=="number"?K.updatedAt:new Date(K.updatedAt).getTime():Date.now()})]})]}),m.jsxs("div",{className:"App-section",children:[m.jsxs("div",{className:"hooks-test-section-header-flex",children:[m.jsx("h2",{className:"hooks-test-section-header-title",children:"Orderbook Hook"}),m.jsxs("div",{className:"hooks-test-status-group",children:[m.jsx("span",{className:`hooks-test-status-badge ${be?"hooks-test-status-badge-connected":"hooks-test-status-badge-disconnected"}`,children:be?"WS Connected":"WS Disconnected"}),m.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[ce.bids.length+ce.asks.length," levels"]}),m.jsx("button",{className:"hooks-test-button",onClick:()=>de(),disabled:Oe,children:Oe?"Loading...":"Refresh"})]})]}),m.jsx("div",{className:"hooks-test-form-grid",children:m.jsx("div",{children:m.jsxs("label",{className:"hooks-test-label",children:["Market ID (controlled by Market Selection above):",m.jsx("input",{type:"text",className:"hooks-test-input",value:A,onChange:K=>L(K.target.value),placeholder:"Select market from dropdown above",style:{backgroundColor:g?"#f8f9fa":"white"}}),m.jsx("div",{className:"hooks-test-helper-text",children:"Can be manually overridden if needed"})]})})}),je&&m.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",je]}),Oe&&ce.bids.length===0&&ce.asks.length===0?m.jsx("div",{className:"hooks-test-loading-state",children:"Loading orderbook..."}):ce.bids.length===0&&ce.asks.length===0?m.jsx("div",{className:"hooks-test-empty-state",children:"No orderbook data available"}):m.jsxs("div",{style:{marginTop:"1rem"},children:[m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[m.jsxs("div",{children:[m.jsxs("h3",{style:{marginBottom:"0.5rem",color:"#ef4444"},children:["Bids (",ce.bids.length,")"]}),m.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",border:"1px solid #e5e7eb",borderRadius:"4px",padding:"0.5rem"},children:ce.bids.slice(0,20).map((K,re)=>m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"0.5rem",padding:"0.25rem",backgroundColor:re%2===0?"#f9fafb":"white",cursor:"pointer"},onClick:()=>Ge(K,"Orderbook Bid Level"),children:[m.jsx("span",{children:K.price.toFixed(8)}),m.jsx("span",{children:K.size.toFixed(8)}),m.jsx("span",{children:K.cumulative.toFixed(8)})]},re))})]}),m.jsxs("div",{children:[m.jsxs("h3",{style:{marginBottom:"0.5rem",color:"#10b981"},children:["Asks (",ce.asks.length,")"]}),m.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",border:"1px solid #e5e7eb",borderRadius:"4px",padding:"0.5rem"},children:ce.asks.slice(0,20).map((K,re)=>m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"0.5rem",padding:"0.25rem",backgroundColor:re%2===0?"#f9fafb":"white",cursor:"pointer"},onClick:()=>Ge(K,"Orderbook Ask Level"),children:[m.jsx("span",{children:K.price.toFixed(8)}),m.jsx("span",{children:K.size.toFixed(8)}),m.jsx("span",{children:K.cumulative.toFixed(8)})]},re))})]})]}),ce.spread!==void 0&&m.jsxs("div",{style:{marginTop:"1rem",padding:"0.5rem",backgroundColor:"#f3f4f6",borderRadius:"4px"},children:[m.jsx("strong",{children:"Spread:"})," ",ce.spread.toFixed(8)," | ",m.jsx("strong",{children:"Mid Price:"})," ",((Ve=ce.midPrice)==null?void 0:Ve.toFixed(8))||"N/A"]})]})]}),m.jsxs("div",{className:"App-section",children:[m.jsxs("div",{className:"hooks-test-section-header-flex",children:[m.jsx("h2",{className:"hooks-test-section-header-title",children:"Funding Rate Hook"}),m.jsxs("div",{className:"hooks-test-status-group",children:[m.jsx("span",{className:`hooks-test-status-badge ${De?"hooks-test-status-badge-connected":"hooks-test-status-badge-disconnected"}`,children:De?"WS Connected":"WS Disconnected"}),m.jsxs("span",{className:"hooks-test-status-badge hooks-test-status-badge-info",children:[me.size," market",me.size!==1?"s":""]}),m.jsx("button",{className:"hooks-test-button",onClick:()=>Ye(),disabled:he,children:he?"Loading...":"Refresh"})]})]}),m.jsx("div",{className:"hooks-test-form-grid",children:m.jsx("div",{children:m.jsxs("label",{className:"hooks-test-label",children:["Market IDs (comma-separated, controlled by Market Selection above):",m.jsx("input",{type:"text",className:"hooks-test-input",value:B.join(","),onChange:K=>{const re=K.target.value.split(",").map(ne=>ne.trim()).filter(ne=>ne);F(re.length>0?re:["0"])},placeholder:"0,1,2",style:{backgroundColor:g?"#f8f9fa":"white"}}),m.jsx("div",{className:"hooks-test-helper-text",children:"Can subscribe to multiple markets. Can be manually overridden if needed."})]})})}),fe&&m.jsxs("div",{className:"hooks-test-error-box",children:["Error: ",fe]}),he&&me.size===0?m.jsx("div",{className:"hooks-test-loading-state",children:"Loading funding rates..."}):me.size===0?m.jsx("div",{className:"hooks-test-empty-state",children:"No funding rate data available"}):m.jsx("div",{style:{marginTop:"1rem"},children:Array.from(me.entries()).map(([K,re])=>{const ne=Array.isArray(re)?re[0]:re;return ne?m.jsx("div",{style:{marginBottom:"1rem",padding:"1rem",border:"1px solid #e5e7eb",borderRadius:"4px",backgroundColor:"#f9fafb",cursor:"pointer"},onClick:()=>Ge(ne,`Funding Rate - Market ${K}`),children:m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"0.5rem"},children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Market ID:"})," ",K]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Symbol:"})," ",ne.symbol||"N/A"]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Funding Rate:"})," ",ne.funding_rate||"N/A"]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Mark Price:"})," ",ne.mark_price||"N/A"]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Index Price:"})," ",ne.index_price||"N/A"]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Valid:"})," ",ne.is_valid?"Yes":"No"]}),ne.next_funding_time_unix&&m.jsxs("div",{children:[m.jsx("strong",{children:"Next Funding:"})," ",new Date(ne.next_funding_time_unix*1e3).toLocaleString()]})]})},K):null})})]}),m.jsx(Obe,{data:$,isOpen:H,onClose:()=>X(!1),title:N})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Hg(n){return n+.5|0}const ml=(n,e,r)=>Math.max(Math.min(n,r),e);function Tp(n){return ml(Hg(n*2.55),0,255)}function El(n){return ml(Hg(n*255),0,255)}function Vo(n){return ml(Hg(n/2.55)/100,0,1)}function Sj(n){return ml(Hg(n*100),0,100)}const qi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},aI=[..."0123456789ABCDEF"],S1e=n=>aI[n&15],k1e=n=>aI[(n&240)>>4]+aI[n&15],Sb=n=>(n&240)>>4===(n&15),C1e=n=>Sb(n.r)&&Sb(n.g)&&Sb(n.b)&&Sb(n.a);function T1e(n){var e=n.length,r;return n[0]==="#"&&(e===4||e===5?r={r:255&qi[n[1]]*17,g:255&qi[n[2]]*17,b:255&qi[n[3]]*17,a:e===5?qi[n[4]]*17:255}:(e===7||e===9)&&(r={r:qi[n[1]]<<4|qi[n[2]],g:qi[n[3]]<<4|qi[n[4]],b:qi[n[5]]<<4|qi[n[6]],a:e===9?qi[n[7]]<<4|qi[n[8]]:255})),r}const E1e=(n,e)=>n<255?e(n):"";function D1e(n){var e=C1e(n)?S1e:k1e;return n?"#"+e(n.r)+e(n.g)+e(n.b)+E1e(n.a,e):void 0}const P1e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function LQ(n,e,r){const i=e*Math.min(r,1-r),s=(o,a=(o+n/30)%12)=>r-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function I1e(n,e,r){const i=(s,o=(s+n/60)%6)=>r-r*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function O1e(n,e,r){const i=LQ(n,1,.5);let s;for(e+r>1&&(s=1/(e+r),e*=s,r*=s),s=0;s<3;s++)i[s]*=1-e-r,i[s]+=e;return i}function M1e(n,e,r,i,s){return n===s?(e-r)/i+(e<r?6:0):e===s?(r-n)/i+2:(n-e)/i+4}function DA(n){const r=n.r/255,i=n.g/255,s=n.b/255,o=Math.max(r,i,s),a=Math.min(r,i,s),l=(o+a)/2;let c,u,f;return o!==a&&(f=o-a,u=l>.5?f/(2-o-a):f/(o+a),c=M1e(r,i,s,f,o),c=c*60+.5),[c|0,u||0,l]}function PA(n,e,r,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,r,i)).map(El)}function IA(n,e,r){return PA(LQ,n,e,r)}function A1e(n,e,r){return PA(O1e,n,e,r)}function R1e(n,e,r){return PA(I1e,n,e,r)}function FQ(n){return(n%360+360)%360}function N1e(n){const e=P1e.exec(n);let r=255,i;if(!e)return;e[5]!==i&&(r=e[6]?Tp(+e[5]):El(+e[5]));const s=FQ(+e[2]),o=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=A1e(s,o,a):e[1]==="hsv"?i=R1e(s,o,a):i=IA(s,o,a),{r:i[0],g:i[1],b:i[2],a:r}}function j1e(n,e){var r=DA(n);r[0]=FQ(r[0]+e),r=IA(r),n.r=r[0],n.g=r[1],n.b=r[2]}function L1e(n){if(!n)return;const e=DA(n),r=e[0],i=Sj(e[1]),s=Sj(e[2]);return n.a<255?`hsla(${r}, ${i}%, ${s}%, ${Vo(n.a)})`:`hsl(${r}, ${i}%, ${s}%)`}const kj={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Cj={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function F1e(){const n={},e=Object.keys(Cj),r=Object.keys(kj);let i,s,o,a,l;for(i=0;i<e.length;i++){for(a=l=e[i],s=0;s<r.length;s++)o=r[s],l=l.replace(o,kj[o]);o=parseInt(Cj[a],16),n[l]=[o>>16&255,o>>8&255,o&255]}return n}let kb;function $1e(n){kb||(kb=F1e(),kb.transparent=[0,0,0,0]);const e=kb[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const B1e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function z1e(n){const e=B1e.exec(n);let r=255,i,s,o;if(e){if(e[7]!==i){const a=+e[7];r=e[8]?Tp(a):ml(a*255,0,255)}return i=+e[1],s=+e[3],o=+e[5],i=255&(e[2]?Tp(i):ml(i,0,255)),s=255&(e[4]?Tp(s):ml(s,0,255)),o=255&(e[6]?Tp(o):ml(o,0,255)),{r:i,g:s,b:o,a:r}}}function U1e(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Vo(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const P_=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Vu=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function q1e(n,e,r){const i=Vu(Vo(n.r)),s=Vu(Vo(n.g)),o=Vu(Vo(n.b));return{r:El(P_(i+r*(Vu(Vo(e.r))-i))),g:El(P_(s+r*(Vu(Vo(e.g))-s))),b:El(P_(o+r*(Vu(Vo(e.b))-o))),a:n.a+r*(e.a-n.a)}}function Cb(n,e,r){if(n){let i=DA(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*r,e===0?360:1)),i=IA(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function $Q(n,e){return n&&Object.assign(e||{},n)}function Tj(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=El(n[3]))):(e=$Q(n,{r:0,g:0,b:0,a:1}),e.a=El(e.a)),e}function W1e(n){return n.charAt(0)==="r"?z1e(n):N1e(n)}class tg{constructor(e){if(e instanceof tg)return e;const r=typeof e;let i;r==="object"?i=Tj(e):r==="string"&&(i=T1e(e)||$1e(e)||W1e(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=$Q(this._rgb);return e&&(e.a=Vo(e.a)),e}set rgb(e){this._rgb=Tj(e)}rgbString(){return this._valid?U1e(this._rgb):void 0}hexString(){return this._valid?D1e(this._rgb):void 0}hslString(){return this._valid?L1e(this._rgb):void 0}mix(e,r){if(e){const i=this.rgb,s=e.rgb;let o;const a=r===o?.5:r,l=2*a-1,c=i.a-s.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;o=1-u,i.r=255&u*i.r+o*s.r+.5,i.g=255&u*i.g+o*s.g+.5,i.b=255&u*i.b+o*s.b+.5,i.a=a*i.a+(1-a)*s.a,this.rgb=i}return this}interpolate(e,r){return e&&(this._rgb=q1e(this._rgb,e._rgb,r)),this}clone(){return new tg(this.rgb)}alpha(e){return this._rgb.a=El(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=Hg(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Cb(this._rgb,2,e),this}darken(e){return Cb(this._rgb,2,-e),this}saturate(e){return Cb(this._rgb,1,e),this}desaturate(e){return Cb(this._rgb,1,-e),this}rotate(e){return j1e(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Lo(){}const H1e=(()=>{let n=0;return()=>n++})();function cn(n){return n==null}function Sn(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Dt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function hi(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Qs(n,e){return hi(n)?n:e}function Ct(n,e){return typeof n>"u"?e:n}const G1e=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,BQ=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Jt(n,e,r){if(n&&typeof n.call=="function")return n.apply(r,e)}function Kt(n,e,r,i){let s,o,a;if(Sn(n))for(o=n.length,s=0;s<o;s++)e.call(r,n[s],s);else if(Dt(n))for(a=Object.keys(n),o=a.length,s=0;s<o;s++)e.call(r,n[a[s]],a[s])}function Ov(n,e){let r,i,s,o;if(!n||!e||n.length!==e.length)return!1;for(r=0,i=n.length;r<i;++r)if(s=n[r],o=e[r],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function Mv(n){if(Sn(n))return n.map(Mv);if(Dt(n)){const e=Object.create(null),r=Object.keys(n),i=r.length;let s=0;for(;s<i;++s)e[r[s]]=Mv(n[r[s]]);return e}return n}function zQ(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Y1e(n,e,r,i){if(!zQ(n))return;const s=e[n],o=r[n];Dt(s)&&Dt(o)?ng(s,o,i):e[n]=Mv(o)}function ng(n,e,r){const i=Sn(e)?e:[e],s=i.length;if(!Dt(n))return n;r=r||{};const o=r.merger||Y1e;let a;for(let l=0;l<s;++l){if(a=i[l],!Dt(a))continue;const c=Object.keys(a);for(let u=0,f=c.length;u<f;++u)o(c[u],n,a,r)}return n}function Xp(n,e){return ng(n,e,{merger:V1e})}function V1e(n,e,r){if(!zQ(n))return;const i=e[n],s=r[n];Dt(i)&&Dt(s)?Xp(i,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Mv(s))}const Ej={"":n=>n,x:n=>n.x,y:n=>n.y};function K1e(n){const e=n.split("."),r=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(r.push(i),i="");return r}function X1e(n){const e=K1e(n);return r=>{for(const i of e){if(i==="")break;r=r&&r[i]}return r}}function rg(n,e){return(Ej[e]||(Ej[e]=X1e(e)))(n)}function OA(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Ri=n=>typeof n<"u",fi=n=>typeof n=="function",Dj=(n,e)=>{if(n.size!==e.size)return!1;for(const r of n)if(!e.has(r))return!1;return!0};function Q1e(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ht=Math.PI,gr=2*Ht,Z1e=gr+Ht,Av=Number.POSITIVE_INFINITY,MA=Ht/180,br=Ht/2,ts=Ht/4,Rv=Ht*2/3,UQ=Math.log10,Nf=Math.sign;function Qp(n,e,r){return Math.abs(n-e)<r}function Pj(n){const e=Math.round(n);n=Qp(n,e,n/1e3)?e:n;const r=Math.pow(10,Math.floor(UQ(n))),i=n/r;return(i<=1?1:i<=2?2:i<=5?5:10)*r}function J1e(n){const e=[],r=Math.sqrt(n);let i;for(i=1;i<r;i++)n%i===0&&(e.push(i),e.push(n/i));return r===(r|0)&&e.push(r),e.sort((s,o)=>s-o).pop(),e}function e_e(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function lu(n){return!e_e(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function t_e(n,e){const r=Math.round(n);return r-e<=n&&r+e>=n}function n_e(n,e,r){let i,s,o;for(i=0,s=n.length;i<s;i++)o=n[i][r],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function ar(n){return n*(Ht/180)}function qQ(n){return n*(180/Ht)}function Ij(n){if(!hi(n))return;let e=1,r=0;for(;Math.round(n*e)/e!==n;)e*=10,r++;return r}function lI(n,e){const r=e.x-n.x,i=e.y-n.y,s=Math.sqrt(r*r+i*i);let o=Math.atan2(i,r);return o<-.5*Ht&&(o+=gr),{angle:o,distance:s}}function jf(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function r_e(n,e){return(n-e+Z1e)%gr-Ht}function Va(n){return(n%gr+gr)%gr}function Nv(n,e,r,i){const s=Va(n),o=Va(e),a=Va(r),l=Va(o-s),c=Va(a-s),u=Va(s-o),f=Va(s-a);return s===o||s===a||i&&o===a||l>c&&u<f}function os(n,e,r){return Math.max(e,Math.min(r,n))}function i_e(n){return os(n,-32768,32767)}function Ep(n,e,r,i=1e-6){return n>=Math.min(e,r)-i&&n<=Math.max(e,r)+i}function AA(n,e,r){r=r||(a=>n[a]<e);let i=n.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,r(o)?s=o:i=o;return{lo:s,hi:i}}const Cc=(n,e,r,i)=>AA(n,r,i?s=>{const o=n[s][e];return o<r||o===r&&n[s+1][e]===r}:s=>n[s][e]<r),s_e=(n,e,r)=>AA(n,r,i=>n[i][e]>=r);function o_e(n,e,r){let i=0,s=n.length;for(;i<s&&n[i]<e;)i++;for(;s>i&&n[s-1]>r;)s--;return i>0||s<n.length?n.slice(i,s):n}const WQ=["push","pop","shift","splice","unshift"];function a_e(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),WQ.forEach(r=>{const i="_onData"+OA(r),s=n[r];Object.defineProperty(n,r,{configurable:!0,enumerable:!1,value(...o){const a=s.apply(this,o);return n._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...o)}),a}})})}function Oj(n,e){const r=n._chartjs;if(!r)return;const i=r.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(WQ.forEach(o=>{delete n[o]}),delete n._chartjs)}function l_e(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const HQ=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function GQ(n,e){let r=[],i=!1;return function(...s){r=s,i||(i=!0,HQ.call(window,()=>{i=!1,n.apply(e,r)}))}}function c_e(n,e){let r;return function(...i){return e?(clearTimeout(r),r=setTimeout(n,e,i)):n.apply(this,i),e}}const RA=n=>n==="start"?"left":n==="end"?"right":"center",Tr=(n,e,r)=>n==="start"?e:n==="end"?r:(e+r)/2,u_e=(n,e,r,i)=>n===(i?"left":"right")?r:n==="center"?(e+r)/2:e;function d_e(n,e,r){const i=e.length;let s=0,o=i;if(n._sorted){const{iScale:a,vScale:l,_parsed:c}=n,u=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,f=a.axis,{min:d,max:h,minDefined:p,maxDefined:g}=a.getUserBounds();if(p){if(s=Math.min(Cc(c,f,d).lo,r?i:Cc(e,f,a.getPixelForValue(d)).lo),u){const v=c.slice(0,s+1).reverse().findIndex(y=>!cn(y[l.axis]));s-=Math.max(0,v)}s=os(s,0,i-1)}if(g){let v=Math.max(Cc(c,a.axis,h,!0).hi+1,r?0:Cc(e,f,a.getPixelForValue(h),!0).hi+1);if(u){const y=c.slice(v-1).findIndex(b=>!cn(b[l.axis]));v+=Math.max(0,y)}o=os(v,s,i)-s}else o=i-s}return{start:s,count:o}}function f_e(n){const{xScale:e,yScale:r,_scaleRanges:i}=n,s={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!i)return n._scaleRanges=s,!0;const o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==r.min||i.ymax!==r.max;return Object.assign(i,s),o}const Tb=n=>n===0||n===1,Mj=(n,e,r)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*gr/r)),Aj=(n,e,r)=>Math.pow(2,-10*n)*Math.sin((n-e)*gr/r)+1,Zp={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*br)+1,easeOutSine:n=>Math.sin(n*br),easeInOutSine:n=>-.5*(Math.cos(Ht*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Tb(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Tb(n)?n:Mj(n,.075,.3),easeOutElastic:n=>Tb(n)?n:Aj(n,.075,.3),easeInOutElastic(n){return Tb(n)?n:n<.5?.5*Mj(n*2,.1125,.45):.5+.5*Aj(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Zp.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Zp.easeInBounce(n*2)*.5:Zp.easeOutBounce(n*2-1)*.5+.5};function NA(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Rj(n){return NA(n)?n:new tg(n)}function I_(n){return NA(n)?n:new tg(n).saturate(.5).darken(.1).hexString()}const h_e=["x","y","borderWidth","radius","tension"],p_e=["color","borderColor","backgroundColor"];function m_e(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:p_e},numbers:{type:"number",properties:h_e}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function g_e(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Nj=new Map;function b_e(n,e){e=e||{};const r=n+JSON.stringify(e);let i=Nj.get(r);return i||(i=new Intl.NumberFormat(n,e),Nj.set(r,i)),i}function jA(n,e,r){return b_e(e,r).format(n)}const y_e={values(n){return Sn(n)?n:""+n},numeric(n,e,r){if(n===0)return"0";const i=this.chart.options.locale;let s,o=n;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),o=v_e(n,r)}const a=UQ(Math.abs(o)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),jA(n,i,c)}};function v_e(n,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&n!==Math.floor(n)&&(r=n-Math.floor(n)),r}var YQ={formatters:y_e};function x_e(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:YQ.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const cu=Object.create(null),cI=Object.create(null);function Jp(n,e){if(!e)return n;const r=e.split(".");for(let i=0,s=r.length;i<s;++i){const o=r[i];n=n[o]||(n[o]=Object.create(null))}return n}function O_(n,e,r){return typeof e=="string"?ng(Jp(n,e),r):ng(Jp(n,""),e)}class w_e{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>I_(s.backgroundColor),this.hoverBorderColor=(i,s)=>I_(s.borderColor),this.hoverColor=(i,s)=>I_(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return O_(this,e,r)}get(e){return Jp(this,e)}describe(e,r){return O_(cI,e,r)}override(e,r){return O_(cu,e,r)}route(e,r,i,s){const o=Jp(this,e),a=Jp(this,i),l="_"+r;Object.defineProperties(o,{[l]:{value:o[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],u=a[s];return Dt(c)?Object.assign({},u,c):Ct(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var An=new w_e({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[m_e,g_e,x_e]);function __e(n){return!n||cn(n.size)||cn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function jj(n,e,r,i,s){let o=e[s];return o||(o=e[s]=n.measureText(s).width,r.push(s)),o>i&&(i=o),i}function nc(n,e,r){const i=n.currentDevicePixelRatio,s=r!==0?Math.max(r/2,.5):0;return Math.round((e-s)*i)/i+s}function Lj(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function uI(n,e,r,i){VQ(n,e,r,i,null)}function VQ(n,e,r,i,s){let o,a,l,c,u,f,d,h;const p=e.pointStyle,g=e.rotation,v=e.radius;let y=(g||0)*MA;if(p&&typeof p=="object"&&(o=p.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(r,i),n.rotate(y),n.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),n.restore();return}if(!(isNaN(v)||v<=0)){switch(n.beginPath(),p){default:s?n.ellipse(r,i,s/2,v,0,0,gr):n.arc(r,i,v,0,gr),n.closePath();break;case"triangle":f=s?s/2:v,n.moveTo(r+Math.sin(y)*f,i-Math.cos(y)*v),y+=Rv,n.lineTo(r+Math.sin(y)*f,i-Math.cos(y)*v),y+=Rv,n.lineTo(r+Math.sin(y)*f,i-Math.cos(y)*v),n.closePath();break;case"rectRounded":u=v*.516,c=v-u,a=Math.cos(y+ts)*c,d=Math.cos(y+ts)*(s?s/2-u:c),l=Math.sin(y+ts)*c,h=Math.sin(y+ts)*(s?s/2-u:c),n.arc(r-d,i-l,u,y-Ht,y-br),n.arc(r+h,i-a,u,y-br,y),n.arc(r+d,i+l,u,y,y+br),n.arc(r-h,i+a,u,y+br,y+Ht),n.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*v,f=s?s/2:c,n.rect(r-f,i-c,2*f,2*c);break}y+=ts;case"rectRot":d=Math.cos(y)*(s?s/2:v),a=Math.cos(y)*v,l=Math.sin(y)*v,h=Math.sin(y)*(s?s/2:v),n.moveTo(r-d,i-l),n.lineTo(r+h,i-a),n.lineTo(r+d,i+l),n.lineTo(r-h,i+a),n.closePath();break;case"crossRot":y+=ts;case"cross":d=Math.cos(y)*(s?s/2:v),a=Math.cos(y)*v,l=Math.sin(y)*v,h=Math.sin(y)*(s?s/2:v),n.moveTo(r-d,i-l),n.lineTo(r+d,i+l),n.moveTo(r+h,i-a),n.lineTo(r-h,i+a);break;case"star":d=Math.cos(y)*(s?s/2:v),a=Math.cos(y)*v,l=Math.sin(y)*v,h=Math.sin(y)*(s?s/2:v),n.moveTo(r-d,i-l),n.lineTo(r+d,i+l),n.moveTo(r+h,i-a),n.lineTo(r-h,i+a),y+=ts,d=Math.cos(y)*(s?s/2:v),a=Math.cos(y)*v,l=Math.sin(y)*v,h=Math.sin(y)*(s?s/2:v),n.moveTo(r-d,i-l),n.lineTo(r+d,i+l),n.moveTo(r+h,i-a),n.lineTo(r-h,i+a);break;case"line":a=s?s/2:Math.cos(y)*v,l=Math.sin(y)*v,n.moveTo(r-a,i-l),n.lineTo(r+a,i+l);break;case"dash":n.moveTo(r,i),n.lineTo(r+Math.cos(y)*(s?s/2:v),i+Math.sin(y)*v);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function ig(n,e,r){return r=r||.5,!e||n&&n.x>e.left-r&&n.x<e.right+r&&n.y>e.top-r&&n.y<e.bottom+r}function iw(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function sw(n){n.restore()}function S_e(n,e,r,i,s){if(!e)return n.lineTo(r.x,r.y);if(s==="middle"){const o=(e.x+r.x)/2;n.lineTo(o,e.y),n.lineTo(o,r.y)}else s==="after"!=!!i?n.lineTo(e.x,r.y):n.lineTo(r.x,e.y);n.lineTo(r.x,r.y)}function k_e(n,e,r,i){if(!e)return n.lineTo(r.x,r.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?r.cp2x:r.cp1x,i?r.cp2y:r.cp1y,r.x,r.y)}function C_e(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),cn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function T_e(n,e,r,i,s){if(s.strikethrough||s.underline){const o=n.measureText(i),a=e-o.actualBoundingBoxLeft,l=e+o.actualBoundingBoxRight,c=r-o.actualBoundingBoxAscent,u=r+o.actualBoundingBoxDescent,f=s.strikethrough?(c+u)/2:u;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(a,f),n.lineTo(l,f),n.stroke()}}function E_e(n,e){const r=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=r}function sg(n,e,r,i,s,o={}){const a=Sn(e)?e:[e],l=o.strokeWidth>0&&o.strokeColor!=="";let c,u;for(n.save(),n.font=s.string,C_e(n,o),c=0;c<a.length;++c)u=a[c],o.backdrop&&E_e(n,o.backdrop),l&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),cn(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(u,r,i,o.maxWidth)),n.fillText(u,r,i,o.maxWidth),T_e(n,r,i,u,o),i+=Number(s.lineHeight);n.restore()}function jv(n,e){const{x:r,y:i,w:s,h:o,radius:a}=e;n.arc(r+a.topLeft,i+a.topLeft,a.topLeft,1.5*Ht,Ht,!0),n.lineTo(r,i+o-a.bottomLeft),n.arc(r+a.bottomLeft,i+o-a.bottomLeft,a.bottomLeft,Ht,br,!0),n.lineTo(r+s-a.bottomRight,i+o),n.arc(r+s-a.bottomRight,i+o-a.bottomRight,a.bottomRight,br,0,!0),n.lineTo(r+s,i+a.topRight),n.arc(r+s-a.topRight,i+a.topRight,a.topRight,0,-br,!0),n.lineTo(r+a.topLeft,i)}const D_e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,P_e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function I_e(n,e){const r=(""+n).match(D_e);if(!r||r[1]==="normal")return e*1.2;switch(n=+r[2],r[3]){case"px":return n;case"%":n/=100;break}return e*n}const O_e=n=>+n||0;function KQ(n,e){const r={},i=Dt(e),s=i?Object.keys(e):e,o=Dt(n)?i?a=>Ct(n[a],n[e[a]]):a=>n[a]:()=>n;for(const a of s)r[a]=O_e(o(a));return r}function M_e(n){return KQ(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Nd(n){return KQ(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Or(n){const e=M_e(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Jn(n,e){n=n||{},e=e||An.font;let r=Ct(n.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let i=Ct(n.style,e.style);i&&!(""+i).match(P_e)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Ct(n.family,e.family),lineHeight:I_e(Ct(n.lineHeight,e.lineHeight),r),size:r,style:i,weight:Ct(n.weight,e.weight),string:""};return s.string=__e(s),s}function Eb(n,e,r,i){let s,o,a;for(s=0,o=n.length;s<o;++s)if(a=n[s],a!==void 0&&a!==void 0)return a}function A_e(n,e,r){const{min:i,max:s}=n,o=BQ(e,(s-i)/2),a=(l,c)=>r&&l===0?0:l+c;return{min:a(i,-Math.abs(o)),max:a(s,o)}}function Cu(n,e){return Object.assign(Object.create(n),e)}function LA(n,e=[""],r,i,s=()=>n[0]){const o=r||n;typeof i>"u"&&(i=JQ("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:s,override:l=>LA([l,...n],e,o,i)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete n[0][c],!0},get(l,c){return QQ(l,c,()=>z_e(c,e,n,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(l,c){return $j(l).includes(c)},ownKeys(l){return $j(l)},set(l,c,u){const f=l._storage||(l._storage=s());return l[c]=f[c]=u,delete l._keys,!0}})}function Lf(n,e,r,i){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:r,_stack:new Set,_descriptors:XQ(n,i),setContext:o=>Lf(n,o,r,i),override:o=>Lf(n.override(o),e,r,i)};return new Proxy(s,{deleteProperty(o,a){return delete o[a],delete n[a],!0},get(o,a,l){return QQ(o,a,()=>N_e(o,a,l))},getOwnPropertyDescriptor(o,a){return o._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(o,a,l){return n[a]=l,delete o[a],!0}})}function XQ(n,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:r,indexable:i,isScriptable:fi(r)?r:()=>r,isIndexable:fi(i)?i:()=>i}}const R_e=(n,e)=>n?n+OA(e):e,FA=(n,e)=>Dt(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function QQ(n,e,r){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=r();return n[e]=i,i}function N_e(n,e,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;let l=i[e];return fi(l)&&a.isScriptable(e)&&(l=j_e(e,l,n,r)),Sn(l)&&l.length&&(l=L_e(e,l,n,a.isIndexable)),FA(e,l)&&(l=Lf(l,s,o&&o[e],a)),l}function j_e(n,e,r,i){const{_proxy:s,_context:o,_subProxy:a,_stack:l}=r;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);l.add(n);let c=e(o,a||i);return l.delete(n),FA(n,c)&&(c=$A(s._scopes,s,n,c)),c}function L_e(n,e,r,i){const{_proxy:s,_context:o,_subProxy:a,_descriptors:l}=r;if(typeof o.index<"u"&&i(n))return e[o.index%e.length];if(Dt(e[0])){const c=e,u=s._scopes.filter(f=>f!==c);e=[];for(const f of c){const d=$A(u,s,n,f);e.push(Lf(d,o,a&&a[n],l))}}return e}function ZQ(n,e,r){return fi(n)?n(e,r):n}const F_e=(n,e)=>n===!0?e:typeof n=="string"?rg(e,n):void 0;function $_e(n,e,r,i,s){for(const o of e){const a=F_e(r,o);if(a){n.add(a);const l=ZQ(a._fallback,r,s);if(typeof l<"u"&&l!==r&&l!==i)return l}else if(a===!1&&typeof i<"u"&&r!==i)return null}return!1}function $A(n,e,r,i){const s=e._rootScopes,o=ZQ(e._fallback,r,i),a=[...n,...s],l=new Set;l.add(i);let c=Fj(l,a,r,o||r,i);return c===null||typeof o<"u"&&o!==r&&(c=Fj(l,a,o,c,i),c===null)?!1:LA(Array.from(l),[""],s,o,()=>B_e(e,r,i))}function Fj(n,e,r,i,s){for(;r;)r=$_e(n,e,r,i,s);return r}function B_e(n,e,r){const i=n._getTarget();e in i||(i[e]={});const s=i[e];return Sn(s)&&Dt(r)?r:s||{}}function z_e(n,e,r,i){let s;for(const o of e)if(s=JQ(R_e(o,n),r),typeof s<"u")return FA(n,s)?$A(r,i,n,s):s}function JQ(n,e){for(const r of e){if(!r)continue;const i=r[n];if(typeof i<"u")return i}}function $j(n){let e=n._keys;return e||(e=n._keys=U_e(n._scopes)),e}function U_e(n){const e=new Set;for(const r of n)for(const i of Object.keys(r).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}const q_e=Number.EPSILON||1e-14,Ff=(n,e)=>e<n.length&&!n[e].skip&&n[e],eZ=n=>n==="x"?"y":"x";function W_e(n,e,r,i){const s=n.skip?e:n,o=e,a=r.skip?e:r,l=jf(o,s),c=jf(a,o);let u=l/(l+c),f=c/(l+c);u=isNaN(u)?0:u,f=isNaN(f)?0:f;const d=i*u,h=i*f;return{previous:{x:o.x-d*(a.x-s.x),y:o.y-d*(a.y-s.y)},next:{x:o.x+h*(a.x-s.x),y:o.y+h*(a.y-s.y)}}}function H_e(n,e,r){const i=n.length;let s,o,a,l,c,u=Ff(n,0);for(let f=0;f<i-1;++f)if(c=u,u=Ff(n,f+1),!(!c||!u)){if(Qp(e[f],0,q_e)){r[f]=r[f+1]=0;continue}s=r[f]/e[f],o=r[f+1]/e[f],l=Math.pow(s,2)+Math.pow(o,2),!(l<=9)&&(a=3/Math.sqrt(l),r[f]=s*a*e[f],r[f+1]=o*a*e[f])}}function G_e(n,e,r="x"){const i=eZ(r),s=n.length;let o,a,l,c=Ff(n,0);for(let u=0;u<s;++u){if(a=l,l=c,c=Ff(n,u+1),!l)continue;const f=l[r],d=l[i];a&&(o=(f-a[r])/3,l[`cp1${r}`]=f-o,l[`cp1${i}`]=d-o*e[u]),c&&(o=(c[r]-f)/3,l[`cp2${r}`]=f+o,l[`cp2${i}`]=d+o*e[u])}}function Y_e(n,e="x"){const r=eZ(e),i=n.length,s=Array(i).fill(0),o=Array(i);let a,l,c,u=Ff(n,0);for(a=0;a<i;++a)if(l=c,c=u,u=Ff(n,a+1),!!c){if(u){const f=u[e]-c[e];s[a]=f!==0?(u[r]-c[r])/f:0}o[a]=l?u?Nf(s[a-1])!==Nf(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}H_e(n,s,o),G_e(n,o,e)}function Db(n,e,r){return Math.max(Math.min(n,r),e)}function V_e(n,e){let r,i,s,o,a,l=ig(n[0],e);for(r=0,i=n.length;r<i;++r)a=o,o=l,l=r<i-1&&ig(n[r+1],e),o&&(s=n[r],a&&(s.cp1x=Db(s.cp1x,e.left,e.right),s.cp1y=Db(s.cp1y,e.top,e.bottom)),l&&(s.cp2x=Db(s.cp2x,e.left,e.right),s.cp2y=Db(s.cp2y,e.top,e.bottom)))}function K_e(n,e,r,i,s){let o,a,l,c;if(e.spanGaps&&(n=n.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")Y_e(n,s);else{let u=i?n[n.length-1]:n[0];for(o=0,a=n.length;o<a;++o)l=n[o],c=W_e(u,l,n[Math.min(o+1,a-(i?0:1))%a],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&V_e(n,r)}function BA(){return typeof window<"u"&&typeof document<"u"}function zA(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Lv(n,e,r){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[r])):i=n,i}const ow=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function X_e(n,e){return ow(n).getPropertyValue(e)}const Q_e=["top","right","bottom","left"];function Hc(n,e,r){const i={};r=r?"-"+r:"";for(let s=0;s<4;s++){const o=Q_e[s];i[o]=parseFloat(n[e+"-"+o+r])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Z_e=(n,e,r)=>(n>0||e>0)&&(!r||!r.shadowRoot);function J_e(n,e){const r=n.touches,i=r&&r.length?r[0]:n,{offsetX:s,offsetY:o}=i;let a=!1,l,c;if(Z_e(s,o,n.target))l=s,c=o;else{const u=e.getBoundingClientRect();l=i.clientX-u.left,c=i.clientY-u.top,a=!0}return{x:l,y:c,box:a}}function uc(n,e){if("native"in n)return n;const{canvas:r,currentDevicePixelRatio:i}=e,s=ow(r),o=s.boxSizing==="border-box",a=Hc(s,"padding"),l=Hc(s,"border","width"),{x:c,y:u,box:f}=J_e(n,r),d=a.left+(f&&l.left),h=a.top+(f&&l.top);let{width:p,height:g}=e;return o&&(p-=a.width+l.width,g-=a.height+l.height),{x:Math.round((c-d)/p*r.width/i),y:Math.round((u-h)/g*r.height/i)}}function eSe(n,e,r){let i,s;if(e===void 0||r===void 0){const o=n&&zA(n);if(!o)e=n.clientWidth,r=n.clientHeight;else{const a=o.getBoundingClientRect(),l=ow(o),c=Hc(l,"border","width"),u=Hc(l,"padding");e=a.width-u.width-c.width,r=a.height-u.height-c.height,i=Lv(l.maxWidth,o,"clientWidth"),s=Lv(l.maxHeight,o,"clientHeight")}}return{width:e,height:r,maxWidth:i||Av,maxHeight:s||Av}}const gl=n=>Math.round(n*10)/10;function tSe(n,e,r,i){const s=ow(n),o=Hc(s,"margin"),a=Lv(s.maxWidth,n,"clientWidth")||Av,l=Lv(s.maxHeight,n,"clientHeight")||Av,c=eSe(n,e,r);let{width:u,height:f}=c;if(s.boxSizing==="content-box"){const h=Hc(s,"border","width"),p=Hc(s,"padding");u-=p.width+h.width,f-=p.height+h.height}return u=Math.max(0,u-o.width),f=Math.max(0,i?u/i:f-o.height),u=gl(Math.min(u,a,c.maxWidth)),f=gl(Math.min(f,l,c.maxHeight)),u&&!f&&(f=gl(u/2)),(e!==void 0||r!==void 0)&&i&&c.height&&f>c.height&&(f=c.height,u=gl(Math.floor(f*i))),{width:u,height:f}}function Bj(n,e,r){const i=e||1,s=gl(n.height*i),o=gl(n.width*i);n.height=gl(n.height),n.width=gl(n.width);const a=n.canvas;return a.style&&(r||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||a.height!==s||a.width!==o?(n.currentDevicePixelRatio=i,a.height=s,a.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const nSe=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};BA()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function zj(n,e){const r=X_e(n,e),i=r&&r.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function dc(n,e,r,i){return{x:n.x+r*(e.x-n.x),y:n.y+r*(e.y-n.y)}}function rSe(n,e,r,i){return{x:n.x+r*(e.x-n.x),y:i==="middle"?r<.5?n.y:e.y:i==="after"?r<1?n.y:e.y:r>0?e.y:n.y}}function iSe(n,e,r,i){const s={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},a=dc(n,s,r),l=dc(s,o,r),c=dc(o,e,r),u=dc(a,l,r),f=dc(l,c,r);return dc(u,f,r)}const sSe=function(n,e){return{x(r){return n+n+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,i){return r-i},leftForLtr(r,i){return r-i}}},oSe=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function jd(n,e,r){return n?sSe(e,r):oSe()}function tZ(n,e){let r,i;(e==="ltr"||e==="rtl")&&(r=n.canvas.style,i=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),n.prevTextDirection=i)}function nZ(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function rZ(n){return n==="angle"?{between:Nv,compare:r_e,normalize:Va}:{between:Ep,compare:(e,r)=>e-r,normalize:e=>e}}function Uj({start:n,end:e,count:r,loop:i,style:s}){return{start:n%r,end:e%r,loop:i&&(e-n+1)%r===0,style:s}}function aSe(n,e,r){const{property:i,start:s,end:o}=r,{between:a,normalize:l}=rZ(i),c=e.length;let{start:u,end:f,loop:d}=n,h,p;if(d){for(u+=c,f+=c,h=0,p=c;h<p&&a(l(e[u%c][i]),s,o);++h)u--,f--;u%=c,f%=c}return f<u&&(f+=c),{start:u,end:f,loop:d,style:n.style}}function lSe(n,e,r){if(!r)return[n];const{property:i,start:s,end:o}=r,a=e.length,{compare:l,between:c,normalize:u}=rZ(i),{start:f,end:d,loop:h,style:p}=aSe(n,e,r),g=[];let v=!1,y=null,b,w,k;const _=()=>c(s,k,b)&&l(s,k)!==0,S=()=>l(o,b)===0||c(o,k,b),C=()=>v||_(),T=()=>!v||S();for(let D=f,O=f;D<=d;++D)w=e[D%a],!w.skip&&(b=u(w[i]),b!==k&&(v=c(b,s,o),y===null&&C()&&(y=l(b,s)===0?D:O),y!==null&&T()&&(g.push(Uj({start:y,end:D,loop:h,count:a,style:p})),y=null),O=D,k=b));return y!==null&&g.push(Uj({start:y,end:d,loop:h,count:a,style:p})),g}function cSe(n,e){const r=[],i=n.segments;for(let s=0;s<i.length;s++){const o=lSe(i[s],n.points,e);o.length&&r.push(...o)}return r}function uSe(n,e,r,i){let s=0,o=e-1;if(r&&!i)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,r&&(o+=s);o>s&&n[o%e].skip;)o--;return o%=e,{start:s,end:o}}function dSe(n,e,r,i){const s=n.length,o=[];let a=e,l=n[e],c;for(c=e+1;c<=r;++c){const u=n[c%s];u.skip||u.stop?l.skip||(i=!1,o.push({start:e%s,end:(c-1)%s,loop:i}),e=a=u.stop?c:null):(a=c,l.skip&&(e=c)),l=u}return a!==null&&o.push({start:e%s,end:a%s,loop:i}),o}function fSe(n,e){const r=n.points,i=n.options.spanGaps,s=r.length;if(!s)return[];const o=!!n._loop,{start:a,end:l}=uSe(r,s,o,i);if(i===!0)return qj(n,[{start:a,end:l,loop:o}],r,e);const c=l<a?l+s:l,u=!!n._fullLoop&&a===0&&l===s-1;return qj(n,dSe(r,a,c,u),r,e)}function qj(n,e,r,i){return!i||!i.setContext||!r?e:hSe(n,e,r,i)}function hSe(n,e,r,i){const s=n._chart.getContext(),o=Wj(n.options),{_datasetIndex:a,options:{spanGaps:l}}=n,c=r.length,u=[];let f=o,d=e[0].start,h=d;function p(g,v,y,b){const w=l?-1:1;if(g!==v){for(g+=c;r[g%c].skip;)g-=w;for(;r[v%c].skip;)v+=w;g%c!==v%c&&(u.push({start:g%c,end:v%c,loop:y,style:b}),f=b,d=v%c)}}for(const g of e){d=l?d:g.start;let v=r[d%c],y;for(h=d+1;h<=g.end;h++){const b=r[h%c];y=Wj(i.setContext(Cu(s,{type:"segment",p0:v,p1:b,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:a}))),pSe(y,f)&&p(d,h-1,g.loop,f),v=b,f=y}d<h-1&&p(d,h-1,g.loop,f)}return u}function Wj(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function pSe(n,e){if(!e)return!1;const r=[],i=function(s,o){return NA(o)?(r.includes(o)||r.push(o),r.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function Pb(n,e,r){return n.options.clip?n[r]:e[r]}function mSe(n,e){const{xScale:r,yScale:i}=n;return r&&i?{left:Pb(r,e,"left"),right:Pb(r,e,"right"),top:Pb(i,e,"top"),bottom:Pb(i,e,"bottom")}:e}function gSe(n,e){const r=e._clip;if(r.disabled)return!1;const i=mSe(e,n.chartArea);return{left:r.left===!1?0:i.left-(r.left===!0?0:r.left),right:r.right===!1?n.width:i.right+(r.right===!0?0:r.right),top:r.top===!1?0:i.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?n.height:i.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class bSe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,i,s){const o=r.listeners[s],a=r.duration;o.forEach(l=>l({chart:e,initial:r.initial,numSteps:a,currentStep:Math.min(i-r.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=HQ.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let a=o.length-1,l=!1,c;for(;a>=0;--a)c=o[a],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),l=!0):(o[a]=o[o.length-1],o.pop());l&&(s.draw(),this._notify(s,i,e,"progress")),o.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),r+=o.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let i=r.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,i)),i}listen(e,r,i){this._getAnims(e).listeners[r].push(i)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const i=r.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var qo=new bSe;const Hj="transparent",ySe={boolean(n,e,r){return r>.5?e:n},color(n,e,r){const i=Rj(n||Hj),s=i.valid&&Rj(e||Hj);return s&&s.valid?s.mix(i,r).hexString():e},number(n,e,r){return n+(e-n)*r}};class vSe{constructor(e,r,i,s){const o=r[i];s=Eb([e.to,s,o,e.from]);const a=Eb([e.from,o,s]);this._active=!0,this._fn=e.fn||ySe[e.type||typeof a],this._easing=Zp[e.easing]||Zp.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,r,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,a=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Eb([e.to,r,s,e.from]),this._from=Eb([e.from,s,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,i=this._duration,s=this._prop,o=this._from,a=this._loop,l=this._to;let c;if(this._active=o!==l&&(a||r<i),!this._active){this._target[s]=l,this._notify(!0);return}if(r<0){this._target[s]=o;return}c=r/i%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(o,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,i)=>{e.push({res:r,rej:i})})}_notify(e){const r=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][r]()}}class UA{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Dt(e))return;const r=Object.keys(An.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const o=e[s];if(!Dt(o))return;const a={};for(const l of r)a[l]=o[l];(Sn(o.properties)&&o.properties||[s]).forEach(l=>{(l===s||!i.has(l))&&i.set(l,a)})})}_animateOptions(e,r){const i=r.options,s=wSe(e,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&xSe(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,r){const i=this._properties,s=[],o=e.$animations||(e.$animations={}),a=Object.keys(r),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const u=a[c];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,r));continue}const f=r[u];let d=o[u];const h=i.get(u);if(d)if(h&&d.active()){d.update(h,f,l);continue}else d.cancel();if(!h||!h.duration){e[u]=f;continue}o[u]=d=new vSe(h,e,u,f),s.push(d)}return s}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const i=this._createAnimations(e,r);if(i.length)return qo.add(this._chart,i),!0}}function xSe(n,e){const r=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const o=n[i[s]];o&&o.active()&&r.push(o.wait())}return Promise.all(r)}function wSe(n,e){if(!e)return;let r=n.options;if(!r){n.options=e;return}return r.$shared&&(n.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function Gj(n,e){const r=n&&n.options||{},i=r.reverse,s=r.min===void 0?e:0,o=r.max===void 0?e:0;return{start:i?o:s,end:i?s:o}}function _Se(n,e,r){if(r===!1)return!1;const i=Gj(n,r),s=Gj(e,r);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function SSe(n){let e,r,i,s;return Dt(n)?(e=n.top,r=n.right,i=n.bottom,s=n.left):e=r=i=s=n,{top:e,right:r,bottom:i,left:s,disabled:n===!1}}function iZ(n,e){const r=[],i=n._getSortedDatasetMetas(e);let s,o;for(s=0,o=i.length;s<o;++s)r.push(i[s].index);return r}function Yj(n,e,r,i={}){const s=n.keys,o=i.mode==="single";let a,l,c,u;if(e===null)return;let f=!1;for(a=0,l=s.length;a<l;++a){if(c=+s[a],c===r){if(f=!0,i.all)continue;break}u=n.values[c],hi(u)&&(o||e===0||Nf(e)===Nf(u))&&(e+=u)}return!f&&!i.all?0:e}function kSe(n,e){const{iScale:r,vScale:i}=e,s=r.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",a=Object.keys(n),l=new Array(a.length);let c,u,f;for(c=0,u=a.length;c<u;++c)f=a[c],l[c]={[s]:f,[o]:n[f]};return l}function M_(n,e){const r=n&&n.options.stacked;return r||r===void 0&&e.stack!==void 0}function CSe(n,e,r){return`${n.id}.${e.id}.${r.stack||r.type}`}function TSe(n){const{min:e,max:r,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?r:Number.POSITIVE_INFINITY}}function ESe(n,e,r){const i=n[e]||(n[e]={});return i[r]||(i[r]={})}function Vj(n,e,r,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const o=n[s.index];if(r&&o>0||!r&&o<0)return s.index}return null}function Kj(n,e){const{chart:r,_cachedMeta:i}=n,s=r._stacks||(r._stacks={}),{iScale:o,vScale:a,index:l}=i,c=o.axis,u=a.axis,f=CSe(o,a,i),d=e.length;let h;for(let p=0;p<d;++p){const g=e[p],{[c]:v,[u]:y}=g,b=g._stacks||(g._stacks={});h=b[u]=ESe(s,f,v),h[l]=y,h._top=Vj(h,a,!0,i.type),h._bottom=Vj(h,a,!1,i.type);const w=h._visualValues||(h._visualValues={});w[l]=y}}function A_(n,e){const r=n.scales;return Object.keys(r).filter(i=>r[i].axis===e).shift()}function DSe(n,e){return Cu(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function PSe(n,e,r){return Cu(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Qh(n,e){const r=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const s of e){const o=s._stacks;if(!o||o[i]===void 0||o[i][r]===void 0)return;delete o[i][r],o[i]._visualValues!==void 0&&o[i]._visualValues[r]!==void 0&&delete o[i]._visualValues[r]}}}const R_=n=>n==="reset"||n==="none",Xj=(n,e)=>e?n:Object.assign({},n),ISe=(n,e,r)=>n&&!e.hidden&&e._stacked&&{keys:iZ(r,!0),values:null};class Ld{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=M_(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Qh(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,i=this.getDataset(),s=(d,h,p,g)=>d==="x"?h:d==="r"?g:p,o=r.xAxisID=Ct(i.xAxisID,A_(e,"x")),a=r.yAxisID=Ct(i.yAxisID,A_(e,"y")),l=r.rAxisID=Ct(i.rAxisID,A_(e,"r")),c=r.indexAxis,u=r.iAxisID=s(c,o,a,l),f=r.vAxisID=s(c,a,o,l);r.xScale=this.getScaleForId(o),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Oj(this._data,this),e._stacked&&Qh(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),i=this._data;if(Dt(r)){const s=this._cachedMeta;this._data=kSe(r,s)}else if(i!==r){if(i){Oj(i,this);const s=this._cachedMeta;Qh(s),s._parsed=[]}r&&Object.isExtensible(r)&&a_e(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=r._stacked;r._stacked=M_(r.vScale,r),r.stack!==i.stack&&(s=!0,Qh(r),r.stack=i.stack),this._resyncElements(e),(s||o!==r._stacked)&&(Kj(this,r._parsed),r._stacked=M_(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:a}=i,l=o.axis;let c=e===0&&r===s.length?!0:i._sorted,u=e>0&&i._parsed[e-1],f,d,h;if(this._parsing===!1)i._parsed=s,i._sorted=!0,h=s;else{Sn(s[e])?h=this.parseArrayData(i,s,e,r):Dt(s[e])?h=this.parseObjectData(i,s,e,r):h=this.parsePrimitiveData(i,s,e,r);const p=()=>d[l]===null||u&&d[l]<u[l];for(f=0;f<r;++f)i._parsed[f+e]=d=h[f],c&&(p()&&(c=!1),u=d);i._sorted=c}a&&Kj(this,h)}parsePrimitiveData(e,r,i,s){const{iScale:o,vScale:a}=e,l=o.axis,c=a.axis,u=o.getLabels(),f=o===a,d=new Array(s);let h,p,g;for(h=0,p=s;h<p;++h)g=h+i,d[h]={[l]:f||o.parse(u[g],g),[c]:a.parse(r[g],g)};return d}parseArrayData(e,r,i,s){const{xScale:o,yScale:a}=e,l=new Array(s);let c,u,f,d;for(c=0,u=s;c<u;++c)f=c+i,d=r[f],l[c]={x:o.parse(d[0],f),y:a.parse(d[1],f)};return l}parseObjectData(e,r,i,s){const{xScale:o,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s);let f,d,h,p;for(f=0,d=s;f<d;++f)h=f+i,p=r[h],u[f]={x:o.parse(rg(p,l),h),y:a.parse(rg(p,c),h)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,i){const s=this.chart,o=this._cachedMeta,a=r[e.axis],l={keys:iZ(s,!0),values:r._stacks[e.axis]._visualValues};return Yj(l,a,o.index,{mode:i})}updateRangeFromParsed(e,r,i,s){const o=i[r.axis];let a=o===null?NaN:o;const l=s&&i._stacks[r.axis];s&&l&&(s.values=l,a=Yj(s,o,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&e===i.iScale,a=s.length,l=this._getOtherScale(e),c=ISe(r,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:d}=TSe(l);let h,p;function g(){p=s[h];const v=p[l.axis];return!hi(p[e.axis])||f>v||d<v}for(h=0;h<a&&!(!g()&&(this.updateRangeFromParsed(u,e,p,c),o));++h);if(o){for(h=a-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(u,e,p,c);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,i=[];let s,o,a;for(s=0,o=r.length;s<o;++s)a=r[s][e.axis],hi(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,i=r.iScale,s=r.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=SSe(Ct(this.options.clip,_Se(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,i=this._cachedMeta,s=i.data||[],o=r.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop;let f;for(i.dataset&&i.dataset.draw(e,o,l,c),f=l;f<l+c;++f){const d=s[f];d.hidden||(d.active&&u?a.push(d):d.draw(e,o))}for(f=0;f<a.length;++f)a[f].draw(e,o)}getStyle(e,r){const i=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,r,i){const s=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];o=a.$context||(a.$context=PSe(this.getContext(),e,a)),o.parsed=this.getParsed(e),o.raw=s.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=DSe(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!r,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",i){const s=r==="active",o=this._cachedDataOpts,a=e+"-"+r,l=o[a],c=this.enableOptionSharing&&Ri(i);if(l)return Xj(l,c);const u=this.chart.config,f=u.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],h=u.getOptionScopes(this.getDataset(),f),p=Object.keys(An.elements[e]),g=()=>this.getContext(i,s,r),v=u.resolveNamedOptions(h,p,g,d);return v.$shared&&(v.$shared=c,o[a]=Object.freeze(Xj(v,c))),v}_resolveAnimations(e,r,i){const s=this.chart,o=this._cachedDataOpts,a=`animation-${r}`,l=o[a];if(l)return l;let c;if(s.options.animation!==!1){const f=this.chart.config,d=f.datasetAnimationScopeKeys(this._type,r),h=f.getOptionScopes(this.getDataset(),d);c=f.createResolver(h,this.getContext(e,i,r))}const u=new UA(s,c&&c.animations);return c&&c._cacheable&&(o[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||R_(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const i=this.resolveDataElementOptions(e,r),s=this._sharedOptions,o=this.getSharedOptions(i),a=this.includeOptions(r,o)||o!==s;return this.updateSharedOptions(o,r,i),{sharedOptions:o,includeOptions:a}}updateElement(e,r,i,s){R_(s)?Object.assign(e,i):this._resolveAnimations(r,s).update(e,i)}updateSharedOptions(e,r,i){e&&!R_(r)&&this._resolveAnimations(void 0,r).update(e,i)}_setStyle(e,r,i,s){e.active=s;const o=this.getStyle(r,s);this._resolveAnimations(r,i,s).update(e,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(e,r,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,r,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,i=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const s=i.length,o=r.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,e):o<s&&this._removeElements(o,s-o)}_insertElements(e,r,i=!0){const s=this._cachedMeta,o=s.data,a=e+r;let l;const c=u=>{for(u.length+=r,l=u.length-1;l>=a;l--)u[l]=u[l-r]};for(c(o),l=e;l<a;++l)o[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,r),i&&this.updateElements(o,e,r,"reset")}updateElements(e,r,i,s){}_removeElements(e,r){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,r);i._stacked&&Qh(i,s)}i.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,i,s]=e;this[r](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Te(Ld,"defaults",{}),Te(Ld,"datasetElementType",null),Te(Ld,"dataElementType",null);function OSe(n,e,r){let i=1,s=1,o=0,a=0;if(e<gr){const l=n,c=l+e,u=Math.cos(l),f=Math.sin(l),d=Math.cos(c),h=Math.sin(c),p=(k,_,S)=>Nv(k,l,c,!0)?1:Math.max(_,_*r,S,S*r),g=(k,_,S)=>Nv(k,l,c,!0)?-1:Math.min(_,_*r,S,S*r),v=p(0,u,d),y=p(br,f,h),b=g(Ht,u,d),w=g(Ht+br,f,h);i=(v-b)/2,s=(y-w)/2,o=-(v+b)/2,a=-(y+w)/2}return{ratioX:i,ratioY:s,offsetX:o,offsetY:a}}class Dp extends Ld{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let o=c=>+i[c];if(Dt(i[e])){const{key:c="value"}=this._parsing;o=u=>+rg(i[u],c)}let a,l;for(a=e,l=e+r;a<l;++a)s._parsed[a]=o(a)}}_getRotation(){return ar(this.options.rotation-90)}_getCircumference(){return ar(this.options.circumference)}_getRotationExtents(){let e=gr,r=-gr;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),a=s._getCircumference();e=Math.min(e,o),r=Math.max(r,o+a)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:i}=r,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),c=Math.min(G1e(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:f,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:g,offsetY:v}=OSe(d,f,c),y=(i.width-a)/h,b=(i.height-a)/p,w=Math.max(Math.min(y,b)/2,0),k=BQ(this.options.radius,w),_=Math.max(k*c,0),S=(k-_)/this._getVisibleDatasetWeightTotal();this.offsetX=g*k,this.offsetY=v*k,s.total=this.calculateTotal(),this.outerRadius=k-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*u,0),this.updateElements(o,0,o.length,e)}_circumference(e,r){const i=this.options,s=this._cachedMeta,o=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*o/gr)}updateElements(e,r,i,s){const o=s==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,f=(l.left+l.right)/2,d=(l.top+l.bottom)/2,h=o&&u.animateScale,p=h?0:this.innerRadius,g=h?0:this.outerRadius,{sharedOptions:v,includeOptions:y}=this._getSharedOptions(r,s);let b=this._getRotation(),w;for(w=0;w<r;++w)b+=this._circumference(w,o);for(w=r;w<r+i;++w){const k=this._circumference(w,o),_=e[w],S={x:f+this.offsetX,y:d+this.offsetY,startAngle:b,endAngle:b+k,circumference:k,outerRadius:g,innerRadius:p};y&&(S.options=v||this.resolveDataElementOptions(w,_.active?"active":s)),b+=k,this.updateElement(_,w,S,s)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let i=0,s;for(s=0;s<r.length;s++){const o=e._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!r[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?gr*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=jA(r._parsed[e],i.options.locale);return{label:s[e]||"",value:o}}getMaxBorderWidth(e){let r=0;const i=this.chart;let s,o,a,l,c;if(!e){for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){a=i.getDatasetMeta(s),e=a.data,l=a.controller;break}}if(!e)return 0;for(s=0,o=e.length;s<o;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let i=0,s=e.length;i<s;++i){const o=this.resolveDataElementOptions(i);r=Math.max(r,o.offset||0,o.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(e){return Math.max(Ct(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Te(Dp,"id","doughnut"),Te(Dp,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Te(Dp,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Te(Dp,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data,{labels:{pointStyle:i,textAlign:s,color:o,useBorderRadius:a,borderRadius:l}}=e.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((c,u)=>{const d=e.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:d.backgroundColor,fontColor:o,hidden:!e.getDataVisibility(u),lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:d.borderWidth,strokeStyle:d.borderColor,textAlign:s,pointStyle:i,borderRadius:a&&(l||d.borderRadius),index:u}}):[]}},onClick(e,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}});class ky extends Ld{getLabelAndValue(e){const r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=r,a=this.getParsed(e),l=s.getLabelForValue(a.x),c=o.getLabelForValue(a.y);return{label:i[e]||"",value:"("+l+", "+c+")"}}update(e){const r=this._cachedMeta,{data:i=[]}=r,s=this.chart._animationsDisabled;let{start:o,count:a}=d_e(r,i,s);if(this._drawStart=o,this._drawCount=a,f_e(r)&&(o=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=r;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=i;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,o,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,i,s){const o=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,f=this.resolveDataElementOptions(r,s),d=this.getSharedOptions(f),h=this.includeOptions(s,d),p=a.axis,g=l.axis,{spanGaps:v,segment:y}=this.options,b=lu(v)?v:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||o||s==="none";let k=r>0&&this.getParsed(r-1);for(let _=r;_<r+i;++_){const S=e[_],C=this.getParsed(_),T=w?S:{},D=cn(C[g]),O=T[p]=a.getPixelForValue(C[p],_),P=T[g]=o||D?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,C,c):C[g],_);T.skip=isNaN(O)||isNaN(P)||D,T.stop=_>0&&Math.abs(C[p]-k[p])>b,y&&(T.parsed=C,T.raw=u.data[_]),h&&(T.options=d||this.resolveDataElementOptions(_,S.active?"active":s)),w||this.updateElement(S,_,T,s),k=C}this.updateSharedOptions(d,s,f)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let l=0;for(let c=r.length-1;c>=0;--c)l=Math.max(l,r[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!r.length)return s;const o=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,a)/2}}Te(ky,"id","scatter"),Te(ky,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Te(ky,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function rc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class qA{constructor(e){Te(this,"options");this.options=e||{}}static override(e){Object.assign(qA.prototype,e)}init(){}formats(){return rc()}parse(){return rc()}format(){return rc()}add(){return rc()}diff(){return rc()}startOf(){return rc()}endOf(){return rc()}}var MSe={_date:qA};function ASe(n,e,r,i){const{controller:s,data:o,_sorted:a}=n,l=s._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&o.length){const u=l._reversePixels?s_e:Cc;if(i){if(s._sharedOptions){const f=o[0],d=typeof f.getRange=="function"&&f.getRange(e);if(d){const h=u(o,e,r-d),p=u(o,e,r+d);return{lo:h.lo,hi:p.hi}}}}else{const f=u(o,e,r);if(c){const{vScale:d}=s._cachedMeta,{_parsed:h}=n,p=h.slice(0,f.lo+1).reverse().findIndex(v=>!cn(v[d.axis]));f.lo-=Math.max(0,p);const g=h.slice(f.hi).findIndex(v=>!cn(v[d.axis]));f.hi+=Math.max(0,g)}return f}}return{lo:0,hi:o.length-1}}function aw(n,e,r,i,s){const o=n.getSortedVisibleDatasetMetas(),a=r[e];for(let l=0,c=o.length;l<c;++l){const{index:u,data:f}=o[l],{lo:d,hi:h}=ASe(o[l],e,a,s);for(let p=d;p<=h;++p){const g=f[p];g.skip||i(g,u,p)}}}function RSe(n){const e=n.indexOf("x")!==-1,r=n.indexOf("y")!==-1;return function(i,s){const o=e?Math.abs(i.x-s.x):0,a=r?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function N_(n,e,r,i,s){const o=[];return!s&&!n.isPointInArea(e)||aw(n,r,e,function(l,c,u){!s&&!ig(l,n.chartArea,0)||l.inRange(e.x,e.y,i)&&o.push({element:l,datasetIndex:c,index:u})},!0),o}function NSe(n,e,r,i){let s=[];function o(a,l,c){const{startAngle:u,endAngle:f}=a.getProps(["startAngle","endAngle"],i),{angle:d}=lI(a,{x:e.x,y:e.y});Nv(d,u,f)&&s.push({element:a,datasetIndex:l,index:c})}return aw(n,r,e,o),s}function jSe(n,e,r,i,s,o){let a=[];const l=RSe(r);let c=Number.POSITIVE_INFINITY;function u(f,d,h){const p=f.inRange(e.x,e.y,s);if(i&&!p)return;const g=f.getCenterPoint(s);if(!(!!o||n.isPointInArea(g))&&!p)return;const y=l(e,g);y<c?(a=[{element:f,datasetIndex:d,index:h}],c=y):y===c&&a.push({element:f,datasetIndex:d,index:h})}return aw(n,r,e,u),a}function j_(n,e,r,i,s,o){return!o&&!n.isPointInArea(e)?[]:r==="r"&&!i?NSe(n,e,r,s):jSe(n,e,r,i,s,o)}function Qj(n,e,r,i,s){const o=[],a=r==="x"?"inXRange":"inYRange";let l=!1;return aw(n,r,e,(c,u,f)=>{c[a]&&c[a](e[r],s)&&(o.push({element:c,datasetIndex:u,index:f}),l=l||c.inRange(e.x,e.y,s))}),i&&!l?[]:o}var LSe={modes:{index(n,e,r,i){const s=uc(e,n),o=r.axis||"x",a=r.includeInvisible||!1,l=r.intersect?N_(n,s,o,i,a):j_(n,s,o,!1,i,a),c=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(u=>{const f=l[0].index,d=u.data[f];d&&!d.skip&&c.push({element:d,datasetIndex:u.index,index:f})}),c):[]},dataset(n,e,r,i){const s=uc(e,n),o=r.axis||"xy",a=r.includeInvisible||!1;let l=r.intersect?N_(n,s,o,i,a):j_(n,s,o,!1,i,a);if(l.length>0){const c=l[0].datasetIndex,u=n.getDatasetMeta(c).data;l=[];for(let f=0;f<u.length;++f)l.push({element:u[f],datasetIndex:c,index:f})}return l},point(n,e,r,i){const s=uc(e,n),o=r.axis||"xy",a=r.includeInvisible||!1;return N_(n,s,o,i,a)},nearest(n,e,r,i){const s=uc(e,n),o=r.axis||"xy",a=r.includeInvisible||!1;return j_(n,s,o,r.intersect,i,a)},x(n,e,r,i){const s=uc(e,n);return Qj(n,s,"x",r.intersect,i)},y(n,e,r,i){const s=uc(e,n);return Qj(n,s,"y",r.intersect,i)}}};const sZ=["left","top","right","bottom"];function Zh(n,e){return n.filter(r=>r.pos===e)}function Zj(n,e){return n.filter(r=>sZ.indexOf(r.pos)===-1&&r.box.axis===e)}function Jh(n,e){return n.sort((r,i)=>{const s=e?i:r,o=e?r:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function FSe(n){const e=[];let r,i,s,o,a,l;for(r=0,i=(n||[]).length;r<i;++r)s=n[r],{position:o,options:{stack:a,stackWeight:l=1}}=s,e.push({index:r,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&o+a,stackWeight:l});return e}function $Se(n){const e={};for(const r of n){const{stack:i,pos:s,stackWeight:o}=r;if(!i||!sZ.includes(s))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return e}function BSe(n,e){const r=$Se(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let o,a,l;for(o=0,a=n.length;o<a;++o){l=n[o];const{fullSize:c}=l.box,u=r[l.stack],f=u&&l.stackWeight/u.weight;l.horizontal?(l.width=f?f*i:c&&e.availableWidth,l.height=s):(l.width=i,l.height=f?f*s:c&&e.availableHeight)}return r}function zSe(n){const e=FSe(n),r=Jh(e.filter(u=>u.box.fullSize),!0),i=Jh(Zh(e,"left"),!0),s=Jh(Zh(e,"right")),o=Jh(Zh(e,"top"),!0),a=Jh(Zh(e,"bottom")),l=Zj(e,"x"),c=Zj(e,"y");return{fullSize:r,leftAndTop:i.concat(o),rightAndBottom:s.concat(c).concat(a).concat(l),chartArea:Zh(e,"chartArea"),vertical:i.concat(s).concat(c),horizontal:o.concat(a).concat(l)}}function Jj(n,e,r,i){return Math.max(n[r],e[r])+Math.max(n[i],e[i])}function oZ(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function USe(n,e,r,i){const{pos:s,box:o}=r,a=n.maxPadding;if(!Dt(s)){r.size&&(n[s]-=r.size);const d=i[r.stack]||{size:0,count:1};d.size=Math.max(d.size,r.horizontal?o.height:o.width),r.size=d.size/d.count,n[s]+=r.size}o.getPadding&&oZ(a,o.getPadding());const l=Math.max(0,e.outerWidth-Jj(a,n,"left","right")),c=Math.max(0,e.outerHeight-Jj(a,n,"top","bottom")),u=l!==n.w,f=c!==n.h;return n.w=l,n.h=c,r.horizontal?{same:u,other:f}:{same:f,other:u}}function qSe(n){const e=n.maxPadding;function r(i){const s=Math.max(e[i]-n[i],0);return n[i]+=s,s}n.y+=r("top"),n.x+=r("left"),r("right"),r("bottom")}function WSe(n,e){const r=e.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{o[a]=Math.max(e[a],r[a])}),o}return i(n?["left","right"]:["top","bottom"])}function Pp(n,e,r,i){const s=[];let o,a,l,c,u,f;for(o=0,a=n.length,u=0;o<a;++o){l=n[o],c=l.box,c.update(l.width||e.w,l.height||e.h,WSe(l.horizontal,e));const{same:d,other:h}=USe(e,r,l,i);u|=d&&s.length,f=f||h,c.fullSize||s.push(l)}return u&&Pp(s,e,r,i)||f}function Ib(n,e,r,i,s){n.top=r,n.left=e,n.right=e+i,n.bottom=r+s,n.width=i,n.height=s}function e8(n,e,r,i){const s=r.padding;let{x:o,y:a}=e;for(const l of n){const c=l.box,u=i[l.stack]||{placed:0,weight:1},f=l.stackWeight/u.weight||1;if(l.horizontal){const d=e.w*f,h=u.size||c.height;Ri(u.start)&&(a=u.start),c.fullSize?Ib(c,s.left,a,r.outerWidth-s.right-s.left,h):Ib(c,e.left+u.placed,a,d,h),u.start=a,u.placed+=d,a=c.bottom}else{const d=e.h*f,h=u.size||c.width;Ri(u.start)&&(o=u.start),c.fullSize?Ib(c,o,s.top,h,r.outerHeight-s.bottom-s.top):Ib(c,o,e.top+u.placed,h,d),u.start=o,u.placed+=d,o=c.right}}e.x=o,e.y=a}var as={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},n.boxes.push(e)},removeBox(n,e){const r=n.boxes?n.boxes.indexOf(e):-1;r!==-1&&n.boxes.splice(r,1)},configure(n,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(n,e,r,i){if(!n)return;const s=Or(n.options.layout.padding),o=Math.max(e-s.width,0),a=Math.max(r-s.height,0),l=zSe(n.boxes),c=l.vertical,u=l.horizontal;Kt(n.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const f=c.reduce((v,y)=>y.box.options&&y.box.options.display===!1?v:v+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:r,padding:s,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/f,hBoxMaxHeight:a/2}),h=Object.assign({},s);oZ(h,Or(i));const p=Object.assign({maxPadding:h,w:o,h:a,x:s.left,y:s.top},s),g=BSe(c.concat(u),d);Pp(l.fullSize,p,d,g),Pp(c,p,d,g),Pp(u,p,d,g)&&Pp(c,p,d,g),qSe(p),e8(l.leftAndTop,p,d,g),p.x+=p.w,p.y+=p.h,e8(l.rightAndBottom,p,d,g),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Kt(l.chartArea,v=>{const y=v.box;Object.assign(y,n.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class aZ{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,i){}removeEventListener(e,r,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,i,s){return r=Math.max(0,r||e.width),i=i||e.height,{width:r,height:Math.max(0,s?Math.floor(r/s):i)}}isAttached(e){return!0}updateConfig(e){}}class HSe extends aZ{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Cy="$chartjs",GSe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},t8=n=>n===null||n==="";function YSe(n,e){const r=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Cy]={initial:{height:i,width:s,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",t8(s)){const o=zj(n,"width");o!==void 0&&(n.width=o)}if(t8(i))if(n.style.height==="")n.height=n.width/(e||2);else{const o=zj(n,"height");o!==void 0&&(n.height=o)}return n}const lZ=nSe?{passive:!0}:!1;function VSe(n,e,r){n&&n.addEventListener(e,r,lZ)}function KSe(n,e,r){n&&n.canvas&&n.canvas.removeEventListener(e,r,lZ)}function XSe(n,e){const r=GSe[n.type]||n.type,{x:i,y:s}=uc(n,e);return{type:r,chart:e,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Fv(n,e){for(const r of n)if(r===e||r.contains(e))return!0}function QSe(n,e,r){const i=n.canvas,s=new MutationObserver(o=>{let a=!1;for(const l of o)a=a||Fv(l.addedNodes,i),a=a&&!Fv(l.removedNodes,i);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}function ZSe(n,e,r){const i=n.canvas,s=new MutationObserver(o=>{let a=!1;for(const l of o)a=a||Fv(l.removedNodes,i),a=a&&!Fv(l.addedNodes,i);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}const og=new Map;let n8=0;function cZ(){const n=window.devicePixelRatio;n!==n8&&(n8=n,og.forEach((e,r)=>{r.currentDevicePixelRatio!==n&&e()}))}function JSe(n,e){og.size||window.addEventListener("resize",cZ),og.set(n,e)}function eke(n){og.delete(n),og.size||window.removeEventListener("resize",cZ)}function tke(n,e,r){const i=n.canvas,s=i&&zA(i);if(!s)return;const o=GQ((l,c)=>{const u=s.clientWidth;r(l,c),u<s.clientWidth&&r()},window),a=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,f=c.contentRect.height;u===0&&f===0||o(u,f)});return a.observe(s),JSe(n,o),a}function L_(n,e,r){r&&r.disconnect(),e==="resize"&&eke(n)}function nke(n,e,r){const i=n.canvas,s=GQ(o=>{n.ctx!==null&&r(XSe(o,n))},n);return VSe(i,e,s),s}class rke extends aZ{acquireContext(e,r){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(YSe(e,r),i):null}releaseContext(e){const r=e.canvas;if(!r[Cy])return!1;const i=r[Cy].initial;["height","width"].forEach(o=>{const a=i[o];cn(a)?r.removeAttribute(o):r.setAttribute(o,a)});const s=i.style||{};return Object.keys(s).forEach(o=>{r.style[o]=s[o]}),r.width=r.width,delete r[Cy],!0}addEventListener(e,r,i){this.removeEventListener(e,r);const s=e.$proxies||(e.$proxies={}),a={attach:QSe,detach:ZSe,resize:tke}[r]||nke;s[r]=a(e,r,i)}removeEventListener(e,r){const i=e.$proxies||(e.$proxies={}),s=i[r];if(!s)return;({attach:L_,detach:L_,resize:L_}[r]||KSe)(e,r,s),i[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,i,s){return tSe(e,r,i,s)}isAttached(e){const r=e&&zA(e);return!!(r&&r.isConnected)}}function ike(n){return!BA()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?HSe:rke}var Yb;let gi=(Yb=class{constructor(){Te(this,"x");Te(this,"y");Te(this,"active",!1);Te(this,"options");Te(this,"$animations")}tooltipPosition(e){const{x:r,y:i}=this.getProps(["x","y"],e);return{x:r,y:i}}hasValue(){return lu(this.x)&&lu(this.y)}getProps(e,r){const i=this.$animations;if(!r||!i)return this;const s={};return e.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}},Te(Yb,"defaults",{}),Te(Yb,"defaultRoutes"),Yb);function ske(n,e){const r=n.options.ticks,i=oke(n),s=Math.min(r.maxTicksLimit||i,i),o=r.major.enabled?lke(e):[],a=o.length,l=o[0],c=o[a-1],u=[];if(a>s)return cke(e,u,o,a/s),u;const f=ake(o,e,s);if(a>0){let d,h;const p=a>1?Math.round((c-l)/(a-1)):null;for(Ob(e,u,f,cn(p)?0:l-p,l),d=0,h=a-1;d<h;d++)Ob(e,u,f,o[d],o[d+1]);return Ob(e,u,f,c,cn(p)?e.length:c+p),u}return Ob(e,u,f),u}function oke(n){const e=n.options.offset,r=n._tickSize(),i=n._length/r+(e?0:1),s=n._maxLength/r;return Math.floor(Math.min(i,s))}function ake(n,e,r){const i=uke(n),s=e.length/r;if(!i)return Math.max(s,1);const o=J1e(i);for(let a=0,l=o.length-1;a<l;a++){const c=o[a];if(c>s)return c}return Math.max(s,1)}function lke(n){const e=[];let r,i;for(r=0,i=n.length;r<i;r++)n[r].major&&e.push(r);return e}function cke(n,e,r,i){let s=0,o=r[0],a;for(i=Math.ceil(i),a=0;a<n.length;a++)a===o&&(e.push(n[a]),s++,o=r[s*i])}function Ob(n,e,r,i,s){const o=Ct(i,0),a=Math.min(Ct(s,n.length),n.length);let l=0,c,u,f;for(r=Math.ceil(r),s&&(c=s-i,r=c/Math.floor(c/r)),f=o;f<0;)l++,f=Math.round(o+l*r);for(u=Math.max(o,0);u<a;u++)u===f&&(e.push(n[u]),l++,f=Math.round(o+l*r))}function uke(n){const e=n.length;let r,i;if(e<2)return!1;for(i=n[0],r=1;r<e;++r)if(n[r]-n[r-1]!==i)return!1;return i}const dke=n=>n==="left"?"right":n==="right"?"left":n,r8=(n,e,r)=>e==="top"||e==="left"?n[e]+r:n[e]-r,i8=(n,e)=>Math.min(e||n,n);function s8(n,e){const r=[],i=n.length/e,s=n.length;let o=0;for(;o<s;o+=i)r.push(n[Math.floor(o)]);return r}function fke(n,e,r){const i=n.ticks.length,s=Math.min(e,i-1),o=n._startPixel,a=n._endPixel,l=1e-6;let c=n.getPixelForTick(s),u;if(!(r&&(i===1?u=Math.max(c-o,a-c):e===0?u=(n.getPixelForTick(1)-c)/2:u=(c-n.getPixelForTick(s-1))/2,c+=s<e?u:-u,c<o-l||c>a+l)))return c}function hke(n,e){Kt(n,r=>{const i=r.gc,s=i.length/2;let o;if(s>e){for(o=0;o<s;++o)delete r.data[i[o]];i.splice(0,s)}})}function ep(n){return n.drawTicks?n.tickLength:0}function o8(n,e){if(!n.display)return 0;const r=Jn(n.font,e),i=Or(n.padding);return(Sn(n.text)?n.text.length:1)*r.lineHeight+i.height}function pke(n,e){return Cu(n,{scale:e,type:"scale"})}function mke(n,e,r){return Cu(n,{tick:r,index:e,type:"tick"})}function gke(n,e,r){let i=RA(n);return(r&&e!=="right"||!r&&e==="right")&&(i=dke(i)),i}function bke(n,e,r,i){const{top:s,left:o,bottom:a,right:l,chart:c}=n,{chartArea:u,scales:f}=c;let d=0,h,p,g;const v=a-s,y=l-o;if(n.isHorizontal()){if(p=Tr(i,o,l),Dt(r)){const b=Object.keys(r)[0],w=r[b];g=f[b].getPixelForValue(w)+v-e}else r==="center"?g=(u.bottom+u.top)/2+v-e:g=r8(n,r,e);h=l-o}else{if(Dt(r)){const b=Object.keys(r)[0],w=r[b];p=f[b].getPixelForValue(w)-y+e}else r==="center"?p=(u.left+u.right)/2-y+e:p=r8(n,r,e);g=Tr(i,a,s),d=r==="left"?-br:br}return{titleX:p,titleY:g,maxWidth:h,rotation:d}}class ah extends gi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:i,_suggestedMax:s}=this;return e=Qs(e,Number.POSITIVE_INFINITY),r=Qs(r,Number.NEGATIVE_INFINITY),i=Qs(i,Number.POSITIVE_INFINITY),s=Qs(s,Number.NEGATIVE_INFINITY),{min:Qs(e,i),max:Qs(r,s),minDefined:hi(e),maxDefined:hi(r)}}getMinMax(e){let{min:r,max:i,minDefined:s,maxDefined:o}=this.getUserBounds(),a;if(s&&o)return{min:r,max:i};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)a=l[c].controller.getMinMax(this,e),s||(r=Math.min(r,a.min)),o||(i=Math.max(i,a.max));return r=o&&r>i?i:r,i=s&&r>i?r:i,{min:Qs(r,Qs(i,r)),max:Qs(i,Qs(r,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Jt(this.options.beforeUpdate,[this])}update(e,r,i){const{beginAtZero:s,grace:o,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=A_e(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?s8(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=ske(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,i;this.isHorizontal()?(r=this.left,i=this.right):(r=this.top,i=this.bottom,e=!e),this._startPixel=r,this._endPixel=i,this._reversePixels=e,this._length=i-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Jt(this.options.afterUpdate,[this])}beforeSetDimensions(){Jt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Jt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Jt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Jt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let i,s,o;for(i=0,s=e.length;i<s;i++)o=e[i],o.label=Jt(r.callback,[o.value,i,e],this)}afterTickToLabelConversion(){Jt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Jt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,i=i8(this.ticks.length,e.ticks.maxTicksLimit),s=r.minRotation||0,o=r.maxRotation;let a=s,l,c,u;if(!this._isVisible()||!r.display||s>=o||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const f=this._getLabelSizes(),d=f.widest.width,h=f.highest.height,p=os(this.chart.width-d,0,this.maxWidth);l=e.offset?this.maxWidth/i:p/(i-1),d+6>l&&(l=p/(i-(e.offset?.5:1)),c=this.maxHeight-ep(e.grid)-r.padding-o8(e.title,this.chart.options.font),u=Math.sqrt(d*d+h*h),a=qQ(Math.min(Math.asin(os((f.highest.height+6)/l,-1,1)),Math.asin(os(c/u,-1,1))-Math.asin(os(h/u,-1,1)))),a=Math.max(s,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){Jt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Jt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:i,title:s,grid:o}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=o8(s,r.options.font);if(l?(e.width=this.maxWidth,e.height=ep(o)+c):(e.height=this.maxHeight,e.width=ep(o)+c),i.display&&this.ticks.length){const{first:u,last:f,widest:d,highest:h}=this._getLabelSizes(),p=i.padding*2,g=ar(this.labelRotation),v=Math.cos(g),y=Math.sin(g);if(l){const b=i.mirror?0:y*d.width+v*h.height;e.height=Math.min(this.maxHeight,e.height+b+p)}else{const b=i.mirror?0:v*d.width+y*h.height;e.width=Math.min(this.maxWidth,e.width+b+p)}this._calculatePadding(u,f,y,v)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,i,s){const{ticks:{align:o,padding:a},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,p=0;c?u?(h=s*e.width,p=i*r.height):(h=i*e.height,p=s*r.width):o==="start"?p=r.width:o==="end"?h=e.width:o!=="inner"&&(h=e.width/2,p=r.width/2),this.paddingLeft=Math.max((h-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((p-d+a)*this.width/(this.width-d),0)}else{let f=r.height/2,d=e.height/2;o==="start"?(f=0,d=e.height):o==="end"&&(f=r.height,d=0),this.paddingTop=f+a,this.paddingBottom=d+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Jt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,i;for(r=0,i=e.length;r<i;r++)cn(e[r].label)&&(e.splice(r,1),i--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let i=this.ticks;r<i.length&&(i=s8(i,r)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,i){const{ctx:s,_longestTextCache:o}=this,a=[],l=[],c=Math.floor(r/i8(r,i));let u=0,f=0,d,h,p,g,v,y,b,w,k,_,S;for(d=0;d<r;d+=c){if(g=e[d].label,v=this._resolveTickFontOptions(d),s.font=y=v.string,b=o[y]=o[y]||{data:{},gc:[]},w=v.lineHeight,k=_=0,!cn(g)&&!Sn(g))k=jj(s,b.data,b.gc,k,g),_=w;else if(Sn(g))for(h=0,p=g.length;h<p;++h)S=g[h],!cn(S)&&!Sn(S)&&(k=jj(s,b.data,b.gc,k,S),_+=w);a.push(k),l.push(_),u=Math.max(k,u),f=Math.max(_,f)}hke(o,r);const C=a.indexOf(u),T=l.indexOf(f),D=O=>({width:a[O]||0,height:l[O]||0});return{first:D(0),last:D(r-1),widest:D(C),highest:D(T),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return i_e(this._alignToPixels?nc(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const i=r[e];return i.$context||(i.$context=mke(this.getContext(),e,i))}return this.$context||(this.$context=pke(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=ar(this.labelRotation),i=Math.abs(Math.cos(r)),s=Math.abs(Math.sin(r)),o=this._getLabelSizes(),a=e.autoSkipPadding||0,l=o?o.widest.width+a:0,c=o?o.highest.height+a:0;return this.isHorizontal()?c*i>l*s?l/i:c/s:c*s<l*i?c/i:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,i=this.chart,s=this.options,{grid:o,position:a,border:l}=s,c=o.offset,u=this.isHorizontal(),d=this.ticks.length+(c?1:0),h=ep(o),p=[],g=l.setContext(this.getContext()),v=g.display?g.width:0,y=v/2,b=function(U){return nc(i,U,v)};let w,k,_,S,C,T,D,O,P,A,L,B;if(a==="top")w=b(this.bottom),T=this.bottom-h,O=w-y,A=b(e.top)+y,B=e.bottom;else if(a==="bottom")w=b(this.top),A=e.top,B=b(e.bottom)-y,T=w+y,O=this.top+h;else if(a==="left")w=b(this.right),C=this.right-h,D=w-y,P=b(e.left)+y,L=e.right;else if(a==="right")w=b(this.left),P=e.left,L=b(e.right)-y,C=w+y,D=this.left+h;else if(r==="x"){if(a==="center")w=b((e.top+e.bottom)/2+.5);else if(Dt(a)){const U=Object.keys(a)[0],N=a[U];w=b(this.chart.scales[U].getPixelForValue(N))}A=e.top,B=e.bottom,T=w+y,O=T+h}else if(r==="y"){if(a==="center")w=b((e.left+e.right)/2);else if(Dt(a)){const U=Object.keys(a)[0],N=a[U];w=b(this.chart.scales[U].getPixelForValue(N))}C=w-y,D=C-h,P=e.left,L=e.right}const F=Ct(s.ticks.maxTicksLimit,d),$=Math.max(1,Math.ceil(d/F));for(k=0;k<d;k+=$){const U=this.getContext(k),N=o.setContext(U),q=l.setContext(U),H=N.lineWidth,X=N.color,Y=q.dash||[],W=q.dashOffset,R=N.tickWidth,Z=N.tickColor,J=N.tickBorderDash||[],V=N.tickBorderDashOffset;_=fke(this,k,c),_!==void 0&&(S=nc(i,_,H),u?C=D=P=L=S:T=O=A=B=S,p.push({tx1:C,ty1:T,tx2:D,ty2:O,x1:P,y1:A,x2:L,y2:B,width:H,color:X,borderDash:Y,borderDashOffset:W,tickWidth:R,tickColor:Z,tickBorderDash:J,tickBorderDashOffset:V}))}return this._ticksLength=d,this._borderValue=w,p}_computeLabelItems(e){const r=this.axis,i=this.options,{position:s,ticks:o}=i,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:f,mirror:d}=o,h=ep(i.grid),p=h+f,g=d?-f:p,v=-ar(this.labelRotation),y=[];let b,w,k,_,S,C,T,D,O,P,A,L,B="middle";if(s==="top")C=this.bottom-g,T=this._getXAxisLabelAlignment();else if(s==="bottom")C=this.top+g,T=this._getXAxisLabelAlignment();else if(s==="left"){const $=this._getYAxisLabelAlignment(h);T=$.textAlign,S=$.x}else if(s==="right"){const $=this._getYAxisLabelAlignment(h);T=$.textAlign,S=$.x}else if(r==="x"){if(s==="center")C=(e.top+e.bottom)/2+p;else if(Dt(s)){const $=Object.keys(s)[0],U=s[$];C=this.chart.scales[$].getPixelForValue(U)+p}T=this._getXAxisLabelAlignment()}else if(r==="y"){if(s==="center")S=(e.left+e.right)/2-p;else if(Dt(s)){const $=Object.keys(s)[0],U=s[$];S=this.chart.scales[$].getPixelForValue(U)}T=this._getYAxisLabelAlignment(h).textAlign}r==="y"&&(c==="start"?B="top":c==="end"&&(B="bottom"));const F=this._getLabelSizes();for(b=0,w=l.length;b<w;++b){k=l[b],_=k.label;const $=o.setContext(this.getContext(b));D=this.getPixelForTick(b)+o.labelOffset,O=this._resolveTickFontOptions(b),P=O.lineHeight,A=Sn(_)?_.length:1;const U=A/2,N=$.color,q=$.textStrokeColor,H=$.textStrokeWidth;let X=T;a?(S=D,T==="inner"&&(b===w-1?X=this.options.reverse?"left":"right":b===0?X=this.options.reverse?"right":"left":X="center"),s==="top"?u==="near"||v!==0?L=-A*P+P/2:u==="center"?L=-F.highest.height/2-U*P+P:L=-F.highest.height+P/2:u==="near"||v!==0?L=P/2:u==="center"?L=F.highest.height/2-U*P:L=F.highest.height-A*P,d&&(L*=-1),v!==0&&!$.showLabelBackdrop&&(S+=P/2*Math.sin(v))):(C=D,L=(1-A)*P/2);let Y;if($.showLabelBackdrop){const W=Or($.backdropPadding),R=F.heights[b],Z=F.widths[b];let J=L-W.top,V=0-W.left;switch(B){case"middle":J-=R/2;break;case"bottom":J-=R;break}switch(T){case"center":V-=Z/2;break;case"right":V-=Z;break;case"inner":b===w-1?V-=Z:b>0&&(V-=Z/2);break}Y={left:V,top:J,width:Z+W.width,height:R+W.height,color:$.backdropColor}}y.push({label:_,font:O,textOffset:L,options:{rotation:v,color:N,strokeColor:q,strokeWidth:H,textAlign:X,textBaseline:B,translation:[S,C],backdrop:Y}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-ar(this.labelRotation))return e==="top"?"left":"right";let s="center";return r.align==="start"?s="left":r.align==="end"?s="right":r.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,a=this._getLabelSizes(),l=e+o,c=a.widest.width;let u,f;return r==="left"?s?(f=this.right+o,i==="near"?u="left":i==="center"?(u="center",f+=c/2):(u="right",f+=c)):(f=this.right-l,i==="near"?u="right":i==="center"?(u="center",f-=c/2):(u="left",f=this.left)):r==="right"?s?(f=this.left+o,i==="near"?u="right":i==="center"?(u="center",f-=c/2):(u="left",f-=c)):(f=this.left+l,i==="near"?u="left":i==="center"?(u="center",f+=c/2):(u="right",f=this.right)):u="right",{textAlign:u,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:i,top:s,width:o,height:a}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(i,s,o,a),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const s=this.ticks.findIndex(o=>o.value===e);return s>=0?r.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const r=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,a;const l=(c,u,f)=>{!f.width||!f.color||(i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(r.display)for(o=0,a=s.length;o<a;++o){const c=s[o];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),a=i.display?o.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,f,d,h;this.isHorizontal()?(u=nc(e,this.left,a)-a/2,f=nc(e,this.right,l)+l/2,d=h=c):(d=nc(e,this.top,a)-a/2,h=nc(e,this.bottom,l)+l/2,u=f=c),r.save(),r.lineWidth=o.width,r.strokeStyle=o.color,r.beginPath(),r.moveTo(u,d),r.lineTo(f,h),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&iw(i,s);const o=this.getLabelItems(e);for(const a of o){const l=a.options,c=a.font,u=a.label,f=a.textOffset;sg(i,u,0,f,c,l)}s&&sw(i)}drawTitle(){const{ctx:e,options:{position:r,title:i,reverse:s}}=this;if(!i.display)return;const o=Jn(i.font),a=Or(i.padding),l=i.align;let c=o.lineHeight/2;r==="bottom"||r==="center"||Dt(r)?(c+=a.bottom,Sn(i.text)&&(c+=o.lineHeight*(i.text.length-1))):c+=a.top;const{titleX:u,titleY:f,maxWidth:d,rotation:h}=bke(this,c,r,l);sg(e,i.text,0,0,o,{color:i.color,maxWidth:d,rotation:h,textAlign:gke(l,r,s),textBaseline:"middle",translation:[u,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,i=Ct(e.grid&&e.grid.z,-1),s=Ct(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ah.prototype.draw?[{z:r,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:r,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,a;for(o=0,a=r.length;o<a;++o){const l=r[o];l[i]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return Jn(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Mb{constructor(e,r,i){this.type=e,this.scope=r,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let i;xke(r)&&(i=this.register(r));const s=this.items,o=e.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in s||(s[o]=e,yke(e,a,i),this.override&&An.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const r=this.items,i=e.id,s=this.scope;i in r&&delete r[i],s&&i in An[s]&&(delete An[s][i],this.override&&delete cu[i])}}function yke(n,e,r){const i=ng(Object.create(null),[r?An.get(r):{},An.get(e),n.defaults]);An.set(e,i),n.defaultRoutes&&vke(e,n.defaultRoutes),n.descriptors&&An.describe(e,n.descriptors)}function vke(n,e){Object.keys(e).forEach(r=>{const i=r.split("."),s=i.pop(),o=[n].concat(i).join("."),a=e[r].split("."),l=a.pop(),c=a.join(".");An.route(o,s,c,l)})}function xke(n){return"id"in n&&"defaults"in n}class wke{constructor(){this.controllers=new Mb(Ld,"datasets",!0),this.elements=new Mb(gi,"elements"),this.plugins=new Mb(Object,"plugins"),this.scales=new Mb(ah,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,i){[...r].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(e,o,s):Kt(s,a=>{const l=i||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,r,i){const s=OA(e);Jt(i["before"+s],[],i),r[e](i),Jt(i["after"+s],[],i)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const i=this._typedRegistries[r];if(i.isForType(e))return i}return this.plugins}_get(e,r,i){const s=r.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var no=new wke;class _ke{constructor(){this._init=void 0}notify(e,r,i,s){if(r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(o,e,r,i);return r==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,r,i,s){s=s||{};for(const o of e){const a=o.plugin,l=a[i],c=[r,s,o.options];if(Jt(l,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){cn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const i=e&&e.config,s=Ct(i.options&&i.options.plugins,{}),o=Ske(i);return s===!1&&!r?[]:Cke(e,o,s,r)}_notifyStateChanges(e){const r=this._oldCache||[],i=this._cache,s=(o,a)=>o.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(s(r,i),e,"stop"),this._notify(s(i,r),e,"start")}}function Ske(n){const e={},r=[],i=Object.keys(no.plugins.items);for(let o=0;o<i.length;o++)r.push(no.getPlugin(i[o]));const s=n.plugins||[];for(let o=0;o<s.length;o++){const a=s[o];r.indexOf(a)===-1&&(r.push(a),e[a.id]=!0)}return{plugins:r,localIds:e}}function kke(n,e){return!e&&n===!1?null:n===!0?{}:n}function Cke(n,{plugins:e,localIds:r},i,s){const o=[],a=n.getContext();for(const l of e){const c=l.id,u=kke(i[c],s);u!==null&&o.push({plugin:l,options:Tke(n.config,{plugin:l,local:r[c]},u,a)})}return o}function Tke(n,{plugin:e,local:r},i,s){const o=n.pluginScopeKeys(e),a=n.getOptionScopes(i,o);return r&&e.defaults&&a.push(e.defaults),n.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function dI(n,e){const r=An.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function Eke(n,e){let r=n;return n==="_index_"?r=e:n==="_value_"&&(r=e==="x"?"y":"x"),r}function Dke(n,e){return n===e?"_index_":"_value_"}function a8(n){if(n==="x"||n==="y"||n==="r")return n}function Pke(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function fI(n,...e){if(a8(n))return n;for(const r of e){const i=r.axis||Pke(r.position)||n.length>1&&a8(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function l8(n,e,r){if(r[e+"AxisID"]===n)return{axis:e}}function Ike(n,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(r.length)return l8(n,"x",r[0])||l8(n,"y",r[0])}return{}}function Oke(n,e){const r=cu[n.type]||{scales:{}},i=e.scales||{},s=dI(n.type,e),o=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!Dt(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=fI(a,l,Ike(a,n),An.scales[l.type]),u=Dke(c,s),f=r.scales||{};o[a]=Xp(Object.create(null),[{axis:c},l,f[c],f[u]])}),n.data.datasets.forEach(a=>{const l=a.type||n.type,c=a.indexAxis||dI(l,e),f=(cu[l]||{}).scales||{};Object.keys(f).forEach(d=>{const h=Eke(d,c),p=a[h+"AxisID"]||h;o[p]=o[p]||Object.create(null),Xp(o[p],[{axis:h},i[p],f[d]])})}),Object.keys(o).forEach(a=>{const l=o[a];Xp(l,[An.scales[l.type],An.scale])}),o}function uZ(n){const e=n.options||(n.options={});e.plugins=Ct(e.plugins,{}),e.scales=Oke(n,e)}function dZ(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function Mke(n){return n=n||{},n.data=dZ(n.data),uZ(n),n}const c8=new Map,fZ=new Set;function Ab(n,e){let r=c8.get(n);return r||(r=e(),c8.set(n,r),fZ.add(r)),r}const tp=(n,e,r)=>{const i=rg(e,r);i!==void 0&&n.add(i)};class Ake{constructor(e){this._config=Mke(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=dZ(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),uZ(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ab(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Ab(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Ab(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,i=this.type;return Ab(`${i}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const i=this._scopeCache;let s=i.get(e);return(!s||r)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,r,i){const{options:s,type:o}=this,a=this._cachedScopes(e,i),l=a.get(r);if(l)return l;const c=new Set;r.forEach(f=>{e&&(c.add(e),f.forEach(d=>tp(c,e,d))),f.forEach(d=>tp(c,s,d)),f.forEach(d=>tp(c,cu[o]||{},d)),f.forEach(d=>tp(c,An,d)),f.forEach(d=>tp(c,cI,d))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),fZ.has(r)&&a.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,cu[r]||{},An.datasets[r]||{},{type:r},An,cI]}resolveNamedOptions(e,r,i,s=[""]){const o={$shared:!0},{resolver:a,subPrefixes:l}=u8(this._resolverCache,e,s);let c=a;if(Nke(a,r)){o.$shared=!1,i=fi(i)?i():i;const u=this.createResolver(e,i,l);c=Lf(a,i,u)}for(const u of r)o[u]=c[u];return o}createResolver(e,r,i=[""],s){const{resolver:o}=u8(this._resolverCache,e,i);return Dt(r)?Lf(o,r,void 0,s):o}}function u8(n,e,r){let i=n.get(e);i||(i=new Map,n.set(e,i));const s=r.join();let o=i.get(s);return o||(o={resolver:LA(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},i.set(s,o)),o}const Rke=n=>Dt(n)&&Object.getOwnPropertyNames(n).some(e=>fi(n[e]));function Nke(n,e){const{isScriptable:r,isIndexable:i}=XQ(n);for(const s of e){const o=r(s),a=i(s),l=(a||o)&&n[s];if(o&&(fi(l)||Rke(l))||a&&Sn(l))return!0}return!1}var jke="4.5.1";const Lke=["top","bottom","left","right","chartArea"];function d8(n,e){return n==="top"||n==="bottom"||Lke.indexOf(n)===-1&&e==="x"}function f8(n,e){return function(r,i){return r[n]===i[n]?r[e]-i[e]:r[n]-i[n]}}function h8(n){const e=n.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Jt(r&&r.onComplete,[n],e)}function Fke(n){const e=n.chart,r=e.options.animation;Jt(r&&r.onProgress,[n],e)}function hZ(n){return BA()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Ty={},p8=n=>{const e=hZ(n);return Object.values(Ty).filter(r=>r.canvas===e).pop()};function $ke(n,e,r){const i=Object.keys(n);for(const s of i){const o=+s;if(o>=e){const a=n[s];delete n[s],(r>0||o>e)&&(n[o+r]=a)}}}function Bke(n,e,r,i){return!r||n.type==="mouseout"?null:i?e:n}var Ha;let Gc=(Ha=class{static register(...e){no.add(...e),m8()}static unregister(...e){no.remove(...e),m8()}constructor(e,r){const i=this.config=new Ake(r),s=hZ(e),o=p8(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||ike(s)),this.platform.updateConfig(i);const l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,f=c&&c.width;if(this.id=H1e(),this.ctx=l,this.canvas=c,this.width=f,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new _ke,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=c_e(d=>this.update(d),a.resizeDelay||0),this._dataChanges=[],Ty[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}qo.listen(this,"complete",h8),qo.listen(this,"progress",Fke),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:i,height:s,_aspectRatio:o}=this;return cn(e)?r&&o?o:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return no}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Bj(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Lj(this.canvas,this.ctx),this}stop(){return qo.stop(this),this}resize(e,r){qo.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,r,o),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Bj(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Jt(i.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Kt(r,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,r=e.scales,i=this.scales,s=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let o=[];r&&(o=o.concat(Object.keys(r).map(a=>{const l=r[a],c=fI(a,l),u=c==="r",f=c==="x";return{options:l,dposition:u?"chartArea":f?"bottom":"left",dtype:u?"radialLinear":f?"category":"linear"}}))),Kt(o,a=>{const l=a.options,c=l.id,u=fI(c,l),f=Ct(l.type,a.dtype);(l.position===void 0||d8(l.position,u)!==d8(a.dposition))&&(l.position=a.dposition),s[c]=!0;let d=null;if(c in i&&i[c].type===f)d=i[c];else{const h=no.getScale(f);d=new h({id:c,type:f,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(l,e)}),Kt(s,(a,l)=>{a||delete i[l]}),Kt(i,a=>{as.configure(this,a,a.options),as.addBox(this,a)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,i=e.length;if(e.sort((s,o)=>s.index-o.index),i>r){for(let s=r;s<i;++s)this._destroyDatasetMeta(s);e.splice(r,i-r)}this._sortedMetasets=e.slice(0).sort(f8("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((i,s)=>{r.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=r.length;i<s;i++){const o=r[i];let a=this.getDatasetMeta(i);const l=o.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=o.indexAxis||dI(l,this.options),a.order=o.order||0,a.index=i,a.label=""+o.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const c=no.getController(l),{datasetElementType:u,dataElementType:f}=An.datasets[l];Object.assign(c,{dataElementType:no.getElement(f),datasetElementType:u&&no.getElement(u)}),a.controller=new c(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Kt(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,f=this.data.datasets.length;u<f;u++){const{controller:d}=this.getDatasetMeta(u),h=!s&&o.indexOf(d)===-1;d.buildOrUpdateElements(h),a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||Kt(o,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(f8("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Kt(this.scales,e=>{as.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Dj(r,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of r){const a=i==="_removeElements"?-o:o;$ke(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,i=o=>new Set(e.filter(a=>a[0]===o).map((a,l)=>l+","+a.splice(1).join(","))),s=i(0);for(let o=1;o<r;o++)if(!Dj(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;as.update(this,this.width,this.height,e);const r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],Kt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,fi(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(qo.has(this)?this.attached&&!qo.running(this)&&qo.start(this):(this.draw(),h8({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,i=[];let s,o;for(s=0,o=r.length;s<o;++s){const a=r[s];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=gSe(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&iw(r,s),e.controller.draw(),s&&sw(r),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return ig(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,i,s){const o=LSe.modes[r];return typeof o=="function"?o(this,e,i,s):[]}getDatasetMeta(e){const r=this.data.datasets[e],i=this._metasets;let s=i.filter(o=>o&&o._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Cu(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!r.hidden}setDatasetVisibility(e,r){const i=this.getDatasetMeta(e);i.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,i){const s=i?"show":"hide",o=this.getDatasetMeta(e),a=o.controller._resolveAnimations(void 0,s);Ri(r)?(o.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(o,{visible:i}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),qo.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Lj(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Ty[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,i=(o,a)=>{r.addEventListener(this,o,a),e[o]=a},s=(o,a,l)=>{o.offsetX=a,o.offsetY=l,this._eventHandler(o)};Kt(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,i=(c,u)=>{r.addEventListener(this,c,u),e[c]=u},s=(c,u)=>{e[c]&&(r.removeEventListener(this,c,u),delete e[c])},o=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),i("resize",o),i("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",l)},r.isAttached(this.canvas)?l():a()}unbindEvents(){Kt(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Kt(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,i){const s=i?"set":"remove";let o,a,l,c;for(r==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],i=e.map(({datasetIndex:o,index:a})=>{const l=this.getDatasetMeta(o);if(!l)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:l.data[a],index:a}});!Ov(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(e,r,i){return this._plugins.notify(this,e,r,i)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,i){const s=this.options.hover,o=(c,u)=>c.filter(f=>!u.some(d=>f.datasetIndex===d.datasetIndex&&f.index===d.index)),a=o(r,e),l=i?e:o(e,r);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,r){const i={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const o=this._handleEvent(e,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(e,r,i){const{_active:s=[],options:o}=this,a=r,l=this._getActiveElements(e,s,i,a),c=Q1e(e),u=Bke(e,this._lastEvent,i,c);i&&(this._lastEvent=null,Jt(o.onHover,[e,l,this],this),c&&Jt(o.onClick,[e,l,this],this));const f=!Ov(l,s);return(f||r)&&(this._active=l,this._updateHoverStyles(l,s,r)),this._lastEvent=u,f}_getActiveElements(e,r,i,s){if(e.type==="mouseout")return[];if(!i)return r;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,s)}},Te(Ha,"defaults",An),Te(Ha,"instances",Ty),Te(Ha,"overrides",cu),Te(Ha,"registry",no),Te(Ha,"version",jke),Te(Ha,"getChart",p8),Ha);function m8(){return Kt(Gc.instances,n=>n._plugins.invalidate())}function pZ(n,e,r=e){n.lineCap=Ct(r.borderCapStyle,e.borderCapStyle),n.setLineDash(Ct(r.borderDash,e.borderDash)),n.lineDashOffset=Ct(r.borderDashOffset,e.borderDashOffset),n.lineJoin=Ct(r.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Ct(r.borderWidth,e.borderWidth),n.strokeStyle=Ct(r.borderColor,e.borderColor)}function zke(n,e,r){n.lineTo(r.x,r.y)}function Uke(n){return n.stepped?S_e:n.tension||n.cubicInterpolationMode==="monotone"?k_e:zke}function mZ(n,e,r={}){const i=n.length,{start:s=0,end:o=i-1}=r,{start:a,end:l}=e,c=Math.max(s,a),u=Math.min(o,l),f=s<a&&o<a||s>l&&o>l;return{count:i,start:c,loop:e.loop,ilen:u<c&&!f?i+u-c:u-c}}function qke(n,e,r,i){const{points:s,options:o}=e,{count:a,start:l,loop:c,ilen:u}=mZ(s,r,i),f=Uke(o);let{move:d=!0,reverse:h}=i||{},p,g,v;for(p=0;p<=u;++p)g=s[(l+(h?u-p:p))%a],!g.skip&&(d?(n.moveTo(g.x,g.y),d=!1):f(n,v,g,h,o.stepped),v=g);return c&&(g=s[(l+(h?u:0))%a],f(n,v,g,h,o.stepped)),!!c}function Wke(n,e,r,i){const s=e.points,{count:o,start:a,ilen:l}=mZ(s,r,i),{move:c=!0,reverse:u}=i||{};let f=0,d=0,h,p,g,v,y,b;const w=_=>(a+(u?l-_:_))%o,k=()=>{v!==y&&(n.lineTo(f,y),n.lineTo(f,v),n.lineTo(f,b))};for(c&&(p=s[w(0)],n.moveTo(p.x,p.y)),h=0;h<=l;++h){if(p=s[w(h)],p.skip)continue;const _=p.x,S=p.y,C=_|0;C===g?(S<v?v=S:S>y&&(y=S),f=(d*f+_)/++d):(k(),n.lineTo(_,S),g=C,d=0,v=y=S),b=S}k()}function hI(n){const e=n.options,r=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?Wke:qke}function Hke(n){return n.stepped?rSe:n.tension||n.cubicInterpolationMode==="monotone"?iSe:dc}function Gke(n,e,r,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,r,i)&&s.closePath()),pZ(n,e.options),n.stroke(s)}function Yke(n,e,r,i){const{segments:s,options:o}=e,a=hI(e);for(const l of s)pZ(n,o,l.style),n.beginPath(),a(n,e,l,{start:r,end:r+i-1})&&n.closePath(),n.stroke()}const Vke=typeof Path2D=="function";function Kke(n,e,r,i){Vke&&!e.options.segment?Gke(n,e,r,i):Yke(n,e,r,i)}class Ip extends gi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;K_e(this._points,i,e,s,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=fSe(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,i=e.length;return i&&r[e[i-1].end]}interpolate(e,r){const i=this.options,s=e[r],o=this.points,a=cSe(this,{property:r,start:s,end:s});if(!a.length)return;const l=[],c=Hke(i);let u,f;for(u=0,f=a.length;u<f;++u){const{start:d,end:h}=a[u],p=o[d],g=o[h];if(p===g){l.push(p);continue}const v=Math.abs((s-p[r])/(g[r]-p[r])),y=c(p,g,v,i.stepped);y[r]=e[r],l.push(y)}return l.length===1?l[0]:l}pathSegment(e,r,i){return hI(this)(e,this,r,i)}path(e,r,i){const s=this.segments,o=hI(this);let a=this._loop;r=r||0,i=i||this.points.length-r;for(const l of s)a&=o(e,this,l,{start:r,end:r+i-1});return!!a}draw(e,r,i,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),Kke(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Te(Ip,"id","line"),Te(Ip,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Te(Ip,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Te(Ip,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function g8(n,e,r,i){const s=n.options,{[r]:o}=n.getProps([r],i);return Math.abs(e-o)<s.radius+s.hitRadius}class Ey extends gi{constructor(r){super();Te(this,"parsed");Te(this,"skip");Te(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,i,s){const o=this.options,{x:a,y:l}=this.getProps(["x","y"],s);return Math.pow(r-a,2)+Math.pow(i-l,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(r,i){return g8(this,r,"x",i)}inYRange(r,i){return g8(this,r,"y",i)}getCenterPoint(r){const{x:i,y:s}=this.getProps(["x","y"],r);return{x:i,y:s}}size(r){r=r||this.options||{};let i=r.radius||0;i=Math.max(i,i&&r.hoverRadius||0);const s=i&&r.borderWidth||0;return(i+s)*2}draw(r,i){const s=this.options;this.skip||s.radius<.1||!ig(this,i,this.size(s)/2)||(r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.fillStyle=s.backgroundColor,uI(r,s,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}Te(Ey,"id","point"),Te(Ey,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Te(Ey,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const b8=(n,e)=>{let{boxHeight:r=e,boxWidth:i=e}=n;return n.usePointStyle&&(r=Math.min(r,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:r,itemHeight:Math.max(e,r)}},Xke=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;let y8=class extends gi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,i){this.maxWidth=e,this.maxHeight=r,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=Jt(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(i=>e.filter(i,this.chart.data))),e.sort&&(r=r.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=Jn(i.font),o=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=b8(i,o);let u,f;r.font=s.string,this.isHorizontal()?(u=this.maxWidth,f=this._fitRows(a,o,l,c)+10):(f=this.maxHeight,u=this._fitCols(a,s,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,r,i,s){const{ctx:o,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],f=s+l;let d=e;o.textAlign="left",o.textBaseline="middle";let h=-1,p=-f;return this.legendItems.forEach((g,v)=>{const y=i+r/2+o.measureText(g.text).width;(v===0||u[u.length-1]+y+2*l>a)&&(d+=f,u[u.length-(v>0?0:1)]=0,p+=f,h++),c[v]={left:0,top:p,row:h,width:y,height:s},u[u.length-1]+=y+l}),d}_fitCols(e,r,i,s){const{ctx:o,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],f=a-e;let d=l,h=0,p=0,g=0,v=0;return this.legendItems.forEach((y,b)=>{const{itemWidth:w,itemHeight:k}=Qke(i,r,o,y,s);b>0&&p+k+2*l>f&&(d+=h+l,u.push({width:h,height:p}),g+=h+l,v++,h=p=0),c[b]={left:g,top:p,col:v,width:w,height:k},h=Math.max(h,w),p+=k+l}),d+=h,u.push({width:h,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:i,labels:{padding:s},rtl:o}}=this,a=jd(o,this.left,this.width);if(this.isHorizontal()){let l=0,c=Tr(i,this.left+s,this.right-this.lineWidths[l]);for(const u of r)l!==u.row&&(l=u.row,c=Tr(i,this.left+s,this.right-this.lineWidths[l])),u.top+=this.top+e+s,u.left=a.leftForLtr(a.x(c),u.width),c+=u.width+s}else{let l=0,c=Tr(i,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const u of r)u.col!==l&&(l=u.col,c=Tr(i,this.top+e+s,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+s,u.left=a.leftForLtr(a.x(u.left),u.width),c+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;iw(e,this),this._draw(),sw(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:i,ctx:s}=this,{align:o,labels:a}=e,l=An.color,c=jd(e.rtl,this.left,this.width),u=Jn(a.font),{padding:f}=a,d=u.size,h=d/2;let p;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:g,boxHeight:v,itemHeight:y}=b8(a,d),b=function(C,T,D){if(isNaN(g)||g<=0||isNaN(v)||v<0)return;s.save();const O=Ct(D.lineWidth,1);if(s.fillStyle=Ct(D.fillStyle,l),s.lineCap=Ct(D.lineCap,"butt"),s.lineDashOffset=Ct(D.lineDashOffset,0),s.lineJoin=Ct(D.lineJoin,"miter"),s.lineWidth=O,s.strokeStyle=Ct(D.strokeStyle,l),s.setLineDash(Ct(D.lineDash,[])),a.usePointStyle){const P={radius:v*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:O},A=c.xPlus(C,g/2),L=T+h;VQ(s,P,A,L,a.pointStyleWidth&&g)}else{const P=T+Math.max((d-v)/2,0),A=c.leftForLtr(C,g),L=Nd(D.borderRadius);s.beginPath(),Object.values(L).some(B=>B!==0)?jv(s,{x:A,y:P,w:g,h:v,radius:L}):s.rect(A,P,g,v),s.fill(),O!==0&&s.stroke()}s.restore()},w=function(C,T,D){sg(s,D.text,C,T+y/2,u,{strikethrough:D.hidden,textAlign:c.textAlign(D.textAlign)})},k=this.isHorizontal(),_=this._computeTitleHeight();k?p={x:Tr(o,this.left+f,this.right-i[0]),y:this.top+f+_,line:0}:p={x:this.left+f,y:Tr(o,this.top+_+f,this.bottom-r[0].height),line:0},tZ(this.ctx,e.textDirection);const S=y+f;this.legendItems.forEach((C,T)=>{s.strokeStyle=C.fontColor,s.fillStyle=C.fontColor;const D=s.measureText(C.text).width,O=c.textAlign(C.textAlign||(C.textAlign=a.textAlign)),P=g+h+D;let A=p.x,L=p.y;c.setWidth(this.width),k?T>0&&A+P+f>this.right&&(L=p.y+=S,p.line++,A=p.x=Tr(o,this.left+f,this.right-i[p.line])):T>0&&L+S>this.bottom&&(A=p.x=A+r[p.line].width+f,p.line++,L=p.y=Tr(o,this.top+_+f,this.bottom-r[p.line].height));const B=c.x(A);if(b(B,L,C),A=u_e(O,A+g+h,k?A+P:this.right,e.rtl),w(c.x(A),L,C),k)p.x+=P+f;else if(typeof C.text!="string"){const F=u.lineHeight;p.y+=gZ(C,F)+f}else p.y+=S}),nZ(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,i=Jn(r.font),s=Or(r.padding);if(!r.display)return;const o=jd(e.rtl,this.left,this.width),a=this.ctx,l=r.position,c=i.size/2,u=s.top+c;let f,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),f=this.top+u,d=Tr(e.align,d,this.right-h);else{const g=this.columnSizes.reduce((v,y)=>Math.max(v,y.height),0);f=u+Tr(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const p=Tr(l,d,d+h);a.textAlign=o.textAlign(RA(l)),a.textBaseline="middle",a.strokeStyle=r.color,a.fillStyle=r.color,a.font=i.string,sg(a,r.text,p,f,i)}_computeTitleHeight(){const e=this.options.title,r=Jn(e.font),i=Or(e.padding);return e.display?r.lineHeight+i.height:0}_getLegendItemAt(e,r){let i,s,o;if(Ep(e,this.left,this.right)&&Ep(r,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],Ep(e,s.left,s.left+s.width)&&Ep(r,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const r=this.options;if(!e2e(e.type,r))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,o=Xke(s,i);s&&!o&&Jt(r.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!o&&Jt(r.onHover,[e,i,this],this)}else i&&Jt(r.onClick,[e,i,this],this)}};function Qke(n,e,r,i,s){const o=Zke(i,n,e,r),a=Jke(s,i,e.lineHeight);return{itemWidth:o,itemHeight:a}}function Zke(n,e,r,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((o,a)=>o.length>a.length?o:a)),e+r.size/2+i.measureText(s).width}function Jke(n,e,r){let i=n;return typeof e.text!="string"&&(i=gZ(e,r)),i}function gZ(n,e){const r=n.text?n.text.length:0;return e*r}function e2e(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var t2e={id:"legend",_element:y8,start(n,e,r){const i=n.legend=new y8({ctx:n.ctx,options:r,chart:n});as.configure(n,i,r),as.addBox(n,i)},stop(n){as.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,r){const i=n.legend;as.configure(n,i,r),i.options=r},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,r){const i=e.datasetIndex,s=r.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:r,pointStyle:i,textAlign:s,color:o,useBorderRadius:a,borderRadius:l}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(r?0:void 0),f=Or(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:a&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class bZ extends gi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const s=Sn(i.text)?i.text.length:1;this._padding=Or(i.padding);const o=s*Jn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:i,bottom:s,right:o,options:a}=this,l=a.align;let c=0,u,f,d;return this.isHorizontal()?(f=Tr(l,i,o),d=r+e,u=o-i):(a.position==="left"?(f=i+e,d=Tr(l,s,r),c=Ht*-.5):(f=o-e,d=Tr(l,r,s),c=Ht*.5),u=s-r),{titleX:f,titleY:d,maxWidth:u,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const i=Jn(r.font),o=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(o);sg(e,r.text,0,0,i,{color:r.color,maxWidth:c,rotation:u,textAlign:RA(r.align),textBaseline:"middle",translation:[a,l]})}}function n2e(n,e){const r=new bZ({ctx:n.ctx,options:e,chart:n});as.configure(n,r,e),as.addBox(n,r),n.titleBlock=r}var r2e={id:"title",_element:bZ,start(n,e,r){n2e(n,r)},stop(n){const e=n.titleBlock;as.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,r){const i=n.titleBlock;as.configure(n,i,r),i.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Op={average(n){if(!n.length)return!1;let e,r,i=new Set,s=0,o=0;for(e=0,r=n.length;e<r;++e){const l=n[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();i.add(c.x),s+=c.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((l,c)=>l+c)/i.size,y:s/o}},nearest(n,e){if(!n.length)return!1;let r=e.x,i=e.y,s=Number.POSITIVE_INFINITY,o,a,l;for(o=0,a=n.length;o<a;++o){const c=n[o].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),f=jf(e,u);f<s&&(s=f,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,i=c.y}return{x:r,y:i}}};function Js(n,e){return e&&(Sn(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Wo(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function i2e(n,e){const{element:r,datasetIndex:i,index:s}=e,o=n.getDatasetMeta(i).controller,{label:a,value:l}=o.getLabelAndValue(s);return{chart:n,label:a,parsed:o.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:l,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:r}}function v8(n,e){const r=n.chart.ctx,{body:i,footer:s,title:o}=n,{boxWidth:a,boxHeight:l}=e,c=Jn(e.bodyFont),u=Jn(e.titleFont),f=Jn(e.footerFont),d=o.length,h=s.length,p=i.length,g=Or(e.padding);let v=g.height,y=0,b=i.reduce((_,S)=>_+S.before.length+S.lines.length+S.after.length,0);if(b+=n.beforeBody.length+n.afterBody.length,d&&(v+=d*u.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),b){const _=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;v+=p*_+(b-p)*c.lineHeight+(b-1)*e.bodySpacing}h&&(v+=e.footerMarginTop+h*f.lineHeight+(h-1)*e.footerSpacing);let w=0;const k=function(_){y=Math.max(y,r.measureText(_).width+w)};return r.save(),r.font=u.string,Kt(n.title,k),r.font=c.string,Kt(n.beforeBody.concat(n.afterBody),k),w=e.displayColors?a+2+e.boxPadding:0,Kt(i,_=>{Kt(_.before,k),Kt(_.lines,k),Kt(_.after,k)}),w=0,r.font=f.string,Kt(n.footer,k),r.restore(),y+=g.width,{width:y,height:v}}function s2e(n,e){const{y:r,height:i}=e;return r<i/2?"top":r>n.height-i/2?"bottom":"center"}function o2e(n,e,r,i){const{x:s,width:o}=i,a=r.caretSize+r.caretPadding;if(n==="left"&&s+o+a>e.width||n==="right"&&s-o-a<0)return!0}function a2e(n,e,r,i){const{x:s,width:o}=r,{width:a,chartArea:{left:l,right:c}}=n;let u="center";return i==="center"?u=s<=(l+c)/2?"left":"right":s<=o/2?u="left":s>=a-o/2&&(u="right"),o2e(u,n,e,r)&&(u="center"),u}function x8(n,e,r){const i=r.yAlign||e.yAlign||s2e(n,r);return{xAlign:r.xAlign||e.xAlign||a2e(n,e,r,i),yAlign:i}}function l2e(n,e){let{x:r,width:i}=n;return e==="right"?r-=i:e==="center"&&(r-=i/2),r}function c2e(n,e,r){let{y:i,height:s}=n;return e==="top"?i+=r:e==="bottom"?i-=s+r:i-=s/2,i}function w8(n,e,r,i){const{caretSize:s,caretPadding:o,cornerRadius:a}=n,{xAlign:l,yAlign:c}=r,u=s+o,{topLeft:f,topRight:d,bottomLeft:h,bottomRight:p}=Nd(a);let g=l2e(e,l);const v=c2e(e,c,u);return c==="center"?l==="left"?g+=u:l==="right"&&(g-=u):l==="left"?g-=Math.max(f,h)+s:l==="right"&&(g+=Math.max(d,p)+s),{x:os(g,0,i.width-e.width),y:os(v,0,i.height-e.height)}}function Rb(n,e,r){const i=Or(r.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function _8(n){return Js([],Wo(n))}function u2e(n,e,r){return Cu(n,{tooltip:e,tooltipItems:r,type:"tooltip"})}function S8(n,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?n.override(r):n}const yZ={beforeTitle:Lo,title(n){if(n.length>0){const e=n[0],r=e.chart.data.labels,i=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return r[e.dataIndex]}return""},afterTitle:Lo,beforeBody:Lo,beforeLabel:Lo,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const r=n.formattedValue;return cn(r)||(e+=r),e},labelColor(n){const r=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const r=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Lo,afterBody:Lo,beforeFooter:Lo,footer:Lo,afterFooter:Lo};function Jr(n,e,r,i){const s=n[e].call(r,i);return typeof s>"u"?yZ[e].call(r,i):s}class pI extends gi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&r.options.animation&&i.animations,o=new UA(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=u2e(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:i}=r,s=Jr(i,"beforeTitle",this,e),o=Jr(i,"title",this,e),a=Jr(i,"afterTitle",this,e);let l=[];return l=Js(l,Wo(s)),l=Js(l,Wo(o)),l=Js(l,Wo(a)),l}getBeforeBody(e,r){return _8(Jr(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:i}=r,s=[];return Kt(e,o=>{const a={before:[],lines:[],after:[]},l=S8(i,o);Js(a.before,Wo(Jr(l,"beforeLabel",this,o))),Js(a.lines,Jr(l,"label",this,o)),Js(a.after,Wo(Jr(l,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(e,r){return _8(Jr(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:i}=r,s=Jr(i,"beforeFooter",this,e),o=Jr(i,"footer",this,e),a=Jr(i,"afterFooter",this,e);let l=[];return l=Js(l,Wo(s)),l=Js(l,Wo(o)),l=Js(l,Wo(a)),l}_createItems(e){const r=this._active,i=this.chart.data,s=[],o=[],a=[];let l=[],c,u;for(c=0,u=r.length;c<u;++c)l.push(i2e(this.chart,r[c]));return e.filter&&(l=l.filter((f,d,h)=>e.filter(f,d,h,i))),e.itemSort&&(l=l.sort((f,d)=>e.itemSort(f,d,i))),Kt(l,f=>{const d=S8(e.callbacks,f);s.push(Jr(d,"labelColor",this,f)),o.push(Jr(d,"labelPointStyle",this,f)),a.push(Jr(d,"labelTextColor",this,f))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=l,l}update(e,r){const i=this.options.setContext(this.getContext()),s=this._active;let o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const l=Op[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const c=this._size=v8(this,i),u=Object.assign({},l,c),f=x8(this.chart,i,u),d=w8(i,u,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,o={opacity:1,x:d.x,y:d.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,i,s){const o=this.getCaretPosition(e,i,s);r.lineTo(o.x1,o.y1),r.lineTo(o.x2,o.y2),r.lineTo(o.x3,o.y3)}getCaretPosition(e,r,i){const{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:c,topRight:u,bottomLeft:f,bottomRight:d}=Nd(l),{x:h,y:p}=e,{width:g,height:v}=r;let y,b,w,k,_,S;return o==="center"?(_=p+v/2,s==="left"?(y=h,b=y-a,k=_+a,S=_-a):(y=h+g,b=y+a,k=_-a,S=_+a),w=y):(s==="left"?b=h+Math.max(c,f)+a:s==="right"?b=h+g-Math.max(u,d)-a:b=this.caretX,o==="top"?(k=p,_=k-a,y=b-a,w=b+a):(k=p+v,_=k+a,y=b+a,w=b-a),S=k),{x1:y,x2:b,x3:w,y1:k,y2:_,y3:S}}drawTitle(e,r,i){const s=this.title,o=s.length;let a,l,c;if(o){const u=jd(i.rtl,this.x,this.width);for(e.x=Rb(this,i.titleAlign,i),r.textAlign=u.textAlign(i.titleAlign),r.textBaseline="middle",a=Jn(i.titleFont),l=i.titleSpacing,r.fillStyle=i.titleColor,r.font=a.string,c=0;c<o;++c)r.fillText(s[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===o&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,r,i,s,o){const a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:c,boxWidth:u}=o,f=Jn(o.bodyFont),d=Rb(this,"left",o),h=s.x(d),p=c<f.lineHeight?(f.lineHeight-c)/2:0,g=r.y+p;if(o.usePointStyle){const v={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=s.leftForLtr(h,u)+u/2,b=g+c/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,uI(e,v,y,b),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,uI(e,v,y,b)}else{e.lineWidth=Dt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const v=s.leftForLtr(h,u),y=s.leftForLtr(s.xPlus(h,1),u-2),b=Nd(a.borderRadius);Object.values(b).some(w=>w!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,jv(e,{x:v,y:g,w:u,h:c,radius:b}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),jv(e,{x:y,y:g+1,w:u-2,h:c-2,radius:b}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(v,g,u,c),e.strokeRect(v,g,u,c),e.fillStyle=a.backgroundColor,e.fillRect(y,g+1,u-2,c-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,r,i){const{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:f}=i,d=Jn(i.bodyFont);let h=d.lineHeight,p=0;const g=jd(i.rtl,this.x,this.width),v=function(D){r.fillText(D,g.x(e.x+p),e.y+h/2),e.y+=h+o},y=g.textAlign(a);let b,w,k,_,S,C,T;for(r.textAlign=a,r.textBaseline="middle",r.font=d.string,e.x=Rb(this,y,i),r.fillStyle=i.bodyColor,Kt(this.beforeBody,v),p=l&&y!=="right"?a==="center"?u/2+f:u+2+f:0,_=0,C=s.length;_<C;++_){for(b=s[_],w=this.labelTextColors[_],r.fillStyle=w,Kt(b.before,v),k=b.lines,l&&k.length&&(this._drawColorBox(r,e,_,g,i),h=Math.max(d.lineHeight,c)),S=0,T=k.length;S<T;++S)v(k[S]),h=d.lineHeight;Kt(b.after,v)}p=0,h=d.lineHeight,Kt(this.afterBody,v),e.y-=o}drawFooter(e,r,i){const s=this.footer,o=s.length;let a,l;if(o){const c=jd(i.rtl,this.x,this.width);for(e.x=Rb(this,i.footerAlign,i),e.y+=i.footerMarginTop,r.textAlign=c.textAlign(i.footerAlign),r.textBaseline="middle",a=Jn(i.footerFont),r.fillStyle=i.footerColor,r.font=a.string,l=0;l<o;++l)r.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,r,i,s){const{xAlign:o,yAlign:a}=this,{x:l,y:c}=e,{width:u,height:f}=i,{topLeft:d,topRight:h,bottomLeft:p,bottomRight:g}=Nd(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(l+d,c),a==="top"&&this.drawCaret(e,r,i,s),r.lineTo(l+u-h,c),r.quadraticCurveTo(l+u,c,l+u,c+h),a==="center"&&o==="right"&&this.drawCaret(e,r,i,s),r.lineTo(l+u,c+f-g),r.quadraticCurveTo(l+u,c+f,l+u-g,c+f),a==="bottom"&&this.drawCaret(e,r,i,s),r.lineTo(l+p,c+f),r.quadraticCurveTo(l,c+f,l,c+f-p),a==="center"&&o==="left"&&this.drawCaret(e,r,i,s),r.lineTo(l,c+d),r.quadraticCurveTo(l,c,l+d,c),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const a=Op[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=v8(this,e),c=Object.assign({},a,this._size),u=x8(r,e,c),f=w8(e,c,u,r);(s._to!==f.x||o._to!==f.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Or(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,s,r),tZ(e,r.textDirection),o.y+=a.top,this.drawTitle(o,e,r),this.drawBody(o,e,r),this.drawFooter(o,e,r),nZ(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const i=this._active,s=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),o=!Ov(i,s),a=this._positionChanged(s,r);(o||a)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],a=this._getActiveElements(e,o,r,i),l=this._positionChanged(a,e),c=r||!Ov(a,o)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,i,s){const o=this.options;if(e.type==="mouseout")return[];if(!s)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&a.reverse(),a}_positionChanged(e,r){const{caretX:i,caretY:s,options:o}=this,a=Op[o.position].call(this,e,r);return a!==!1&&(i!==a.x||s!==a.y)}}Te(pI,"positioners",Op);var d2e={id:"tooltip",_element:pI,positioners:Op,afterInit(n,e,r){r&&(n.tooltip=new pI({chart:n,options:r}))},beforeUpdate(n,e,r){n.tooltip&&n.tooltip.initialize(r)},reset(n,e,r){n.tooltip&&n.tooltip.initialize(r)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",r)}},afterEvent(n,e){if(n.tooltip){const r=e.replay;n.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:yZ},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const f2e=(n,e,r,i)=>(typeof e=="string"?(r=n.push(e)-1,i.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function h2e(n,e,r,i){const s=n.indexOf(e);if(s===-1)return f2e(n,e,r,i);const o=n.lastIndexOf(e);return s!==o?r:s}const p2e=(n,e)=>n===null?null:os(Math.round(n),0,e);function k8(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class mI extends ah{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const i=this.getLabels();for(const{index:s,label:o}of r)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(cn(e))return null;const i=this.getLabels();return r=isFinite(r)&&i[r]===e?r:h2e(i,e,Ct(r,e),this._addedLabels),p2e(r,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),r||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,r=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=e===0&&r===o.length-1?o:o.slice(e,r+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=r;a++)s.push({value:a});return s}getLabelForValue(e){return k8.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Te(mI,"id","category"),Te(mI,"defaults",{ticks:{callback:k8}});function m2e(n,e){const r=[],{bounds:s,step:o,min:a,max:l,precision:c,count:u,maxTicks:f,maxDigits:d,includeBounds:h}=n,p=o||1,g=f-1,{min:v,max:y}=e,b=!cn(a),w=!cn(l),k=!cn(u),_=(y-v)/(d+1);let S=Pj((y-v)/g/p)*p,C,T,D,O;if(S<1e-14&&!b&&!w)return[{value:v},{value:y}];O=Math.ceil(y/S)-Math.floor(v/S),O>g&&(S=Pj(O*S/g/p)*p),cn(c)||(C=Math.pow(10,c),S=Math.ceil(S*C)/C),s==="ticks"?(T=Math.floor(v/S)*S,D=Math.ceil(y/S)*S):(T=v,D=y),b&&w&&o&&t_e((l-a)/o,S/1e3)?(O=Math.round(Math.min((l-a)/S,f)),S=(l-a)/O,T=a,D=l):k?(T=b?a:T,D=w?l:D,O=u-1,S=(D-T)/O):(O=(D-T)/S,Qp(O,Math.round(O),S/1e3)?O=Math.round(O):O=Math.ceil(O));const P=Math.max(Ij(S),Ij(T));C=Math.pow(10,cn(c)?P:c),T=Math.round(T*C)/C,D=Math.round(D*C)/C;let A=0;for(b&&(h&&T!==a?(r.push({value:a}),T<a&&A++,Qp(Math.round((T+A*S)*C)/C,a,C8(a,_,n))&&A++):T<a&&A++);A<O;++A){const L=Math.round((T+A*S)*C)/C;if(w&&L>l)break;r.push({value:L})}return w&&h&&D!==l?r.length&&Qp(r[r.length-1].value,l,C8(l,_,n))?r[r.length-1].value=l:r.push({value:l}):(!w||D===l)&&r.push({value:D}),r}function C8(n,e,{horizontal:r,minRotation:i}){const s=ar(i),o=(r?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+n).length;return Math.min(e/o,a)}class g2e extends ah{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return cn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const a=c=>s=r?s:c,l=c=>o=i?o:c;if(e){const c=Nf(s),u=Nf(o);c<0&&u<0?l(0):c>0&&u>0&&a(0)}if(s===o){let c=o===0?1:Math.abs(o*.05);l(o+c),e||a(s-c)}this.min=s,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),r=r||11),r&&(s=Math.min(r,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},o=this._range||this,a=m2e(s,o);return e.bounds==="ticks"&&n_e(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let r=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-r)/Math.max(e.length-1,1)/2;r-=s,i+=s}this._startValue=r,this._endValue=i,this._valueRange=i-r}getLabelForValue(e){return jA(e,this.chart.options.locale,this.options.ticks.format)}}class gI extends g2e{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=hi(e)?e:0,this.max=hi(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,i=ar(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,o.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Te(gI,"id","linear"),Te(gI,"defaults",{ticks:{callback:YQ.formatters.numeric}});const lw={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},oi=Object.keys(lw);function T8(n,e){return n-e}function E8(n,e){if(cn(e))return null;const r=n._adapter,{parser:i,round:s,isoWeekday:o}=n._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),hi(a)||(a=typeof i=="string"?r.parse(a,i):r.parse(a)),a===null?null:(s&&(a=s==="week"&&(lu(o)||o===!0)?r.startOf(a,"isoWeek",o):r.startOf(a,s)),+a)}function D8(n,e,r,i){const s=oi.length;for(let o=oi.indexOf(n);o<s-1;++o){const a=lw[oi[o]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((r-e)/(l*a.size))<=i)return oi[o]}return oi[s-1]}function b2e(n,e,r,i,s){for(let o=oi.length-1;o>=oi.indexOf(r);o--){const a=oi[o];if(lw[a].common&&n._adapter.diff(s,i,a)>=e-1)return a}return oi[r?oi.indexOf(r):0]}function y2e(n){for(let e=oi.indexOf(n)+1,r=oi.length;e<r;++e)if(lw[oi[e]].common)return oi[e]}function P8(n,e,r){if(!r)n[e]=!0;else if(r.length){const{lo:i,hi:s}=AA(r,e),o=r[i]>=e?r[i]:r[s];n[o]=!0}}function v2e(n,e,r,i){const s=n._adapter,o=+s.startOf(e[0].value,i),a=e[e.length-1].value;let l,c;for(l=o;l<=a;l=+s.add(l,1,i))c=r[l],c>=0&&(e[c].major=!0);return e}function I8(n,e,r){const i=[],s={},o=e.length;let a,l;for(a=0;a<o;++a)l=e[a],s[l]=a,i.push({value:l,major:!1});return o===0||!r?i:v2e(n,i,s,r)}class $v extends ah{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const i=e.time||(e.time={}),s=this._adapter=new MSe._date(e.adapters.date);s.init(r),Xp(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:E8(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,i=e.time.unit||"day";let{min:s,max:o,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(o=Math.max(o,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=hi(s)&&!isNaN(s)?s:+r.startOf(Date.now(),i),o=hi(o)&&!isNaN(o)?o:+r.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],i=e[e.length-1]),{min:r,max:i}}buildTicks(){const e=this.options,r=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,a=this.max,l=o_e(s,o,a);return this._unit=r.unit||(i.autoSkip?D8(r.minUnit,this.min,this.max,this._getLabelCapacity(o)):b2e(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:y2e(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),I8(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,i=0,s,o;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?r=1-s:r=(this.getDecimalForValue(e[1])-s)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;r=os(r,0,a),i=os(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,r=this.min,i=this.max,s=this.options,o=s.time,a=o.unit||D8(o.minUnit,r,i,this._getLabelCapacity(r)),l=Ct(s.ticks.stepSize,1),c=a==="week"?o.isoWeekday:!1,u=lu(c)||c===!0,f={};let d=r,h,p;if(u&&(d=+e.startOf(d,"isoWeek",c)),d=+e.startOf(d,u?"day":a),e.diff(i,r,a)>1e5*l)throw new Error(r+" and "+i+" are too far apart with stepSize of "+l+" "+a);const g=s.ticks.source==="data"&&this.getDataTimestamps();for(h=d,p=0;h<i;h=+e.add(h,l,a),p++)P8(f,h,g);return(h===i||s.bounds==="ticks"||p===1)&&P8(f,h,g),Object.keys(f).sort(T8).map(v=>+v)}getLabelForValue(e){const r=this._adapter,i=this.options.time;return i.tooltipFormat?r.format(e,i.tooltipFormat):r.format(e,i.displayFormats.datetime)}format(e,r){const s=this.options.time.displayFormats,o=this._unit,a=r||s[o];return this._adapter.format(e,a)}_tickFormatFunction(e,r,i,s){const o=this.options,a=o.ticks.callback;if(a)return Jt(a,[e,r,i],this);const l=o.time.displayFormats,c=this._unit,u=this._majorUnit,f=c&&l[c],d=u&&l[u],h=i[r],p=u&&d&&h&&h.major;return this._adapter.format(e,s||(p?d:f))}generateTickLabels(e){let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],s.label=this._tickFormatFunction(s.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(e){const r=this._offsets,i=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,i=this.ctx.measureText(e).width,s=ar(this.isHorizontal()?r.maxRotation:r.minRotation),o=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:i*o+l*a,h:i*a+l*o}}_getLabelCapacity(e){const r=this.options.time,i=r.displayFormats,s=i[r.unit]||i.millisecond,o=this._tickFormatFunction(e,0,I8(this,[e],this._majorUnit),s),a=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,i=s.length;r<i;++r)e=e.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,i;if(e.length)return e;const s=this.getLabels();for(r=0,i=s.length;r<i;++r)e.push(E8(this,s[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return l_e(e.sort(T8))}}Te($v,"id","time"),Te($v,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Nb(n,e,r){let i=0,s=n.length-1,o,a,l,c;r?(e>=n[i].pos&&e<=n[s].pos&&({lo:i,hi:s}=Cc(n,"pos",e)),{pos:o,time:l}=n[i],{pos:a,time:c}=n[s]):(e>=n[i].time&&e<=n[s].time&&({lo:i,hi:s}=Cc(n,"time",e)),{time:o,pos:l}=n[i],{time:a,pos:c}=n[s]);const u=a-o;return u?l+(c-l)*(e-o)/u:l}class O8 extends $v{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Nb(r,this.min),this._tableRange=Nb(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:i}=this,s=[],o=[];let a,l,c,u,f;for(a=0,l=e.length;a<l;++a)u=e[a],u>=r&&u<=i&&s.push(u);if(s.length<2)return[{time:r,pos:0},{time:i,pos:1}];for(a=0,l=s.length;a<l;++a)f=s[a+1],c=s[a-1],u=s[a],Math.round((f+c)/2)!==u&&o.push({time:u,pos:a/(l-1)});return o}_generate(){const e=this.min,r=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(r)||i.length===1)&&i.push(r),i.sort((s,o)=>s-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),i=this.getLabelTimestamps();return r.length&&i.length?e=this.normalize(r.concat(i)):e=r.length?r:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Nb(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,i=this.getDecimalForPixel(e)/r.factor-r.end;return Nb(this._table,i*this._tableRange+this._minPos,!0)}}Te(O8,"id","timeseries"),Te(O8,"defaults",$v.defaults);const vZ="label";function M8(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function x2e(n,e){const r=n.options;r&&e&&Object.assign(r,e)}function xZ(n,e){n.labels=e}function wZ(n,e,r=vZ){const i=[];n.datasets=e.map(s=>{const o=n.datasets.find(a=>a[r]===s[r]);return!o||!s.data||i.includes(o)?{...s}:(i.push(o),Object.assign(o,s),o)})}function w2e(n,e=vZ){const r={labels:[],datasets:[]};return xZ(r,n.labels),wZ(r,n.datasets,e),r}function _2e(n,e){const{height:r=150,width:i=300,redraw:s=!1,datasetIdKey:o,type:a,data:l,options:c,plugins:u=[],fallbackContent:f,updateMode:d,...h}=n,p=I.useRef(null),g=I.useRef(null),v=()=>{p.current&&(g.current=new Gc(p.current,{type:a,data:w2e(l,o),options:c&&{...c},plugins:u}),M8(e,g.current))},y=()=>{M8(e,null),g.current&&(g.current.destroy(),g.current=null)};return I.useEffect(()=>{!s&&g.current&&c&&x2e(g.current,c)},[s,c]),I.useEffect(()=>{!s&&g.current&&xZ(g.current.config.data,l.labels)},[s,l.labels]),I.useEffect(()=>{!s&&g.current&&l.datasets&&wZ(g.current.config.data,l.datasets,o)},[s,l.datasets]),I.useEffect(()=>{g.current&&(s?(y(),setTimeout(v)):g.current.update(d))},[s,c,l.labels,l.datasets,d]),I.useEffect(()=>{g.current&&(y(),setTimeout(v))},[a]),I.useEffect(()=>(v(),()=>y()),[]),m.jsx("canvas",{ref:p,role:"img",height:r,width:i,...h,children:f})}const S2e=I.forwardRef(_2e);function k2e(n,e){return Gc.register(e),I.forwardRef((r,i)=>m.jsx(S2e,{...r,ref:i,type:n}))}const C2e=k2e("scatter",ky);/*!
* chartjs-plugin-annotation v3.1.0
* https://www.chartjs.org/chartjs-plugin-annotation/index
 * (c) 2024 chartjs-plugin-annotation Contributors
 * Released under the MIT License
 */const A8={modes:{point(n,e){return Dy(n,e,{intersect:!0})},nearest(n,e,r){return D2e(n,e,r)},x(n,e,r){return Dy(n,e,{intersect:r.intersect,axis:"x"})},y(n,e,r){return Dy(n,e,{intersect:r.intersect,axis:"y"})}}};function WA(n,e,r){return(A8.modes[r.mode]||A8.modes.nearest)(n,e,r)}function T2e(n,e,r){return r!=="x"&&r!=="y"?n.inRange(e.x,e.y,"x",!0)||n.inRange(e.x,e.y,"y",!0):n.inRange(e.x,e.y,r,!0)}function E2e(n,e,r){return r==="x"?{x:n.x,y:e.y}:r==="y"?{x:e.x,y:n.y}:e}function Dy(n,e,r){return n.filter(i=>r.intersect?i.inRange(e.x,e.y):T2e(i,e,r.axis))}function D2e(n,e,r){let i=Number.POSITIVE_INFINITY;return Dy(n,e,r).reduce((s,o)=>{const a=o.getCenterPoint(),l=E2e(e,a,r.axis),c=jf(e,l);return c<i?(s=[o],i=c):c===i&&s.push(o),s},[]).sort((s,o)=>s._index-o._index).slice(0,1)}function Tu(n,e,r){const i=Math.cos(r),s=Math.sin(r),o=e.x,a=e.y;return{x:o+i*(n.x-o)-s*(n.y-a),y:a+s*(n.x-o)+i*(n.y-a)}}const P2e=(n,e)=>e>n||n.length>e.length&&n.slice(0,e.length)===e,Tc=.001,cw=(n,e,r)=>Math.min(r,Math.max(e,n)),_Z=(n,e)=>n.value>=n.start-e&&n.value<=n.end+e;function I2e(n,e,r){for(const i of Object.keys(n))n[i]=cw(n[i],e,r);return n}function O2e(n,e,r,i){return!n||!e||r<=0?!1:Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)<=Math.pow(r+i,2)}function SZ(n,{x:e,y:r,x2:i,y2:s},o,{borderWidth:a,hitTolerance:l}){const c=(a+l)/2,u=n.x>=e-c-Tc&&n.x<=i+c+Tc,f=n.y>=r-c-Tc&&n.y<=s+c+Tc;return o==="x"?u:(o==="y"||u)&&f}function kZ(n,{rect:e,center:r},i,{rotation:s,borderWidth:o,hitTolerance:a}){const l=Tu(n,r,ar(-s));return SZ(l,e,i,{borderWidth:o,hitTolerance:a})}function Eu(n,e){const{centerX:r,centerY:i}=n.getProps(["centerX","centerY"],e);return{x:r,y:i}}function M2e(n,e,r,i=!0){const s=r.split(".");let o=0;for(const a of e.split(".")){const l=s[o++];if(parseInt(a,10)<parseInt(l,10))break;if(P2e(l,a)){if(i)throw new Error(`${n} v${r} is not supported. v${e} or newer is required.`);return!1}}return!0}const CZ=n=>typeof n=="string"&&n.endsWith("%"),TZ=n=>parseFloat(n)/100,EZ=n=>cw(TZ(n),0,1),np=(n,e)=>({x:n,y:e,x2:n,y2:e,width:0,height:0}),A2e={box:n=>np(n.centerX,n.centerY),doughnutLabel:n=>np(n.centerX,n.centerY),ellipse:n=>({centerX:n.centerX,centerY:n.centerX,radius:0,width:0,height:0}),label:n=>np(n.centerX,n.centerY),line:n=>np(n.x,n.y),point:n=>({centerX:n.centerX,centerY:n.centerY,radius:0,width:0,height:0}),polygon:n=>np(n.centerX,n.centerY)};function HA(n,e){return e==="start"?0:e==="end"?n:CZ(e)?EZ(e)*n:n/2}function Nl(n,e,r=!0){return typeof e=="number"?e:CZ(e)?(r?EZ(e):TZ(e))*n:n}function R2e(n,e){const{x:r,width:i}=n,s=e.textAlign;return s==="center"?r+i/2:s==="end"||s==="right"?r+i:r}function DZ(n,e,{borderWidth:r,position:i,xAdjust:s,yAdjust:o},a){const l=Dt(a),c=e.width+(l?a.width:0)+r,u=e.height+(l?a.height:0)+r,f=GA(i),d=R8(n.x,c,s,f.x),h=R8(n.y,u,o,f.y);return{x:d,y:h,x2:d+c,y2:h+u,width:c,height:u,centerX:d+c/2,centerY:h+u/2}}function GA(n,e="center"){return Dt(n)?{x:Ct(n.x,e),y:Ct(n.y,e)}:(n=Ct(n,e),{x:n,y:n})}const PZ=(n,e)=>n&&n.autoFit&&e<1;function IZ(n,e){const r=n.font,i=Sn(r)?r:[r];return PZ(n,e)?i.map(function(s){const o=Jn(s);return o.size=Math.floor(s.size*e),o.lineHeight=s.lineHeight,Jn(o)}):i.map(s=>Jn(s))}function OZ(n){return n&&(Ri(n.xValue)||Ri(n.yValue))}function R8(n,e,r=0,i){return n-HA(e,i)+r}function lh(n,e,r){const i=r.init;if(i){if(i===!0)return AZ(e,r)}else return;return N2e(n,e,r)}function MZ(n,e,r){let i=!1;return e.forEach(s=>{fi(n[s])?(i=!0,r[s]=n[s]):Ri(r[s])&&delete r[s]}),i}function AZ(n,e){const r=e.type||"line";return A2e[r](n)}function N2e(n,e,r){const i=Jt(r.init,[{chart:n,properties:e,options:r}]);if(i===!0)return AZ(e,r);if(Dt(i))return i}const F_=new Map,j2e=n=>isNaN(n)||n<=0,L2e=n=>n.reduce(function(e,r){return e+=r.string,e},"");function uw(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object HTMLImageElement]"||e==="[object HTMLCanvasElement]"}}function dw(n,{x:e,y:r},i){i&&(n.translate(e,r),n.rotate(ar(i)),n.translate(-e,-r))}function _a(n,e){if(e&&e.borderWidth)return n.lineCap=e.borderCapStyle||"butt",n.setLineDash(e.borderDash),n.lineDashOffset=e.borderDashOffset,n.lineJoin=e.borderJoinStyle||"miter",n.lineWidth=e.borderWidth,n.strokeStyle=e.borderColor,!0}function ch(n,e){n.shadowColor=e.backgroundShadowColor,n.shadowBlur=e.shadowBlur,n.shadowOffsetX=e.shadowOffsetX,n.shadowOffsetY=e.shadowOffsetY}function fw(n,e){const r=e.content;if(uw(r))return{width:Nl(r.width,e.width),height:Nl(r.height,e.height)};const i=IZ(e),s=e.textStrokeWidth,o=Sn(r)?r:[r],a=o.join()+L2e(i)+s+(n._measureText?"-spriting":"");return F_.has(a)||F_.set(a,z2e(n,o,i,s)),F_.get(a)}function RZ(n,e,r){const{x:i,y:s,width:o,height:a}=e;n.save(),ch(n,r);const l=_a(n,r);n.fillStyle=r.backgroundColor,n.beginPath(),jv(n,{x:i,y:s,w:o,h:a,radius:I2e(Nd(r.borderRadius),0,Math.min(o,a)/2)}),n.closePath(),n.fill(),l&&(n.shadowColor=r.borderShadowColor,n.stroke()),n.restore()}function NZ(n,e,r,i){const s=r.content;if(uw(s)){n.save(),n.globalAlpha=W2e(r.opacity,s.style.opacity),n.drawImage(s,e.x,e.y,e.width,e.height),n.restore();return}const o=Sn(s)?s:[s],a=IZ(r,i),l=r.color,c=Sn(l)?l:[l],u=R2e(e,r),f=e.y+r.textStrokeWidth/2;n.save(),n.textBaseline="middle",n.textAlign=r.textAlign,F2e(n,r)&&U2e(n,{x:u,y:f},o,a),q2e(n,{x:u,y:f},o,{fonts:a,colors:c}),n.restore()}function F2e(n,e){if(e.textStrokeWidth>0)return n.lineJoin="round",n.miterLimit=2,n.lineWidth=e.textStrokeWidth,n.strokeStyle=e.textStrokeColor,!0}function $2e(n,e,r,i){const{radius:s,options:o}=e,a=o.pointStyle,l=o.rotation;let c=(l||0)*MA;if(uw(a)){n.save(),n.translate(r,i),n.rotate(c),n.drawImage(a,-a.width/2,-a.height/2,a.width,a.height),n.restore();return}j2e(s)||B2e(n,{x:r,y:i,radius:s,rotation:l,style:a,rad:c})}function B2e(n,{x:e,y:r,radius:i,rotation:s,style:o,rad:a}){let l,c,u,f;switch(n.beginPath(),o){default:n.arc(e,r,i,0,gr),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(a)*i,r-Math.cos(a)*i),a+=Rv,n.lineTo(e+Math.sin(a)*i,r-Math.cos(a)*i),a+=Rv,n.lineTo(e+Math.sin(a)*i,r-Math.cos(a)*i),n.closePath();break;case"rectRounded":f=i*.516,u=i-f,l=Math.cos(a+ts)*u,c=Math.sin(a+ts)*u,n.arc(e-l,r-c,f,a-Ht,a-br),n.arc(e+c,r-l,f,a-br,a),n.arc(e+l,r+c,f,a,a+br),n.arc(e-c,r+l,f,a+br,a+Ht),n.closePath();break;case"rect":if(!s){u=Math.SQRT1_2*i,n.rect(e-u,r-u,2*u,2*u);break}a+=ts;case"rectRot":l=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(e-l,r-c),n.lineTo(e+c,r-l),n.lineTo(e+l,r+c),n.lineTo(e-c,r+l),n.closePath();break;case"crossRot":a+=ts;case"cross":l=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(e-l,r-c),n.lineTo(e+l,r+c),n.moveTo(e+c,r-l),n.lineTo(e-c,r+l);break;case"star":l=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(e-l,r-c),n.lineTo(e+l,r+c),n.moveTo(e+c,r-l),n.lineTo(e-c,r+l),a+=ts,l=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(e-l,r-c),n.lineTo(e+l,r+c),n.moveTo(e+c,r-l),n.lineTo(e-c,r+l);break;case"line":l=Math.cos(a)*i,c=Math.sin(a)*i,n.moveTo(e-l,r-c),n.lineTo(e+l,r+c);break;case"dash":n.moveTo(e,r),n.lineTo(e+Math.cos(a)*i,r+Math.sin(a)*i);break}n.fill()}function z2e(n,e,r,i){n.save();const s=e.length;let o=0,a=i;for(let l=0;l<s;l++){const c=r[Math.min(l,r.length-1)];n.font=c.string;const u=e[l];o=Math.max(o,n.measureText(u).width+i),a+=c.lineHeight}return n.restore(),{width:o,height:a}}function U2e(n,{x:e,y:r},i,s){n.beginPath();let o=0;i.forEach(function(a,l){const c=s[Math.min(l,s.length-1)],u=c.lineHeight;n.font=c.string,n.strokeText(a,e,r+u/2+o),o+=u}),n.stroke()}function q2e(n,{x:e,y:r},i,{fonts:s,colors:o}){let a=0;i.forEach(function(l,c){const u=o[Math.min(c,o.length-1)],f=s[Math.min(c,s.length-1)],d=f.lineHeight;n.beginPath(),n.font=f.string,n.fillStyle=u,n.fillText(l,e,r+d/2+a),a+=d,n.fill()})}function W2e(n,e){const r=lu(n)?n:e;return lu(r)?cw(r,0,1):1}const jZ=["left","bottom","top","right"];function H2e(n,e){const{pointX:r,pointY:i,options:s}=e,o=s.callout,a=o&&o.display&&X2e(e,o);if(!a||Z2e(e,o,a))return;if(n.save(),n.beginPath(),!_a(n,o))return n.restore();const{separatorStart:c,separatorEnd:u}=G2e(e,a),{sideStart:f,sideEnd:d}=V2e(e,a,c);(o.margin>0||s.borderWidth===0)&&(n.moveTo(c.x,c.y),n.lineTo(u.x,u.y)),n.moveTo(f.x,f.y),n.lineTo(d.x,d.y);const h=Tu({x:r,y:i},e.getCenterPoint(),ar(-e.rotation));n.lineTo(h.x,h.y),n.stroke(),n.restore()}function G2e(n,e){const{x:r,y:i,x2:s,y2:o}=n,a=Y2e(n,e);let l,c;return e==="left"||e==="right"?(l={x:r+a,y:i},c={x:l.x,y:o}):(l={x:r,y:i+a},c={x:s,y:l.y}),{separatorStart:l,separatorEnd:c}}function Y2e(n,e){const{width:r,height:i,options:s}=n,o=s.callout.margin+s.borderWidth/2;return e==="right"?r+o:e==="bottom"?i+o:-o}function V2e(n,e,r){const{y:i,width:s,height:o,options:a}=n,l=a.callout.start,c=K2e(e,a.callout);let u,f;return e==="left"||e==="right"?(u={x:r.x,y:i+Nl(o,l)},f={x:u.x+c,y:u.y}):(u={x:r.x+Nl(s,l),y:r.y},f={x:u.x,y:u.y+c}),{sideStart:u,sideEnd:f}}function K2e(n,e){const r=e.side;return n==="left"||n==="top"?-r:r}function X2e(n,e){const r=e.position;return jZ.includes(r)?r:Q2e(n,e)}function Q2e(n,e){const{x:r,y:i,x2:s,y2:o,width:a,height:l,pointX:c,pointY:u,centerX:f,centerY:d,rotation:h}=n,p={x:f,y:d},g=e.start,v=Nl(a,g),y=Nl(l,g),b=[r,r+v,r+v,s],w=[i+y,o,i,o],k=[];for(let _=0;_<4;_++){const S=Tu({x:b[_],y:w[_]},p,ar(h));k.push({position:jZ[_],distance:jf(S,{x:c,y:u})})}return k.sort((_,S)=>_.distance-S.distance)[0].position}function Z2e(n,e,r){const{pointX:i,pointY:s}=n,o=e.margin;let a=i,l=s;return r==="left"?a+=o:r==="right"?a-=o:r==="top"?l+=o:r==="bottom"&&(l-=o),n.inRange(a,l)}const N8={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function $f(n,e,r){return e=typeof e=="number"?e:n.parse(e),hi(e)?n.getPixelForValue(e):r}function uu(n,e,r){const i=e[r];if(i||r==="scaleID")return i;const s=r.charAt(0),o=Object.values(n).filter(a=>a.axis&&a.axis===s);return o.length?o[0].id:s}function LZ(n,e){if(n){const r=n.options.reverse,i=$f(n,e.min,r?e.end:e.start),s=$f(n,e.max,r?e.start:e.end);return{start:i,end:s}}}function FZ(n,e){const{chartArea:r,scales:i}=n,s=i[uu(i,e,"xScaleID")],o=i[uu(i,e,"yScaleID")];let a=r.width/2,l=r.height/2;return s&&(a=$f(s,e.xValue,s.left+s.width/2)),o&&(l=$f(o,e.yValue,o.top+o.height/2)),{x:a,y:l}}function YA(n,e){const r=n.scales,i=r[uu(r,e,"xScaleID")],s=r[uu(r,e,"yScaleID")];if(!i&&!s)return{};let{left:o,right:a}=i||n.chartArea,{top:l,bottom:c}=s||n.chartArea;const u=j8(i,{min:e.xMin,max:e.xMax,start:o,end:a});o=u.start,a=u.end;const f=j8(s,{min:e.yMin,max:e.yMax,start:c,end:l});return l=f.start,c=f.end,{x:o,y:l,x2:a,y2:c,width:a-o,height:c-l,centerX:o+(a-o)/2,centerY:l+(c-l)/2}}function $Z(n,e){if(!OZ(e)){const r=YA(n,e);let i=e.radius;(!i||isNaN(i))&&(i=Math.min(r.width,r.height)/2,e.radius=i);const s=i*2,o=r.centerX+e.xAdjust,a=r.centerY+e.yAdjust;return{x:o-i,y:a-i,x2:o+i,y2:a+i,centerX:o,centerY:a,width:s,height:s,radius:i}}return eCe(n,e)}function J2e(n,e){const{scales:r,chartArea:i}=n,s=r[e.scaleID],o={x:i.left,y:i.top,x2:i.right,y2:i.bottom};return s?tCe(s,o,e):nCe(r,o,e),o}function BZ(n,e){const r=YA(n,e);return r.initProperties=lh(n,r,e),r.elements=[{type:"label",optionScope:"label",properties:sCe(n,r,e),initProperties:r.initProperties}],r}function eCe(n,e){const r=FZ(n,e),i=e.radius*2;return{x:r.x-e.radius+e.xAdjust,y:r.y-e.radius+e.yAdjust,x2:r.x+e.radius+e.xAdjust,y2:r.y+e.radius+e.yAdjust,centerX:r.x+e.xAdjust,centerY:r.y+e.yAdjust,radius:e.radius,width:i,height:i}}function j8(n,e){const r=LZ(n,e)||e;return{start:Math.min(r.start,r.end),end:Math.max(r.start,r.end)}}function tCe(n,e,r){const i=$f(n,r.value,NaN),s=$f(n,r.endValue,i);n.isHorizontal()?(e.x=i,e.x2=s):(e.y=i,e.y2=s)}function nCe(n,e,r){for(const i of Object.keys(N8)){const s=n[uu(n,r,i)];if(s){const{min:o,max:a,start:l,end:c,startProp:u,endProp:f}=N8[i],d=LZ(s,{min:r[o],max:r[a],start:s[l],end:s[c]});e[u]=d.start,e[f]=d.end}}}function rCe({properties:n,options:e},r,i,s){const{x:o,x2:a,width:l}=n;return zZ({start:o,end:a,borderWidth:e.borderWidth},{position:i.x,padding:{start:s.left,end:s.right},adjust:e.label.xAdjust,size:r.width})}function iCe({properties:n,options:e},r,i,s){const{y:o,y2:a,height:l}=n;return zZ({start:o,end:a,borderWidth:e.borderWidth},{position:i.y,padding:{start:s.top,end:s.bottom},adjust:e.label.yAdjust,size:r.height})}function zZ(n,e){const{start:r,end:i,borderWidth:s}=n,{position:o,padding:{start:a,end:l},adjust:c}=e,u=i-s-r-a-l-e.size;return r+s/2+c+HA(u,o)}function sCe(n,e,r){const i=r.label;i.backgroundColor="transparent",i.callout.display=!1;const s=GA(i.position),o=Or(i.padding),a=fw(n.ctx,i),l=rCe({properties:e,options:r},a,s,o),c=iCe({properties:e,options:r},a,s,o),u=a.width+o.width,f=a.height+o.height;return{x:l,y:c,x2:l+u,y2:c+f,width:u,height:f,centerX:l+u/2,centerY:c+f/2,rotation:i.rotation}}const bI=["enter","leave"],VA=bI.concat("click");function oCe(n,e,r){e.listened=MZ(r,VA,e.listeners),e.moveListened=!1,bI.forEach(i=>{fi(r[i])&&(e.moveListened=!0)}),(!e.listened||!e.moveListened)&&e.annotations.forEach(i=>{!e.listened&&fi(i.click)&&(e.listened=!0),e.moveListened||bI.forEach(s=>{fi(i[s])&&(e.listened=!0,e.moveListened=!0)})})}function aCe(n,e,r){if(n.listened)switch(e.type){case"mousemove":case"mouseout":return lCe(n,e,r);case"click":return cCe(n,e,r)}}function lCe(n,e,r){if(!n.moveListened)return;let i;e.type==="mousemove"?i=WA(n.visibleElements,e,r.interaction):i=[];const s=n.hovered;n.hovered=i;const o={state:n,event:e};let a=L8(o,"leave",s,i);return L8(o,"enter",i,s)||a}function L8({state:n,event:e},r,i,s){let o;for(const a of i)s.indexOf(a)<0&&(o=UZ(a.options[r]||n.listeners[r],a,e)||o);return o}function cCe(n,e,r){const i=n.listeners,s=WA(n.visibleElements,e,r.interaction);let o;for(const a of s)o=UZ(a.options.click||i.click,a,e)||o;return o}function UZ(n,e,r){return Jt(n,[e.$context,r])===!0}const Bv=["afterDraw","beforeDraw"];function uCe(n,e,r){const i=e.visibleElements;e.hooked=MZ(r,Bv,e.hooks),e.hooked||i.forEach(s=>{e.hooked||Bv.forEach(o=>{fi(s.options[o])&&(e.hooked=!0)})})}function F8(n,e,r){if(n.hooked){const i=e.options[r]||n.hooks[r];return Jt(i,[e.$context])}}function dCe(n,e,r){const i=gCe(n.scales,e,r);let s=$8(e,i,"min","suggestedMin");s=$8(e,i,"max","suggestedMax")||s,s&&fi(e.handleTickRangeOptions)&&e.handleTickRangeOptions()}function fCe(n,e){for(const r of n)pCe(r,e)}function $8(n,e,r,i){if(hi(e[r])&&!hCe(n.options,r,i)){const s=n[r]!==e[r];return n[r]=e[r],s}}function hCe(n,e,r){return Ri(n[e])||Ri(n[r])}function pCe(n,e){for(const r of["scaleID","xScaleID","yScaleID"]){const i=uu(e,n,r);i&&!e[i]&&mCe(n,r)&&console.warn(`No scale found with id '${i}' for annotation '${n.id}'`)}}function mCe(n,e){if(e==="scaleID")return!0;const r=e.charAt(0);for(const i of["Min","Max","Value"])if(Ri(n[r+i]))return!0;return!1}function gCe(n,e,r){const i=e.axis,s=e.id,o=i+"ScaleID",a={min:Ct(e.min,Number.NEGATIVE_INFINITY),max:Ct(e.max,Number.POSITIVE_INFINITY)};for(const l of r)l.scaleID===s?B8(l,e,["value","endValue"],a):uu(n,l,o)===s&&B8(l,e,[i+"Min",i+"Max",i+"Value"],a);return a}function B8(n,e,r,i){for(const s of r){const o=n[s];if(Ri(o)){const a=e.parse(o);i.min=Math.min(i.min,a),i.max=Math.max(i.max,a)}}}class uh extends gi{inRange(e,r,i,s){const{x:o,y:a}=Tu({x:e,y:r},this.getCenterPoint(s),ar(-this.options.rotation));return SZ({x:o,y:a},this.getProps(["x","y","x2","y2"],s),i,this.options)}getCenterPoint(e){return Eu(this,e)}draw(e){e.save(),dw(e,this.getCenterPoint(),this.options.rotation),RZ(e,this,this.options),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,r){return BZ(e,r)}}uh.id="boxAnnotation";uh.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};uh.defaultRoutes={borderColor:"color",backgroundColor:"color"};uh.descriptors={label:{_fallback:!0}};class hw extends gi{inRange(e,r,i,s){return kZ({x:e,y:r},{rect:this.getProps(["x","y","x2","y2"],s),center:this.getCenterPoint(s)},i,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return Eu(this,e)}draw(e){const r=this.options;!r.display||!r.content||(_Ce(e,this),e.save(),dw(e,this.getCenterPoint(),this.rotation),NZ(e,this,r,this._fitRatio),e.restore())}resolveElementProperties(e,r){const i=bCe(e,r);if(!i)return{};const{controllerMeta:s,point:o,radius:a}=vCe(e,r,i);let l=fw(e.ctx,r);const c=xCe(l,a);PZ(r,c)&&(l={width:l.width*c,height:l.height*c});const{position:u,xAdjust:f,yAdjust:d}=r,h=DZ(o,l,{borderWidth:0,position:u,xAdjust:f,yAdjust:d});return{initProperties:lh(e,h,r),...h,...s,rotation:r.rotation,_fitRatio:c}}}hw.id="doughnutLabelAnnotation";hw.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0};hw.defaultRoutes={};function bCe(n,e){return n.getSortedVisibleDatasetMetas().reduce(function(r,i){const s=i.controller;return s instanceof Dp&&yCe(n,e,i.data)&&(!r||s.innerRadius<r.controller.innerRadius)&&s.options.circumference>=90?i:r},void 0)}function yCe(n,e,r){if(!e.autoHide)return!0;for(let i=0;i<r.length;i++)if(!r[i].hidden&&n.getDataVisibility(i))return!0}function vCe({chartArea:n},e,r){const{left:i,top:s,right:o,bottom:a}=n,{innerRadius:l,offsetX:c,offsetY:u}=r.controller,f=(i+o)/2+c,d=(s+a)/2+u,h={left:Math.max(f-l,i),right:Math.min(f+l,o),top:Math.max(d-l,s),bottom:Math.min(d+l,a)},p={x:(h.left+h.right)/2,y:(h.top+h.bottom)/2},g=e.spacing+e.borderWidth/2,v=l-g,y=p.y>d,b=y?s+g:a-g,w=wCe(b,f,d,v);return{controllerMeta:{_centerX:f,_centerY:d,_radius:v,_counterclockwise:y,...w},point:p,radius:Math.min(l,Math.min(h.right-h.left,h.bottom-h.top)/2)}}function xCe({width:n,height:e},r){const i=Math.sqrt(Math.pow(n,2)+Math.pow(e,2));return r*2/i}function wCe(n,e,r,i){const s=Math.pow(r-n,2),o=Math.pow(i,2),a=e*-2,l=Math.pow(e,2)+s-o,c=Math.pow(a,2)-4*l;if(c<=0)return{_startAngle:0,_endAngle:gr};const u=(-a-Math.sqrt(c))/2,f=(-a+Math.sqrt(c))/2;return{_startAngle:lI({x:e,y:r},{x:u,y:n}).angle,_endAngle:lI({x:e,y:r},{x:f,y:n}).angle}}function _Ce(n,e){const{_centerX:r,_centerY:i,_radius:s,_startAngle:o,_endAngle:a,_counterclockwise:l,options:c}=e;n.save();const u=_a(n,c);n.fillStyle=c.backgroundColor,n.beginPath(),n.arc(r,i,s,o,a,l),n.closePath(),n.fill(),u&&n.stroke(),n.restore()}class Gg extends gi{inRange(e,r,i,s){return kZ({x:e,y:r},{rect:this.getProps(["x","y","x2","y2"],s),center:this.getCenterPoint(s)},i,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return Eu(this,e)}draw(e){const r=this.options,i=!Ri(this._visible)||this._visible;!r.display||!r.content||!i||(e.save(),dw(e,this.getCenterPoint(),this.rotation),H2e(e,this),RZ(e,this,r),NZ(e,SCe(this),r),e.restore())}resolveElementProperties(e,r){let i;if(OZ(r))i=FZ(e,r);else{const{centerX:l,centerY:c}=YA(e,r);i={x:l,y:c}}const s=Or(r.padding),o=fw(e.ctx,r),a=DZ(i,o,r,s);return{initProperties:lh(e,a,r),pointX:i.x,pointY:i.y,...a,rotation:r.rotation}}}Gg.id="labelAnnotation";Gg.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};Gg.defaultRoutes={borderColor:"color"};function SCe({x:n,y:e,width:r,height:i,options:s}){const o=s.borderWidth/2,a=Or(s.padding);return{x:n+a.left+o,y:e+a.top+o,width:r-a.left-a.right-s.borderWidth,height:i-a.top-a.bottom-s.borderWidth}}const KA=(n,e,r)=>({x:n.x+r*(e.x-n.x),y:n.y+r*(e.y-n.y)}),yI=(n,e,r)=>KA(e,r,Math.abs((n-e.y)/(r.y-e.y))).x,z8=(n,e,r)=>KA(e,r,Math.abs((n-e.x)/(r.x-e.x))).y,Mp=n=>n*n,kCe=(n,e,{x:r,y:i,x2:s,y2:o},a)=>a==="y"?{start:Math.min(i,o),end:Math.max(i,o),value:e}:{start:Math.min(r,s),end:Math.max(r,s),value:n},U8=(n,e,r,i)=>(1-i)*(1-i)*n+2*(1-i)*i*e+i*i*r,vI=(n,e,r,i)=>({x:U8(n.x,e.x,r.x,i),y:U8(n.y,e.y,r.y,i)}),q8=(n,e,r,i)=>2*(1-i)*(e-n)+2*i*(r-e),W8=(n,e,r,i)=>-Math.atan2(q8(n.x,e.x,r.x,i),q8(n.y,e.y,r.y,i))+.5*Ht;class Yg extends gi{inRange(e,r,i,s){const o=(this.options.borderWidth+this.options.hitTolerance)/2;if(i!=="x"&&i!=="y"){const a={mouseX:e,mouseY:r},{path:l,ctx:c}=this;if(l){_a(c,this.options),c.lineWidth+=this.options.hitTolerance;const{chart:f}=this.$context,d=e*f.currentDevicePixelRatio,h=r*f.currentDevicePixelRatio,p=c.isPointInStroke(l,d,h)||xI(this,a,s);return c.restore(),p}const u=Mp(o);return DCe(this,a,u,s)||xI(this,a,s)}return CCe(this,{mouseX:e,mouseY:r},i,{hitSize:o,useFinalPosition:s})}getCenterPoint(e){return Eu(this,e)}draw(e){const{x:r,y:i,x2:s,y2:o,cp:a,options:l}=this;if(e.save(),!_a(e,l))return e.restore();ch(e,l);const c=Math.sqrt(Math.pow(s-r,2)+Math.pow(o-i,2));if(l.curve&&a)return jCe(e,this,a,c),e.restore();const{startOpts:u,endOpts:f,startAdjust:d,endAdjust:h}=qZ(this),p=Math.atan2(o-i,s-r);e.translate(r,i),e.rotate(p),e.beginPath(),e.moveTo(0+d,0),e.lineTo(c-h,0),e.shadowColor=l.borderShadowColor,e.stroke(),wI(e,0,d,u),wI(e,c,-h,f),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,r){const i=J2e(e,r),{x:s,y:o,x2:a,y2:l}=i,c=TCe(i,e.chartArea),u=c?ECe({x:s,y:o},{x:a,y:l},e.chartArea):{x:s,y:o,x2:a,y2:l,width:Math.abs(a-s),height:Math.abs(l-o)};if(u.centerX=(a+s)/2,u.centerY=(l+o)/2,u.initProperties=lh(e,u,r),r.curve){const d={x:u.x,y:u.y},h={x:u.x2,y:u.y2};u.cp=NCe(u,r,jf(d,h))}const f=PCe(e,u,r.label);return f._visible=c,u.elements=[{type:"label",optionScope:"label",properties:f,initProperties:u.initProperties}],u}}Yg.id="lineAnnotation";const H8={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};Yg.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},H8),fill:!1,length:12,start:Object.assign({},H8),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},Gg.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};Yg.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}};Yg.defaultRoutes={borderColor:"color"};function CCe(n,{mouseX:e,mouseY:r},i,{hitSize:s,useFinalPosition:o}){const a=kCe(e,r,n.getProps(["x","y","x2","y2"],o),i);return _Z(a,s)||xI(n,{mouseX:e,mouseY:r},o,i)}function TCe({x:n,y:e,x2:r,y2:i},{top:s,right:o,bottom:a,left:l}){return!(n<l&&r<l||n>o&&r>o||e<s&&i<s||e>a&&i>a)}function G8({x:n,y:e},r,{top:i,right:s,bottom:o,left:a}){return n<a&&(e=z8(a,{x:n,y:e},r),n=a),n>s&&(e=z8(s,{x:n,y:e},r),n=s),e<i&&(n=yI(i,{x:n,y:e},r),e=i),e>o&&(n=yI(o,{x:n,y:e},r),e=o),{x:n,y:e}}function ECe(n,e,r){const{x:i,y:s}=G8(n,e,r),{x:o,y:a}=G8(e,n,r);return{x:i,y:s,x2:o,y2:a,width:Math.abs(o-i),height:Math.abs(a-s)}}function DCe(n,{mouseX:e,mouseY:r},i=Tc,s){const{x:o,y:a,x2:l,y2:c}=n.getProps(["x","y","x2","y2"],s),u=l-o,f=c-a,d=Mp(u)+Mp(f),h=d===0?-1:((e-o)*u+(r-a)*f)/d;let p,g;return h<0?(p=o,g=a):h>1?(p=l,g=c):(p=o+h*u,g=a+h*f),Mp(e-p)+Mp(r-g)<=i}function xI(n,{mouseX:e,mouseY:r},i,s){const o=n.label;return o.options.display&&o.inRange(e,r,s,i)}function PCe(n,e,r){const i=r.borderWidth,s=Or(r.padding),o=fw(n.ctx,r),a=o.width+s.width+i,l=o.height+s.height+i;return OCe(e,r,{width:a,height:l,padding:s},n.chartArea)}function ICe(n){const{x:e,y:r,x2:i,y2:s}=n,o=Math.atan2(s-r,i-e);return o>Ht/2?o-Ht:o<Ht/-2?o+Ht:o}function OCe(n,e,r,i){const{width:s,height:o,padding:a}=r,{xAdjust:l,yAdjust:c}=e,u={x:n.x,y:n.y},f={x:n.x2,y:n.y2},d=e.rotation==="auto"?ICe(n):ar(e.rotation),h=MCe(s,o,d),p=ACe(n,e,{labelSize:h,padding:a},i),g=n.cp?vI(u,n.cp,f,p):KA(u,f,p),v={size:h.w,min:i.left,max:i.right,padding:a.left},y={size:h.h,min:i.top,max:i.bottom,padding:a.top},b=V8(g.x,v)+l,w=V8(g.y,y)+c;return{x:b-s/2,y:w-o/2,x2:b+s/2,y2:w+o/2,centerX:b,centerY:w,pointX:g.x,pointY:g.y,width:s,height:o,rotation:qQ(d)}}function MCe(n,e,r){const i=Math.cos(r),s=Math.sin(r);return{w:Math.abs(n*i)+Math.abs(e*s),h:Math.abs(n*s)+Math.abs(e*i)}}function ACe(n,e,r,i){let s;const o=RCe(n,i);return e.position==="start"?s=Y8({w:n.x2-n.x,h:n.y2-n.y},r,e,o):e.position==="end"?s=1-Y8({w:n.x-n.x2,h:n.y-n.y2},r,e,o):s=HA(1,e.position),s}function Y8(n,e,r,i){const{labelSize:s,padding:o}=e,a=n.w*i.dx,l=n.h*i.dy,c=a>0&&(s.w/2+o.left-i.x)/a,u=l>0&&(s.h/2+o.top-i.y)/l;return cw(Math.max(c,u),0,.25)}function RCe(n,e){const{x:r,x2:i,y:s,y2:o}=n,a=Math.min(s,o)-e.top,l=Math.min(r,i)-e.left,c=e.bottom-Math.max(s,o),u=e.right-Math.max(r,i);return{x:Math.min(l,u),y:Math.min(a,c),dx:l<=u?1:-1,dy:a<=c?1:-1}}function V8(n,e){const{size:r,min:i,max:s,padding:o}=e,a=r/2;return r>s-i?(s+i)/2:(i>=n-o-a&&(n=i+o+a),s<=n+o+a&&(n=s-o-a),n)}function qZ(n){const e=n.options,r=e.arrowHeads&&e.arrowHeads.start,i=e.arrowHeads&&e.arrowHeads.end;return{startOpts:r,endOpts:i,startAdjust:K8(n,r),endAdjust:K8(n,i)}}function K8(n,e){if(!e||!e.display)return 0;const{length:r,width:i}=e,s=n.options.borderWidth/2,o={x:r,y:i+s};return Math.abs(yI(0,o,{x:0,y:s}))}function wI(n,e,r,i){if(!i||!i.display)return;const{length:s,width:o,fill:a,backgroundColor:l,borderColor:c}=i,u=Math.abs(e-s)+r;n.beginPath(),ch(n,i),_a(n,i),n.moveTo(u,-o),n.lineTo(e+r,0),n.lineTo(u,o),a===!0?(n.fillStyle=l||c,n.closePath(),n.fill(),n.shadowColor="transparent"):n.shadowColor=i.borderShadowColor,n.stroke()}function NCe(n,e,r){const{x:i,y:s,x2:o,y2:a,centerX:l,centerY:c}=n,u=Math.atan2(a-s,o-i),f=GA(e.controlPoint,0),d={x:l+Nl(r,f.x,!1),y:c+Nl(r,f.y,!1)};return Tu(d,{x:l,y:c},u)}function X8(n,{x:e,y:r},{angle:i,adjust:s},o){!o||!o.display||(n.save(),n.translate(e,r),n.rotate(i),wI(n,0,-s,o),n.restore())}function jCe(n,e,r,i){const{x:s,y:o,x2:a,y2:l,options:c}=e,{startOpts:u,endOpts:f,startAdjust:d,endAdjust:h}=qZ(e),p={x:s,y:o},g={x:a,y:l},v=W8(p,r,g,0),y=W8(p,r,g,1)-Ht,b=vI(p,r,g,d/i),w=vI(p,r,g,1-h/i),k=new Path2D;n.beginPath(),k.moveTo(b.x,b.y),k.quadraticCurveTo(r.x,r.y,w.x,w.y),n.shadowColor=c.borderShadowColor,n.stroke(k),e.path=k,e.ctx=n,X8(n,b,{angle:v,adjust:d},u),X8(n,w,{angle:y,adjust:h},f)}class Vg extends gi{inRange(e,r,i,s){const o=this.options.rotation,a=(this.options.borderWidth+this.options.hitTolerance)/2;if(i!=="x"&&i!=="y")return LCe({x:e,y:r},this.getProps(["width","height","centerX","centerY"],s),o,a);const{x:l,y:c,x2:u,y2:f}=this.getProps(["x","y","x2","y2"],s),d=i==="y"?{start:c,end:f}:{start:l,end:u},h=Tu({x:e,y:r},this.getCenterPoint(s),ar(-o));return h[i]>=d.start-a-Tc&&h[i]<=d.end+a+Tc}getCenterPoint(e){return Eu(this,e)}draw(e){const{width:r,height:i,centerX:s,centerY:o,options:a}=this;e.save(),dw(e,this.getCenterPoint(),a.rotation),ch(e,this.options),e.beginPath(),e.fillStyle=a.backgroundColor;const l=_a(e,a);e.ellipse(s,o,i/2,r/2,Ht/2,0,2*Ht),e.fill(),l&&(e.shadowColor=a.borderShadowColor,e.stroke()),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,r){return BZ(e,r)}}Vg.id="ellipseAnnotation";Vg.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},uh.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};Vg.defaultRoutes={borderColor:"color",backgroundColor:"color"};Vg.descriptors={label:{_fallback:!0}};function LCe(n,e,r,i){const{width:s,height:o,centerX:a,centerY:l}=e,c=s/2,u=o/2;if(c<=0||u<=0)return!1;const f=ar(r||0),d=Math.cos(f),h=Math.sin(f),p=Math.pow(d*(n.x-a)+h*(n.y-l),2),g=Math.pow(h*(n.x-a)-d*(n.y-l),2);return p/Math.pow(c+i,2)+g/Math.pow(u+i,2)<=1.0001}class pw extends gi{inRange(e,r,i,s){const{x:o,y:a,x2:l,y2:c,width:u}=this.getProps(["x","y","x2","y2","width"],s),f=(this.options.borderWidth+this.options.hitTolerance)/2;return i!=="x"&&i!=="y"?O2e({x:e,y:r},this.getCenterPoint(s),u/2,f):_Z(i==="y"?{start:a,end:c,value:r}:{start:o,end:l,value:e},f)}getCenterPoint(e){return Eu(this,e)}draw(e){const r=this.options,i=r.borderWidth;if(r.radius<.1)return;e.save(),e.fillStyle=r.backgroundColor,ch(e,r);const s=_a(e,r);$2e(e,this,this.centerX,this.centerY),s&&!uw(r.pointStyle)&&(e.shadowColor=r.borderShadowColor,e.stroke()),e.restore(),r.borderWidth=i}resolveElementProperties(e,r){const i=$Z(e,r);return i.initProperties=lh(e,i,r),i}}pw.id="pointAnnotation";pw.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};pw.defaultRoutes={borderColor:"color",backgroundColor:"color"};class mw extends gi{inRange(e,r,i,s){if(i!=="x"&&i!=="y")return this.options.radius>=.1&&this.elements.length>1&&$Ce(this.elements,e,r,s);const o=Tu({x:e,y:r},this.getCenterPoint(s),ar(-this.options.rotation)),a=this.elements.map(u=>i==="y"?u.bY:u.bX),l=Math.min(...a),c=Math.max(...a);return o[i]>=l&&o[i]<=c}getCenterPoint(e){return Eu(this,e)}draw(e){const{elements:r,options:i}=this;e.save(),e.beginPath(),e.fillStyle=i.backgroundColor,ch(e,i);const s=_a(e,i);let o=!0;for(const a of r)o?(e.moveTo(a.x,a.y),o=!1):e.lineTo(a.x,a.y);e.closePath(),e.fill(),s&&(e.shadowColor=i.borderShadowColor,e.stroke()),e.restore()}resolveElementProperties(e,r){const i=$Z(e,r),{sides:s,rotation:o}=r,a=[],l=2*Ht/s;let c=o*MA;for(let u=0;u<s;u++,c+=l){const f=FCe(i,r,c);f.initProperties=lh(e,i,r),a.push(f)}return i.elements=a,i}}mw.id="polygonAnnotation";mw.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};mw.defaultRoutes={borderColor:"color",backgroundColor:"color"};function FCe({centerX:n,centerY:e},{radius:r,borderWidth:i,hitTolerance:s},o){const a=(i+s)/2,l=Math.sin(o),c=Math.cos(o),u={x:n+l*r,y:e-c*r};return{type:"point",optionScope:"point",properties:{x:u.x,y:u.y,centerX:u.x,centerY:u.y,bX:n+l*(r+a),bY:e-c*(r+a)}}}function $Ce(n,e,r,i){let s=!1,o=n[n.length-1].getProps(["bX","bY"],i);for(const a of n){const l=a.getProps(["bX","bY"],i);l.bY>r!=o.bY>r&&e<(o.bX-l.bX)*(r-l.bY)/(o.bY-l.bY)+l.bX&&(s=!s),o=l}return s}const Dl={box:uh,doughnutLabel:hw,ellipse:Vg,label:Gg,line:Yg,point:pw,polygon:mw};Object.keys(Dl).forEach(n=>{An.describe(`elements.${Dl[n].id}`,{_fallback:"plugins.annotation.common"})});const BCe={update:Object.assign},zCe=VA.concat(Bv),Q8=(n,e)=>Dt(e)?SI(n,e):n,_I=n=>n==="color"||n==="font";function XA(n="line"){return Dl[n]?n:(console.warn(`Unknown annotation type: '${n}', defaulting to 'line'`),"line")}function UCe(n,e,r,i){const s=WCe(n,r.animations,i),o=e.annotations,a=YCe(e.elements,o);for(let l=0;l<o.length;l++){const c=o[l],u=WZ(a,l,c.type),f=c.setContext(GCe(n,u,a,c)),d=u.resolveElementProperties(n,f);d.skip=qCe(d),"elements"in d&&(HCe(u,d.elements,f,s),delete d.elements),Ri(u.x)||Object.assign(u,d),Object.assign(u,d.initProperties),d.options=HZ(f),s.update(u,d)}}function qCe(n){return isNaN(n.x)||isNaN(n.y)}function WCe(n,e,r){return r==="reset"||r==="none"||r==="resize"?BCe:new UA(n,e)}function HCe(n,e,r,i){const s=n.elements||(n.elements=[]);s.length=e.length;for(let o=0;o<e.length;o++){const a=e[o],l=a.properties,c=WZ(s,o,a.type,a.initProperties),u=r[a.optionScope].override(a);l.options=HZ(u),i.update(c,l)}}function WZ(n,e,r,i){const s=Dl[XA(r)];let o=n[e];return(!o||!(o instanceof s))&&(o=n[e]=new s,Object.assign(o,i)),o}function HZ(n){const e=Dl[XA(n.type)],r={};r.id=n.id,r.type=n.type,r.drawTime=n.drawTime,Object.assign(r,SI(n,e.defaults),SI(n,e.defaultRoutes));for(const i of zCe)r[i]=n[i];return r}function SI(n,e){const r={};for(const i of Object.keys(e)){const s=e[i],o=n[i];_I(i)&&Sn(o)?r[i]=o.map(a=>Q8(a,s)):r[i]=Q8(o,s)}return r}function GCe(n,e,r,i){return e.$context||(e.$context=Object.assign(Object.create(n.getContext()),{element:e,get elements(){return r.filter(s=>s&&s.options)},id:i.id,type:"annotation"}))}function YCe(n,e){const r=e.length,i=n.length;if(i<r){const s=r-i;n.splice(i,0,...new Array(s))}else i>r&&n.splice(r,i-r);return n}var VCe="3.1.0";const Ka=new Map,Z8=n=>n.type!=="doughnutLabel",KCe=VA.concat(Bv);var XCe={id:"annotation",version:VCe,beforeRegister(){M2e("chart.js","4.0",Gc.version)},afterRegister(){Gc.register(Dl)},afterUnregister(){Gc.unregister(Dl)},beforeInit(n){Ka.set(n,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(n,e,r){const i=Ka.get(n),s=i.annotations=[];let o=r.annotations;Dt(o)?Object.keys(o).forEach(a=>{const l=o[a];Dt(l)&&(l.id=a,s.push(l))}):Sn(o)&&s.push(...o),fCe(s.filter(Z8),n.scales)},afterDataLimits(n,e){const r=Ka.get(n);dCe(n,e.scale,r.annotations.filter(Z8).filter(i=>i.display&&i.adjustScaleRange))},afterUpdate(n,e,r){const i=Ka.get(n);oCe(n,i,r),UCe(n,i,r,e.mode),i.visibleElements=i.elements.filter(s=>!s.skip&&s.options.display),uCe(n,i,r)},beforeDatasetsDraw(n,e,r){rp(n,"beforeDatasetsDraw",r.clip)},afterDatasetsDraw(n,e,r){rp(n,"afterDatasetsDraw",r.clip)},beforeDatasetDraw(n,e,r){rp(n,e.index,r.clip)},beforeDraw(n,e,r){rp(n,"beforeDraw",r.clip)},afterDraw(n,e,r){rp(n,"afterDraw",r.clip)},beforeEvent(n,e,r){const i=Ka.get(n);aCe(i,e.event,r)&&(e.changed=!0)},afterDestroy(n){Ka.delete(n)},getAnnotations(n){const e=Ka.get(n);return e?e.elements:[]},_getAnnotationElementsAtEventForMode(n,e,r){return WA(n,e,r)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:n=>!KCe.includes(n)&&n!=="init",annotations:{_allKeys:!1,_fallback:(n,e)=>`elements.${Dl[XA(e.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:_I,_fallback:!0},_indexable:_I}},additionalOptionScopes:[""]};function rp(n,e,r){const{ctx:i,chartArea:s}=n,o=Ka.get(n);r&&iw(i,s);const a=QCe(o.visibleElements,e).sort((l,c)=>l.element.options.z-c.element.options.z);for(const l of a)ZCe(i,s,o,l);r&&sw(i)}function QCe(n,e){const r=[];for(const i of n)if(i.options.drawTime===e&&r.push({element:i,main:!0}),i.elements&&i.elements.length)for(const s of i.elements)s.options.display&&s.options.drawTime===e&&r.push({element:s});return r}function ZCe(n,e,r,i){const s=i.element;i.main?(F8(r,s,"beforeDraw"),s.draw(n,e),F8(r,s,"afterDraw")):s.draw(n,e)}Gc.register(mI,gI,Ey,Ip,r2e,d2e,t2e,XCe);const JCe=({minPrice:n,maxPrice:e,orders:r,pendingOrders:i=[],onAddOrder:s,onRemoveOrder:o,currentPrice:a,markPrice:l})=>{const c=I.useRef(null),[u,f]=I.useState(null),d=I.useMemo(()=>{const g=[...r,...i];return g.length>0?Math.max(...g.map(v=>v.amount),.1):.1},[r,i]),h=I.useMemo(()=>{const g=r.map(y=>({x:y.amount,y:y.price,id:y.id,side:y.side,isPending:!1})),v=i.map(y=>({x:y.amount,y:y.price,id:y.id,side:y.side,isPending:!0}));return{datasets:[{label:"Long Orders",data:g.filter(y=>{const b=r.find(w=>w.id===y.id);return(b==null?void 0:b.side)==="long"||(b==null?void 0:b.side)==="buy"||!(b!=null&&b.side)}),backgroundColor:"rgba(77, 171, 247, 0.8)",borderColor:"#fff",borderWidth:2,pointRadius:6,pointHoverRadius:10},{label:"Short Orders",data:g.filter(y=>{const b=r.find(w=>w.id===y.id);return(b==null?void 0:b.side)==="short"||(b==null?void 0:b.side)==="sell"}),backgroundColor:"rgba(255, 152, 0, 0.8)",borderColor:"#fff",borderWidth:2,pointRadius:6,pointHoverRadius:10},{label:"Pending Long",data:v.filter(y=>{const b=i.find(w=>w.id===y.id);return(b==null?void 0:b.side)==="long"||(b==null?void 0:b.side)==="buy"}),backgroundColor:"rgba(40, 167, 69, 0.8)",borderColor:"#fff",borderWidth:2,borderDash:[3,3],pointRadius:6,pointHoverRadius:10},{label:"Pending Short",data:v.filter(y=>{const b=i.find(w=>w.id===y.id);return(b==null?void 0:b.side)==="short"||(b==null?void 0:b.side)==="sell"}),backgroundColor:"rgba(220, 53, 69, 0.8)",borderColor:"#fff",borderWidth:2,borderDash:[3,3],pointRadius:6,pointHoverRadius:10}]}},[r,i]),p=I.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,backgroundColor:"#1a1a1a",plugins:{legend:{display:!0,position:"top",labels:{color:"#fff",font:{size:12}}},tooltip:{enabled:!0,callbacks:{label:g=>{const v=g.raw,y=[...r,...i].find(b=>b.id===v.id);return y?[`Price: ${y.price.toFixed(2)} USDC`,`Amount: ${y.amount.toFixed(4)} BTC`,y.isPending?`Pending ${y.side==="long"||y.side==="buy"?"Long":"Short"}`:""].filter(Boolean):`Price: ${v.y.toFixed(2)}, Amount: ${v.x.toFixed(4)}`}}},annotation:{annotations:{...a!==null&&a>=n&&a<=e?{currentPriceLine:{type:"line",xMin:0,xMax:d,yMin:a,yMax:a,borderColor:"#00ff00",borderWidth:2,borderDash:[5,5],label:{display:!0,content:`Current: ${a.toLocaleString()}`,position:"end",backgroundColor:"rgba(0, 255, 0, 0.8)",color:"#000",font:{size:12,weight:"bold",family:"monospace"},padding:{left:5,right:5,top:2,bottom:2}},xScaleID:"x",yScaleID:"y"}}:{},...l!==null&&l>=n&&l<=e?{markPriceLine:{type:"line",xMin:0,xMax:d,yMin:l,yMax:l,borderColor:"#ff0000",borderWidth:2,label:{display:!0,content:`Mark Price: ${l.toLocaleString()}`,position:"start",backgroundColor:"rgba(255, 0, 0, 0.8)",color:"#fff",font:{size:12,weight:"bold",family:"monospace"},padding:{left:5,right:5,top:2,bottom:2}},xScaleID:"x",yScaleID:"y",arrowHeads:{start:{enabled:!1,fill:!1,length:0,width:0},end:{enabled:!0,fill:!0,length:15,width:10,backgroundColor:"#ff0000",borderColor:"#ff0000",borderWidth:2}}}}:{}}}},scales:{x:{type:"linear",position:"bottom",title:{display:!0,text:"Amount (BTC)",color:"#fff",font:{size:14,weight:"bold"}},min:0,max:d,ticks:{color:"#888",font:{size:12,family:"monospace"},callback:function(g){return Number(g).toFixed(4)}},grid:{color:"#333"}},y:{type:"linear",title:{display:!0,text:"Price (USDC)",color:"#fff",font:{size:14,weight:"bold"}},min:n,max:e,ticks:{color:"#888",font:{size:12,family:"monospace"},callback:function(g){return Number(g).toLocaleString()}},grid:{color:"#333"}}},onClick:(g,v)=>{if(!c.current)return;const y=c.current,b=y.canvas;if(!b)return;const w=b.getBoundingClientRect(),k=g.native;if(!k)return;const _=k.clientX-w.left,S=k.clientY-w.top,C=y.scales.x,T=y.scales.y,D=C.getValueForPixel(_),O=T.getValueForPixel(S);if(D==null||O===null||O===void 0)return;const A=[...r,...i].find(L=>{const B=C.getPixelForValue(L.amount),F=T.getPixelForValue(L.price);return Math.sqrt(Math.pow(_-B,2)+Math.pow(S-F,2))<=12});if(A)o(A.id);else{const L=Math.max(n,Math.min(e,O)),B=Math.max(.001,Math.min(1,D));s(L,B)}},onHover:(g,v)=>{if(!c.current)return;const y=c.current,b=y.canvas;if(!b)return;const w=b.getBoundingClientRect(),k=g.native;if(!k)return;const _=k.clientX-w.left,S=k.clientY-w.top,C=[...r,...i],T=y.scales.x,D=y.scales.y,O=C.find(P=>{const A=T.getPixelForValue(P.amount),L=D.getPixelForValue(P.price);return Math.sqrt(Math.pow(_-A,2)+Math.pow(S-L,2))<=10});f((O==null?void 0:O.id)||null)}}),[n,e,d,r,i,s,o,a,l]);return m.jsx("div",{className:"price-amount-chart-container",style:{height:"600px",position:"relative"},children:m.jsx("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"4px",border:"1px solid #333",padding:"10px",height:"100%"},children:m.jsx(C2e,{ref:c,data:h,options:p,style:{cursor:u?"pointer":"crosshair"}})})})},eTe=({isOpen:n,onClose:e,minPrice:r,maxPrice:i,onMinPriceChange:s,onMaxPriceChange:o,markPrice:a,hasManualPriceChange:l,onResetToAuto:c,orderMode:u,onOrderModeChange:f,curveIntensity:d,onCurveIntensityChange:h,roundingStep:p,onRoundingStepChange:g})=>{const v=_=>Math.round(_/1.5/p)*p,y=_=>Math.round(_*1.5/p)*p;if(!n)return null;const b=a!=null&&a.mark_price?parseFloat(a.mark_price):null,w=b?v(b):null,k=b?y(b):null;return typeof document<"u"?$l.createPortal(m.jsx("div",{className:"modal-overlay",onClick:e,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:m.jsxs("div",{className:"modal-content",onClick:_=>_.stopPropagation(),style:{background:"rgba(20, 20, 30, 0.95)",borderRadius:"12px",padding:0,minWidth:"400px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflow:"auto"},children:[m.jsx("div",{className:"modal-header",style:{padding:"1.5rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:m.jsx("h3",{style:{margin:0,fontSize:"1.2rem",fontWeight:600,color:"rgba(255, 255, 255, 0.9)"},children:"Price Range Configuration"})}),m.jsx("div",{className:"modal-body",style:{padding:"2rem 1.5rem"},children:m.jsxs("div",{className:"trading-test-price-range-controls",children:[m.jsxs("div",{children:[m.jsxs("label",{children:["Rounding Step ($):",m.jsx("input",{type:"number",value:p,onChange:_=>g(Math.max(1,parseFloat(_.target.value)||100)),min:1,step:10,className:"trading-test-input"})]}),m.jsxs("small",{style:{color:"#888",display:"block",marginTop:"4px"},children:["Prices will be rounded to the nearest $",p]})]}),m.jsxs("div",{children:[m.jsxs("label",{children:["Min Price (USDC):",m.jsx("input",{type:"number",value:r,onChange:_=>{s(parseFloat(_.target.value)||1e4)},min:1e3,max:i-1e3,className:"trading-test-input",disabled:(a==null?void 0:a.mark_price)!==null&&(a==null?void 0:a.mark_price)!==void 0,title:a!=null&&a.mark_price?`Auto-managed by mark price (mark price / 1.5, rounded to $${p})`:""})]}),(a==null?void 0:a.mark_price)&&w!==null&&m.jsx("small",{style:{color:"#888",display:"block",marginTop:"4px"},children:l?m.jsxs(m.Fragment,{children:["Manual override (Auto:"," ",b.toLocaleString()," / 1.5 ="," ",w.toLocaleString(),")"]}):m.jsxs(m.Fragment,{children:["Auto: ",b.toLocaleString()," / 1.5 ="," ",r.toLocaleString()]})})]}),m.jsxs("div",{children:[m.jsxs("label",{children:["Max Price (USDC):",m.jsx("input",{type:"number",value:i,onChange:_=>{o(parseFloat(_.target.value)||1e5)},min:r+1e3,max:1e6,className:"trading-test-input",disabled:(a==null?void 0:a.mark_price)!==null&&(a==null?void 0:a.mark_price)!==void 0,title:a!=null&&a.mark_price?`Auto-managed by mark price (mark price  1.5, rounded to $${p})`:""})]}),(a==null?void 0:a.mark_price)&&k!==null&&m.jsx("small",{style:{color:"#888",display:"block",marginTop:"4px"},children:l?m.jsxs(m.Fragment,{children:["Manual override (Auto:"," ",b.toLocaleString(),"  1.5 ="," ",k.toLocaleString(),")"]}):m.jsxs(m.Fragment,{children:["Auto: ",b.toLocaleString(),"  1.5 ="," ",i.toLocaleString()]})})]}),m.jsx("div",{children:m.jsxs("label",{children:["Order Mode:",m.jsxs("select",{value:u,onChange:_=>f(_.target.value),className:"trading-test-select",children:[m.jsx("option",{value:"random",children:"Random"}),m.jsx("option",{value:"curve",children:"Curve (Buy more at lower prices)"})]})]})}),u==="curve"&&m.jsx("div",{children:m.jsxs("label",{children:["Curve Intensity: ",d,m.jsx("input",{type:"range",value:d,onChange:_=>h(parseFloat(_.target.value)),min:1,max:5,step:.5,className:"trading-test-range"}),m.jsx("small",{children:"Higher = more aggressive buying at lower prices"})]})})]})}),m.jsxs("div",{className:"modal-footer",style:{padding:"1rem 1.5rem",borderTop:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",justifyContent:"space-between",gap:"1rem"},children:[l&&(a==null?void 0:a.mark_price)&&m.jsx("button",{onClick:c,className:"btn btn-secondary",style:{padding:"0.5rem 1rem",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(77, 171, 247, 0.2)",color:"rgba(255, 255, 255, 0.9)",cursor:"pointer"},children:"Reset to Auto"}),m.jsx("div",{style:{display:"flex",gap:"1rem",marginLeft:"auto"},children:m.jsx("button",{onClick:e,className:"btn btn-secondary",style:{padding:"0.5rem 1rem",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.9)",cursor:"pointer"},children:"Close"})})]})]})}),document.body):null},tTe=({onClick:n,disabled:e,orderMode:r})=>m.jsxs("button",{onClick:n,disabled:e,className:"trading-test-button trading-test-button-primary",style:{backgroundColor:e?"#ccc":"#007bff",cursor:e?"not-allowed":"pointer"},children:["Submit Test Orders (",r==="random"?"Random":"Curve-Based",")"]}),nTe=({onClick:n,disabled:e,orderCount:r})=>m.jsxs("button",{onClick:n,disabled:e,className:"trading-test-button trading-test-button-success",style:{backgroundColor:e?"#ccc":"#28a745",cursor:e?"not-allowed":"pointer"},children:["Submit Chart Orders (",r," orders)"]}),rTe=({onClick:n,disabled:e})=>m.jsx("button",{onClick:n,disabled:e,className:"trading-test-button trading-test-button-secondary",style:{cursor:e?"not-allowed":"pointer"},children:"Reset Chart"}),iTe=({onClick:n,disabled:e,pendingCount:r})=>m.jsxs("button",{onClick:n,disabled:e,className:"trading-test-button trading-test-button-info",style:{backgroundColor:e?"#ccc":"#17a2b8",cursor:e?"not-allowed":"pointer"},children:["Load Pending Orders ",r>0&&`(${r})`]}),$_=({onClick:n,disabled:e,filter:r})=>{const i=r==="long"?"Cancel All Long":r==="short"?"Cancel All Short":"Cancel All Orders";return m.jsx("button",{onClick:n,disabled:e,className:"trading-test-button trading-test-button-danger",style:{backgroundColor:e?"#ccc":"#dc3545",cursor:e?"not-allowed":"pointer"},children:i})};function sTe(){var ue,ee,le,xe;const[n,e]=I.useState(nh),[r,i]=I.useState(""),[s,o]=I.useState(""),[a,l]=I.useState(""),[c,u]=I.useState(1e4),[f,d]=I.useState(1e5),[h,p]=I.useState(null),[g,v]=I.useState("random"),[y,b]=I.useState(2),[w,k]=I.useState("long"),[_,S]=I.useState([]),[C,T]=I.useState([]),[D,O]=I.useState([]),[P,A]=I.useState(!1),[L,B]=I.useState(!1),[F,$]=I.useState(100),U=I.useRef(null),N=I.useRef(null),q=I.useRef(n),H=I.useRef(0),{markets:X,getSymbolByMarketId:Y}=Ul({baseURL:n,sessionToken:"",autoFetchMarkets:!0}),{mnemonic:W,walletAddress:R,authToken:Z,setMnemonic:J}=_u(),V=r?Y(r):null,te=V!==null?V:void 0,{markPrice:se}=qx({baseURL:n,wsURL:Fg,marketId:r||"",symbol:te}),[ye,Re]=I.useState(!1);I.useEffect(()=>{if(se!=null&&se.mark_price&&!ye){const pe=parseFloat(se.mark_price);if(!isNaN(pe)&&pe>1e3){const Le=Math.round(pe*1.5/F)*F,ce=Math.round(pe/1.5/F)*F;ce>0&&Le>ce&&(u(ce),d(Le))}}},[se==null?void 0:se.mark_price,ye,F]),I.useEffect(()=>{W&&o(W),Z&&l(Z)},[W,Z]);const Ke=X.length>0?(((ue=X.find(pe=>pe.active))==null?void 0:ue.market_id)??X[0].market_id)||(((le=(ee=X.find(pe=>pe.active))==null?void 0:ee.id)==null?void 0:le.toString())??((xe=X[0].id)==null?void 0:xe.toString())??""):null;I.useEffect(()=>{Ke&&!r&&i(Ke)},[Ke]),I.useEffect(()=>{q.current=n},[n]),I.useEffect(()=>{s&&s.trim()!==""&&(U.current=new zl({baseURL:q.current,mnemonic:s}),U.current.initialize().catch(pe=>{console.error("Failed to initialize ExchangeClient:",pe)}))},[s,n]),I.useEffect(()=>{N.current=new Qn({baseURL:q.current})},[n]),I.useEffect(()=>{if(!r||!N.current)return;const pe=async()=>{try{const ce=await N.current.getTicker(r);if(ce!=null&&ce.lastPrice){const Oe=typeof ce.lastPrice=="string"?parseFloat(ce.lastPrice):ce.lastPrice;p(Oe)}}catch(ce){console.error("Failed to fetch current price:",ce)}};pe();const Le=setInterval(pe,5e3);return()=>clearInterval(Le)},[r]);const Ie=I.useCallback(pe=>{const Le=[];for(let ce=0;ce<pe;ce++){const Oe=c+Math.random()*(f-c),je=.001+Math.random()*.01;Le.push({price:Oe,amount:je})}return Le.sort((ce,Oe)=>ce.price-Oe.price)},[c,f]),Ee=I.useCallback(pe=>{const Le=[],ce=f-c;for(let Oe=0;Oe<pe;Oe++){const je=Math.random(),be=Math.pow(je,y),de=c+be*ce,he=.001+(f-de)/ce*.02;Le.push({price:de,amount:he})}return Le.sort((Oe,je)=>Oe.price-je.price)},[c,f,y]),He=I.useCallback(async()=>{if(!U.current||!r||!R){Ze.error("Setup required",{description:"Please ensure mnemonic, market ID, and wallet address are configured."});return}A(!0);const pe=[];try{const ce=g==="random"?Ie(10):Ee(10),Oe=Ze.info("Submitting test orders",{description:`Submitting ${ce.length} ${g} orders...`});H.current=typeof Oe=="number"?Oe:0;for(const be of ce){try{const me=Wt("1"),he=await U.current.placeOrder({marketId:r,side:w==="long"?"buy":"sell",orderType:"LIMIT",price:be.price,quantity:be.amount,timeInForce:"GTC",leverage:me});pe.push({success:!0,order:{price:be.price,amount:be.amount,orderId:he==null?void 0:he.order_id},timestamp:Date.now()})}catch(de){pe.push({success:!1,order:{price:be.price,amount:be.amount},error:de.message,timestamp:Date.now()})}await new Promise(de=>setTimeout(de,200))}O(be=>[...be,...pe]),H.current!==0&&(Ze.dismiss(H.current),H.current=0);const je=pe.filter(be=>be.success).length;Ze.success("Test orders submitted",{description:`${je}/${pe.length} orders placed successfully.`})}catch(Le){H.current!==0&&(Ze.dismiss(H.current),H.current=0),Ze.error("Test submission failed",{description:Le.message||"Unknown error occurred"})}finally{A(!1)}},[r,R,g,w,Ie,Ee]),nt=I.useCallback(async()=>{if(!U.current||!r||!R){Ze.error("Setup required",{description:"Please ensure mnemonic, market ID, and wallet address are configured."});return}if(_.length===0){Ze.warning("No chart orders",{description:"Please add orders to the chart first."});return}A(!0);const pe=[];try{const Le=Ze.info("Submitting chart orders",{description:`Submitting ${_.length} chart orders...`});H.current=typeof Le=="number"?Le:0;for(const Oe of _){try{const be=Wt("1"),de=await U.current.placeOrder({marketId:r,side:Oe.side==="short"||Oe.side==="sell"?"sell":"buy",orderType:"LIMIT",price:Oe.price,quantity:Oe.amount,timeInForce:"GTC",leverage:be});pe.push({success:!0,order:{price:Oe.price,amount:Oe.amount,orderId:de==null?void 0:de.order_id},timestamp:Date.now()})}catch(je){pe.push({success:!1,order:{price:Oe.price,amount:Oe.amount},error:je.message,timestamp:Date.now()})}await new Promise(je=>setTimeout(je,200))}O(Oe=>[...Oe,...pe]),H.current!==0&&(Ze.dismiss(H.current),H.current=0);const ce=pe.filter(Oe=>Oe.success).length;Ze.success("Chart orders submitted",{description:`${ce}/${pe.length} orders placed successfully.`})}catch(Le){H.current!==0&&(Ze.dismiss(H.current),H.current=0),Ze.error("Chart order submission failed",{description:Le.message||"Unknown error occurred"})}finally{A(!1)}},[r,R,_]),z=I.useCallback(()=>{S([]),Ze.info("Chart reset",{description:"All chart orders have been cleared."})},[]),ve=I.useCallback((pe,Le)=>{const ce={price:pe,amount:Le,id:`chart-${Date.now()}-${Math.random()}`,side:w};S(Oe=>[...Oe,ce])},[w]),Ne=I.useCallback(pe=>{S(Le=>Le.filter(ce=>ce.id!==pe)),T(Le=>Le.filter(ce=>ce.id!==pe))},[]),ge=I.useCallback(async()=>{if(!N.current||!R||!r){Ze.error("Setup required",{description:"Please ensure wallet address and market ID are configured."});return}try{Ze.info("Loading pending orders...");const pe=await N.current.getOrders(R),Le=(pe==null?void 0:pe.orders)||[];console.log(pe);const ce=Le.filter(Oe=>{const je=Oe.market_id,be=(Oe.status||"").toUpperCase();return je===r&&["ORDER_STATUS_PENDING","ORDER_STATUS_OPEN","PENDING","OPEN","NEW","PARTIALLY_FILLED"].includes(be)}).map(Oe=>{const de=(Oe.side||"").toUpperCase().includes("BUY")?"long":"short";return{price:ot(Oe.price),amount:ot(Oe.quantity),id:`pending-${Oe.order_id}`,side:de,orderId:Oe.order_id,isPending:!0}});T(ce),Ze.success("Pending orders loaded",{description:`Loaded ${ce.length} pending orders.`})}catch(pe){Ze.error("Failed to load pending orders",{description:pe.message||"Unknown error occurred"})}},[R,r]),$e=I.useCallback(async pe=>{if(!U.current||!N.current||!r||!R){Ze.error("Setup required",{description:"Please ensure mnemonic, market ID, and wallet address are configured."});return}try{const Le=await N.current.getOrders(R),Oe=((Le==null?void 0:Le.orders)||[]).filter(de=>{const me=de.market_id,he=(de.status||"").toUpperCase();if(me!==r||!["ORDER_STATUS_PENDING","ORDER_STATUS_OPEN","PENDING","OPEN","NEW","PARTIALLY_FILLED"].includes(he))return!1;if(pe==="all")return!0;const De=(de.side||"").toUpperCase(),Ye=De.includes("BUY"),Ge=De.includes("SELL");return pe==="long"?Ye:pe==="short"?Ge:!1});if(Oe.length===0){Ze.info("No orders to cancel",{description:`No ${pe} pending orders found.`});return}A(!0),Ze.info("Canceling orders",{description:`Canceling ${Oe.length} ${pe} orders...`});let je=0,be=0;for(const de of Oe){try{const me=de.order_id;await U.current.cancelOrder({orderId:me,marketId:r}),je++}catch(me){be++,console.error("Failed to cancel order:",me)}await new Promise(me=>setTimeout(me,100))}await ge(),Ze.success("Orders canceled",{description:`${je} orders canceled successfully${be>0?`, ${be} failed`:""}.`})}catch(Le){Ze.error("Failed to cancel orders",{description:Le.message||"Unknown error occurred"})}finally{A(!1)}},[r,R,ge]);return m.jsxs("div",{className:"App-content-row",children:[m.jsx("h1",{children:"Trading QA"}),m.jsx("p",{children:"Advanced trading test with price range, interactive chart, and multiple submission modes"}),m.jsxs("div",{className:"App-section",children:[m.jsx("h2",{children:"Configuration"}),m.jsxs("div",{className:"trading-test-config-grid",children:[m.jsx("div",{children:m.jsxs("label",{children:["HTTP Base URL:",m.jsx("input",{type:"text",value:n,onChange:pe=>e(pe.target.value),className:"trading-test-input"})]})}),m.jsx("div",{children:m.jsxs("label",{children:["Market:",m.jsx("select",{value:r||"",onChange:pe=>i(pe.target.value),className:"trading-test-select",children:X.length===0?m.jsx("option",{value:"",children:"Loading markets..."}):m.jsxs(m.Fragment,{children:[m.jsx("option",{value:"",disabled:!0,children:"-- Select a market --"}),X.map(pe=>{var Oe;const Le=pe.market_id??((Oe=pe.id)==null?void 0:Oe.toString())??"",ce=pe.moniker?pe.moniker:pe.symbol?pe.symbol:`Market ID: ${Le}`;return m.jsx("option",{value:Le,children:ce},Le)})]})})]})}),m.jsx("div",{children:m.jsxs("label",{children:["Mnemonic:",m.jsx("input",{type:"text",value:s,onChange:pe=>{o(pe.target.value),J(pe.target.value)},placeholder:"Enter mnemonic",className:"trading-test-input"})]})}),h&&m.jsxs("div",{className:"trading-test-price-display",children:[m.jsx("strong",{children:"Current Price:"})," ",h.toLocaleString()," ","USDC"]})]})]}),m.jsxs("div",{className:"trading-test-tabs",children:[m.jsx("button",{className:`trading-test-tab ${w==="long"?"active":""}`,onClick:()=>k("long"),children:"Long (Buy)"}),m.jsx("button",{className:`trading-test-tab ${w==="short"?"active":""}`,onClick:()=>k("short"),children:"Short (Sell)"})]}),m.jsxs("div",{className:"App-section",children:[m.jsx("h2",{children:"Interactive Price-Amount Chart"}),m.jsx("div",{className:"trading-test-chart-controls",children:m.jsxs("div",{className:"trading-test-chart-info",children:[m.jsxs("span",{children:["Orders on chart: ",_.length]}),m.jsxs("span",{onClick:()=>B(!0),style:{cursor:"pointer",textDecoration:"underline"},title:"Click to configure price range",children:["Price range: ",c.toLocaleString()," -"," ",f.toLocaleString()," USDC"]})]})}),m.jsx(JCe,{minPrice:c,maxPrice:f,orders:_,pendingOrders:C,onAddOrder:ve,onRemoveOrder:Ne,currentPrice:h,markPrice:se!=null&&se.mark_price?parseFloat(se.mark_price):null}),m.jsxs("div",{className:"price-amount-chart-instructions",children:[m.jsx("p",{children:"Click on the chart to add orders. Click on existing orders to remove them."}),m.jsx("p",{children:"Y-axis: Price (USDC) | X-axis: Amount (BTC)"})]})]}),m.jsxs("div",{className:"App-section",children:[m.jsx("h2",{children:"Order Submission"}),m.jsxs("div",{className:"trading-test-submission-buttons",children:[m.jsx(rTe,{onClick:z,disabled:_.length===0}),m.jsx(tTe,{onClick:He,disabled:P||!r||!R,orderMode:g}),m.jsx(nTe,{onClick:nt,disabled:P||_.length===0||!r||!R,orderCount:_.length})]}),m.jsx("h2",{children:"Pending Orders Management"}),m.jsxs("div",{className:"trading-test-pending-orders-controls",children:[m.jsx(iTe,{onClick:ge,disabled:!r||!R,pendingCount:C.length}),m.jsxs("div",{className:"trading-test-cancel-buttons",children:[m.jsx($_,{onClick:()=>$e("long"),disabled:P||!r||!R,filter:"long"}),m.jsx($_,{onClick:()=>$e("short"),disabled:P||!r||!R,filter:"short"}),m.jsx($_,{onClick:()=>$e("all"),disabled:P||!r||!R,filter:"all"})]})]})]}),D.length>0&&m.jsxs("div",{className:"trading-test-results",children:[m.jsx("h2",{children:"Test Results"}),m.jsxs("div",{className:"trading-test-results-summary",children:[m.jsxs("div",{children:["Total: ",D.length," | Success:"," ",D.filter(pe=>pe.success).length," | Failed:"," ",D.filter(pe=>!pe.success).length]}),m.jsx("button",{onClick:()=>O([]),className:"trading-test-button-secondary",children:"Clear Results"})]}),m.jsx("div",{className:"trading-test-results-list",children:D.slice(-20).map((pe,Le)=>m.jsx("div",{className:`trading-test-result-item ${pe.success?"success":"error"}`,children:m.jsxs("div",{children:[m.jsxs("strong",{children:[pe.success?"":""," Order @"," ",pe.order.price.toFixed(2)," USDC"]}),m.jsxs("span",{children:["Amount: ",pe.order.amount.toFixed(4)," BTC"]}),pe.order.orderId&&m.jsxs("span",{children:["Order ID: ",pe.order.orderId.substring(0,16),"..."]}),pe.error&&m.jsx("span",{className:"error-text",children:pe.error})]})},Le))})]}),m.jsx(eTe,{isOpen:L,onClose:()=>B(!1),minPrice:c,maxPrice:f,onMinPriceChange:pe=>{u(pe),Re(!0)},onMaxPriceChange:pe=>{d(pe),Re(!0)},markPrice:se,hasManualPriceChange:ye,onResetToAuto:()=>{if(se!=null&&se.mark_price){const pe=parseFloat(se.mark_price);if(!isNaN(pe)&&pe>1e3){Re(!1);const Le=Math.round(pe*1.5/F)*F,ce=Math.round(pe/1.5/F)*F;ce>0&&Le>ce&&(u(ce),d(Le))}}},orderMode:g,onOrderModeChange:v,curveIntensity:y,onCurveIntensityChange:b,roundingStep:F,onRoundingStepChange:$})]})}const jb=[{symbol:"ETH",name:"Ethereum",address:"ETH",decimals:18},{symbol:"BTC",name:"Bitcoin",address:"BTC",decimals:8},{symbol:"USDC",name:"USD Coin",address:"USDC",decimals:6},{symbol:"USDT",name:"Tether",address:"USDT",decimals:6},{symbol:"DAI",name:"Dai Stablecoin",address:"DAI",decimals:18}];function oTe(){const[n,e]=I.useState(nh),[r,i]=I.useState(jb[0]),[s,o]=I.useState(jb[2]),[a,l]=I.useState(""),[c,u]=I.useState(""),[f,d]=I.useState(!1),[h,p]=I.useState(!1),[g,v]=I.useState(!1),[y,b]=I.useState(.5),[w,k]=I.useState(null),[_,S]=I.useState(""),C=I.useRef(null),T=I.useRef(n),{mnemonic:D,walletAddress:O,setMnemonic:P}=_u();I.useEffect(()=>{T.current=n},[n]),I.useEffect(()=>{D&&D.trim()!==""&&(C.current=new zl({baseURL:T.current,mnemonic:D}),C.current.initialize().catch($=>{console.error("Failed to initialize ExchangeClient:",$)}))},[D,n]),I.useEffect(()=>{if(a&&parseFloat(a)>0&&r&&s){const U=parseFloat(a)*1;u(U.toFixed(6)),S(`1 ${r.symbol} = ${1 .toFixed(4)} ${s.symbol}`),k(.1)}else u(""),S(""),k(null)},[a,r,s]);const A=I.useCallback(()=>{const $=r;i(s),o($);const U=a;l(c),u(U)},[r,s,a,c]),L=I.useCallback(async()=>{if(!C.current||!r||!s||!a){Ze.error("Setup required",{description:"Please ensure mnemonic and swap details are configured."});return}if(parseFloat(a)<=0){Ze.error("Invalid amount",{description:"Please enter a valid amount to swap."});return}if(!O){Ze.error("Wallet required",{description:"Please connect your wallet first."});return}v(!0);try{const $=parseFloat(a),N=parseFloat(c)*(1-y/100),q=Ze.info("Swapping tokens",{description:`Swapping ${a} ${r.symbol} for ${s.symbol}...`});await C.current.swap({fromToken:r.address,toToken:s.address,amountIn:$,minAmountOut:N}),Ze.dismiss(q),Ze.success("Swap successful",{description:`Successfully swapped ${a} ${r.symbol} for ${s.symbol}`}),l(""),u("")}catch($){Ze.error("Swap failed",{description:$.message||"Unknown error occurred"})}finally{v(!1)}},[r,s,a,c,y,O]),B=I.useMemo(()=>!!r&&!!s&&!!a&&parseFloat(a)>0&&!!O&&!g&&r.symbol!==s.symbol,[r,s,a,O,g]),F=$=>({ETH:"",BTC:"",USDC:"$",USDT:"$",DAI:""})[$]||"";return m.jsxs("div",{className:"App-content-row",children:[m.jsxs("div",{className:"swap-test-header",children:[m.jsx("h1",{children:"Swap"}),m.jsx("p",{className:"swap-test-subtitle",children:"Swap anytime, anywhere"})]}),m.jsxs("div",{className:"App-section swap-config-section",children:[m.jsx("h3",{children:"Configuration"}),m.jsxs("div",{className:"swap-config-grid",children:[m.jsx("div",{children:m.jsxs("label",{children:["HTTP Base URL:",m.jsx("input",{type:"text",value:n,onChange:$=>e($.target.value),className:"swap-input"})]})}),m.jsx("div",{children:m.jsxs("label",{children:["Mnemonic:",m.jsx("input",{type:"text",value:D||"",onChange:$=>P($.target.value),placeholder:"Enter mnemonic",className:"swap-input"})]})}),m.jsx("div",{children:m.jsxs("label",{children:["Wallet Address:",m.jsx("input",{type:"text",value:O||"",disabled:!0,placeholder:"Auto-generated from mnemonic",className:"swap-input"})]})}),m.jsx("div",{children:m.jsxs("label",{children:["Slippage Tolerance (%):",m.jsx("input",{type:"number",value:y,onChange:$=>b(parseFloat($.target.value)||.5),min:"0",max:"50",step:"0.1",className:"swap-input"})]})})]})]}),m.jsxs("div",{className:"swap-container",children:[m.jsxs("div",{className:"swap-card",children:[m.jsxs("div",{className:"swap-token-section",children:[m.jsx("div",{className:"swap-token-label",children:"Sell"}),m.jsxs("div",{className:"swap-token-input-group",children:[m.jsx("input",{type:"number",className:"swap-amount-input",placeholder:"0",value:a,onChange:$=>l($.target.value),min:"0",step:"any"}),m.jsxs("div",{className:"swap-token-selector-wrapper",children:[m.jsx("button",{className:"swap-token-selector",onClick:()=>{d(!f),p(!1)},children:r?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"swap-token-icon",children:F(r.symbol)}),m.jsx("span",{className:"swap-token-symbol",children:r.symbol}),m.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M6 9L1 4H11L6 9Z",fill:"currentColor"})})]}):m.jsxs(m.Fragment,{children:[m.jsx("span",{children:"Select token"}),m.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M6 9L1 4H11L6 9Z",fill:"currentColor"})})]})}),f&&m.jsx("div",{className:"swap-token-dropdown",children:jb.map($=>m.jsxs("button",{className:"swap-token-option",onClick:()=>{$.address===(s==null?void 0:s.address)?A():(i($),d(!1))},children:[m.jsx("span",{className:"swap-token-icon",children:F($.symbol)}),m.jsxs("div",{className:"swap-token-option-info",children:[m.jsx("span",{className:"swap-token-option-symbol",children:$.symbol}),m.jsx("span",{className:"swap-token-option-name",children:$.name})]})]},$.address))})]})]}),a&&parseFloat(a)>0&&m.jsxs("div",{className:"swap-token-value",children:["$",(parseFloat(a)*1).toFixed(2)]})]}),m.jsx("div",{className:"swap-button-container",children:m.jsx("button",{className:"swap-button-middle",onClick:A,"aria-label":"Swap tokens",children:m.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M4 6L8 2L12 6M12 10L8 14L4 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),m.jsxs("div",{className:"swap-token-section",children:[m.jsx("div",{className:"swap-token-label",children:"Buy"}),m.jsxs("div",{className:"swap-token-input-group",children:[m.jsx("input",{type:"number",className:"swap-amount-input",placeholder:"0",value:c,onChange:$=>u($.target.value),min:"0",step:"any",readOnly:!0}),m.jsxs("div",{className:"swap-token-selector-wrapper",children:[m.jsx("button",{className:"swap-token-selector",onClick:()=>{p(!h),d(!1)},children:s?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"swap-token-icon",children:F(s.symbol)}),m.jsx("span",{className:"swap-token-symbol",children:s.symbol}),m.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M6 9L1 4H11L6 9Z",fill:"currentColor"})})]}):m.jsxs(m.Fragment,{children:[m.jsx("span",{children:"Select token"}),m.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M6 9L1 4H11L6 9Z",fill:"currentColor"})})]})}),h&&m.jsx("div",{className:"swap-token-dropdown",children:jb.map($=>m.jsxs("button",{className:"swap-token-option",onClick:()=>{$.address===(r==null?void 0:r.address)?A():(o($),p(!1))},children:[m.jsx("span",{className:"swap-token-icon",children:F($.symbol)}),m.jsxs("div",{className:"swap-token-option-info",children:[m.jsx("span",{className:"swap-token-option-symbol",children:$.symbol}),m.jsx("span",{className:"swap-token-option-name",children:$.name})]})]},$.address))})]})]}),c&&parseFloat(c)>0&&m.jsxs("div",{className:"swap-token-value",children:["$",(parseFloat(c)*1).toFixed(2)]})]}),_&&m.jsxs("div",{className:"swap-info",children:[m.jsxs("div",{className:"swap-info-row",children:[m.jsx("span",{children:"Exchange Rate"}),m.jsx("span",{children:_})]}),w!==null&&m.jsxs("div",{className:"swap-info-row",children:[m.jsx("span",{children:"Price Impact"}),m.jsxs("span",{className:w>1?"swap-warning":"",children:[w.toFixed(2),"%"]})]}),m.jsxs("div",{className:"swap-info-row",children:[m.jsx("span",{children:"Slippage Tolerance"}),m.jsxs("span",{children:[y,"%"]})]})]}),m.jsx("button",{className:"swap-button-primary",onClick:L,disabled:!B,children:O?g?"Swapping...":(r==null?void 0:r.symbol)===(s==null?void 0:s.symbol)?"Select different tokens":!a||parseFloat(a)<=0?"Enter amount":"Swap":"Connect Wallet"})]}),m.jsx("div",{className:"swap-footer",children:m.jsx("p",{children:"Buy and sell crypto on 16+ networks including"})})]})]})}const Fo=({onClick:n,disabled:e=!1,variant:r="primary",children:i})=>m.jsx("button",{className:`explorer-button ${r}`,onClick:n,disabled:e,children:i}),aTe=({wsURL:n,setWsURL:e,authToken:r,setAuthToken:i,deviceID:s,setDeviceID:o,shardId:a,setShardId:l,eventType:c,setEventType:u})=>m.jsxs("div",{className:"config-section",children:[m.jsx("h3",{children:"Configuration"}),m.jsxs("div",{className:"config-grid",children:[m.jsxs("div",{className:"config-item",children:[m.jsx("label",{htmlFor:"ws-url",children:"WebSocket URL"}),m.jsx("input",{id:"ws-url",type:"text",value:n,onChange:f=>e(f.target.value),placeholder:"ws://localhost:8080/ws"})]}),m.jsxs("div",{className:"config-item",children:[m.jsx("label",{htmlFor:"auth-token",children:"Auth Token (optional)"}),m.jsx("input",{id:"auth-token",type:"text",value:r,onChange:f=>i(f.target.value),placeholder:"JWT token"})]}),m.jsxs("div",{className:"config-item",children:[m.jsx("label",{htmlFor:"device-id",children:"Device ID"}),m.jsx("input",{id:"device-id",type:"text",value:s,onChange:f=>o(f.target.value),placeholder:"device-id"})]}),m.jsxs("div",{className:"config-item",children:[m.jsx("label",{htmlFor:"shard-id",children:"Shard ID (optional filter)"}),m.jsx("input",{id:"shard-id",type:"text",value:a,onChange:f=>l(f.target.value),placeholder:"e.g., 1, 2, 3"})]}),m.jsxs("div",{className:"config-item",children:[m.jsx("label",{htmlFor:"event-type",children:"Event Type (optional filter)"}),m.jsx("input",{id:"event-type",type:"text",value:c,onChange:f=>u(f.target.value),placeholder:"e.g., new_vertex, new_tx, validator_update"})]})]})]}),lTe=({message:n})=>{const{event:e,timestamp:r,type:i}=n,s=()=>{const{data:o}=e;switch(o.type){case"vertex":return m.jsx(cTe,{data:o});case"tx":return m.jsx(uTe,{data:o});case"unconfirmed_tx":return m.jsx(dTe,{data:o});case"validator":return m.jsx(fTe,{data:o});default:return m.jsx(hTe,{data:o})}};return m.jsxs("div",{className:`consensus-event-item ${i}`,children:[m.jsx("div",{className:"event-header",children:m.jsxs("div",{className:"event-meta",children:[m.jsx("span",{className:"event-type-badge",children:e.event_type}),m.jsx("span",{className:"event-time",children:new Date(r).toLocaleString()}),m.jsxs("span",{className:"event-shard",children:["Shard: ",e.source_shard]})]})}),m.jsxs("div",{className:"event-body",children:[m.jsxs("div",{className:"event-data-type",children:[m.jsx("strong",{children:"Data Type:"})," ",e.data.type]}),s(),m.jsxs("details",{className:"raw-data-details",children:[m.jsx("summary",{children:"View Raw JSON"}),m.jsx("pre",{className:"raw-data-pre",children:JSON.stringify(e,null,2)})]})]})]})},cTe=({data:n})=>m.jsxs("div",{className:"event-details vertex-details",children:[m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"ID:"}),m.jsx("span",{className:"detail-value",children:n.id})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Shard ID:"}),m.jsx("span",{className:"detail-value",children:n.shard_id})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Status:"}),m.jsx("span",{className:"detail-value",children:n.status})]}),n.parent_ids&&n.parent_ids.length>0&&m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Parent IDs:"}),m.jsx("span",{className:"detail-value",children:n.parent_ids.join(", ")})]}),n.tx_count!==void 0&&m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"TX Count:"}),m.jsx("span",{className:"detail-value",children:n.tx_count})]}),n.state_root&&m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"State Root:"}),m.jsx("span",{className:"detail-value",children:n.state_root})]}),n.qc_achieved!==void 0&&m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"QC Achieved:"}),m.jsx("span",{className:"detail-value",children:n.qc_achieved?"Yes":"No"})]}),n.qc_vote_count!==void 0&&m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"QC Vote Count:"}),m.jsx("span",{className:"detail-value",children:n.qc_vote_count})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Timestamp:"}),m.jsx("span",{className:"detail-value",children:new Date(n.timestamp*1e3).toLocaleString()})]})]}),uTe=({data:n})=>m.jsxs("div",{className:"event-details tx-details",children:[m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"TX Hash:"}),m.jsx("span",{className:"detail-value",children:n.txhash||n.id})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Shard ID:"}),m.jsx("span",{className:"detail-value",children:n.shard_id})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Status:"}),m.jsx("span",{className:"detail-value",children:n.status})]}),n.from_address&&m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"From:"}),m.jsx("span",{className:"detail-value",children:n.from_address})]}),n.to_address&&m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"To:"}),m.jsx("span",{className:"detail-value",children:n.to_address})]}),n.amount&&m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Amount:"}),m.jsx("span",{className:"detail-value",children:n.amount})]}),n.tx_type&&m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"TX Type:"}),m.jsx("span",{className:"detail-value",children:n.tx_type})]}),n.nonce!==void 0&&m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Nonce:"}),m.jsx("span",{className:"detail-value",children:n.nonce})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Timestamp:"}),m.jsx("span",{className:"detail-value",children:new Date(n.timestamp*1e3).toLocaleString()})]})]}),dTe=({data:n})=>m.jsxs("div",{className:"event-details unconfirmed-tx-details",children:[m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"TX Hash:"}),m.jsx("span",{className:"detail-value",children:n.txhash||n.id})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Status:"}),m.jsx("span",{className:"detail-value status-pending",children:n.status})]}),n.from_address&&m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"From:"}),m.jsx("span",{className:"detail-value",children:n.from_address})]}),n.to_address&&m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"To:"}),m.jsx("span",{className:"detail-value",children:n.to_address})]}),n.amount&&m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Amount:"}),m.jsx("span",{className:"detail-value",children:n.amount})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Timestamp:"}),m.jsx("span",{className:"detail-value",children:new Date(n.timestamp*1e3).toLocaleString()})]})]}),fTe=({data:n})=>m.jsxs("div",{className:"event-details validator-details",children:[m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Validator ID:"}),m.jsx("span",{className:"detail-value",children:n.validator_id||n.id})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Shard ID:"}),m.jsx("span",{className:"detail-value",children:n.shard_id})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Status:"}),m.jsx("span",{className:"detail-value",children:n.validator_status||n.status})]}),n.voting_power!==void 0&&m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Voting Power:"}),m.jsx("span",{className:"detail-value",children:n.voting_power})]}),n.public_key&&m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Public Key:"}),m.jsx("span",{className:"detail-value public-key",children:n.public_key})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Timestamp:"}),m.jsx("span",{className:"detail-value",children:new Date(n.timestamp*1e3).toLocaleString()})]})]}),hTe=({data:n})=>m.jsxs("div",{className:"event-details generic-details",children:[m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"ID:"}),m.jsx("span",{className:"detail-value",children:n.id})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Type:"}),m.jsx("span",{className:"detail-value",children:n.type})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Status:"}),m.jsx("span",{className:"detail-value",children:n.status})]})]}),pTe=({events:n})=>n.length===0?m.jsx("div",{className:"consensus-event-list empty",children:m.jsx("p",{children:"No events received yet. Connect and subscribe to start receiving consensus events."})}):m.jsxs("div",{className:"consensus-event-list",children:[m.jsx("div",{className:"event-list-header",children:m.jsxs("h3",{children:["Consensus Events (",n.length,")"]})}),m.jsx("div",{className:"event-items",children:n.map(e=>m.jsx(lTe,{message:e},e.id))})]});function mTe(n){return n.type==="vertex"}function J8(n){return n.type==="tx"}function gTe(n){return n.type==="unconfirmed_tx"}function e6(){return{vertexMap:new Map,txMap:new Map,parentToChildren:new Map,orphanMap:new Map}}function t6(n){n.vertexMap.clear(),n.txMap.clear(),n.parentToChildren.clear(),n.orphanMap.clear()}const bTe=3e4,yTe=1e3;function vTe(n,e){var r;for(const[i,s]of e.orphanMap.entries())(r=s.parent_ids)!=null&&r.includes(n.id)&&(e.parentToChildren.has(n.id)||e.parentToChildren.set(n.id,new Set),e.parentToChildren.get(n.id).add(i),e.orphanMap.delete(i));if(n.parent_ids&&n.parent_ids.length>0&&!n.parent_ids.every(s=>e.vertexMap.has(s))){if(e.orphanMap.size>=yTe){const s=e.orphanMap.keys().next().value;s&&(e.orphanMap.delete(s),console.warn(`[dagUtils] Orphan buffer full, evicted: ${s}`))}e.orphanMap.set(n.id,n),console.warn(`[dagUtils] Orphaned vertex detected: ${n.id}`)}}function xTe(n,e=bTe){for(const[r]of n.orphanMap.entries())console.warn(`[dagUtils] Orphan timeout: ${r} - marking as missing parent`),n.orphanMap.delete(r)}const wTe=3e4;function _Te(n,e,r){const i=wTe;let s=null;for(const[o,a]of r.vertexMap.entries()){if(a.shardId!==n.shard_id)continue;const l=Math.abs(a.timestamp-e);l<i&&(!s||l<s.timeDiff)&&(s={vertexId:o,timeDiff:l})}return(s==null?void 0:s.vertexId)||null}function STe(n,e){const{data:r,event_time:i}=n;if(mTe(r)){const s=r.parent_ids||[],o={id:r.id,type:"vertex",timestamp:i||r.timestamp,parents:s,children:[],data:r,shardId:r.shard_id};e.vertexMap.set(r.id,o),s.forEach(l=>{e.parentToChildren.has(l)||e.parentToChildren.set(l,new Set),e.parentToChildren.get(l).add(r.id)});const a=e.parentToChildren.get(r.id);return a&&(o.children=Array.from(a)),vTe(r,e),o}else if(J8(r)||gTe(r)){const s={id:r.id||r.txhash||`tx-${Date.now()}`,type:J8(r)?"tx":"unconfirmed_tx",timestamp:i||r.timestamp,parents:[],children:[],data:r,shardId:r.shard_id};e.txMap.set(s.id,s);const o=_Te(r,s.timestamp,e);if(o){const a=e.vertexMap.get(o);a&&(s.vertexId=o,s.parents=a.parents)}return s}return null}function kTe(n){for(const e of[...n.vertexMap.values(),...n.txMap.values()]){const r=n.parentToChildren.get(e.id);e.children=r?Array.from(r):[]}}function CTe(n,e){const r=STe(n,e);return r?(kTe(e),{id:r.id,timestamp:r.timestamp,parents:r.parents,children:r.children,data:r.data,nodeType:r.type,shardId:r.shardId}):null}class TTe{constructor(e=500){Te(this,"timeoutId",null);Te(this,"accumulatedMessages",[]);Te(this,"waitMs");this.waitMs=e}add(e,r,i){this.accumulatedMessages.push(...e),this.timeoutId!==null&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{const s=this.accumulatedMessages.map(o=>CTe(o,r)).filter(o=>o!==null);this.accumulatedMessages=[],i(s),this.timeoutId=null},this.waitMs)}cancel(){this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.accumulatedMessages=[]}}const ETe=new TTe(500);function DTe(n,e,r){ETe.add(n,e,r)}function PTe(n){const e=new Map,r=i=>{if(e.has(i.id))return e.get(i.id);if(i.parents.length===0)return e.set(i.id,"root"),"root";const o=i.parents.map(a=>{const l=n.find(c=>c.id===a);return l?e.get(a)||r(l):null}).filter(a=>a!==null).join("-")||"root";return e.set(i.id,o),o};return n.map(i=>{const s=r(i),o=i.nodeType==="vertex"?"V":i.nodeType==="tx"?"TX":"UTX",a=i.id.length>8?i.id.slice(0,8)+"...":i.id;return{id:i.id,content:`${o} ${a}`,start:new Date(i.timestamp*1e3),group:s,title:`${i.nodeType} | Parents: ${i.parents.length} | Children: ${i.children.length} | Shard: ${i.shardId}`,className:`dag-node-${i.nodeType}`}})}function ITe(n,e,r=5){if(!e)return n.length>100?{nodes:[],links:[]}:{nodes:n.map(c=>({id:c.id,label:`${c.nodeType==="vertex"?"V":"TX"} ${c.id.slice(0,8)}`,type:c.nodeType,shardId:c.shardId})),links:n.flatMap(c=>c.children.map(u=>({source:c.id,target:u})))};const i=new Set,s=[{id:e,depth:0}],o=[],a=[],l=new Set;for(;s.length>0;){const{id:c,depth:u}=s.shift();if(i.has(c)||u>r)continue;i.add(c);const f=n.find(d=>d.id===c);if(f){if(!l.has(c)){const d=f.nodeType==="vertex"?"V":"TX",h=f.id.length>8?f.id.slice(0,8)+"...":f.id;o.push({id:f.id,label:`${d} ${h}`,type:f.nodeType,shardId:f.shardId}),l.add(c)}f.children.forEach(d=>{a.push({source:c,target:d}),i.has(d)||s.push({id:d,depth:u+1})}),f.parents.forEach(d=>{if(a.push({source:d,target:c}),!l.has(d)){const h=n.find(p=>p.id===d);if(h){const p=h.nodeType==="vertex"?"V":"TX",g=h.id.length>8?h.id.slice(0,8)+"...":h.id;o.push({id:h.id,label:`${p} ${g}`,type:h.nodeType,shardId:h.shardId}),l.add(d)}}i.has(d)||s.push({id:d,depth:u+1})})}}return{nodes:o,links:a}}/**
 * vis-timeline and vis-graph2d
 * https://visjs.github.io/vis-timeline/
 *
 * Create a fully customizable, interactive timeline with items and ranges.
 *
 * @version 8.5.0
 * @date    2025-12-12T13:44:42.806Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function Qr(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(!n||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}}var OTe=`.vis .overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  /* Must be displayed above for example selected Timeline items */
  z-index: 10;
}

.vis-active {
  box-shadow: 0 0 10px #86d5f8;
}
`;Qr(OTe);var MTe=`/* override some bootstrap styles screwing up the timelines css */

.vis [class*="span"] {
  min-height: 0;
  width: auto;
}
`;Qr(MTe);var ATe=`div.vis-configuration {
  position: relative;
  display: block;
  float: left;
  font-size: 12px;
}

div.vis-configuration-wrapper {
  display: block;
  width: 700px;
}

div.vis-configuration-wrapper::after {
  clear: both;
  content: "";
  display: block;
}

div.vis-configuration.vis-config-option-container {
  display: block;
  width: 495px;
  background-color: #ffffff;
  border: 2px solid #f7f8fa;
  border-radius: 4px;
  margin-top: 20px;
  left: 10px;
  padding-left: 5px;
}

div.vis-configuration.vis-config-button {
  display: block;
  width: 495px;
  height: 25px;
  vertical-align: middle;
  line-height: 25px;
  background-color: #f7f8fa;
  border: 2px solid #ceced0;
  border-radius: 4px;
  margin-top: 20px;
  left: 10px;
  padding-left: 5px;
  cursor: pointer;
  margin-bottom: 30px;
}

div.vis-configuration.vis-config-button.hover {
  background-color: #4588e6;
  border: 2px solid #214373;
  color: #ffffff;
}

div.vis-configuration.vis-config-item {
  display: block;
  float: left;
  width: 495px;
  height: 25px;
  vertical-align: middle;
  line-height: 25px;
}

div.vis-configuration.vis-config-item.vis-config-s2 {
  left: 10px;
  background-color: #f7f8fa;
  padding-left: 5px;
  border-radius: 3px;
}
div.vis-configuration.vis-config-item.vis-config-s3 {
  left: 20px;
  background-color: #e4e9f0;
  padding-left: 5px;
  border-radius: 3px;
}
div.vis-configuration.vis-config-item.vis-config-s4 {
  left: 30px;
  background-color: #cfd8e6;
  padding-left: 5px;
  border-radius: 3px;
}

div.vis-configuration.vis-config-header {
  font-size: 18px;
  font-weight: bold;
}

div.vis-configuration.vis-config-label {
  width: 120px;
  height: 25px;
  line-height: 25px;
}

div.vis-configuration.vis-config-label.vis-config-s3 {
  width: 110px;
}
div.vis-configuration.vis-config-label.vis-config-s4 {
  width: 100px;
}

div.vis-configuration.vis-config-colorBlock {
  top: 1px;
  width: 30px;
  height: 19px;
  border: 1px solid #444444;
  border-radius: 2px;
  padding: 0px;
  margin: 0px;
  cursor: pointer;
}

input.vis-configuration.vis-config-checkbox {
  left: -5px;
}

input.vis-configuration.vis-config-rangeinput {
  position: relative;
  top: -5px;
  width: 60px;
  /*height:13px;*/
  padding: 1px;
  margin: 0;
  pointer-events: none;
}

input.vis-configuration.vis-config-range {
  /*removes default webkit styles*/
  -webkit-appearance: none;

  /*fix for FF unable to apply focus style bug */
  border: 0px solid white;
  background-color: rgba(0, 0, 0, 0);

  /*required for proper track sizing in FF*/
  width: 300px;
  height: 20px;
}
input.vis-configuration.vis-config-range::-webkit-slider-runnable-track {
  width: 300px;
  height: 5px;
  background: #dedede; /* Old browsers */
  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #dedede),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */

  border: 1px solid #999999;
  box-shadow: #aaaaaa 0px 0px 3px 0px;
  border-radius: 3px;
}
input.vis-configuration.vis-config-range::-webkit-slider-thumb {
  -webkit-appearance: none;
  border: 1px solid #14334b;
  height: 17px;
  width: 17px;
  border-radius: 50%;
  background: #3876c2; /* Old browsers */
  background: -moz-linear-gradient(top, #3876c2 0%, #385380 100%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #3876c2),
    color-stop(100%, #385380)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #3876c2 0%,
    #385380 100%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #3876c2 0%,
    #385380 100%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #3876c2 0%, #385380 100%); /* IE10+ */
  background: linear-gradient(to bottom, #3876c2 0%, #385380 100%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3876c2', endColorstr='#385380',GradientType=0 ); /* IE6-9 */
  box-shadow: #111927 0px 0px 1px 0px;
  margin-top: -7px;
}
input.vis-configuration.vis-config-range:focus {
  outline: none;
}
input.vis-configuration.vis-config-range:focus::-webkit-slider-runnable-track {
  background: #9d9d9d; /* Old browsers */
  background: -moz-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #9d9d9d),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #9d9d9d 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #9d9d9d 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #9d9d9d 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#9d9d9d', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */
}

input.vis-configuration.vis-config-range::-moz-range-track {
  width: 300px;
  height: 10px;
  background: #dedede; /* Old browsers */
  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */
  background: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0%, #dedede),
    color-stop(99%, #c8c8c8)
  ); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(
    top,
    #dedede 0%,
    #c8c8c8 99%
  ); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */
  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */

  border: 1px solid #999999;
  box-shadow: #aaaaaa 0px 0px 3px 0px;
  border-radius: 3px;
}
input.vis-configuration.vis-config-range::-moz-range-thumb {
  border: none;
  height: 16px;
  width: 16px;

  border-radius: 50%;
  background: #385380;
}

/*hide the outline behind the border*/
input.vis-configuration.vis-config-range:-moz-focusring {
  outline: 1px solid white;
  outline-offset: -1px;
}

input.vis-configuration.vis-config-range::-ms-track {
  width: 300px;
  height: 5px;

  /*remove bg colour from the track, we'll use ms-fill-lower and ms-fill-upper instead */
  background: transparent;

  /*leave room for the larger thumb to overflow with a transparent border */
  border-color: transparent;
  border-width: 6px 0;

  /*remove default tick marks*/
  color: transparent;
}
input.vis-configuration.vis-config-range::-ms-fill-lower {
  background: #777;
  border-radius: 10px;
}
input.vis-configuration.vis-config-range::-ms-fill-upper {
  background: #ddd;
  border-radius: 10px;
}
input.vis-configuration.vis-config-range::-ms-thumb {
  border: none;
  height: 16px;
  width: 16px;
  border-radius: 50%;
  background: #385380;
}
input.vis-configuration.vis-config-range:focus::-ms-fill-lower {
  background: #888;
}
input.vis-configuration.vis-config-range:focus::-ms-fill-upper {
  background: #ccc;
}

.vis-configuration-popup {
  position: absolute;
  background: rgba(57, 76, 89, 0.85);
  border: 2px solid #f2faff;
  line-height: 30px;
  height: 30px;
  width: 150px;
  text-align: center;
  color: #ffffff;
  font-size: 14px;
  border-radius: 4px;
  -webkit-transition: opacity 0.3s ease-in-out;
  -moz-transition: opacity 0.3s ease-in-out;
  transition: opacity 0.3s ease-in-out;
}
.vis-configuration-popup:after,
.vis-configuration-popup:before {
  left: 100%;
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none;
}

.vis-configuration-popup:after {
  border-color: rgba(136, 183, 213, 0);
  border-left-color: rgba(57, 76, 89, 0.85);
  border-width: 8px;
  margin-top: -8px;
}
.vis-configuration-popup:before {
  border-color: rgba(194, 225, 245, 0);
  border-left-color: #f2faff;
  border-width: 12px;
  margin-top: -12px;
}
`;Qr(ATe);var RTe=`div.vis-tooltip {
  position: absolute;
  visibility: hidden;
  padding: 5px;
  white-space: nowrap;

  font-family: verdana;
  font-size: 14px;
  color: #000000;
  background-color: #f5f4ed;

  -moz-border-radius: 3px;
  -webkit-border-radius: 3px;
  border-radius: 3px;
  border: 1px solid #808074;

  box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);
  pointer-events: none;

  z-index: 5;
}
`;Qr(RTe);var NTe=`.vis-timeline {
  /*
  -webkit-transition: height .4s ease-in-out;
  transition:         height .4s ease-in-out;
  */
}

.vis-panel {
  /*
  -webkit-transition: height .4s ease-in-out, top .4s ease-in-out;
  transition:         height .4s ease-in-out, top .4s ease-in-out;
  */
}

.vis-axis {
  /*
  -webkit-transition: top .4s ease-in-out;
  transition:         top .4s ease-in-out;
  */
}

/* TODO: get animation working nicely

.vis-item {
  -webkit-transition: top .4s ease-in-out;
  transition:         top .4s ease-in-out;
}

.vis-item.line {
  -webkit-transition: height .4s ease-in-out, top .4s ease-in-out;
  transition:         height .4s ease-in-out, top .4s ease-in-out;
}
/**/
`;Qr(NTe);var jTe=`.vis-current-time {
  background-color: #ff7f6e;
  width: 2px;
  z-index: 1;
  pointer-events: none;
}

.vis-rolling-mode-btn {
  height: 40px;
  width: 40px;
  position: absolute;
  top: 7px;
  right: 20px;
  border-radius: 50%;
  font-size: 28px;
  cursor: pointer;
  opacity: 0.8;
  color: white;
  font-weight: bold;
  text-align: center;
  background: #3876c2;
}
.vis-rolling-mode-btn:before {
  content: "\\26F6";
}

.vis-rolling-mode-btn:hover {
  opacity: 1;
}
`;Qr(jTe);var LTe=`.vis-custom-time {
  background-color: #6e94ff;
  width: 2px;
  cursor: move;
  z-index: 1;
}

.vis-custom-time > .vis-custom-time-marker {
  background-color: inherit;
  color: white;
  font-size: 12px;
  white-space: nowrap;
  padding: 3px 5px;
  top: 0px;
  cursor: initial;
  z-index: inherit;
}
`;Qr(LTe);var FTe=`.vis-panel.vis-background.vis-horizontal .vis-grid.vis-horizontal {
  position: absolute;
  width: 100%;
  height: 0;
  border-bottom: 1px solid;
}

.vis-panel.vis-background.vis-horizontal .vis-grid.vis-minor {
  border-color: #e5e5e5;
}

.vis-panel.vis-background.vis-horizontal .vis-grid.vis-major {
  border-color: #bfbfbf;
}

.vis-data-axis .vis-y-axis.vis-major {
  width: 100%;
  position: absolute;
  color: #4d4d4d;
  white-space: nowrap;
}

.vis-data-axis .vis-y-axis.vis-major.vis-measure {
  padding: 0;
  margin: 0;
  border: 0;
  visibility: hidden;
  width: auto;
}

.vis-data-axis .vis-y-axis.vis-minor {
  position: absolute;
  width: 100%;
  color: #bebebe;
  white-space: nowrap;
}

.vis-data-axis .vis-y-axis.vis-minor.vis-measure {
  padding: 0;
  margin: 0;
  border: 0;
  visibility: hidden;
  width: auto;
}

.vis-data-axis .vis-y-axis.vis-title {
  position: absolute;
  color: #4d4d4d;
  white-space: nowrap;
  bottom: 20px;
  text-align: center;
}

.vis-data-axis .vis-y-axis.vis-title.vis-measure {
  padding: 0;
  margin: 0;
  visibility: hidden;
  width: auto;
}

.vis-data-axis .vis-y-axis.vis-title.vis-left {
  bottom: 0;
  -webkit-transform-origin: left top;
  -moz-transform-origin: left top;
  -ms-transform-origin: left top;
  -o-transform-origin: left top;
  transform-origin: left bottom;
  -webkit-transform: rotate(-90deg);
  -moz-transform: rotate(-90deg);
  -ms-transform: rotate(-90deg);
  -o-transform: rotate(-90deg);
  transform: rotate(-90deg);
}

.vis-data-axis .vis-y-axis.vis-title.vis-right {
  bottom: 0;
  -webkit-transform-origin: right bottom;
  -moz-transform-origin: right bottom;
  -ms-transform-origin: right bottom;
  -o-transform-origin: right bottom;
  transform-origin: right bottom;
  -webkit-transform: rotate(90deg);
  -moz-transform: rotate(90deg);
  -ms-transform: rotate(90deg);
  -o-transform: rotate(90deg);
  transform: rotate(90deg);
}

.vis-legend {
  background-color: rgba(247, 252, 255, 0.65);
  padding: 5px;
  border: 1px solid #b3b3b3;
  box-shadow: 2px 2px 10px rgba(154, 154, 154, 0.55);
}

.vis-legend-text {
  /*font-size: 10px;*/
  white-space: nowrap;
  display: inline-block;
}
`;Qr(FTe);var $Te=`.vis-item {
  position: absolute;
  color: #1a1a1a;
  border-color: #97b0f8;
  border-width: 1px;
  background-color: #d5ddf6;
  display: inline-block;
  z-index: 1;
  /*overflow: hidden;*/
}

.vis-item.vis-selected {
  border-color: #ffc200;
  background-color: #fff785;

  /* z-index must be higher than the z-index of custom time bar and current time bar */
  z-index: 2;
}

.vis-editable.vis-selected {
  cursor: move;
}

.vis-item.vis-point.vis-selected {
  background-color: #fff785;
}

.vis-item.vis-box {
  text-align: center;
  border-style: solid;
  border-radius: 2px;
}

.vis-item.vis-point {
  background: none;
}

.vis-item.vis-dot {
  position: absolute;
  padding: 0;
  border-width: 4px;
  border-style: solid;
  border-radius: 4px;
}

.vis-item.vis-range {
  border-style: solid;
  border-radius: 2px;
  box-sizing: border-box;
}

.vis-item.vis-background {
  border: none;
  background-color: rgba(213, 221, 246, 0.4);
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

.vis-item .vis-item-overflow {
  position: relative;
  width: 100%;
  height: 100%;
  padding: 0;
  margin: 0;
  overflow: hidden;
}

.vis-item-visible-frame {
  white-space: nowrap;
}

.vis-item.vis-range .vis-item-content {
  position: relative;
  display: inline-block;
}

.vis-item.vis-background .vis-item-content {
  position: absolute;
  display: inline-block;
}

.vis-item.vis-line {
  padding: 0;
  position: absolute;
  width: 0;
  border-left-width: 1px;
  border-left-style: solid;
}

.vis-item .vis-item-content {
  white-space: nowrap;
  box-sizing: border-box;
  padding: 5px;
}

.vis-item .vis-onUpdateTime-tooltip {
  position: absolute;
  background: #4f81bd;
  color: white;
  width: 200px;
  text-align: center;
  white-space: nowrap;
  padding: 5px;
  border-radius: 1px;
  transition: 0.4s;
  -o-transition: 0.4s;
  -moz-transition: 0.4s;
  -webkit-transition: 0.4s;
}

.vis-item .vis-delete,
.vis-item .vis-delete-rtl {
  position: absolute;
  top: 0px;
  width: 24px;
  height: 24px;
  box-sizing: border-box;
  padding: 0px 5px;
  cursor: pointer;

  -webkit-transition: background 0.2s linear;
  -moz-transition: background 0.2s linear;
  -ms-transition: background 0.2s linear;
  -o-transition: background 0.2s linear;
  transition: background 0.2s linear;
}

.vis-item .vis-delete {
  right: -24px;
}

.vis-item .vis-delete-rtl {
  left: -24px;
}

.vis-item .vis-delete:after,
.vis-item .vis-delete-rtl:after {
  content: "\\00D7"; /* MULTIPLICATION SIGN */
  color: red;
  font-family: arial, sans-serif;
  font-size: 22px;
  font-weight: bold;

  -webkit-transition: color 0.2s linear;
  -moz-transition: color 0.2s linear;
  -ms-transition: color 0.2s linear;
  -o-transition: color 0.2s linear;
  transition: color 0.2s linear;
}

.vis-item .vis-delete:hover,
.vis-item .vis-delete-rtl:hover {
  background: red;
}

.vis-item .vis-delete:hover:after,
.vis-item .vis-delete-rtl:hover:after {
  color: white;
}

.vis-item .vis-drag-center {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0px;
  cursor: move;
}

.vis-item.vis-range .vis-drag-left {
  position: absolute;
  width: 24px;
  max-width: 20%;
  min-width: 2px;
  height: 100%;
  top: 0;
  left: -4px;

  cursor: w-resize;
}

.vis-item.vis-range .vis-drag-right {
  position: absolute;
  width: 24px;
  max-width: 20%;
  min-width: 2px;
  height: 100%;
  top: 0;
  right: -4px;

  cursor: e-resize;
}

.vis-range.vis-item.vis-readonly .vis-drag-left,
.vis-range.vis-item.vis-readonly .vis-drag-right {
  cursor: auto;
}

.vis-item.vis-cluster {
  vertical-align: center;
  text-align: center;
  border-style: solid;
  border-radius: 2px;
}

.vis-item.vis-cluster-line {
  padding: 0;
  position: absolute;
  width: 0;
  border-left-width: 1px;
  border-left-style: solid;
}

.vis-item.vis-cluster-dot {
  position: absolute;
  padding: 0;
  border-width: 4px;
  border-style: solid;
  border-radius: 4px;
}
`;Qr($Te);var BTe=`.vis-itemset {
  position: relative;
  padding: 0;
  margin: 0;

  box-sizing: border-box;
}

.vis-itemset .vis-background,
.vis-itemset .vis-foreground {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: visible;
}

.vis-axis {
  position: absolute;
  width: 100%;
  height: 0;
  left: 0;
  z-index: 1;
}

.vis-foreground .vis-group {
  position: relative;
  box-sizing: border-box;
  border-bottom: 1px solid #bfbfbf;
}

.vis-foreground .vis-group:last-child {
  border-bottom: none;
}

.vis-nesting-group {
  cursor: pointer;
}

.vis-label.vis-nested-group.vis-group-level-unknown-but-gte1 {
  background: #f5f5f5;
}
.vis-label.vis-nested-group.vis-group-level-0 {
  background-color: #ffffff;
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-0 .vis-inner {
  padding-left: 0;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-0 .vis-inner {
  padding-right: 0;
}
.vis-label.vis-nested-group.vis-group-level-1 {
  background-color: rgba(0, 0, 0, 0.05);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-1 .vis-inner {
  padding-left: 15px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-1 .vis-inner {
  padding-right: 15px;
}
.vis-label.vis-nested-group.vis-group-level-2 {
  background-color: rgba(0, 0, 0, 0.1);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-2 .vis-inner {
  padding-left: 30px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-2 .vis-inner {
  padding-right: 30px;
}
.vis-label.vis-nested-group.vis-group-level-3 {
  background-color: rgba(0, 0, 0, 0.15);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-3 .vis-inner {
  padding-left: 45px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-3 .vis-inner {
  padding-right: 45px;
}
.vis-label.vis-nested-group.vis-group-level-4 {
  background-color: rgba(0, 0, 0, 0.2);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-4 .vis-inner {
  padding-left: 60px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-4 .vis-inner {
  padding-right: 60px;
}
.vis-label.vis-nested-group.vis-group-level-5 {
  background-color: rgba(0, 0, 0, 0.25);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-5 .vis-inner {
  padding-left: 75px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-5 .vis-inner {
  padding-right: 75px;
}
.vis-label.vis-nested-group.vis-group-level-6 {
  background-color: rgba(0, 0, 0, 0.3);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-6 .vis-inner {
  padding-left: 90px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-6 .vis-inner {
  padding-right: 90px;
}
.vis-label.vis-nested-group.vis-group-level-7 {
  background-color: rgba(0, 0, 0, 0.35);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-7 .vis-inner {
  padding-left: 105px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-7 .vis-inner {
  padding-right: 105px;
}
.vis-label.vis-nested-group.vis-group-level-8 {
  background-color: rgba(0, 0, 0, 0.4);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-8 .vis-inner {
  padding-left: 120px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-8 .vis-inner {
  padding-right: 120px;
}
.vis-label.vis-nested-group.vis-group-level-9 {
  background-color: rgba(0, 0, 0, 0.45);
}
.vis-ltr .vis-label.vis-nested-group.vis-group-level-9 .vis-inner {
  padding-left: 135px;
}
.vis-rtl .vis-label.vis-nested-group.vis-group-level-9 .vis-inner {
  padding-right: 135px;
}
/* default takes over beginning with level-10 (thats why we add .vis-nested-group
  to the selectors above, to have higher specifity than these rules for the defaults) */
.vis-label.vis-nested-group {
  background-color: rgba(0, 0, 0, 0.5);
}
.vis-ltr .vis-label.vis-nested-group .vis-inner {
  padding-left: 150px;
}
.vis-rtl .vis-label.vis-nested-group .vis-inner {
  padding-right: 150px;
}

.vis-group-level-unknown-but-gte1 {
  border: 1px solid red;
}

/* expanded/collapsed indicators */
.vis-label.vis-nesting-group:before,
.vis-label.vis-nesting-group:before {
  display: inline-block;
  width: 15px;
}
.vis-label.vis-nesting-group.expanded:before {
  content: "\\25BC";
}
.vis-label.vis-nesting-group.collapsed:before {
  content: "\\25B6";
}
.vis-rtl .vis-label.vis-nesting-group.collapsed:before {
  content: "\\25C0";
}
/* compensate missing expanded/collapsed indicator, but only at levels > 0 */
.vis-ltr .vis-label:not(.vis-nesting-group):not(.vis-group-level-0) {
  padding-left: 15px;
}
.vis-rtl .vis-label:not(.vis-nesting-group):not(.vis-group-level-0) {
  padding-right: 15px;
}

.vis-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 10;
}
`;Qr(BTe);var zTe=`.vis-labelset {
  position: relative;

  overflow: hidden;

  box-sizing: border-box;
}

.vis-labelset .vis-label {
  position: relative;
  left: 0;
  top: 0;
  width: 100%;
  color: #4d4d4d;

  box-sizing: border-box;
}

.vis-labelset .vis-label {
  border-bottom: 1px solid #bfbfbf;
}

.vis-labelset .vis-label.draggable {
  cursor: pointer;
}

.vis-group-is-dragging {
  background: rgba(0, 0, 0, 0.1);
}

.vis-labelset .vis-label:last-child {
  border-bottom: none;
}

.vis-labelset .vis-label .vis-inner {
  display: inline-block;
  padding: 5px;
}

.vis-labelset .vis-label .vis-inner.vis-hidden {
  padding: 0;
}
`;Qr(zTe);var UTe=`.vis-panel {
  position: absolute;

  padding: 0;
  margin: 0;

  box-sizing: border-box;
}

.vis-panel.vis-center,
.vis-panel.vis-left,
.vis-panel.vis-right,
.vis-panel.vis-top,
.vis-panel.vis-bottom {
  border: 1px #bfbfbf;
}

.vis-panel.vis-center,
.vis-panel.vis-left,
.vis-panel.vis-right {
  border-top-style: solid;
  border-bottom-style: solid;
  overflow: hidden;
}

.vis-left.vis-panel.vis-vertical-scroll,
.vis-right.vis-panel.vis-vertical-scroll {
  height: 100%;
  overflow-x: hidden;
  overflow-y: scroll;
}

.vis-left.vis-panel.vis-vertical-scroll {
  direction: rtl;
}

.vis-left.vis-panel.vis-vertical-scroll .vis-content {
  direction: ltr;
}

.vis-right.vis-panel.vis-vertical-scroll {
  direction: ltr;
}

.vis-right.vis-panel.vis-vertical-scroll .vis-content {
  direction: rtl;
}

.vis-panel.vis-center,
.vis-panel.vis-top,
.vis-panel.vis-bottom {
  border-left-style: solid;
  border-right-style: solid;
}

.vis-background {
  overflow: hidden;
}

.vis-panel > .vis-content {
  position: relative;
}

.vis-panel .vis-shadow {
  position: absolute;
  width: 100%;
  height: 1px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.8);
  /* TODO: find a nice way to ensure vis-shadows are drawn on top of items
  z-index: 1;
  */
}

.vis-panel .vis-shadow.vis-top {
  top: -1px;
  left: 0;
}

.vis-panel .vis-shadow.vis-bottom {
  bottom: -1px;
  left: 0;
}
`;Qr(UTe);var qTe=`.vis-graph-group0 {
  fill: #4f81bd;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #4f81bd;
}

.vis-graph-group1 {
  fill: #f79646;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #f79646;
}

.vis-graph-group2 {
  fill: #8c51cf;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #8c51cf;
}

.vis-graph-group3 {
  fill: #75c841;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #75c841;
}

.vis-graph-group4 {
  fill: #ff0100;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #ff0100;
}

.vis-graph-group5 {
  fill: #37d8e6;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #37d8e6;
}

.vis-graph-group6 {
  fill: #042662;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #042662;
}

.vis-graph-group7 {
  fill: #00ff26;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #00ff26;
}

.vis-graph-group8 {
  fill: #ff00ff;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #ff00ff;
}

.vis-graph-group9 {
  fill: #8f3938;
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #8f3938;
}

.vis-timeline .vis-fill {
  fill-opacity: 0.1;
  stroke: none;
}

.vis-timeline .vis-bar {
  fill-opacity: 0.5;
  stroke-width: 1px;
}

.vis-timeline .vis-point {
  stroke-width: 2px;
  fill-opacity: 1;
}

.vis-timeline .vis-legend-background {
  stroke-width: 1px;
  fill-opacity: 0.9;
  fill: #ffffff;
  stroke: #c2c2c2;
}

.vis-timeline .vis-outline {
  stroke-width: 1px;
  fill-opacity: 1;
  fill: #ffffff;
  stroke: #e5e5e5;
}

.vis-timeline .vis-icon-fill {
  fill-opacity: 0.3;
  stroke: none;
}
`;Qr(qTe);var WTe=`.vis-time-axis {
  position: relative;
  overflow: hidden;
}

.vis-time-axis.vis-foreground {
  top: 0;
  left: 0;
  width: 100%;
}

.vis-time-axis.vis-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.vis-time-axis .vis-text {
  position: absolute;
  color: #4d4d4d;
  padding: 3px;
  overflow: hidden;
  box-sizing: border-box;

  white-space: nowrap;
}

.vis-time-axis .vis-text.vis-measure {
  position: absolute;
  padding-left: 0;
  padding-right: 0;
  margin-left: 0;
  margin-right: 0;
  visibility: hidden;
}

.vis-time-axis .vis-grid.vis-vertical {
  position: absolute;
  border-left: 1px solid;
}

.vis-time-axis .vis-grid.vis-vertical-rtl {
  position: absolute;
  border-right: 1px solid;
}

.vis-time-axis .vis-grid.vis-minor {
  border-color: #e5e5e5;
}

.vis-time-axis .vis-grid.vis-major {
  border-color: #bfbfbf;
}
`;Qr(WTe);var HTe=`.vis-timeline {
  position: relative;
  border: 1px solid #bfbfbf;
  overflow: hidden;
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

.vis-loading-screen {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
}
`;Qr(HTe);var n6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ct(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function qs(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var kI={exports:{}},Py={exports:{}},GTe=Py.exports,r6;function Ws(){return r6||(r6=1,function(n,e){(function(r,i){n.exports=i()})(GTe,function(){var r;function i(){return r.apply(null,arguments)}function s(x){r=x}function o(x){return x instanceof Array||Object.prototype.toString.call(x)==="[object Array]"}function a(x){return x!=null&&Object.prototype.toString.call(x)==="[object Object]"}function l(x,E){return Object.prototype.hasOwnProperty.call(x,E)}function c(x){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(x).length===0;var E;for(E in x)if(l(x,E))return!1;return!0}function u(x){return x===void 0}function f(x){return typeof x=="number"||Object.prototype.toString.call(x)==="[object Number]"}function d(x){return x instanceof Date||Object.prototype.toString.call(x)==="[object Date]"}function h(x,E){var M=[],j,G=x.length;for(j=0;j<G;++j)M.push(E(x[j],j));return M}function p(x,E){for(var M in E)l(E,M)&&(x[M]=E[M]);return l(E,"toString")&&(x.toString=E.toString),l(E,"valueOf")&&(x.valueOf=E.valueOf),x}function g(x,E,M,j){return bN(x,E,M,j,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function y(x){return x._pf==null&&(x._pf=v()),x._pf}var b;Array.prototype.some?b=Array.prototype.some:b=function(x){var E=Object(this),M=E.length>>>0,j;for(j=0;j<M;j++)if(j in E&&x.call(this,E[j],j,E))return!0;return!1};function w(x){var E=null,M=!1,j=x._d&&!isNaN(x._d.getTime());if(j&&(E=y(x),M=b.call(E.parsedDateParts,function(G){return G!=null}),j=E.overflow<0&&!E.empty&&!E.invalidEra&&!E.invalidMonth&&!E.invalidWeekday&&!E.weekdayMismatch&&!E.nullInput&&!E.invalidFormat&&!E.userInvalidated&&(!E.meridiem||E.meridiem&&M),x._strict&&(j=j&&E.charsLeftOver===0&&E.unusedTokens.length===0&&E.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(x))x._isValid=j;else return j;return x._isValid}function k(x){var E=g(NaN);return x!=null?p(y(E),x):y(E).userInvalidated=!0,E}var _=i.momentProperties=[],S=!1;function C(x,E){var M,j,G,ie=_.length;if(u(E._isAMomentObject)||(x._isAMomentObject=E._isAMomentObject),u(E._i)||(x._i=E._i),u(E._f)||(x._f=E._f),u(E._l)||(x._l=E._l),u(E._strict)||(x._strict=E._strict),u(E._tzm)||(x._tzm=E._tzm),u(E._isUTC)||(x._isUTC=E._isUTC),u(E._offset)||(x._offset=E._offset),u(E._pf)||(x._pf=y(E)),u(E._locale)||(x._locale=E._locale),ie>0)for(M=0;M<ie;M++)j=_[M],G=E[j],u(G)||(x[j]=G);return x}function T(x){C(this,x),this._d=new Date(x._d!=null?x._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),S===!1&&(S=!0,i.updateOffset(this),S=!1)}function D(x){return x instanceof T||x!=null&&x._isAMomentObject!=null}function O(x){i.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+x)}function P(x,E){var M=!0;return p(function(){if(i.deprecationHandler!=null&&i.deprecationHandler(null,x),M){var j=[],G,ie,_e,et=arguments.length;for(ie=0;ie<et;ie++){if(G="",typeof arguments[ie]=="object"){G+=`
[`+ie+"] ";for(_e in arguments[0])l(arguments[0],_e)&&(G+=_e+": "+arguments[0][_e]+", ");G=G.slice(0,-2)}else G=arguments[ie];j.push(G)}O(x+`
Arguments: `+Array.prototype.slice.call(j).join("")+`
`+new Error().stack),M=!1}return E.apply(this,arguments)},E)}var A={};function L(x,E){i.deprecationHandler!=null&&i.deprecationHandler(x,E),A[x]||(O(E),A[x]=!0)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null;function B(x){return typeof Function<"u"&&x instanceof Function||Object.prototype.toString.call(x)==="[object Function]"}function F(x){var E,M;for(M in x)l(x,M)&&(E=x[M],B(E)?this[M]=E:this["_"+M]=E);this._config=x,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function $(x,E){var M=p({},x),j;for(j in E)l(E,j)&&(a(x[j])&&a(E[j])?(M[j]={},p(M[j],x[j]),p(M[j],E[j])):E[j]!=null?M[j]=E[j]:delete M[j]);for(j in x)l(x,j)&&!l(E,j)&&a(x[j])&&(M[j]=p({},M[j]));return M}function U(x){x!=null&&this.set(x)}var N;Object.keys?N=Object.keys:N=function(x){var E,M=[];for(E in x)l(x,E)&&M.push(E);return M};var q={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function H(x,E,M){var j=this._calendar[x]||this._calendar.sameElse;return B(j)?j.call(E,M):j}function X(x,E,M){var j=""+Math.abs(x),G=E-j.length,ie=x>=0;return(ie?M?"+":"":"-")+Math.pow(10,Math.max(0,G)).toString().substr(1)+j}var Y=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,W=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,R={},Z={};function J(x,E,M,j){var G=j;typeof j=="string"&&(G=function(){return this[j]()}),x&&(Z[x]=G),E&&(Z[E[0]]=function(){return X(G.apply(this,arguments),E[1],E[2])}),M&&(Z[M]=function(){return this.localeData().ordinal(G.apply(this,arguments),x)})}function V(x){return x.match(/\[[\s\S]/)?x.replace(/^\[|\]$/g,""):x.replace(/\\/g,"")}function te(x){var E=x.match(Y),M,j;for(M=0,j=E.length;M<j;M++)Z[E[M]]?E[M]=Z[E[M]]:E[M]=V(E[M]);return function(G){var ie="",_e;for(_e=0;_e<j;_e++)ie+=B(E[_e])?E[_e].call(G,x):E[_e];return ie}}function se(x,E){return x.isValid()?(E=ye(E,x.localeData()),R[E]=R[E]||te(E),R[E](x)):x.localeData().invalidDate()}function ye(x,E){var M=5;function j(G){return E.longDateFormat(G)||G}for(W.lastIndex=0;M>=0&&W.test(x);)x=x.replace(W,j),W.lastIndex=0,M-=1;return x}var Re={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ke(x){var E=this._longDateFormat[x],M=this._longDateFormat[x.toUpperCase()];return E||!M?E:(this._longDateFormat[x]=M.match(Y).map(function(j){return j==="MMMM"||j==="MM"||j==="DD"||j==="dddd"?j.slice(1):j}).join(""),this._longDateFormat[x])}var Ie="Invalid date";function Ee(){return this._invalidDate}var He="%d",nt=/\d{1,2}/;function z(x){return this._ordinal.replace("%d",x)}var ve={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ne(x,E,M,j){var G=this._relativeTime[M];return B(G)?G(x,E,M,j):G.replace(/%d/i,x)}function ge(x,E){var M=this._relativeTime[x>0?"future":"past"];return B(M)?M(E):M.replace(/%s/i,E)}var $e={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ue(x){return typeof x=="string"?$e[x]||$e[x.toLowerCase()]:void 0}function ee(x){var E={},M,j;for(j in x)l(x,j)&&(M=ue(j),M&&(E[M]=x[j]));return E}var le={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function xe(x){var E=[],M;for(M in x)l(x,M)&&E.push({unit:M,priority:le[M]});return E.sort(function(j,G){return j.priority-G.priority}),E}var pe=/\d/,Le=/\d\d/,ce=/\d{3}/,Oe=/\d{4}/,je=/[+-]?\d{6}/,be=/\d\d?/,de=/\d\d\d\d?/,me=/\d\d\d\d\d\d?/,he=/\d{1,3}/,fe=/\d{1,4}/,De=/[+-]?\d{1,6}/,Ye=/\d+/,Ge=/[+-]?\d+/,Ve=/Z|[+-]\d\d:?\d\d/gi,K=/Z|[+-]\d\d(?::?\d\d)?/gi,re=/[+-]?\d+(\.\d{1,3})?/,ne=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ut=/^[1-9]\d?/,Be=/^([1-9]\d|\d)/,Fe;Fe={};function we(x,E,M){Fe[x]=B(E)?E:function(j,G){return j&&M?M:E}}function ft(x,E){return l(Fe,x)?Fe[x](E._strict,E._locale):new RegExp(at(x))}function at(x){return At(x.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(E,M,j,G,ie){return M||j||G||ie}))}function At(x){return x.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Me(x){return x<0?Math.ceil(x)||0:Math.floor(x)}function Ce(x){var E=+x,M=0;return E!==0&&isFinite(E)&&(M=Me(E)),M}var ht={};function Ue(x,E){var M,j=E,G;for(typeof x=="string"&&(x=[x]),f(E)&&(j=function(ie,_e){_e[E]=Ce(ie)}),G=x.length,M=0;M<G;M++)ht[x[M]]=j}function lt(x,E){Ue(x,function(M,j,G,ie){G._w=G._w||{},E(M,G._w,G,ie)})}function Tt(x,E,M){E!=null&&l(ht,x)&&ht[x](E,M._a,M,x)}function bt(x){return x%4===0&&x%100!==0||x%400===0}var xt=0,yt=1,zt=2,Gt=3,Kn=4,Zr=5,Ys=6,Cn=7,eN=8;J("Y",0,0,function(){var x=this.year();return x<=9999?X(x,4):"+"+x}),J(0,["YY",2],0,function(){return this.year()%100}),J(0,["YYYY",4],0,"year"),J(0,["YYYYY",5],0,"year"),J(0,["YYYYYY",6,!0],0,"year"),we("Y",Ge),we("YY",be,Le),we("YYYY",fe,Oe),we("YYYYY",De,je),we("YYYYYY",De,je),Ue(["YYYYY","YYYYYY"],xt),Ue("YYYY",function(x,E){E[xt]=x.length===2?i.parseTwoDigitYear(x):Ce(x)}),Ue("YY",function(x,E){E[xt]=i.parseTwoDigitYear(x)}),Ue("Y",function(x,E){E[xt]=parseInt(x,10)});function Xl(x){return bt(x)?366:365}i.parseTwoDigitYear=function(x){return Ce(x)+(Ce(x)>68?1900:2e3)};var tN=ju("FullYear",!0);function gte(){return bt(this.year())}function ju(x,E){return function(M){return M!=null?(nN(this,x,M),i.updateOffset(this,E),this):kh(this,x)}}function kh(x,E){if(!x.isValid())return NaN;var M=x._d,j=x._isUTC;switch(E){case"Milliseconds":return j?M.getUTCMilliseconds():M.getMilliseconds();case"Seconds":return j?M.getUTCSeconds():M.getSeconds();case"Minutes":return j?M.getUTCMinutes():M.getMinutes();case"Hours":return j?M.getUTCHours():M.getHours();case"Date":return j?M.getUTCDate():M.getDate();case"Day":return j?M.getUTCDay():M.getDay();case"Month":return j?M.getUTCMonth():M.getMonth();case"FullYear":return j?M.getUTCFullYear():M.getFullYear();default:return NaN}}function nN(x,E,M){var j,G,ie,_e,et;if(!(!x.isValid()||isNaN(M))){switch(j=x._d,G=x._isUTC,E){case"Milliseconds":return void(G?j.setUTCMilliseconds(M):j.setMilliseconds(M));case"Seconds":return void(G?j.setUTCSeconds(M):j.setSeconds(M));case"Minutes":return void(G?j.setUTCMinutes(M):j.setMinutes(M));case"Hours":return void(G?j.setUTCHours(M):j.setHours(M));case"Date":return void(G?j.setUTCDate(M):j.setDate(M));case"FullYear":break;default:return}ie=M,_e=x.month(),et=x.date(),et=et===29&&_e===1&&!bt(ie)?28:et,G?j.setUTCFullYear(ie,_e,et):j.setFullYear(ie,_e,et)}}function bte(x){return x=ue(x),B(this[x])?this[x]():this}function yte(x,E){if(typeof x=="object"){x=ee(x);var M=xe(x),j,G=M.length;for(j=0;j<G;j++)this[M[j].unit](x[M[j].unit])}else if(x=ue(x),B(this[x]))return this[x](E);return this}function vte(x,E){return(x%E+E)%E}var Ln;Array.prototype.indexOf?Ln=Array.prototype.indexOf:Ln=function(x){var E;for(E=0;E<this.length;++E)if(this[E]===x)return E;return-1};function qw(x,E){if(isNaN(x)||isNaN(E))return NaN;var M=vte(E,12);return x+=(E-M)/12,M===1?bt(x)?29:28:31-M%7%2}J("M",["MM",2],"Mo",function(){return this.month()+1}),J("MMM",0,0,function(x){return this.localeData().monthsShort(this,x)}),J("MMMM",0,0,function(x){return this.localeData().months(this,x)}),we("M",be,ut),we("MM",be,Le),we("MMM",function(x,E){return E.monthsShortRegex(x)}),we("MMMM",function(x,E){return E.monthsRegex(x)}),Ue(["M","MM"],function(x,E){E[yt]=Ce(x)-1}),Ue(["MMM","MMMM"],function(x,E,M,j){var G=M._locale.monthsParse(x,j,M._strict);G!=null?E[yt]=G:y(M).invalidMonth=x});var xte="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),rN="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),iN=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,wte=ne,_te=ne;function Ste(x,E){return x?o(this._months)?this._months[x.month()]:this._months[(this._months.isFormat||iN).test(E)?"format":"standalone"][x.month()]:o(this._months)?this._months:this._months.standalone}function kte(x,E){return x?o(this._monthsShort)?this._monthsShort[x.month()]:this._monthsShort[iN.test(E)?"format":"standalone"][x.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Cte(x,E,M){var j,G,ie,_e=x.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],j=0;j<12;++j)ie=g([2e3,j]),this._shortMonthsParse[j]=this.monthsShort(ie,"").toLocaleLowerCase(),this._longMonthsParse[j]=this.months(ie,"").toLocaleLowerCase();return M?E==="MMM"?(G=Ln.call(this._shortMonthsParse,_e),G!==-1?G:null):(G=Ln.call(this._longMonthsParse,_e),G!==-1?G:null):E==="MMM"?(G=Ln.call(this._shortMonthsParse,_e),G!==-1?G:(G=Ln.call(this._longMonthsParse,_e),G!==-1?G:null)):(G=Ln.call(this._longMonthsParse,_e),G!==-1?G:(G=Ln.call(this._shortMonthsParse,_e),G!==-1?G:null))}function Tte(x,E,M){var j,G,ie;if(this._monthsParseExact)return Cte.call(this,x,E,M);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),j=0;j<12;j++){if(G=g([2e3,j]),M&&!this._longMonthsParse[j]&&(this._longMonthsParse[j]=new RegExp("^"+this.months(G,"").replace(".","")+"$","i"),this._shortMonthsParse[j]=new RegExp("^"+this.monthsShort(G,"").replace(".","")+"$","i")),!M&&!this._monthsParse[j]&&(ie="^"+this.months(G,"")+"|^"+this.monthsShort(G,""),this._monthsParse[j]=new RegExp(ie.replace(".",""),"i")),M&&E==="MMMM"&&this._longMonthsParse[j].test(x))return j;if(M&&E==="MMM"&&this._shortMonthsParse[j].test(x))return j;if(!M&&this._monthsParse[j].test(x))return j}}function sN(x,E){if(!x.isValid())return x;if(typeof E=="string"){if(/^\d+$/.test(E))E=Ce(E);else if(E=x.localeData().monthsParse(E),!f(E))return x}var M=E,j=x.date();return j=j<29?j:Math.min(j,qw(x.year(),M)),x._isUTC?x._d.setUTCMonth(M,j):x._d.setMonth(M,j),x}function oN(x){return x!=null?(sN(this,x),i.updateOffset(this,!0),this):kh(this,"Month")}function Ete(){return qw(this.year(),this.month())}function Dte(x){return this._monthsParseExact?(l(this,"_monthsRegex")||aN.call(this),x?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=wte),this._monthsShortStrictRegex&&x?this._monthsShortStrictRegex:this._monthsShortRegex)}function Pte(x){return this._monthsParseExact?(l(this,"_monthsRegex")||aN.call(this),x?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=_te),this._monthsStrictRegex&&x?this._monthsStrictRegex:this._monthsRegex)}function aN(){function x(pt,Ot){return Ot.length-pt.length}var E=[],M=[],j=[],G,ie,_e,et;for(G=0;G<12;G++)ie=g([2e3,G]),_e=At(this.monthsShort(ie,"")),et=At(this.months(ie,"")),E.push(_e),M.push(et),j.push(et),j.push(_e);E.sort(x),M.sort(x),j.sort(x),this._monthsRegex=new RegExp("^("+j.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+M.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+E.join("|")+")","i")}function Ite(x,E,M,j,G,ie,_e){var et;return x<100&&x>=0?(et=new Date(x+400,E,M,j,G,ie,_e),isFinite(et.getFullYear())&&et.setFullYear(x)):et=new Date(x,E,M,j,G,ie,_e),et}function Ch(x){var E,M;return x<100&&x>=0?(M=Array.prototype.slice.call(arguments),M[0]=x+400,E=new Date(Date.UTC.apply(null,M)),isFinite(E.getUTCFullYear())&&E.setUTCFullYear(x)):E=new Date(Date.UTC.apply(null,arguments)),E}function v0(x,E,M){var j=7+E-M,G=(7+Ch(x,0,j).getUTCDay()-E)%7;return-G+j-1}function lN(x,E,M,j,G){var ie=(7+M-j)%7,_e=v0(x,j,G),et=1+7*(E-1)+ie+_e,pt,Ot;return et<=0?(pt=x-1,Ot=Xl(pt)+et):et>Xl(x)?(pt=x+1,Ot=et-Xl(x)):(pt=x,Ot=et),{year:pt,dayOfYear:Ot}}function Th(x,E,M){var j=v0(x.year(),E,M),G=Math.floor((x.dayOfYear()-j-1)/7)+1,ie,_e;return G<1?(_e=x.year()-1,ie=G+Do(_e,E,M)):G>Do(x.year(),E,M)?(ie=G-Do(x.year(),E,M),_e=x.year()+1):(_e=x.year(),ie=G),{week:ie,year:_e}}function Do(x,E,M){var j=v0(x,E,M),G=v0(x+1,E,M);return(Xl(x)-j+G)/7}J("w",["ww",2],"wo","week"),J("W",["WW",2],"Wo","isoWeek"),we("w",be,ut),we("ww",be,Le),we("W",be,ut),we("WW",be,Le),lt(["w","ww","W","WW"],function(x,E,M,j){E[j.substr(0,1)]=Ce(x)});function Ote(x){return Th(x,this._week.dow,this._week.doy).week}var Mte={dow:0,doy:6};function Ate(){return this._week.dow}function Rte(){return this._week.doy}function Nte(x){var E=this.localeData().week(this);return x==null?E:this.add((x-E)*7,"d")}function jte(x){var E=Th(this,1,4).week;return x==null?E:this.add((x-E)*7,"d")}J("d",0,"do","day"),J("dd",0,0,function(x){return this.localeData().weekdaysMin(this,x)}),J("ddd",0,0,function(x){return this.localeData().weekdaysShort(this,x)}),J("dddd",0,0,function(x){return this.localeData().weekdays(this,x)}),J("e",0,0,"weekday"),J("E",0,0,"isoWeekday"),we("d",be),we("e",be),we("E",be),we("dd",function(x,E){return E.weekdaysMinRegex(x)}),we("ddd",function(x,E){return E.weekdaysShortRegex(x)}),we("dddd",function(x,E){return E.weekdaysRegex(x)}),lt(["dd","ddd","dddd"],function(x,E,M,j){var G=M._locale.weekdaysParse(x,j,M._strict);G!=null?E.d=G:y(M).invalidWeekday=x}),lt(["d","e","E"],function(x,E,M,j){E[j]=Ce(x)});function Lte(x,E){return typeof x!="string"?x:isNaN(x)?(x=E.weekdaysParse(x),typeof x=="number"?x:null):parseInt(x,10)}function Fte(x,E){return typeof x=="string"?E.weekdaysParse(x)%7||7:isNaN(x)?null:x}function Ww(x,E){return x.slice(E,7).concat(x.slice(0,E))}var $te="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),cN="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Bte="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),zte=ne,Ute=ne,qte=ne;function Wte(x,E){var M=o(this._weekdays)?this._weekdays:this._weekdays[x&&x!==!0&&this._weekdays.isFormat.test(E)?"format":"standalone"];return x===!0?Ww(M,this._week.dow):x?M[x.day()]:M}function Hte(x){return x===!0?Ww(this._weekdaysShort,this._week.dow):x?this._weekdaysShort[x.day()]:this._weekdaysShort}function Gte(x){return x===!0?Ww(this._weekdaysMin,this._week.dow):x?this._weekdaysMin[x.day()]:this._weekdaysMin}function Yte(x,E,M){var j,G,ie,_e=x.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],j=0;j<7;++j)ie=g([2e3,1]).day(j),this._minWeekdaysParse[j]=this.weekdaysMin(ie,"").toLocaleLowerCase(),this._shortWeekdaysParse[j]=this.weekdaysShort(ie,"").toLocaleLowerCase(),this._weekdaysParse[j]=this.weekdays(ie,"").toLocaleLowerCase();return M?E==="dddd"?(G=Ln.call(this._weekdaysParse,_e),G!==-1?G:null):E==="ddd"?(G=Ln.call(this._shortWeekdaysParse,_e),G!==-1?G:null):(G=Ln.call(this._minWeekdaysParse,_e),G!==-1?G:null):E==="dddd"?(G=Ln.call(this._weekdaysParse,_e),G!==-1||(G=Ln.call(this._shortWeekdaysParse,_e),G!==-1)?G:(G=Ln.call(this._minWeekdaysParse,_e),G!==-1?G:null)):E==="ddd"?(G=Ln.call(this._shortWeekdaysParse,_e),G!==-1||(G=Ln.call(this._weekdaysParse,_e),G!==-1)?G:(G=Ln.call(this._minWeekdaysParse,_e),G!==-1?G:null)):(G=Ln.call(this._minWeekdaysParse,_e),G!==-1||(G=Ln.call(this._weekdaysParse,_e),G!==-1)?G:(G=Ln.call(this._shortWeekdaysParse,_e),G!==-1?G:null))}function Vte(x,E,M){var j,G,ie;if(this._weekdaysParseExact)return Yte.call(this,x,E,M);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),j=0;j<7;j++){if(G=g([2e3,1]).day(j),M&&!this._fullWeekdaysParse[j]&&(this._fullWeekdaysParse[j]=new RegExp("^"+this.weekdays(G,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[j]=new RegExp("^"+this.weekdaysShort(G,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[j]=new RegExp("^"+this.weekdaysMin(G,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[j]||(ie="^"+this.weekdays(G,"")+"|^"+this.weekdaysShort(G,"")+"|^"+this.weekdaysMin(G,""),this._weekdaysParse[j]=new RegExp(ie.replace(".",""),"i")),M&&E==="dddd"&&this._fullWeekdaysParse[j].test(x))return j;if(M&&E==="ddd"&&this._shortWeekdaysParse[j].test(x))return j;if(M&&E==="dd"&&this._minWeekdaysParse[j].test(x))return j;if(!M&&this._weekdaysParse[j].test(x))return j}}function Kte(x){if(!this.isValid())return x!=null?this:NaN;var E=kh(this,"Day");return x!=null?(x=Lte(x,this.localeData()),this.add(x-E,"d")):E}function Xte(x){if(!this.isValid())return x!=null?this:NaN;var E=(this.day()+7-this.localeData()._week.dow)%7;return x==null?E:this.add(x-E,"d")}function Qte(x){if(!this.isValid())return x!=null?this:NaN;if(x!=null){var E=Fte(x,this.localeData());return this.day(this.day()%7?E:E-7)}else return this.day()||7}function Zte(x){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Hw.call(this),x?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=zte),this._weekdaysStrictRegex&&x?this._weekdaysStrictRegex:this._weekdaysRegex)}function Jte(x){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Hw.call(this),x?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ute),this._weekdaysShortStrictRegex&&x?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function ene(x){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Hw.call(this),x?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=qte),this._weekdaysMinStrictRegex&&x?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Hw(){function x(Rr,Ao){return Ao.length-Rr.length}var E=[],M=[],j=[],G=[],ie,_e,et,pt,Ot;for(ie=0;ie<7;ie++)_e=g([2e3,1]).day(ie),et=At(this.weekdaysMin(_e,"")),pt=At(this.weekdaysShort(_e,"")),Ot=At(this.weekdays(_e,"")),E.push(et),M.push(pt),j.push(Ot),G.push(et),G.push(pt),G.push(Ot);E.sort(x),M.sort(x),j.sort(x),G.sort(x),this._weekdaysRegex=new RegExp("^("+G.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+j.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+M.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+E.join("|")+")","i")}function Gw(){return this.hours()%12||12}function tne(){return this.hours()||24}J("H",["HH",2],0,"hour"),J("h",["hh",2],0,Gw),J("k",["kk",2],0,tne),J("hmm",0,0,function(){return""+Gw.apply(this)+X(this.minutes(),2)}),J("hmmss",0,0,function(){return""+Gw.apply(this)+X(this.minutes(),2)+X(this.seconds(),2)}),J("Hmm",0,0,function(){return""+this.hours()+X(this.minutes(),2)}),J("Hmmss",0,0,function(){return""+this.hours()+X(this.minutes(),2)+X(this.seconds(),2)});function uN(x,E){J(x,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),E)})}uN("a",!0),uN("A",!1);function dN(x,E){return E._meridiemParse}we("a",dN),we("A",dN),we("H",be,Be),we("h",be,ut),we("k",be,ut),we("HH",be,Le),we("hh",be,Le),we("kk",be,Le),we("hmm",de),we("hmmss",me),we("Hmm",de),we("Hmmss",me),Ue(["H","HH"],Gt),Ue(["k","kk"],function(x,E,M){var j=Ce(x);E[Gt]=j===24?0:j}),Ue(["a","A"],function(x,E,M){M._isPm=M._locale.isPM(x),M._meridiem=x}),Ue(["h","hh"],function(x,E,M){E[Gt]=Ce(x),y(M).bigHour=!0}),Ue("hmm",function(x,E,M){var j=x.length-2;E[Gt]=Ce(x.substr(0,j)),E[Kn]=Ce(x.substr(j)),y(M).bigHour=!0}),Ue("hmmss",function(x,E,M){var j=x.length-4,G=x.length-2;E[Gt]=Ce(x.substr(0,j)),E[Kn]=Ce(x.substr(j,2)),E[Zr]=Ce(x.substr(G)),y(M).bigHour=!0}),Ue("Hmm",function(x,E,M){var j=x.length-2;E[Gt]=Ce(x.substr(0,j)),E[Kn]=Ce(x.substr(j))}),Ue("Hmmss",function(x,E,M){var j=x.length-4,G=x.length-2;E[Gt]=Ce(x.substr(0,j)),E[Kn]=Ce(x.substr(j,2)),E[Zr]=Ce(x.substr(G))});function nne(x){return(x+"").toLowerCase().charAt(0)==="p"}var rne=/[ap]\.?m?\.?/i,ine=ju("Hours",!0);function sne(x,E,M){return x>11?M?"pm":"PM":M?"am":"AM"}var fN={calendar:q,longDateFormat:Re,invalidDate:Ie,ordinal:He,dayOfMonthOrdinalParse:nt,relativeTime:ve,months:xte,monthsShort:rN,week:Mte,weekdays:$te,weekdaysMin:Bte,weekdaysShort:cN,meridiemParse:rne},gn={},Eh={},Dh;function one(x,E){var M,j=Math.min(x.length,E.length);for(M=0;M<j;M+=1)if(x[M]!==E[M])return M;return j}function hN(x){return x&&x.toLowerCase().replace("_","-")}function ane(x){for(var E=0,M,j,G,ie;E<x.length;){for(ie=hN(x[E]).split("-"),M=ie.length,j=hN(x[E+1]),j=j?j.split("-"):null;M>0;){if(G=x0(ie.slice(0,M).join("-")),G)return G;if(j&&j.length>=M&&one(ie,j)>=M-1)break;M--}E++}return Dh}function lne(x){return!!(x&&x.match("^[^/\\\\]*$"))}function x0(x){var E=null,M;if(gn[x]===void 0&&n&&n.exports&&lne(x))try{E=Dh._abbr,M=qs,M("./locale/"+x),Ia(E)}catch{gn[x]=null}return gn[x]}function Ia(x,E){var M;return x&&(u(E)?M=Po(x):M=Yw(x,E),M?Dh=M:typeof console<"u"&&console.warn&&console.warn("Locale "+x+" not found. Did you forget to load it?")),Dh._abbr}function Yw(x,E){if(E!==null){var M,j=fN;if(E.abbr=x,gn[x]!=null)L("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),j=gn[x]._config;else if(E.parentLocale!=null)if(gn[E.parentLocale]!=null)j=gn[E.parentLocale]._config;else if(M=x0(E.parentLocale),M!=null)j=M._config;else return Eh[E.parentLocale]||(Eh[E.parentLocale]=[]),Eh[E.parentLocale].push({name:x,config:E}),null;return gn[x]=new U($(j,E)),Eh[x]&&Eh[x].forEach(function(G){Yw(G.name,G.config)}),Ia(x),gn[x]}else return delete gn[x],null}function cne(x,E){if(E!=null){var M,j,G=fN;gn[x]!=null&&gn[x].parentLocale!=null?gn[x].set($(gn[x]._config,E)):(j=x0(x),j!=null&&(G=j._config),E=$(G,E),j==null&&(E.abbr=x),M=new U(E),M.parentLocale=gn[x],gn[x]=M),Ia(x)}else gn[x]!=null&&(gn[x].parentLocale!=null?(gn[x]=gn[x].parentLocale,x===Ia()&&Ia(x)):gn[x]!=null&&delete gn[x]);return gn[x]}function Po(x){var E;if(x&&x._locale&&x._locale._abbr&&(x=x._locale._abbr),!x)return Dh;if(!o(x)){if(E=x0(x),E)return E;x=[x]}return ane(x)}function une(){return N(gn)}function Vw(x){var E,M=x._a;return M&&y(x).overflow===-2&&(E=M[yt]<0||M[yt]>11?yt:M[zt]<1||M[zt]>qw(M[xt],M[yt])?zt:M[Gt]<0||M[Gt]>24||M[Gt]===24&&(M[Kn]!==0||M[Zr]!==0||M[Ys]!==0)?Gt:M[Kn]<0||M[Kn]>59?Kn:M[Zr]<0||M[Zr]>59?Zr:M[Ys]<0||M[Ys]>999?Ys:-1,y(x)._overflowDayOfYear&&(E<xt||E>zt)&&(E=zt),y(x)._overflowWeeks&&E===-1&&(E=Cn),y(x)._overflowWeekday&&E===-1&&(E=eN),y(x).overflow=E),x}var dne=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fne=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hne=/Z|[+-]\d\d(?::?\d\d)?/,w0=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Kw=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],pne=/^\/?Date\((-?\d+)/i,mne=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,gne={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function pN(x){var E,M,j=x._i,G=dne.exec(j)||fne.exec(j),ie,_e,et,pt,Ot=w0.length,Rr=Kw.length;if(G){for(y(x).iso=!0,E=0,M=Ot;E<M;E++)if(w0[E][1].exec(G[1])){_e=w0[E][0],ie=w0[E][2]!==!1;break}if(_e==null){x._isValid=!1;return}if(G[3]){for(E=0,M=Rr;E<M;E++)if(Kw[E][1].exec(G[3])){et=(G[2]||" ")+Kw[E][0];break}if(et==null){x._isValid=!1;return}}if(!ie&&et!=null){x._isValid=!1;return}if(G[4])if(hne.exec(G[4]))pt="Z";else{x._isValid=!1;return}x._f=_e+(et||"")+(pt||""),Qw(x)}else x._isValid=!1}function bne(x,E,M,j,G,ie){var _e=[yne(x),rN.indexOf(E),parseInt(M,10),parseInt(j,10),parseInt(G,10)];return ie&&_e.push(parseInt(ie,10)),_e}function yne(x){var E=parseInt(x,10);return E<=49?2e3+E:E<=999?1900+E:E}function vne(x){return x.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function xne(x,E,M){if(x){var j=cN.indexOf(x),G=new Date(E[0],E[1],E[2]).getDay();if(j!==G)return y(M).weekdayMismatch=!0,M._isValid=!1,!1}return!0}function wne(x,E,M){if(x)return gne[x];if(E)return 0;var j=parseInt(M,10),G=j%100,ie=(j-G)/100;return ie*60+G}function mN(x){var E=mne.exec(vne(x._i)),M;if(E){if(M=bne(E[4],E[3],E[2],E[5],E[6],E[7]),!xne(E[1],M,x))return;x._a=M,x._tzm=wne(E[8],E[9],E[10]),x._d=Ch.apply(null,x._a),x._d.setUTCMinutes(x._d.getUTCMinutes()-x._tzm),y(x).rfc2822=!0}else x._isValid=!1}function _ne(x){var E=pne.exec(x._i);if(E!==null){x._d=new Date(+E[1]);return}if(pN(x),x._isValid===!1)delete x._isValid;else return;if(mN(x),x._isValid===!1)delete x._isValid;else return;x._strict?x._isValid=!1:i.createFromInputFallback(x)}i.createFromInputFallback=P("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(x){x._d=new Date(x._i+(x._useUTC?" UTC":""))});function Lu(x,E,M){return x??E??M}function Sne(x){var E=new Date(i.now());return x._useUTC?[E.getUTCFullYear(),E.getUTCMonth(),E.getUTCDate()]:[E.getFullYear(),E.getMonth(),E.getDate()]}function Xw(x){var E,M,j=[],G,ie,_e;if(!x._d){for(G=Sne(x),x._w&&x._a[zt]==null&&x._a[yt]==null&&kne(x),x._dayOfYear!=null&&(_e=Lu(x._a[xt],G[xt]),(x._dayOfYear>Xl(_e)||x._dayOfYear===0)&&(y(x)._overflowDayOfYear=!0),M=Ch(_e,0,x._dayOfYear),x._a[yt]=M.getUTCMonth(),x._a[zt]=M.getUTCDate()),E=0;E<3&&x._a[E]==null;++E)x._a[E]=j[E]=G[E];for(;E<7;E++)x._a[E]=j[E]=x._a[E]==null?E===2?1:0:x._a[E];x._a[Gt]===24&&x._a[Kn]===0&&x._a[Zr]===0&&x._a[Ys]===0&&(x._nextDay=!0,x._a[Gt]=0),x._d=(x._useUTC?Ch:Ite).apply(null,j),ie=x._useUTC?x._d.getUTCDay():x._d.getDay(),x._tzm!=null&&x._d.setUTCMinutes(x._d.getUTCMinutes()-x._tzm),x._nextDay&&(x._a[Gt]=24),x._w&&typeof x._w.d<"u"&&x._w.d!==ie&&(y(x).weekdayMismatch=!0)}}function kne(x){var E,M,j,G,ie,_e,et,pt,Ot;E=x._w,E.GG!=null||E.W!=null||E.E!=null?(ie=1,_e=4,M=Lu(E.GG,x._a[xt],Th(dn(),1,4).year),j=Lu(E.W,1),G=Lu(E.E,1),(G<1||G>7)&&(pt=!0)):(ie=x._locale._week.dow,_e=x._locale._week.doy,Ot=Th(dn(),ie,_e),M=Lu(E.gg,x._a[xt],Ot.year),j=Lu(E.w,Ot.week),E.d!=null?(G=E.d,(G<0||G>6)&&(pt=!0)):E.e!=null?(G=E.e+ie,(E.e<0||E.e>6)&&(pt=!0)):G=ie),j<1||j>Do(M,ie,_e)?y(x)._overflowWeeks=!0:pt!=null?y(x)._overflowWeekday=!0:(et=lN(M,j,G,ie,_e),x._a[xt]=et.year,x._dayOfYear=et.dayOfYear)}i.ISO_8601=function(){},i.RFC_2822=function(){};function Qw(x){if(x._f===i.ISO_8601){pN(x);return}if(x._f===i.RFC_2822){mN(x);return}x._a=[],y(x).empty=!0;var E=""+x._i,M,j,G,ie,_e,et=E.length,pt=0,Ot,Rr;for(G=ye(x._f,x._locale).match(Y)||[],Rr=G.length,M=0;M<Rr;M++)ie=G[M],j=(E.match(ft(ie,x))||[])[0],j&&(_e=E.substr(0,E.indexOf(j)),_e.length>0&&y(x).unusedInput.push(_e),E=E.slice(E.indexOf(j)+j.length),pt+=j.length),Z[ie]?(j?y(x).empty=!1:y(x).unusedTokens.push(ie),Tt(ie,j,x)):x._strict&&!j&&y(x).unusedTokens.push(ie);y(x).charsLeftOver=et-pt,E.length>0&&y(x).unusedInput.push(E),x._a[Gt]<=12&&y(x).bigHour===!0&&x._a[Gt]>0&&(y(x).bigHour=void 0),y(x).parsedDateParts=x._a.slice(0),y(x).meridiem=x._meridiem,x._a[Gt]=Cne(x._locale,x._a[Gt],x._meridiem),Ot=y(x).era,Ot!==null&&(x._a[xt]=x._locale.erasConvertYear(Ot,x._a[xt])),Xw(x),Vw(x)}function Cne(x,E,M){var j;return M==null?E:x.meridiemHour!=null?x.meridiemHour(E,M):(x.isPM!=null&&(j=x.isPM(M),j&&E<12&&(E+=12),!j&&E===12&&(E=0)),E)}function Tne(x){var E,M,j,G,ie,_e,et=!1,pt=x._f.length;if(pt===0){y(x).invalidFormat=!0,x._d=new Date(NaN);return}for(G=0;G<pt;G++)ie=0,_e=!1,E=C({},x),x._useUTC!=null&&(E._useUTC=x._useUTC),E._f=x._f[G],Qw(E),w(E)&&(_e=!0),ie+=y(E).charsLeftOver,ie+=y(E).unusedTokens.length*10,y(E).score=ie,et?ie<j&&(j=ie,M=E):(j==null||ie<j||_e)&&(j=ie,M=E,_e&&(et=!0));p(x,M||E)}function Ene(x){if(!x._d){var E=ee(x._i),M=E.day===void 0?E.date:E.day;x._a=h([E.year,E.month,M,E.hour,E.minute,E.second,E.millisecond],function(j){return j&&parseInt(j,10)}),Xw(x)}}function Dne(x){var E=new T(Vw(gN(x)));return E._nextDay&&(E.add(1,"d"),E._nextDay=void 0),E}function gN(x){var E=x._i,M=x._f;return x._locale=x._locale||Po(x._l),E===null||M===void 0&&E===""?k({nullInput:!0}):(typeof E=="string"&&(x._i=E=x._locale.preparse(E)),D(E)?new T(Vw(E)):(d(E)?x._d=E:o(M)?Tne(x):M?Qw(x):Pne(x),w(x)||(x._d=null),x))}function Pne(x){var E=x._i;u(E)?x._d=new Date(i.now()):d(E)?x._d=new Date(E.valueOf()):typeof E=="string"?_ne(x):o(E)?(x._a=h(E.slice(0),function(M){return parseInt(M,10)}),Xw(x)):a(E)?Ene(x):f(E)?x._d=new Date(E):i.createFromInputFallback(x)}function bN(x,E,M,j,G){var ie={};return(E===!0||E===!1)&&(j=E,E=void 0),(M===!0||M===!1)&&(j=M,M=void 0),(a(x)&&c(x)||o(x)&&x.length===0)&&(x=void 0),ie._isAMomentObject=!0,ie._useUTC=ie._isUTC=G,ie._l=M,ie._i=x,ie._f=E,ie._strict=j,Dne(ie)}function dn(x,E,M,j){return bN(x,E,M,j,!1)}var Ine=P("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var x=dn.apply(null,arguments);return this.isValid()&&x.isValid()?x<this?this:x:k()}),One=P("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var x=dn.apply(null,arguments);return this.isValid()&&x.isValid()?x>this?this:x:k()});function yN(x,E){var M,j;if(E.length===1&&o(E[0])&&(E=E[0]),!E.length)return dn();for(M=E[0],j=1;j<E.length;++j)(!E[j].isValid()||E[j][x](M))&&(M=E[j]);return M}function Mne(){var x=[].slice.call(arguments,0);return yN("isBefore",x)}function Ane(){var x=[].slice.call(arguments,0);return yN("isAfter",x)}var Rne=function(){return Date.now?Date.now():+new Date},Ph=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Nne(x){var E,M=!1,j,G=Ph.length;for(E in x)if(l(x,E)&&!(Ln.call(Ph,E)!==-1&&(x[E]==null||!isNaN(x[E]))))return!1;for(j=0;j<G;++j)if(x[Ph[j]]){if(M)return!1;parseFloat(x[Ph[j]])!==Ce(x[Ph[j]])&&(M=!0)}return!0}function jne(){return this._isValid}function Lne(){return ys(NaN)}function _0(x){var E=ee(x),M=E.year||0,j=E.quarter||0,G=E.month||0,ie=E.week||E.isoWeek||0,_e=E.day||0,et=E.hour||0,pt=E.minute||0,Ot=E.second||0,Rr=E.millisecond||0;this._isValid=Nne(E),this._milliseconds=+Rr+Ot*1e3+pt*6e4+et*1e3*60*60,this._days=+_e+ie*7,this._months=+G+j*3+M*12,this._data={},this._locale=Po(),this._bubble()}function S0(x){return x instanceof _0}function Zw(x){return x<0?Math.round(-1*x)*-1:Math.round(x)}function Fne(x,E,M){var j=Math.min(x.length,E.length),G=Math.abs(x.length-E.length),ie=0,_e;for(_e=0;_e<j;_e++)Ce(x[_e])!==Ce(E[_e])&&ie++;return ie+G}function vN(x,E){J(x,0,0,function(){var M=this.utcOffset(),j="+";return M<0&&(M=-M,j="-"),j+X(~~(M/60),2)+E+X(~~M%60,2)})}vN("Z",":"),vN("ZZ",""),we("Z",K),we("ZZ",K),Ue(["Z","ZZ"],function(x,E,M){M._useUTC=!0,M._tzm=Jw(K,x)});var $ne=/([\+\-]|\d\d)/gi;function Jw(x,E){var M=(E||"").match(x),j,G,ie;return M===null?null:(j=M[M.length-1]||[],G=(j+"").match($ne)||["-",0,0],ie=+(G[1]*60)+Ce(G[2]),ie===0?0:G[0]==="+"?ie:-ie)}function e1(x,E){var M,j;return E._isUTC?(M=E.clone(),j=(D(x)||d(x)?x.valueOf():dn(x).valueOf())-M.valueOf(),M._d.setTime(M._d.valueOf()+j),i.updateOffset(M,!1),M):dn(x).local()}function t1(x){return-Math.round(x._d.getTimezoneOffset())}i.updateOffset=function(){};function Bne(x,E,M){var j=this._offset||0,G;if(!this.isValid())return x!=null?this:NaN;if(x!=null){if(typeof x=="string"){if(x=Jw(K,x),x===null)return this}else Math.abs(x)<16&&!M&&(x=x*60);return!this._isUTC&&E&&(G=t1(this)),this._offset=x,this._isUTC=!0,G!=null&&this.add(G,"m"),j!==x&&(!E||this._changeInProgress?SN(this,ys(x-j,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?j:t1(this)}function zne(x,E){return x!=null?(typeof x!="string"&&(x=-x),this.utcOffset(x,E),this):-this.utcOffset()}function Une(x){return this.utcOffset(0,x)}function qne(x){return this._isUTC&&(this.utcOffset(0,x),this._isUTC=!1,x&&this.subtract(t1(this),"m")),this}function Wne(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var x=Jw(Ve,this._i);x!=null?this.utcOffset(x):this.utcOffset(0,!0)}return this}function Hne(x){return this.isValid()?(x=x?dn(x).utcOffset():0,(this.utcOffset()-x)%60===0):!1}function Gne(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Yne(){if(!u(this._isDSTShifted))return this._isDSTShifted;var x={},E;return C(x,this),x=gN(x),x._a?(E=x._isUTC?g(x._a):dn(x._a),this._isDSTShifted=this.isValid()&&Fne(x._a,E.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Vne(){return this.isValid()?!this._isUTC:!1}function Kne(){return this.isValid()?this._isUTC:!1}function xN(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Xne=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Qne=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ys(x,E){var M=x,j=null,G,ie,_e;return S0(x)?M={ms:x._milliseconds,d:x._days,M:x._months}:f(x)||!isNaN(+x)?(M={},E?M[E]=+x:M.milliseconds=+x):(j=Xne.exec(x))?(G=j[1]==="-"?-1:1,M={y:0,d:Ce(j[zt])*G,h:Ce(j[Gt])*G,m:Ce(j[Kn])*G,s:Ce(j[Zr])*G,ms:Ce(Zw(j[Ys]*1e3))*G}):(j=Qne.exec(x))?(G=j[1]==="-"?-1:1,M={y:Ql(j[2],G),M:Ql(j[3],G),w:Ql(j[4],G),d:Ql(j[5],G),h:Ql(j[6],G),m:Ql(j[7],G),s:Ql(j[8],G)}):M==null?M={}:typeof M=="object"&&("from"in M||"to"in M)&&(_e=Zne(dn(M.from),dn(M.to)),M={},M.ms=_e.milliseconds,M.M=_e.months),ie=new _0(M),S0(x)&&l(x,"_locale")&&(ie._locale=x._locale),S0(x)&&l(x,"_isValid")&&(ie._isValid=x._isValid),ie}ys.fn=_0.prototype,ys.invalid=Lne;function Ql(x,E){var M=x&&parseFloat(x.replace(",","."));return(isNaN(M)?0:M)*E}function wN(x,E){var M={};return M.months=E.month()-x.month()+(E.year()-x.year())*12,x.clone().add(M.months,"M").isAfter(E)&&--M.months,M.milliseconds=+E-+x.clone().add(M.months,"M"),M}function Zne(x,E){var M;return x.isValid()&&E.isValid()?(E=e1(E,x),x.isBefore(E)?M=wN(x,E):(M=wN(E,x),M.milliseconds=-M.milliseconds,M.months=-M.months),M):{milliseconds:0,months:0}}function _N(x,E){return function(M,j){var G,ie;return j!==null&&!isNaN(+j)&&(L(E,"moment()."+E+"(period, number) is deprecated. Please use moment()."+E+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),ie=M,M=j,j=ie),G=ys(M,j),SN(this,G,x),this}}function SN(x,E,M,j){var G=E._milliseconds,ie=Zw(E._days),_e=Zw(E._months);x.isValid()&&(j=j??!0,_e&&sN(x,kh(x,"Month")+_e*M),ie&&nN(x,"Date",kh(x,"Date")+ie*M),G&&x._d.setTime(x._d.valueOf()+G*M),j&&i.updateOffset(x,ie||_e))}var Jne=_N(1,"add"),ere=_N(-1,"subtract");function kN(x){return typeof x=="string"||x instanceof String}function tre(x){return D(x)||d(x)||kN(x)||f(x)||rre(x)||nre(x)||x===null||x===void 0}function nre(x){var E=a(x)&&!c(x),M=!1,j=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],G,ie,_e=j.length;for(G=0;G<_e;G+=1)ie=j[G],M=M||l(x,ie);return E&&M}function rre(x){var E=o(x),M=!1;return E&&(M=x.filter(function(j){return!f(j)&&kN(x)}).length===0),E&&M}function ire(x){var E=a(x)&&!c(x),M=!1,j=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],G,ie;for(G=0;G<j.length;G+=1)ie=j[G],M=M||l(x,ie);return E&&M}function sre(x,E){var M=x.diff(E,"days",!0);return M<-6?"sameElse":M<-1?"lastWeek":M<0?"lastDay":M<1?"sameDay":M<2?"nextDay":M<7?"nextWeek":"sameElse"}function ore(x,E){arguments.length===1&&(arguments[0]?tre(arguments[0])?(x=arguments[0],E=void 0):ire(arguments[0])&&(E=arguments[0],x=void 0):(x=void 0,E=void 0));var M=x||dn(),j=e1(M,this).startOf("day"),G=i.calendarFormat(this,j)||"sameElse",ie=E&&(B(E[G])?E[G].call(this,M):E[G]);return this.format(ie||this.localeData().calendar(G,this,dn(M)))}function are(){return new T(this)}function lre(x,E){var M=D(x)?x:dn(x);return this.isValid()&&M.isValid()?(E=ue(E)||"millisecond",E==="millisecond"?this.valueOf()>M.valueOf():M.valueOf()<this.clone().startOf(E).valueOf()):!1}function cre(x,E){var M=D(x)?x:dn(x);return this.isValid()&&M.isValid()?(E=ue(E)||"millisecond",E==="millisecond"?this.valueOf()<M.valueOf():this.clone().endOf(E).valueOf()<M.valueOf()):!1}function ure(x,E,M,j){var G=D(x)?x:dn(x),ie=D(E)?E:dn(E);return this.isValid()&&G.isValid()&&ie.isValid()?(j=j||"()",(j[0]==="("?this.isAfter(G,M):!this.isBefore(G,M))&&(j[1]===")"?this.isBefore(ie,M):!this.isAfter(ie,M))):!1}function dre(x,E){var M=D(x)?x:dn(x),j;return this.isValid()&&M.isValid()?(E=ue(E)||"millisecond",E==="millisecond"?this.valueOf()===M.valueOf():(j=M.valueOf(),this.clone().startOf(E).valueOf()<=j&&j<=this.clone().endOf(E).valueOf())):!1}function fre(x,E){return this.isSame(x,E)||this.isAfter(x,E)}function hre(x,E){return this.isSame(x,E)||this.isBefore(x,E)}function pre(x,E,M){var j,G,ie;if(!this.isValid())return NaN;if(j=e1(x,this),!j.isValid())return NaN;switch(G=(j.utcOffset()-this.utcOffset())*6e4,E=ue(E),E){case"year":ie=k0(this,j)/12;break;case"month":ie=k0(this,j);break;case"quarter":ie=k0(this,j)/3;break;case"second":ie=(this-j)/1e3;break;case"minute":ie=(this-j)/6e4;break;case"hour":ie=(this-j)/36e5;break;case"day":ie=(this-j-G)/864e5;break;case"week":ie=(this-j-G)/6048e5;break;default:ie=this-j}return M?ie:Me(ie)}function k0(x,E){if(x.date()<E.date())return-k0(E,x);var M=(E.year()-x.year())*12+(E.month()-x.month()),j=x.clone().add(M,"months"),G,ie;return E-j<0?(G=x.clone().add(M-1,"months"),ie=(E-j)/(j-G)):(G=x.clone().add(M+1,"months"),ie=(E-j)/(G-j)),-(M+ie)||0}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function mre(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function gre(x){if(!this.isValid())return null;var E=x!==!0,M=E?this.clone().utc():this;return M.year()<0||M.year()>9999?se(M,E?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):B(Date.prototype.toISOString)?E?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",se(M,"Z")):se(M,E?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function bre(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var x="moment",E="",M,j,G,ie;return this.isLocal()||(x=this.utcOffset()===0?"moment.utc":"moment.parseZone",E="Z"),M="["+x+'("]',j=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",G="-MM-DD[T]HH:mm:ss.SSS",ie=E+'[")]',this.format(M+j+G+ie)}function yre(x){x||(x=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var E=se(this,x);return this.localeData().postformat(E)}function vre(x,E){return this.isValid()&&(D(x)&&x.isValid()||dn(x).isValid())?ys({to:this,from:x}).locale(this.locale()).humanize(!E):this.localeData().invalidDate()}function xre(x){return this.from(dn(),x)}function wre(x,E){return this.isValid()&&(D(x)&&x.isValid()||dn(x).isValid())?ys({from:this,to:x}).locale(this.locale()).humanize(!E):this.localeData().invalidDate()}function _re(x){return this.to(dn(),x)}function CN(x){var E;return x===void 0?this._locale._abbr:(E=Po(x),E!=null&&(this._locale=E),this)}var TN=P("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(x){return x===void 0?this.localeData():this.locale(x)});function EN(){return this._locale}var C0=1e3,Fu=60*C0,T0=60*Fu,DN=(365*400+97)*24*T0;function $u(x,E){return(x%E+E)%E}function PN(x,E,M){return x<100&&x>=0?new Date(x+400,E,M)-DN:new Date(x,E,M).valueOf()}function IN(x,E,M){return x<100&&x>=0?Date.UTC(x+400,E,M)-DN:Date.UTC(x,E,M)}function Sre(x){var E,M;if(x=ue(x),x===void 0||x==="millisecond"||!this.isValid())return this;switch(M=this._isUTC?IN:PN,x){case"year":E=M(this.year(),0,1);break;case"quarter":E=M(this.year(),this.month()-this.month()%3,1);break;case"month":E=M(this.year(),this.month(),1);break;case"week":E=M(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":E=M(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":E=M(this.year(),this.month(),this.date());break;case"hour":E=this._d.valueOf(),E-=$u(E+(this._isUTC?0:this.utcOffset()*Fu),T0);break;case"minute":E=this._d.valueOf(),E-=$u(E,Fu);break;case"second":E=this._d.valueOf(),E-=$u(E,C0);break}return this._d.setTime(E),i.updateOffset(this,!0),this}function kre(x){var E,M;if(x=ue(x),x===void 0||x==="millisecond"||!this.isValid())return this;switch(M=this._isUTC?IN:PN,x){case"year":E=M(this.year()+1,0,1)-1;break;case"quarter":E=M(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":E=M(this.year(),this.month()+1,1)-1;break;case"week":E=M(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":E=M(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":E=M(this.year(),this.month(),this.date()+1)-1;break;case"hour":E=this._d.valueOf(),E+=T0-$u(E+(this._isUTC?0:this.utcOffset()*Fu),T0)-1;break;case"minute":E=this._d.valueOf(),E+=Fu-$u(E,Fu)-1;break;case"second":E=this._d.valueOf(),E+=C0-$u(E,C0)-1;break}return this._d.setTime(E),i.updateOffset(this,!0),this}function Cre(){return this._d.valueOf()-(this._offset||0)*6e4}function Tre(){return Math.floor(this.valueOf()/1e3)}function Ere(){return new Date(this.valueOf())}function Dre(){var x=this;return[x.year(),x.month(),x.date(),x.hour(),x.minute(),x.second(),x.millisecond()]}function Pre(){var x=this;return{years:x.year(),months:x.month(),date:x.date(),hours:x.hours(),minutes:x.minutes(),seconds:x.seconds(),milliseconds:x.milliseconds()}}function Ire(){return this.isValid()?this.toISOString():null}function Ore(){return w(this)}function Mre(){return p({},y(this))}function Are(){return y(this).overflow}function Rre(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}J("N",0,0,"eraAbbr"),J("NN",0,0,"eraAbbr"),J("NNN",0,0,"eraAbbr"),J("NNNN",0,0,"eraName"),J("NNNNN",0,0,"eraNarrow"),J("y",["y",1],"yo","eraYear"),J("y",["yy",2],0,"eraYear"),J("y",["yyy",3],0,"eraYear"),J("y",["yyyy",4],0,"eraYear"),we("N",n1),we("NN",n1),we("NNN",n1),we("NNNN",Hre),we("NNNNN",Gre),Ue(["N","NN","NNN","NNNN","NNNNN"],function(x,E,M,j){var G=M._locale.erasParse(x,j,M._strict);G?y(M).era=G:y(M).invalidEra=x}),we("y",Ye),we("yy",Ye),we("yyy",Ye),we("yyyy",Ye),we("yo",Yre),Ue(["y","yy","yyy","yyyy"],xt),Ue(["yo"],function(x,E,M,j){var G;M._locale._eraYearOrdinalRegex&&(G=x.match(M._locale._eraYearOrdinalRegex)),M._locale.eraYearOrdinalParse?E[xt]=M._locale.eraYearOrdinalParse(x,G):E[xt]=parseInt(x,10)});function Nre(x,E){var M,j,G,ie=this._eras||Po("en")._eras;for(M=0,j=ie.length;M<j;++M){switch(typeof ie[M].since){case"string":G=i(ie[M].since).startOf("day"),ie[M].since=G.valueOf();break}switch(typeof ie[M].until){case"undefined":ie[M].until=1/0;break;case"string":G=i(ie[M].until).startOf("day").valueOf(),ie[M].until=G.valueOf();break}}return ie}function jre(x,E,M){var j,G,ie=this.eras(),_e,et,pt;for(x=x.toUpperCase(),j=0,G=ie.length;j<G;++j)if(_e=ie[j].name.toUpperCase(),et=ie[j].abbr.toUpperCase(),pt=ie[j].narrow.toUpperCase(),M)switch(E){case"N":case"NN":case"NNN":if(et===x)return ie[j];break;case"NNNN":if(_e===x)return ie[j];break;case"NNNNN":if(pt===x)return ie[j];break}else if([_e,et,pt].indexOf(x)>=0)return ie[j]}function Lre(x,E){var M=x.since<=x.until?1:-1;return E===void 0?i(x.since).year():i(x.since).year()+(E-x.offset)*M}function Fre(){var x,E,M,j=this.localeData().eras();for(x=0,E=j.length;x<E;++x)if(M=this.clone().startOf("day").valueOf(),j[x].since<=M&&M<=j[x].until||j[x].until<=M&&M<=j[x].since)return j[x].name;return""}function $re(){var x,E,M,j=this.localeData().eras();for(x=0,E=j.length;x<E;++x)if(M=this.clone().startOf("day").valueOf(),j[x].since<=M&&M<=j[x].until||j[x].until<=M&&M<=j[x].since)return j[x].narrow;return""}function Bre(){var x,E,M,j=this.localeData().eras();for(x=0,E=j.length;x<E;++x)if(M=this.clone().startOf("day").valueOf(),j[x].since<=M&&M<=j[x].until||j[x].until<=M&&M<=j[x].since)return j[x].abbr;return""}function zre(){var x,E,M,j,G=this.localeData().eras();for(x=0,E=G.length;x<E;++x)if(M=G[x].since<=G[x].until?1:-1,j=this.clone().startOf("day").valueOf(),G[x].since<=j&&j<=G[x].until||G[x].until<=j&&j<=G[x].since)return(this.year()-i(G[x].since).year())*M+G[x].offset;return this.year()}function Ure(x){return l(this,"_erasNameRegex")||r1.call(this),x?this._erasNameRegex:this._erasRegex}function qre(x){return l(this,"_erasAbbrRegex")||r1.call(this),x?this._erasAbbrRegex:this._erasRegex}function Wre(x){return l(this,"_erasNarrowRegex")||r1.call(this),x?this._erasNarrowRegex:this._erasRegex}function n1(x,E){return E.erasAbbrRegex(x)}function Hre(x,E){return E.erasNameRegex(x)}function Gre(x,E){return E.erasNarrowRegex(x)}function Yre(x,E){return E._eraYearOrdinalRegex||Ye}function r1(){var x=[],E=[],M=[],j=[],G,ie,_e,et,pt,Ot=this.eras();for(G=0,ie=Ot.length;G<ie;++G)_e=At(Ot[G].name),et=At(Ot[G].abbr),pt=At(Ot[G].narrow),E.push(_e),x.push(et),M.push(pt),j.push(_e),j.push(et),j.push(pt);this._erasRegex=new RegExp("^("+j.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+E.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+x.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+M.join("|")+")","i")}J(0,["gg",2],0,function(){return this.weekYear()%100}),J(0,["GG",2],0,function(){return this.isoWeekYear()%100});function E0(x,E){J(0,[x,x.length],0,E)}E0("gggg","weekYear"),E0("ggggg","weekYear"),E0("GGGG","isoWeekYear"),E0("GGGGG","isoWeekYear"),we("G",Ge),we("g",Ge),we("GG",be,Le),we("gg",be,Le),we("GGGG",fe,Oe),we("gggg",fe,Oe),we("GGGGG",De,je),we("ggggg",De,je),lt(["gggg","ggggg","GGGG","GGGGG"],function(x,E,M,j){E[j.substr(0,2)]=Ce(x)}),lt(["gg","GG"],function(x,E,M,j){E[j]=i.parseTwoDigitYear(x)});function Vre(x){return ON.call(this,x,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Kre(x){return ON.call(this,x,this.isoWeek(),this.isoWeekday(),1,4)}function Xre(){return Do(this.year(),1,4)}function Qre(){return Do(this.isoWeekYear(),1,4)}function Zre(){var x=this.localeData()._week;return Do(this.year(),x.dow,x.doy)}function Jre(){var x=this.localeData()._week;return Do(this.weekYear(),x.dow,x.doy)}function ON(x,E,M,j,G){var ie;return x==null?Th(this,j,G).year:(ie=Do(x,j,G),E>ie&&(E=ie),eie.call(this,x,E,M,j,G))}function eie(x,E,M,j,G){var ie=lN(x,E,M,j,G),_e=Ch(ie.year,0,ie.dayOfYear);return this.year(_e.getUTCFullYear()),this.month(_e.getUTCMonth()),this.date(_e.getUTCDate()),this}J("Q",0,"Qo","quarter"),we("Q",pe),Ue("Q",function(x,E){E[yt]=(Ce(x)-1)*3});function tie(x){return x==null?Math.ceil((this.month()+1)/3):this.month((x-1)*3+this.month()%3)}J("D",["DD",2],"Do","date"),we("D",be,ut),we("DD",be,Le),we("Do",function(x,E){return x?E._dayOfMonthOrdinalParse||E._ordinalParse:E._dayOfMonthOrdinalParseLenient}),Ue(["D","DD"],zt),Ue("Do",function(x,E){E[zt]=Ce(x.match(be)[0])});var MN=ju("Date",!0);J("DDD",["DDDD",3],"DDDo","dayOfYear"),we("DDD",he),we("DDDD",ce),Ue(["DDD","DDDD"],function(x,E,M){M._dayOfYear=Ce(x)});function nie(x){var E=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return x==null?E:this.add(x-E,"d")}J("m",["mm",2],0,"minute"),we("m",be,Be),we("mm",be,Le),Ue(["m","mm"],Kn);var rie=ju("Minutes",!1);J("s",["ss",2],0,"second"),we("s",be,Be),we("ss",be,Le),Ue(["s","ss"],Zr);var iie=ju("Seconds",!1);J("S",0,0,function(){return~~(this.millisecond()/100)}),J(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),J(0,["SSS",3],0,"millisecond"),J(0,["SSSS",4],0,function(){return this.millisecond()*10}),J(0,["SSSSS",5],0,function(){return this.millisecond()*100}),J(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),J(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),J(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),J(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),we("S",he,pe),we("SS",he,Le),we("SSS",he,ce);var Oa,AN;for(Oa="SSSS";Oa.length<=9;Oa+="S")we(Oa,Ye);function sie(x,E){E[Ys]=Ce(("0."+x)*1e3)}for(Oa="S";Oa.length<=9;Oa+="S")Ue(Oa,sie);AN=ju("Milliseconds",!1),J("z",0,0,"zoneAbbr"),J("zz",0,0,"zoneName");function oie(){return this._isUTC?"UTC":""}function aie(){return this._isUTC?"Coordinated Universal Time":""}var qe=T.prototype;qe.add=Jne,qe.calendar=ore,qe.clone=are,qe.diff=pre,qe.endOf=kre,qe.format=yre,qe.from=vre,qe.fromNow=xre,qe.to=wre,qe.toNow=_re,qe.get=bte,qe.invalidAt=Are,qe.isAfter=lre,qe.isBefore=cre,qe.isBetween=ure,qe.isSame=dre,qe.isSameOrAfter=fre,qe.isSameOrBefore=hre,qe.isValid=Ore,qe.lang=TN,qe.locale=CN,qe.localeData=EN,qe.max=One,qe.min=Ine,qe.parsingFlags=Mre,qe.set=yte,qe.startOf=Sre,qe.subtract=ere,qe.toArray=Dre,qe.toObject=Pre,qe.toDate=Ere,qe.toISOString=gre,qe.inspect=bre,typeof Symbol<"u"&&Symbol.for!=null&&(qe[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),qe.toJSON=Ire,qe.toString=mre,qe.unix=Tre,qe.valueOf=Cre,qe.creationData=Rre,qe.eraName=Fre,qe.eraNarrow=$re,qe.eraAbbr=Bre,qe.eraYear=zre,qe.year=tN,qe.isLeapYear=gte,qe.weekYear=Vre,qe.isoWeekYear=Kre,qe.quarter=qe.quarters=tie,qe.month=oN,qe.daysInMonth=Ete,qe.week=qe.weeks=Nte,qe.isoWeek=qe.isoWeeks=jte,qe.weeksInYear=Zre,qe.weeksInWeekYear=Jre,qe.isoWeeksInYear=Xre,qe.isoWeeksInISOWeekYear=Qre,qe.date=MN,qe.day=qe.days=Kte,qe.weekday=Xte,qe.isoWeekday=Qte,qe.dayOfYear=nie,qe.hour=qe.hours=ine,qe.minute=qe.minutes=rie,qe.second=qe.seconds=iie,qe.millisecond=qe.milliseconds=AN,qe.utcOffset=Bne,qe.utc=Une,qe.local=qne,qe.parseZone=Wne,qe.hasAlignedHourOffset=Hne,qe.isDST=Gne,qe.isLocal=Vne,qe.isUtcOffset=Kne,qe.isUtc=xN,qe.isUTC=xN,qe.zoneAbbr=oie,qe.zoneName=aie,qe.dates=P("dates accessor is deprecated. Use date instead.",MN),qe.months=P("months accessor is deprecated. Use month instead",oN),qe.years=P("years accessor is deprecated. Use year instead",tN),qe.zone=P("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",zne),qe.isDSTShifted=P("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Yne);function lie(x){return dn(x*1e3)}function cie(){return dn.apply(null,arguments).parseZone()}function RN(x){return x}var Ut=U.prototype;Ut.calendar=H,Ut.longDateFormat=Ke,Ut.invalidDate=Ee,Ut.ordinal=z,Ut.preparse=RN,Ut.postformat=RN,Ut.relativeTime=Ne,Ut.pastFuture=ge,Ut.set=F,Ut.eras=Nre,Ut.erasParse=jre,Ut.erasConvertYear=Lre,Ut.erasAbbrRegex=qre,Ut.erasNameRegex=Ure,Ut.erasNarrowRegex=Wre,Ut.months=Ste,Ut.monthsShort=kte,Ut.monthsParse=Tte,Ut.monthsRegex=Pte,Ut.monthsShortRegex=Dte,Ut.week=Ote,Ut.firstDayOfYear=Rte,Ut.firstDayOfWeek=Ate,Ut.weekdays=Wte,Ut.weekdaysMin=Gte,Ut.weekdaysShort=Hte,Ut.weekdaysParse=Vte,Ut.weekdaysRegex=Zte,Ut.weekdaysShortRegex=Jte,Ut.weekdaysMinRegex=ene,Ut.isPM=nne,Ut.meridiem=sne;function D0(x,E,M,j){var G=Po(),ie=g().set(j,E);return G[M](ie,x)}function NN(x,E,M){if(f(x)&&(E=x,x=void 0),x=x||"",E!=null)return D0(x,E,M,"month");var j,G=[];for(j=0;j<12;j++)G[j]=D0(x,j,M,"month");return G}function i1(x,E,M,j){typeof x=="boolean"?(f(E)&&(M=E,E=void 0),E=E||""):(E=x,M=E,x=!1,f(E)&&(M=E,E=void 0),E=E||"");var G=Po(),ie=x?G._week.dow:0,_e,et=[];if(M!=null)return D0(E,(M+ie)%7,j,"day");for(_e=0;_e<7;_e++)et[_e]=D0(E,(_e+ie)%7,j,"day");return et}function uie(x,E){return NN(x,E,"months")}function die(x,E){return NN(x,E,"monthsShort")}function fie(x,E,M){return i1(x,E,M,"weekdays")}function hie(x,E,M){return i1(x,E,M,"weekdaysShort")}function pie(x,E,M){return i1(x,E,M,"weekdaysMin")}Ia("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(x){var E=x%10,M=Ce(x%100/10)===1?"th":E===1?"st":E===2?"nd":E===3?"rd":"th";return x+M}}),i.lang=P("moment.lang is deprecated. Use moment.locale instead.",Ia),i.langData=P("moment.langData is deprecated. Use moment.localeData instead.",Po);var Io=Math.abs;function mie(){var x=this._data;return this._milliseconds=Io(this._milliseconds),this._days=Io(this._days),this._months=Io(this._months),x.milliseconds=Io(x.milliseconds),x.seconds=Io(x.seconds),x.minutes=Io(x.minutes),x.hours=Io(x.hours),x.months=Io(x.months),x.years=Io(x.years),this}function jN(x,E,M,j){var G=ys(E,M);return x._milliseconds+=j*G._milliseconds,x._days+=j*G._days,x._months+=j*G._months,x._bubble()}function gie(x,E){return jN(this,x,E,1)}function bie(x,E){return jN(this,x,E,-1)}function LN(x){return x<0?Math.floor(x):Math.ceil(x)}function yie(){var x=this._milliseconds,E=this._days,M=this._months,j=this._data,G,ie,_e,et,pt;return x>=0&&E>=0&&M>=0||x<=0&&E<=0&&M<=0||(x+=LN(s1(M)+E)*864e5,E=0,M=0),j.milliseconds=x%1e3,G=Me(x/1e3),j.seconds=G%60,ie=Me(G/60),j.minutes=ie%60,_e=Me(ie/60),j.hours=_e%24,E+=Me(_e/24),pt=Me(FN(E)),M+=pt,E-=LN(s1(pt)),et=Me(M/12),M%=12,j.days=E,j.months=M,j.years=et,this}function FN(x){return x*4800/146097}function s1(x){return x*146097/4800}function vie(x){if(!this.isValid())return NaN;var E,M,j=this._milliseconds;if(x=ue(x),x==="month"||x==="quarter"||x==="year")switch(E=this._days+j/864e5,M=this._months+FN(E),x){case"month":return M;case"quarter":return M/3;case"year":return M/12}else switch(E=this._days+Math.round(s1(this._months)),x){case"week":return E/7+j/6048e5;case"day":return E+j/864e5;case"hour":return E*24+j/36e5;case"minute":return E*1440+j/6e4;case"second":return E*86400+j/1e3;case"millisecond":return Math.floor(E*864e5)+j;default:throw new Error("Unknown unit "+x)}}function Oo(x){return function(){return this.as(x)}}var $N=Oo("ms"),xie=Oo("s"),wie=Oo("m"),_ie=Oo("h"),Sie=Oo("d"),kie=Oo("w"),Cie=Oo("M"),Tie=Oo("Q"),Eie=Oo("y"),Die=$N;function Pie(){return ys(this)}function Iie(x){return x=ue(x),this.isValid()?this[x+"s"]():NaN}function Zl(x){return function(){return this.isValid()?this._data[x]:NaN}}var Oie=Zl("milliseconds"),Mie=Zl("seconds"),Aie=Zl("minutes"),Rie=Zl("hours"),Nie=Zl("days"),jie=Zl("months"),Lie=Zl("years");function Fie(){return Me(this.days()/7)}var Mo=Math.round,Bu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function $ie(x,E,M,j,G){return G.relativeTime(E||1,!!M,x,j)}function Bie(x,E,M,j){var G=ys(x).abs(),ie=Mo(G.as("s")),_e=Mo(G.as("m")),et=Mo(G.as("h")),pt=Mo(G.as("d")),Ot=Mo(G.as("M")),Rr=Mo(G.as("w")),Ao=Mo(G.as("y")),Ma=ie<=M.ss&&["s",ie]||ie<M.s&&["ss",ie]||_e<=1&&["m"]||_e<M.m&&["mm",_e]||et<=1&&["h"]||et<M.h&&["hh",et]||pt<=1&&["d"]||pt<M.d&&["dd",pt];return M.w!=null&&(Ma=Ma||Rr<=1&&["w"]||Rr<M.w&&["ww",Rr]),Ma=Ma||Ot<=1&&["M"]||Ot<M.M&&["MM",Ot]||Ao<=1&&["y"]||["yy",Ao],Ma[2]=E,Ma[3]=+x>0,Ma[4]=j,$ie.apply(null,Ma)}function zie(x){return x===void 0?Mo:typeof x=="function"?(Mo=x,!0):!1}function Uie(x,E){return Bu[x]===void 0?!1:E===void 0?Bu[x]:(Bu[x]=E,x==="s"&&(Bu.ss=E-1),!0)}function qie(x,E){if(!this.isValid())return this.localeData().invalidDate();var M=!1,j=Bu,G,ie;return typeof x=="object"&&(E=x,x=!1),typeof x=="boolean"&&(M=x),typeof E=="object"&&(j=Object.assign({},Bu,E),E.s!=null&&E.ss==null&&(j.ss=E.s-1)),G=this.localeData(),ie=Bie(this,!M,j,G),M&&(ie=G.pastFuture(+this,ie)),G.postformat(ie)}var o1=Math.abs;function zu(x){return(x>0)-(x<0)||+x}function P0(){if(!this.isValid())return this.localeData().invalidDate();var x=o1(this._milliseconds)/1e3,E=o1(this._days),M=o1(this._months),j,G,ie,_e,et=this.asSeconds(),pt,Ot,Rr,Ao;return et?(j=Me(x/60),G=Me(j/60),x%=60,j%=60,ie=Me(M/12),M%=12,_e=x?x.toFixed(3).replace(/\.?0+$/,""):"",pt=et<0?"-":"",Ot=zu(this._months)!==zu(et)?"-":"",Rr=zu(this._days)!==zu(et)?"-":"",Ao=zu(this._milliseconds)!==zu(et)?"-":"",pt+"P"+(ie?Ot+ie+"Y":"")+(M?Ot+M+"M":"")+(E?Rr+E+"D":"")+(G||j||x?"T":"")+(G?Ao+G+"H":"")+(j?Ao+j+"M":"")+(x?Ao+_e+"S":"")):"P0D"}var Rt=_0.prototype;Rt.isValid=jne,Rt.abs=mie,Rt.add=gie,Rt.subtract=bie,Rt.as=vie,Rt.asMilliseconds=$N,Rt.asSeconds=xie,Rt.asMinutes=wie,Rt.asHours=_ie,Rt.asDays=Sie,Rt.asWeeks=kie,Rt.asMonths=Cie,Rt.asQuarters=Tie,Rt.asYears=Eie,Rt.valueOf=Die,Rt._bubble=yie,Rt.clone=Pie,Rt.get=Iie,Rt.milliseconds=Oie,Rt.seconds=Mie,Rt.minutes=Aie,Rt.hours=Rie,Rt.days=Nie,Rt.weeks=Fie,Rt.months=jie,Rt.years=Lie,Rt.humanize=qie,Rt.toISOString=P0,Rt.toString=P0,Rt.toJSON=P0,Rt.locale=CN,Rt.localeData=EN,Rt.toIsoString=P("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",P0),Rt.lang=TN,J("X",0,0,"unix"),J("x",0,0,"valueOf"),we("x",Ge),we("X",re),Ue("X",function(x,E,M){M._d=new Date(parseFloat(x)*1e3)}),Ue("x",function(x,E,M){M._d=new Date(Ce(x))});//! moment.js
return i.version="2.30.1",s(dn),i.fn=qe,i.min=Mne,i.max=Ane,i.now=Rne,i.utc=g,i.unix=lie,i.months=uie,i.isDate=d,i.locale=Ia,i.invalid=k,i.duration=ys,i.isMoment=D,i.weekdays=fie,i.parseZone=cie,i.localeData=Po,i.isDuration=S0,i.monthsShort=die,i.weekdaysMin=pie,i.defineLocale=Yw,i.updateLocale=cne,i.locales=une,i.weekdaysShort=hie,i.normalizeUnits=ue,i.relativeTimeRounding=zie,i.relativeTimeThreshold=Uie,i.calendarFormat=sre,i.prototype=qe,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i})}(Py)),Py.exports}var YTe=kI.exports,i6;function VTe(){return i6||(i6=1,function(n,e){(function(r,i){i(typeof qs=="function"?Ws():r.moment)})(YTe,function(r){//! moment.js locale configuration
function i(o,a,l,c){var u={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[o+" Tage",o+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[o+" Monate",o+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[o+" Jahre",o+" Jahren"]};return a?u[l][0]:u[l][1]}var s=r.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:i,mm:"%d Minuten",h:i,hh:"%d Stunden",d:i,dd:i,w:i,ww:"%d Wochen",M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s})}()),kI.exports}VTe();var CI={exports:{}},KTe=CI.exports,s6;function XTe(){return s6||(s6=1,function(n,e){(function(r,i){i(typeof qs=="function"?Ws():r.moment)})(KTe,function(r){//! moment.js locale configuration
var i="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),s="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),o=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],a=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,l=r.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(c,u){return c?/-MMM-/.test(u)?s[c.month()]:i[c.month()]:i},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:o,longMonthsParse:o,shortMonthsParse:o,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"});return l})}()),CI.exports}XTe();var TI={exports:{}},QTe=TI.exports,o6;function ZTe(){return o6||(o6=1,function(n,e){(function(r,i){i(typeof qs=="function"?Ws():r.moment)})(QTe,function(r){//! moment.js locale configuration
var i=/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,s=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,o=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,a=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i],l=r.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:i,monthsShortStrictRegex:s,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(c,u){switch(u){case"D":return c+(c===1?"er":"");default:case"M":case"Q":case"DDD":case"d":return c+(c===1?"er":"e");case"w":case"W":return c+(c===1?"re":"e")}},week:{dow:1,doy:4}});return l})}()),TI.exports}ZTe();var EI={exports:{}},JTe=EI.exports,a6;function eEe(){return a6||(a6=1,function(n,e){(function(r,i){i(typeof qs=="function"?Ws():r.moment)})(JTe,function(r){//! moment.js locale configuration
var i=r.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":this.hours()===0?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return i})}()),EI.exports}eEe();var DI={exports:{}},tEe=DI.exports,l6;function nEe(){return l6||(l6=1,function(n,e){(function(r,i){i(typeof qs=="function"?Ws():r.moment)})(tEe,function(r){//! moment.js locale configuration
var i=r.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(s,o){return o[1]===""?1:parseInt(o[1]||s,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(s){return s===""},meridiem:function(s,o,a){return s<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(s){return s.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(s){return this.week()!==s.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(s,o){switch(o){case"y":return s===1?"":s+"";case"d":case"D":case"DDD":return s+"";default:return s}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}});return i})}()),DI.exports}nEe();var PI={exports:{}},rEe=PI.exports,c6;function iEe(){return c6||(c6=1,function(n,e){(function(r,i){i(typeof qs=="function"?Ws():r.moment)})(rEe,function(r){//! moment.js locale configuration
var i="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),s="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),o=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],a=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,l=r.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(c,u){return c?/-MMM-/.test(u)?s[c.month()]:i[c.month()]:i},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:o,longMonthsParse:o,shortMonthsParse:o,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(c){return c+(c===1||c===8||c>=20?"ste":"de")},week:{dow:1,doy:4}});return l})}()),PI.exports}iEe();var II={exports:{}},sEe=II.exports,u6;function oEe(){return u6||(u6=1,function(n,e){(function(r,i){i(typeof qs=="function"?Ws():r.moment)})(sEe,function(r){//! moment.js locale configuration
var i="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),s="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),o=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];function a(u){return u%10<5&&u%10>1&&~~(u/10)%10!==1}function l(u,f,d){var h=u+" ";switch(d){case"ss":return h+(a(u)?"sekundy":"sekund");case"m":return f?"minuta":"minut";case"mm":return h+(a(u)?"minuty":"minut");case"h":return f?"godzina":"godzin";case"hh":return h+(a(u)?"godziny":"godzin");case"ww":return h+(a(u)?"tygodnie":"tygodni");case"MM":return h+(a(u)?"miesice":"miesicy");case"yy":return h+(a(u)?"lata":"lat")}}var c=r.defineLocale("pl",{months:function(u,f){return u?/D MMMM/.test(f)?s[u.month()]:i[u.month()]:i},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:o,longMonthsParse:o,shortMonthsParse:o,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:l,m:l,mm:l,h:l,hh:l,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:l,M:"miesic",MM:l,y:"rok",yy:l},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return c})}()),II.exports}oEe();var OI={exports:{}},aEe=OI.exports,d6;function lEe(){return d6||(d6=1,function(n,e){(function(r,i){i(typeof qs=="function"?Ws():r.moment)})(aEe,function(r){//! moment.js locale configuration
function i(l,c){var u=l.split("_");return c%10===1&&c%100!==11?u[0]:c%10>=2&&c%10<=4&&(c%100<10||c%100>=20)?u[1]:u[2]}function s(l,c,u){var f={ss:c?"__":"__",mm:c?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"};return u==="m"?c?"":"":l+" "+i(f[u],+l)}var o=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],a=r.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:o,longMonthsParse:o,shortMonthsParse:o,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(l){if(l.week()!==this.week())switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}else return this.day()===2?"[] dddd, [] LT":"[] dddd, [] LT"},lastWeek:function(l){if(l.week()!==this.week())switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}else return this.day()===2?"[] dddd, [] LT":"[] dddd, [] LT"},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:s,m:s,mm:s,h:"",hh:s,d:"",dd:s,w:"",ww:s,M:"",MM:s,y:"",yy:s},meridiemParse:/|||/i,isPM:function(l){return/^(|)$/.test(l)},meridiem:function(l,c,u){return l<4?"":l<12?"":l<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(l,c){switch(c){case"M":case"d":case"DDD":return l+"-";case"D":return l+"-";case"w":case"W":return l+"-";default:return l}},week:{dow:1,doy:4}});return a})}()),OI.exports}lEe();var MI={exports:{}},cEe=MI.exports,f6;function uEe(){return f6||(f6=1,function(n,e){(function(r,i){i(typeof qs=="function"?Ws():r.moment)})(cEe,function(r){//! moment.js locale configuration
var i={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"},s=r.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(o,a,l){return o<12?l?"":"":l?"s":"S"},meridiemParse:/||s|S/,isPM:function(o){return o==="s"||o==="S"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(o,a){switch(a){case"d":case"D":case"Do":case"DD":return o;default:if(o===0)return o+"'nc";var l=o%10,c=o%100-l,u=o>=100?100:null;return o+(i[l]||i[c]||i[u])}},week:{dow:1,doy:7}});return s})}()),MI.exports}uEe();var AI={exports:{}},dEe=AI.exports,h6;function fEe(){return h6||(h6=1,function(n,e){(function(r,i){i(typeof qs=="function"?Ws():r.moment)})(dEe,function(r){//! moment.js locale configuration
function i(c,u){var f=c.split("_");return u%10===1&&u%100!==11?f[0]:u%10>=2&&u%10<=4&&(u%100<10||u%100>=20)?f[1]:f[2]}function s(c,u,f){var d={ss:u?"__":"__",mm:u?"__":"__",hh:u?"__":"__",dd:"__",MM:"__",yy:"__"};return f==="m"?u?"":"":f==="h"?u?"":"":c+" "+i(d[f],+c)}function o(c,u){var f={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")},d;return c===!0?f.nominative.slice(1,7).concat(f.nominative.slice(0,1)):c?(d=/(\[[]\]) ?dddd/.test(u)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(u)?"genitive":"nominative",f[d][c.day()]):f.nominative}function a(c){return function(){return c+""+(this.hours()===11?"":"")+"] LT"}}var l=r.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:o,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:a("[ "),nextDay:a("[ "),lastDay:a("[ "),nextWeek:a("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return a("[] dddd [").call(this);case 1:case 2:case 4:return a("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:s,m:s,mm:s,h:"",hh:s,d:"",dd:s,M:"",MM:s,y:"",yy:s},meridiemParse:/|||/,isPM:function(c){return/^(|)$/.test(c)},meridiem:function(c,u,f){return c<4?"":c<12?"":c<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(c,u){switch(u){case"M":case"d":case"DDD":case"w":case"W":return c+"-";case"D":return c+"-";default:return c}},week:{dow:1,doy:7}});return l})}()),AI.exports}fEe();var p6={},ip,m6;function Nn(){if(m6)return ip;m6=1;var n=function(e){return e&&e.Math===Math&&e};return ip=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof n6=="object"&&n6)||n(typeof ip=="object"&&ip)||function(){return this}()||Function("return this")(),ip}var B_,g6;function jt(){return g6||(g6=1,B_=function(n){try{return!!n()}catch{return!0}}),B_}var z_,b6;function Kg(){if(b6)return z_;b6=1;var n=jt();return z_=!n(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),z_}var U_,y6;function gw(){if(y6)return U_;y6=1;var n=Kg(),e=Function.prototype,r=e.apply,i=e.call;return U_=typeof Reflect=="object"&&Reflect.apply||(n?i.bind(r):function(){return i.apply(r,arguments)}),U_}var q_,v6;function Bt(){if(v6)return q_;v6=1;var n=Kg(),e=Function.prototype,r=e.call,i=n&&e.bind.bind(r,r);return q_=n?i:function(s){return function(){return r.apply(s,arguments)}},q_}var W_,x6;function To(){if(x6)return W_;x6=1;var n=Bt(),e=n({}.toString),r=n("".slice);return W_=function(i){return r(e(i),8,-1)},W_}var H_,w6;function QA(){if(w6)return H_;w6=1;var n=To(),e=Bt();return H_=function(r){if(n(r)==="Function")return e(r)},H_}var G_,_6;function cr(){if(_6)return G_;_6=1;var n=typeof document=="object"&&document.all;return G_=typeof n>"u"&&n!==void 0?function(e){return typeof e=="function"||e===n}:function(e){return typeof e=="function"},G_}var Y_={},V_,S6;function Hn(){if(S6)return V_;S6=1;var n=jt();return V_=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),V_}var K_,k6;function bi(){if(k6)return K_;k6=1;var n=Kg(),e=Function.prototype.call;return K_=n?e.bind(e):function(){return e.apply(e,arguments)},K_}var X_={},C6;function bw(){if(C6)return X_;C6=1;var n={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!n.call({1:2},1);return X_.f=r?function(s){var o=e(this,s);return!!o&&o.enumerable}:n,X_}var Q_,T6;function Xg(){return T6||(T6=1,Q_=function(n,e){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:e}}),Q_}var Z_,E6;function yw(){if(E6)return Z_;E6=1;var n=Bt(),e=jt(),r=To(),i=Object,s=n("".split);return Z_=e(function(){return!i("z").propertyIsEnumerable(0)})?function(o){return r(o)==="String"?s(o,""):i(o)}:i,Z_}var J_,D6;function Qg(){return D6||(D6=1,J_=function(n){return n==null}),J_}var eS,P6;function Ea(){if(P6)return eS;P6=1;var n=Qg(),e=TypeError;return eS=function(r){if(n(r))throw new e("Can't call method on "+r);return r},eS}var tS,I6;function Hs(){if(I6)return tS;I6=1;var n=yw(),e=Ea();return tS=function(r){return n(e(r))},tS}var nS,O6;function Ar(){if(O6)return nS;O6=1;var n=cr();return nS=function(e){return typeof e=="object"?e!==null:n(e)},nS}var rS,M6;function un(){return M6||(M6=1,rS={}),rS}var iS,A6;function $i(){if(A6)return iS;A6=1;var n=un(),e=Nn(),r=cr(),i=function(s){return r(s)?s:void 0};return iS=function(s,o){return arguments.length<2?i(n[s])||i(e[s]):n[s]&&n[s][o]||e[s]&&e[s][o]},iS}var sS,R6;function mn(){if(R6)return sS;R6=1;var n=Bt();return sS=n({}.isPrototypeOf),sS}var oS,N6;function dh(){if(N6)return oS;N6=1;var n=Nn(),e=n.navigator,r=e&&e.userAgent;return oS=r?String(r):"",oS}var aS,j6;function Zg(){if(j6)return aS;j6=1;var n=Nn(),e=dh(),r=n.process,i=n.Deno,s=r&&r.versions||i&&i.version,o=s&&s.v8,a,l;return o&&(a=o.split("."),l=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!l&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(l=+a[1]))),aS=l,aS}var lS,L6;function fh(){if(L6)return lS;L6=1;var n=Zg(),e=jt(),r=Nn(),i=r.String;return lS=!!Object.getOwnPropertySymbols&&!e(function(){var s=Symbol("symbol detection");return!i(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&n&&n<41}),lS}var cS,F6;function GZ(){if(F6)return cS;F6=1;var n=fh();return cS=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol",cS}var uS,$6;function Jg(){if($6)return uS;$6=1;var n=$i(),e=cr(),r=mn(),i=GZ(),s=Object;return uS=i?function(o){return typeof o=="symbol"}:function(o){var a=n("Symbol");return e(a)&&r(a.prototype,s(o))},uS}var dS,B6;function hh(){if(B6)return dS;B6=1;var n=String;return dS=function(e){try{return n(e)}catch{return"Object"}},dS}var fS,z6;function Eo(){if(z6)return fS;z6=1;var n=cr(),e=hh(),r=TypeError;return fS=function(i){if(n(i))return i;throw new r(e(i)+" is not a function")},fS}var hS,U6;function ZA(){if(U6)return hS;U6=1;var n=Eo(),e=Qg();return hS=function(r,i){var s=r[i];return e(s)?void 0:n(s)},hS}var pS,q6;function hEe(){if(q6)return pS;q6=1;var n=bi(),e=cr(),r=Ar(),i=TypeError;return pS=function(s,o){var a,l;if(o==="string"&&e(a=s.toString)&&!r(l=n(a,s))||e(a=s.valueOf)&&!r(l=n(a,s))||o!=="string"&&e(a=s.toString)&&!r(l=n(a,s)))return l;throw new i("Can't convert object to primitive value")},pS}var mS={exports:{}},gS,W6;function ph(){return W6||(W6=1,gS=!0),gS}var bS,H6;function pEe(){if(H6)return bS;H6=1;var n=Nn(),e=Object.defineProperty;return bS=function(r,i){try{e(n,r,{value:i,configurable:!0,writable:!0})}catch{n[r]=i}return i},bS}var G6;function JA(){if(G6)return mS.exports;G6=1;var n=ph(),e=Nn(),r=pEe(),i="__core-js_shared__",s=mS.exports=e[i]||r(i,{});return(s.versions||(s.versions=[])).push({version:"3.44.0",mode:n?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),mS.exports}var yS,Y6;function mh(){if(Y6)return yS;Y6=1;var n=JA();return yS=function(e,r){return n[e]||(n[e]=r||{})},yS}var vS,V6;function yi(){if(V6)return vS;V6=1;var n=Ea(),e=Object;return vS=function(r){return e(n(r))},vS}var xS,K6;function ur(){if(K6)return xS;K6=1;var n=Bt(),e=yi(),r=n({}.hasOwnProperty);return xS=Object.hasOwn||function(s,o){return r(e(s),o)},xS}var wS,X6;function vw(){if(X6)return wS;X6=1;var n=Bt(),e=0,r=Math.random(),i=n(1.1.toString);return wS=function(s){return"Symbol("+(s===void 0?"":s)+")_"+i(++e+r,36)},wS}var _S,Q6;function Vn(){if(Q6)return _S;Q6=1;var n=Nn(),e=mh(),r=ur(),i=vw(),s=fh(),o=GZ(),a=n.Symbol,l=e("wks"),c=o?a.for||a:a&&a.withoutSetter||i;return _S=function(u){return r(l,u)||(l[u]=s&&r(a,u)?a[u]:c("Symbol."+u)),l[u]},_S}var SS,Z6;function YZ(){if(Z6)return SS;Z6=1;var n=bi(),e=Ar(),r=Jg(),i=ZA(),s=hEe(),o=Vn(),a=TypeError,l=o("toPrimitive");return SS=function(c,u){if(!e(c)||r(c))return c;var f=i(c,l),d;if(f){if(u===void 0&&(u="default"),d=n(f,c,u),!e(d)||r(d))return d;throw new a("Can't convert object to primitive value")}return u===void 0&&(u="number"),s(c,u)},SS}var kS,J6;function eR(){if(J6)return kS;J6=1;var n=YZ(),e=Jg();return kS=function(r){var i=n(r,"string");return e(i)?i:i+""},kS}var CS,eL;function VZ(){if(eL)return CS;eL=1;var n=Nn(),e=Ar(),r=n.document,i=e(r)&&e(r.createElement);return CS=function(s){return i?r.createElement(s):{}},CS}var TS,tL;function KZ(){if(tL)return TS;tL=1;var n=Hn(),e=jt(),r=VZ();return TS=!n&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),TS}var nL;function xw(){if(nL)return Y_;nL=1;var n=Hn(),e=bi(),r=bw(),i=Xg(),s=Hs(),o=eR(),a=ur(),l=KZ(),c=Object.getOwnPropertyDescriptor;return Y_.f=n?c:function(f,d){if(f=s(f),d=o(d),l)try{return c(f,d)}catch{}if(a(f,d))return i(!e(r.f,f,d),f[d])},Y_}var ES,rL;function mEe(){if(rL)return ES;rL=1;var n=jt(),e=cr(),r=/#|\.prototype\./,i=function(c,u){var f=o[s(c)];return f===l?!0:f===a?!1:e(u)?n(u):!!u},s=i.normalize=function(c){return String(c).replace(r,".").toLowerCase()},o=i.data={},a=i.NATIVE="N",l=i.POLYFILL="P";return ES=i,ES}var DS,iL;function e0(){if(iL)return DS;iL=1;var n=QA(),e=Eo(),r=Kg(),i=n(n.bind);return DS=function(s,o){return e(s),o===void 0?s:r?i(s,o):function(){return s.apply(o,arguments)}},DS}var PS={},IS,sL;function XZ(){if(sL)return IS;sL=1;var n=Hn(),e=jt();return IS=n&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),IS}var OS,oL;function Da(){if(oL)return OS;oL=1;var n=Ar(),e=String,r=TypeError;return OS=function(i){if(n(i))return i;throw new r(e(i)+" is not an object")},OS}var aL;function ms(){if(aL)return PS;aL=1;var n=Hn(),e=KZ(),r=XZ(),i=Da(),s=eR(),o=TypeError,a=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c="enumerable",u="configurable",f="writable";return PS.f=n?r?function(h,p,g){if(i(h),p=s(p),i(g),typeof h=="function"&&p==="prototype"&&"value"in g&&f in g&&!g[f]){var v=l(h,p);v&&v[f]&&(h[p]=g.value,g={configurable:u in g?g[u]:v[u],enumerable:c in g?g[c]:v[c],writable:!1})}return a(h,p,g)}:a:function(h,p,g){if(i(h),p=s(p),i(g),e)try{return a(h,p,g)}catch{}if("get"in g||"set"in g)throw new o("Accessors not supported");return"value"in g&&(h[p]=g.value),h},PS}var MS,lL;function gh(){if(lL)return MS;lL=1;var n=Hn(),e=ms(),r=Xg();return MS=n?function(i,s,o){return e.f(i,s,r(1,o))}:function(i,s,o){return i[s]=o,i},MS}var AS,cL;function st(){if(cL)return AS;cL=1;var n=Nn(),e=gw(),r=QA(),i=cr(),s=xw().f,o=mEe(),a=un(),l=e0(),c=gh(),u=ur(),f=function(d){var h=function(p,g,v){if(this instanceof h){switch(arguments.length){case 0:return new d;case 1:return new d(p);case 2:return new d(p,g)}return new d(p,g,v)}return e(d,this,arguments)};return h.prototype=d.prototype,h};return AS=function(d,h){var p=d.target,g=d.global,v=d.stat,y=d.proto,b=g?n:v?n[p]:n[p]&&n[p].prototype,w=g?a:a[p]||c(a,p,{})[p],k=w.prototype,_,S,C,T,D,O,P,A,L;for(T in h)_=o(g?T:p+(v?".":"#")+T,d.forced),S=!_&&b&&u(b,T),O=w[T],S&&(d.dontCallGetSet?(L=s(b,T),P=L&&L.value):P=b[T]),D=S&&P?P:h[T],!(!_&&!y&&typeof O==typeof D)&&(d.bind&&S?A=l(D,n):d.wrap&&S?A=f(D):y&&i(D)?A=r(D):A=D,(d.sham||D&&D.sham||O&&O.sham)&&c(A,"sham",!0),c(w,T,A),y&&(C=p+"Prototype",u(a,C)||c(a,C,{}),c(a[C],T,D),d.real&&k&&(_||!k[T])&&c(k,T,D)))},AS}var RS,uL;function ql(){if(uL)return RS;uL=1;var n=To();return RS=Array.isArray||function(r){return n(r)==="Array"},RS}var NS,dL;function gEe(){if(dL)return NS;dL=1;var n=Math.ceil,e=Math.floor;return NS=Math.trunc||function(i){var s=+i;return(s>0?e:n)(s)},NS}var jS,fL;function bh(){if(fL)return jS;fL=1;var n=gEe();return jS=function(e){var r=+e;return r!==r||r===0?0:n(r)},jS}var LS,hL;function QZ(){if(hL)return LS;hL=1;var n=bh(),e=Math.min;return LS=function(r){var i=n(r);return i>0?e(i,9007199254740991):0},LS}var FS,pL;function Gs(){if(pL)return FS;pL=1;var n=QZ();return FS=function(e){return n(e.length)},FS}var $S,mL;function tR(){if(mL)return $S;mL=1;var n=TypeError,e=9007199254740991;return $S=function(r){if(r>e)throw n("Maximum allowed index exceeded");return r},$S}var BS,gL;function ww(){if(gL)return BS;gL=1;var n=Hn(),e=ms(),r=Xg();return BS=function(i,s,o){n?e.f(i,s,r(0,o)):i[s]=o},BS}var zS,bL;function nR(){if(bL)return zS;bL=1;var n=Vn(),e=n("toStringTag"),r={};return r[e]="z",zS=String(r)==="[object z]",zS}var US,yL;function Wl(){if(yL)return US;yL=1;var n=nR(),e=cr(),r=To(),i=Vn(),s=i("toStringTag"),o=Object,a=r(function(){return arguments}())==="Arguments",l=function(c,u){try{return c[u]}catch{}};return US=n?r:function(c){var u,f,d;return c===void 0?"Undefined":c===null?"Null":typeof(f=l(u=o(c),s))=="string"?f:a?r(u):(d=r(u))==="Object"&&e(u.callee)?"Arguments":d},US}var qS,vL;function bEe(){if(vL)return qS;vL=1;var n=Bt(),e=cr(),r=JA(),i=n(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(s){return i(s)}),qS=r.inspectSource,qS}var WS,xL;function ZZ(){if(xL)return WS;xL=1;var n=Bt(),e=jt(),r=cr(),i=Wl(),s=$i(),o=bEe(),a=function(){},l=s("Reflect","construct"),c=/^\s*(?:class|function)\b/,u=n(c.exec),f=!c.test(a),d=function(g){if(!r(g))return!1;try{return l(a,[],g),!0}catch{return!1}},h=function(g){if(!r(g))return!1;switch(i(g)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!u(c,o(g))}catch{return!0}};return h.sham=!0,WS=!l||e(function(){var p;return d(d.call)||!d(Object)||!d(function(){p=!0})||p})?h:d,WS}var HS,wL;function yEe(){if(wL)return HS;wL=1;var n=ql(),e=ZZ(),r=Ar(),i=Vn(),s=i("species"),o=Array;return HS=function(a){var l;return n(a)&&(l=a.constructor,e(l)&&(l===o||n(l.prototype))?l=void 0:r(l)&&(l=l[s],l===null&&(l=void 0))),l===void 0?o:l},HS}var GS,_L;function _w(){if(_L)return GS;_L=1;var n=yEe();return GS=function(e,r){return new(n(e))(r===0?0:r)},GS}var YS,SL;function t0(){if(SL)return YS;SL=1;var n=jt(),e=Vn(),r=Zg(),i=e("species");return YS=function(s){return r>=51||!n(function(){var o=[],a=o.constructor={};return a[i]=function(){return{foo:1}},o[s](Boolean).foo!==1})},YS}var kL;function JZ(){if(kL)return p6;kL=1;var n=st(),e=jt(),r=ql(),i=Ar(),s=yi(),o=Gs(),a=tR(),l=ww(),c=_w(),u=t0(),f=Vn(),d=Zg(),h=f("isConcatSpreadable"),p=d>=51||!e(function(){var y=[];return y[h]=!1,y.concat()[0]!==y}),g=function(y){if(!i(y))return!1;var b=y[h];return b!==void 0?!!b:r(y)},v=!p||!u("concat");return n({target:"Array",proto:!0,arity:1,forced:v},{concat:function(b){var w=s(this),k=c(w,0),_=0,S,C,T,D,O;for(S=-1,T=arguments.length;S<T;S++)if(O=S===-1?w:arguments[S],g(O))for(D=o(O),a(_+D),C=0;C<D;C++,_++)C in O&&l(k,_,O[C]);else a(_+1),l(k,_++,O);return k.length=_,k}}),p6}var CL={},TL={},VS,EL;function gs(){if(EL)return VS;EL=1;var n=Wl(),e=String;return VS=function(r){if(n(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},VS}var KS={},XS,DL;function Sw(){if(DL)return XS;DL=1;var n=bh(),e=Math.max,r=Math.min;return XS=function(i,s){var o=n(i);return o<0?e(o+s,0):r(o,s)},XS}var QS,PL;function rR(){if(PL)return QS;PL=1;var n=Hs(),e=Sw(),r=Gs(),i=function(s){return function(o,a,l){var c=n(o),u=r(c);if(u===0)return!s&&-1;var f=e(l,u),d;if(s&&a!==a){for(;u>f;)if(d=c[f++],d!==d)return!0}else for(;u>f;f++)if((s||f in c)&&c[f]===a)return s||f||0;return!s&&-1}};return QS={includes:i(!0),indexOf:i(!1)},QS}var ZS,IL;function n0(){return IL||(IL=1,ZS={}),ZS}var JS,OL;function eJ(){if(OL)return JS;OL=1;var n=Bt(),e=ur(),r=Hs(),i=rR().indexOf,s=n0(),o=n([].push);return JS=function(a,l){var c=r(a),u=0,f=[],d;for(d in c)!e(s,d)&&e(c,d)&&o(f,d);for(;l.length>u;)e(c,d=l[u++])&&(~i(f,d)||o(f,d));return f},JS}var ek,ML;function iR(){return ML||(ML=1,ek=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),ek}var tk,AL;function r0(){if(AL)return tk;AL=1;var n=eJ(),e=iR();return tk=Object.keys||function(i){return n(i,e)},tk}var RL;function sR(){if(RL)return KS;RL=1;var n=Hn(),e=XZ(),r=ms(),i=Da(),s=Hs(),o=r0();return KS.f=n&&!e?Object.defineProperties:function(l,c){i(l);for(var u=s(c),f=o(c),d=f.length,h=0,p;d>h;)r.f(l,p=f[h++],u[p]);return l},KS}var nk,NL;function vEe(){if(NL)return nk;NL=1;var n=$i();return nk=n("document","documentElement"),nk}var rk,jL;function kw(){if(jL)return rk;jL=1;var n=mh(),e=vw(),r=n("keys");return rk=function(i){return r[i]||(r[i]=e(i))},rk}var ik,LL;function i0(){if(LL)return ik;LL=1;var n=Da(),e=sR(),r=iR(),i=n0(),s=vEe(),o=VZ(),a=kw(),l=">",c="<",u="prototype",f="script",d=a("IE_PROTO"),h=function(){},p=function(w){return c+f+l+w+c+"/"+f+l},g=function(w){w.write(p("")),w.close();var k=w.parentWindow.Object;return w=null,k},v=function(){var w=o("iframe"),k="java"+f+":",_;return w.style.display="none",s.appendChild(w),w.src=String(k),_=w.contentWindow.document,_.open(),_.write(p("document.F=Object")),_.close(),_.F},y,b=function(){try{y=new ActiveXObject("htmlfile")}catch{}b=typeof document<"u"?document.domain&&y?g(y):v():g(y);for(var w=r.length;w--;)delete b[u][r[w]];return b()};return i[d]=!0,ik=Object.create||function(k,_){var S;return k!==null?(h[u]=n(k),S=new h,h[u]=null,S[d]=k):S=b(),_===void 0?S:e.f(S,_)},ik}var sk={},FL;function Cw(){if(FL)return sk;FL=1;var n=eJ(),e=iR(),r=e.concat("length","prototype");return sk.f=Object.getOwnPropertyNames||function(s){return n(s,r)},sk}var ok={},ak,$L;function yh(){if($L)return ak;$L=1;var n=Bt();return ak=n([].slice),ak}var BL;function tJ(){if(BL)return ok;BL=1;var n=To(),e=Hs(),r=Cw().f,i=yh(),s=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(a){try{return r(a)}catch{return i(s)}};return ok.f=function(l){return s&&n(l)==="Window"?o(l):r(e(l))},ok}var lk={},zL;function Tw(){return zL||(zL=1,lk.f=Object.getOwnPropertySymbols),lk}var ck,UL;function s0(){if(UL)return ck;UL=1;var n=gh();return ck=function(e,r,i,s){return s&&s.enumerable?e[r]=i:n(e,r,i),e},ck}var uk,qL;function oR(){if(qL)return uk;qL=1;var n=ms();return uk=function(e,r,i){return n.f(e,r,i)},uk}var dk={},WL;function Ew(){if(WL)return dk;WL=1;var n=Vn();return dk.f=n,dk}var fk,HL;function Pn(){if(HL)return fk;HL=1;var n=un(),e=ur(),r=Ew(),i=ms().f;return fk=function(s){var o=n.Symbol||(n.Symbol={});e(o,s)||i(o,s,{value:r.f(s)})},fk}var hk,GL;function nJ(){if(GL)return hk;GL=1;var n=bi(),e=$i(),r=Vn(),i=s0();return hk=function(){var s=e("Symbol"),o=s&&s.prototype,a=o&&o.valueOf,l=r("toPrimitive");o&&!o[l]&&i(o,l,function(c){return n(a,this)},{arity:1})},hk}var pk,YL;function xEe(){if(YL)return pk;YL=1;var n=nR(),e=Wl();return pk=n?{}.toString:function(){return"[object "+e(this)+"]"},pk}var mk,VL;function Du(){if(VL)return mk;VL=1;var n=nR(),e=ms().f,r=gh(),i=ur(),s=xEe(),o=Vn(),a=o("toStringTag");return mk=function(l,c,u,f){var d=u?l:l&&l.prototype;d&&(i(d,a)||e(d,a,{configurable:!0,value:c}),f&&!n&&r(d,"toString",s))},mk}var gk,KL;function wEe(){if(KL)return gk;KL=1;var n=Nn(),e=cr(),r=n.WeakMap;return gk=e(r)&&/native code/.test(String(r)),gk}var bk,XL;function o0(){if(XL)return bk;XL=1;var n=wEe(),e=Nn(),r=Ar(),i=gh(),s=ur(),o=JA(),a=kw(),l=n0(),c="Object already initialized",u=e.TypeError,f=e.WeakMap,d,h,p,g=function(w){return p(w)?h(w):d(w,{})},v=function(w){return function(k){var _;if(!r(k)||(_=h(k)).type!==w)throw new u("Incompatible receiver, "+w+" required");return _}};if(n||o.state){var y=o.state||(o.state=new f);y.get=y.get,y.has=y.has,y.set=y.set,d=function(w,k){if(y.has(w))throw new u(c);return k.facade=w,y.set(w,k),k},h=function(w){return y.get(w)||{}},p=function(w){return y.has(w)}}else{var b=a("state");l[b]=!0,d=function(w,k){if(s(w,b))throw new u(c);return k.facade=w,i(w,b,k),k},h=function(w){return s(w,b)?w[b]:{}},p=function(w){return s(w,b)}}return bk={set:d,get:h,has:p,enforce:g,getterFor:v},bk}var yk,QL;function Hl(){if(QL)return yk;QL=1;var n=e0(),e=Bt(),r=yw(),i=yi(),s=Gs(),o=_w(),a=e([].push),l=function(c){var u=c===1,f=c===2,d=c===3,h=c===4,p=c===6,g=c===7,v=c===5||p;return function(y,b,w,k){for(var _=i(y),S=r(_),C=s(S),T=n(b,w),D=0,O=k||o,P=u?O(y,C):f||g?O(y,0):void 0,A,L;C>D;D++)if((v||D in S)&&(A=S[D],L=T(A,D,_),c))if(u)P[D]=L;else if(L)switch(c){case 3:return!0;case 5:return A;case 6:return D;case 2:a(P,A)}else switch(c){case 4:return!1;case 7:a(P,A)}return p?-1:d||h?h:P}};return yk={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)},yk}var ZL;function _Ee(){if(ZL)return TL;ZL=1;var n=st(),e=Nn(),r=bi(),i=Bt(),s=ph(),o=Hn(),a=fh(),l=jt(),c=ur(),u=mn(),f=Da(),d=Hs(),h=eR(),p=gs(),g=Xg(),v=i0(),y=r0(),b=Cw(),w=tJ(),k=Tw(),_=xw(),S=ms(),C=sR(),T=bw(),D=s0(),O=oR(),P=mh(),A=kw(),L=n0(),B=vw(),F=Vn(),$=Ew(),U=Pn(),N=nJ(),q=Du(),H=o0(),X=Hl().forEach,Y=A("hidden"),W="Symbol",R="prototype",Z=H.set,J=H.getterFor(W),V=Object[R],te=e.Symbol,se=te&&te[R],ye=e.RangeError,Re=e.TypeError,Ke=e.QObject,Ie=_.f,Ee=S.f,He=w.f,nt=T.f,z=i([].push),ve=P("symbols"),Ne=P("op-symbols"),ge=P("wks"),$e=!Ke||!Ke[R]||!Ke[R].findChild,ue=function(de,me,he){var fe=Ie(V,me);fe&&delete V[me],Ee(de,me,he),fe&&de!==V&&Ee(V,me,fe)},ee=o&&l(function(){return v(Ee({},"a",{get:function(){return Ee(this,"a",{value:7}).a}})).a!==7})?ue:Ee,le=function(de,me){var he=ve[de]=v(se);return Z(he,{type:W,tag:de,description:me}),o||(he.description=me),he},xe=function(me,he,fe){me===V&&xe(Ne,he,fe),f(me);var De=h(he);return f(fe),c(ve,De)?(fe.enumerable?(c(me,Y)&&me[Y][De]&&(me[Y][De]=!1),fe=v(fe,{enumerable:g(0,!1)})):(c(me,Y)||Ee(me,Y,g(1,v(null))),me[Y][De]=!0),ee(me,De,fe)):Ee(me,De,fe)},pe=function(me,he){f(me);var fe=d(he),De=y(fe).concat(be(fe));return X(De,function(Ye){(!o||r(ce,fe,Ye))&&xe(me,Ye,fe[Ye])}),me},Le=function(me,he){return he===void 0?v(me):pe(v(me),he)},ce=function(me){var he=h(me),fe=r(nt,this,he);return this===V&&c(ve,he)&&!c(Ne,he)?!1:fe||!c(this,he)||!c(ve,he)||c(this,Y)&&this[Y][he]?fe:!0},Oe=function(me,he){var fe=d(me),De=h(he);if(!(fe===V&&c(ve,De)&&!c(Ne,De))){var Ye=Ie(fe,De);return Ye&&c(ve,De)&&!(c(fe,Y)&&fe[Y][De])&&(Ye.enumerable=!0),Ye}},je=function(me){var he=He(d(me)),fe=[];return X(he,function(De){!c(ve,De)&&!c(L,De)&&z(fe,De)}),fe},be=function(de){var me=de===V,he=He(me?Ne:d(de)),fe=[];return X(he,function(De){c(ve,De)&&(!me||c(V,De))&&z(fe,ve[De])}),fe};return a||(te=function(){if(u(se,this))throw new Re("Symbol is not a constructor");var me=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),he=B(me),fe=function(De){var Ye=this===void 0?e:this;Ye===V&&r(fe,Ne,De),c(Ye,Y)&&c(Ye[Y],he)&&(Ye[Y][he]=!1);var Ge=g(1,De);try{ee(Ye,he,Ge)}catch(Ve){if(!(Ve instanceof ye))throw Ve;ue(Ye,he,Ge)}};return o&&$e&&ee(V,he,{configurable:!0,set:fe}),le(he,me)},se=te[R],D(se,"toString",function(){return J(this).tag}),D(te,"withoutSetter",function(de){return le(B(de),de)}),T.f=ce,S.f=xe,C.f=pe,_.f=Oe,b.f=w.f=je,k.f=be,$.f=function(de){return le(F(de),de)},o&&(O(se,"description",{configurable:!0,get:function(){return J(this).description}}),s||D(V,"propertyIsEnumerable",ce,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:te}),X(y(ge),function(de){U(de)}),n({target:W,stat:!0,forced:!a},{useSetter:function(){$e=!0},useSimple:function(){$e=!1}}),n({target:"Object",stat:!0,forced:!a,sham:!o},{create:Le,defineProperty:xe,defineProperties:pe,getOwnPropertyDescriptor:Oe}),n({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:je}),N(),q(te,W),L[Y]=!0,TL}var JL={},vk,eF;function rJ(){if(eF)return vk;eF=1;var n=fh();return vk=n&&!!Symbol.for&&!!Symbol.keyFor,vk}var tF;function SEe(){if(tF)return JL;tF=1;var n=st(),e=$i(),r=ur(),i=gs(),s=mh(),o=rJ(),a=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!o},{for:function(c){var u=i(c);if(r(a,u))return a[u];var f=e("Symbol")(u);return a[u]=f,l[f]=u,f}}),JL}var nF={},rF;function kEe(){if(rF)return nF;rF=1;var n=st(),e=ur(),r=Jg(),i=hh(),s=mh(),o=rJ(),a=s("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!o},{keyFor:function(c){if(!r(c))throw new TypeError(i(c)+" is not a symbol");if(e(a,c))return a[c]}}),nF}var iF={},xk,sF;function CEe(){if(sF)return xk;sF=1;var n=Bt(),e=ql(),r=cr(),i=To(),s=gs(),o=n([].push);return xk=function(a){if(r(a))return a;if(e(a)){for(var l=a.length,c=[],u=0;u<l;u++){var f=a[u];typeof f=="string"?o(c,f):(typeof f=="number"||i(f)==="Number"||i(f)==="String")&&o(c,s(f))}var d=c.length,h=!0;return function(p,g){if(h)return h=!1,g;if(e(this))return g;for(var v=0;v<d;v++)if(c[v]===p)return g}}},xk}var oF;function iJ(){if(oF)return iF;oF=1;var n=st(),e=$i(),r=gw(),i=bi(),s=Bt(),o=jt(),a=cr(),l=Jg(),c=yh(),u=CEe(),f=fh(),d=String,h=e("JSON","stringify"),p=s(/./.exec),g=s("".charAt),v=s("".charCodeAt),y=s("".replace),b=s(1.1.toString),w=/[\uD800-\uDFFF]/g,k=/^[\uD800-\uDBFF]$/,_=/^[\uDC00-\uDFFF]$/,S=!f||o(function(){var O=e("Symbol")("stringify detection");return h([O])!=="[null]"||h({a:O})!=="{}"||h(Object(O))!=="{}"}),C=o(function(){return h("\uDF06\uD834")!=='"\\udf06\\ud834"'||h("\uDEAD")!=='"\\udead"'}),T=function(O,P){var A=c(arguments),L=u(P);if(!(!a(L)&&(O===void 0||l(O))))return A[1]=function(B,F){if(a(L)&&(F=i(L,this,d(B),F)),!l(F))return F},r(h,null,A)},D=function(O,P,A){var L=g(A,P-1),B=g(A,P+1);return p(k,O)&&!p(_,B)||p(_,O)&&!p(k,L)?"\\u"+b(v(O,0),16):O};return h&&n({target:"JSON",stat:!0,arity:3,forced:S||C},{stringify:function(P,A,L){var B=c(arguments),F=r(S?T:h,null,B);return C&&typeof F=="string"?y(F,w,D):F}}),iF}var aF={},lF;function TEe(){if(lF)return aF;lF=1;var n=st(),e=fh(),r=jt(),i=Tw(),s=yi(),o=!e||r(function(){i.f(1)});return n({target:"Object",stat:!0,forced:o},{getOwnPropertySymbols:function(l){var c=i.f;return c?c(s(l)):[]}}),aF}var cF;function sJ(){return cF||(cF=1,_Ee(),SEe(),kEe(),iJ(),TEe()),CL}var uF={},dF;function oJ(){if(dF)return uF;dF=1;var n=Pn();return n("asyncDispose"),uF}var fF={},hF;function EEe(){if(hF)return fF;hF=1;var n=Pn();return n("asyncIterator"),fF}var pF={},mF;function aJ(){if(mF)return pF;mF=1;var n=Pn();return n("dispose"),pF}var gF={},bF;function DEe(){if(bF)return gF;bF=1;var n=Pn();return n("hasInstance"),gF}var yF={},vF;function PEe(){if(vF)return yF;vF=1;var n=Pn();return n("isConcatSpreadable"),yF}var xF={},wF;function lJ(){if(wF)return xF;wF=1;var n=Pn();return n("iterator"),xF}var _F={},SF;function IEe(){if(SF)return _F;SF=1;var n=Pn();return n("match"),_F}var kF={},CF;function OEe(){if(CF)return kF;CF=1;var n=Pn();return n("matchAll"),kF}var TF={},EF;function MEe(){if(EF)return TF;EF=1;var n=Pn();return n("replace"),TF}var DF={},PF;function AEe(){if(PF)return DF;PF=1;var n=Pn();return n("search"),DF}var IF={},OF;function REe(){if(OF)return IF;OF=1;var n=Pn();return n("species"),IF}var MF={},AF;function NEe(){if(AF)return MF;AF=1;var n=Pn();return n("split"),MF}var RF={},NF;function cJ(){if(NF)return RF;NF=1;var n=Pn(),e=nJ();return n("toPrimitive"),e(),RF}var jF={},LF;function jEe(){if(LF)return jF;LF=1;var n=$i(),e=Pn(),r=Du();return e("toStringTag"),r(n("Symbol"),"Symbol"),jF}var FF={},$F;function LEe(){if($F)return FF;$F=1;var n=Pn();return n("unscopables"),FF}var BF={},zF;function FEe(){if(zF)return BF;zF=1;var n=Nn(),e=Du();return e(n.JSON,"JSON",!0),BF}var wk,UF;function $Ee(){if(UF)return wk;UF=1,JZ(),sJ(),oJ(),EEe(),aJ(),DEe(),PEe(),lJ(),IEe(),OEe(),MEe(),AEe(),REe(),NEe(),cJ(),jEe(),LEe(),FEe();var n=un();return wk=n.Symbol,wk}var qF={},_k,WF;function a0(){return WF||(WF=1,_k=function(){}),_k}var Sk,HF;function vh(){return HF||(HF=1,Sk={}),Sk}var kk,GF;function BEe(){if(GF)return kk;GF=1;var n=Hn(),e=ur(),r=Function.prototype,i=n&&Object.getOwnPropertyDescriptor,s=e(r,"name"),o=s&&(function(){}).name==="something",a=s&&(!n||n&&i(r,"name").configurable);return kk={EXISTS:s,PROPER:o,CONFIGURABLE:a},kk}var Ck,YF;function uJ(){if(YF)return Ck;YF=1;var n=jt();return Ck=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Ck}var Tk,VF;function Dw(){if(VF)return Tk;VF=1;var n=ur(),e=cr(),r=yi(),i=kw(),s=uJ(),o=i("IE_PROTO"),a=Object,l=a.prototype;return Tk=s?a.getPrototypeOf:function(c){var u=r(c);if(n(u,o))return u[o];var f=u.constructor;return e(f)&&u instanceof f?f.prototype:u instanceof a?l:null},Tk}var Ek,KF;function dJ(){if(KF)return Ek;KF=1;var n=jt(),e=cr(),r=Ar(),i=i0(),s=Dw(),o=s0(),a=Vn(),l=ph(),c=a("iterator"),u=!1,f,d,h;[].keys&&(h=[].keys(),"next"in h?(d=s(s(h)),d!==Object.prototype&&(f=d)):u=!0);var p=!r(f)||n(function(){var g={};return f[c].call(g)!==g});return p?f={}:l&&(f=i(f)),e(f[c])||o(f,c,function(){return this}),Ek={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:u},Ek}var Dk,XF;function zEe(){if(XF)return Dk;XF=1;var n=dJ().IteratorPrototype,e=i0(),r=Xg(),i=Du(),s=vh(),o=function(){return this};return Dk=function(a,l,c,u){var f=l+" Iterator";return a.prototype=e(n,{next:r(+!u,c)}),i(a,f,!1,!0),s[f]=o,a},Dk}var Pk,QF;function UEe(){if(QF)return Pk;QF=1;var n=Bt(),e=Eo();return Pk=function(r,i,s){try{return n(e(Object.getOwnPropertyDescriptor(r,i)[s]))}catch{}},Pk}var Ik,ZF;function qEe(){if(ZF)return Ik;ZF=1;var n=Ar();return Ik=function(e){return n(e)||e===null},Ik}var Ok,JF;function WEe(){if(JF)return Ok;JF=1;var n=qEe(),e=String,r=TypeError;return Ok=function(i){if(n(i))return i;throw new r("Can't set "+e(i)+" as a prototype")},Ok}var Mk,e9;function HEe(){if(e9)return Mk;e9=1;var n=UEe(),e=Ar(),r=Ea(),i=WEe();return Mk=Object.setPrototypeOf||("__proto__"in{}?function(){var s=!1,o={},a;try{a=n(Object.prototype,"__proto__","set"),a(o,[]),s=o instanceof Array}catch{}return function(c,u){return r(c),i(u),e(c)&&(s?a(c,u):c.__proto__=u),c}}():void 0),Mk}var Ak,t9;function aR(){if(t9)return Ak;t9=1;var n=st(),e=bi(),r=ph(),i=BEe(),s=cr(),o=zEe(),a=Dw(),l=HEe(),c=Du(),u=gh(),f=s0(),d=Vn(),h=vh(),p=dJ(),g=i.PROPER,v=i.CONFIGURABLE,y=p.IteratorPrototype,b=p.BUGGY_SAFARI_ITERATORS,w=d("iterator"),k="keys",_="values",S="entries",C=function(){return this};return Ak=function(T,D,O,P,A,L,B){o(O,D,P);var F=function(Z){if(Z===A&&H)return H;if(!b&&Z&&Z in N)return N[Z];switch(Z){case k:return function(){return new O(this,Z)};case _:return function(){return new O(this,Z)};case S:return function(){return new O(this,Z)}}return function(){return new O(this)}},$=D+" Iterator",U=!1,N=T.prototype,q=N[w]||N["@@iterator"]||A&&N[A],H=!b&&q||F(A),X=D==="Array"&&N.entries||q,Y,W,R;if(X&&(Y=a(X.call(new T)),Y!==Object.prototype&&Y.next&&(!r&&a(Y)!==y&&(l?l(Y,y):s(Y[w])||f(Y,w,C)),c(Y,$,!0,!0),r&&(h[$]=C))),g&&A===_&&q&&q.name!==_&&(!r&&v?u(N,"name",_):(U=!0,H=function(){return e(q,this)})),A)if(W={values:F(_),keys:L?H:F(k),entries:F(S)},B)for(R in W)(b||U||!(R in N))&&f(N,R,W[R]);else n({target:D,proto:!0,forced:b||U},W);return(!r||B)&&N[w]!==H&&f(N,w,H,{name:A}),h[D]=H,W},Ak}var Rk,n9;function lR(){return n9||(n9=1,Rk=function(n,e){return{value:n,done:e}}),Rk}var Nk,r9;function Gl(){if(r9)return Nk;r9=1;var n=Hs(),e=a0(),r=vh(),i=o0(),s=ms().f,o=aR(),a=lR(),l=ph(),c=Hn(),u="Array Iterator",f=i.set,d=i.getterFor(u);Nk=o(Array,"Array",function(p,g){f(this,{type:u,target:n(p),index:0,kind:g})},function(){var p=d(this),g=p.target,v=p.index++;if(!g||v>=g.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(v,!1);case"values":return a(g[v],!1)}return a([v,g[v]],!1)},"values");var h=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!l&&c&&h.name!=="values")try{s(h,"name",{value:"values"})}catch{}return Nk}var jk,i9;function GEe(){return i9||(i9=1,jk={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),jk}var s9;function Yl(){if(s9)return qF;s9=1,Gl();var n=GEe(),e=Nn(),r=Du(),i=vh();for(var s in n)r(e[s],s),i[s]=i.Array;return qF}var Lk,o9;function fJ(){if(o9)return Lk;o9=1;var n=$Ee();return Yl(),Lk=n,Lk}var Fk,a9;function YEe(){return a9||(a9=1,Fk=fJ()),Fk}var VEe=YEe(),KEe=ct(VEe),l9={},c9;function XEe(){if(c9)return l9;c9=1;var n=st(),e=ql(),r=ZZ(),i=Ar(),s=Sw(),o=Gs(),a=Hs(),l=ww(),c=Vn(),u=t0(),f=yh(),d=u("slice"),h=c("species"),p=Array,g=Math.max;return n({target:"Array",proto:!0,forced:!d},{slice:function(y,b){var w=a(this),k=o(w),_=s(y,k),S=s(b===void 0?k:b,k),C,T,D;if(e(w)&&(C=w.constructor,r(C)&&(C===p||e(C.prototype))?C=void 0:i(C)&&(C=C[h],C===null&&(C=void 0)),C===p||C===void 0))return f(w,_,S);for(T=new(C===void 0?p:C)(g(S-_,0)),D=0;_<S;_++,D++)_ in w&&l(T,D,w[_]);return T.length=D,T}}),l9}var $k,u9;function jn(){if(u9)return $k;u9=1;var n=Nn(),e=un();return $k=function(r,i){var s=e[r+"Prototype"],o=s&&s[i];if(o)return o;var a=n[r],l=a&&a.prototype;return l&&l[i]},$k}var Bk,d9;function QEe(){if(d9)return Bk;d9=1,XEe();var n=jn();return Bk=n("Array","slice"),Bk}var zk,f9;function ZEe(){if(f9)return zk;f9=1;var n=mn(),e=QEe(),r=Array.prototype;return zk=function(i){var s=i.slice;return i===r||n(r,i)&&s===r.slice?e:s},zk}var Uk,h9;function JEe(){if(h9)return Uk;h9=1;var n=ZEe();return Uk=n,Uk}var qk,p9;function eDe(){return p9||(p9=1,qk=JEe()),qk}var tDe=eDe(),xh=ct(tDe),m9={},Wk,g9;function hJ(){if(g9)return Wk;g9=1;var n=$i(),e=Bt(),r=Cw(),i=Tw(),s=Da(),o=e([].concat);return Wk=n("Reflect","ownKeys")||function(l){var c=r.f(s(l)),u=i.f;return u?o(c,u(l)):c},Wk}var b9;function nDe(){if(b9)return m9;b9=1;var n=st(),e=hJ();return n({target:"Reflect",stat:!0},{ownKeys:e}),m9}var Hk,y9;function rDe(){if(y9)return Hk;y9=1,nDe();var n=un();return Hk=n.Reflect.ownKeys,Hk}var Gk,v9;function iDe(){if(v9)return Gk;v9=1;var n=rDe();return Gk=n,Gk}var Yk,x9;function sDe(){return x9||(x9=1,Yk=iDe()),Yk}var oDe=sDe(),pJ=ct(oDe),w9={},_9;function aDe(){if(_9)return w9;_9=1;var n=st(),e=ql();return n({target:"Array",stat:!0},{isArray:e}),w9}var Vk,S9;function lDe(){if(S9)return Vk;S9=1,aDe();var n=un();return Vk=n.Array.isArray,Vk}var Kk,k9;function cDe(){if(k9)return Kk;k9=1;var n=lDe();return Kk=n,Kk}var Xk,C9;function uDe(){return C9||(C9=1,Xk=cDe()),Xk}var dDe=uDe(),Et=ct(dDe),T9={},E9;function fDe(){if(E9)return T9;E9=1;var n=st(),e=Hl().map,r=t0(),i=r("map");return n({target:"Array",proto:!0,forced:!i},{map:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),T9}var Qk,D9;function hDe(){if(D9)return Qk;D9=1,fDe();var n=jn();return Qk=n("Array","map"),Qk}var Zk,P9;function pDe(){if(P9)return Zk;P9=1;var n=mn(),e=hDe(),r=Array.prototype;return Zk=function(i){var s=i.map;return i===r||n(r,i)&&s===r.map?e:s},Zk}var Jk,I9;function mDe(){if(I9)return Jk;I9=1;var n=pDe();return Jk=n,Jk}var e2,O9;function gDe(){return O9||(O9=1,e2=mDe()),e2}var bDe=gDe(),Vt=ct(bDe),M9={},A9;function yDe(){if(A9)return M9;A9=1;var n=st(),e=yi(),r=r0(),i=jt(),s=i(function(){r(1)});return n({target:"Object",stat:!0,forced:s},{keys:function(a){return r(e(a))}}),M9}var t2,R9;function vDe(){if(R9)return t2;R9=1,yDe();var n=un();return t2=n.Object.keys,t2}var n2,N9;function xDe(){if(N9)return n2;N9=1;var n=vDe();return n2=n,n2}var r2,j9;function wDe(){return j9||(j9=1,r2=xDe()),r2}var _De=wDe(),er=ct(_De),L9={},F9;function SDe(){if(F9)return L9;F9=1;var n=st(),e=Bt(),r=Date,i=e(r.prototype.getTime);return n({target:"Date",stat:!0},{now:function(){return i(new r)}}),L9}var i2,$9;function kDe(){if($9)return i2;$9=1,SDe();var n=un();return i2=n.Date.now,i2}var s2,B9;function CDe(){if(B9)return s2;B9=1;var n=kDe();return s2=n,s2}var o2,z9;function TDe(){return z9||(z9=1,o2=CDe()),o2}var EDe=TDe(),Ci=ct(EDe),U9={},a2,q9;function DDe(){if(q9)return a2;q9=1;var n=Bt(),e=Eo(),r=Ar(),i=ur(),s=yh(),o=Kg(),a=Function,l=n([].concat),c=n([].join),u={},f=function(d,h,p){if(!i(u,h)){for(var g=[],v=0;v<h;v++)g[v]="a["+v+"]";u[h]=a("C,a","return new C("+c(g,",")+")")}return u[h](d,p)};return a2=o?a.bind:function(h){var p=e(this),g=p.prototype,v=s(arguments,1),y=function(){var w=l(v,s(arguments));return this instanceof y?f(p,w.length,w):p.apply(h,w)};return r(g)&&(y.prototype=g),y},a2}var W9;function PDe(){if(W9)return U9;W9=1;var n=st(),e=DDe();return n({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),U9}var l2,H9;function IDe(){if(H9)return l2;H9=1,PDe();var n=jn();return l2=n("Function","bind"),l2}var c2,G9;function ODe(){if(G9)return c2;G9=1;var n=mn(),e=IDe(),r=Function.prototype;return c2=function(i){var s=i.bind;return i===r||n(r,i)&&s===r.bind?e:s},c2}var u2,Y9;function MDe(){if(Y9)return u2;Y9=1;var n=ODe();return u2=n,u2}var d2,V9;function ADe(){return V9||(V9=1,d2=MDe()),d2}var RDe=ADe(),ke=ct(RDe),K9={},f2,X9;function wh(){if(X9)return f2;X9=1;var n=jt();return f2=function(e,r){var i=[][e];return!!i&&n(function(){i.call(null,r||function(){return 1},1)})},f2}var h2,Q9;function NDe(){if(Q9)return h2;Q9=1;var n=Hl().forEach,e=wh(),r=e("forEach");return h2=r?[].forEach:function(s){return n(this,s,arguments.length>1?arguments[1]:void 0)},h2}var Z9;function jDe(){if(Z9)return K9;Z9=1;var n=st(),e=NDe();return n({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),K9}var p2,J9;function LDe(){if(J9)return p2;J9=1,jDe();var n=jn();return p2=n("Array","forEach"),p2}var m2,e7;function FDe(){if(e7)return m2;e7=1;var n=LDe();return m2=n,m2}var g2,t7;function $De(){if(t7)return g2;t7=1;var n=Wl(),e=ur(),r=mn(),i=FDe(),s=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return g2=function(a){var l=a.forEach;return a===s||r(s,a)&&l===s.forEach||e(o,n(a))?i:l},g2}var b2,n7;function BDe(){return n7||(n7=1,b2=$De()),b2}var zDe=BDe(),Qe=ct(zDe),r7={},i7;function UDe(){if(i7)return r7;i7=1;var n=st(),e=Bt(),r=ql(),i=e([].reverse),s=[1,2];return n({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),i(this)}}),r7}var y2,s7;function qDe(){if(s7)return y2;s7=1,UDe();var n=jn();return y2=n("Array","reverse"),y2}var v2,o7;function WDe(){if(o7)return v2;o7=1;var n=mn(),e=qDe(),r=Array.prototype;return v2=function(i){var s=i.reverse;return i===r||n(r,i)&&s===r.reverse?e:s},v2}var x2,a7;function HDe(){if(a7)return x2;a7=1;var n=WDe();return x2=n,x2}var w2,l7;function GDe(){return l7||(l7=1,w2=HDe()),w2}var YDe=GDe(),VDe=ct(YDe),c7={},_2,u7;function KDe(){if(u7)return _2;u7=1;var n=Hn(),e=ql(),r=TypeError,i=Object.getOwnPropertyDescriptor,s=n&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(o){return o instanceof TypeError}}();return _2=s?function(o,a){if(e(o)&&!i(o,"length").writable)throw new r("Cannot set read only .length");return o.length=a}:function(o,a){return o.length=a},_2}var S2,d7;function mJ(){if(d7)return S2;d7=1;var n=hh(),e=TypeError;return S2=function(r,i){if(!delete r[i])throw new e("Cannot delete property "+n(i)+" of "+n(r))},S2}var f7;function XDe(){if(f7)return c7;f7=1;var n=st(),e=yi(),r=Sw(),i=bh(),s=Gs(),o=KDe(),a=tR(),l=_w(),c=ww(),u=mJ(),f=t0(),d=f("splice"),h=Math.max,p=Math.min;return n({target:"Array",proto:!0,forced:!d},{splice:function(v,y){var b=e(this),w=s(b),k=r(v,w),_=arguments.length,S,C,T,D,O,P;for(_===0?S=C=0:_===1?(S=0,C=w-k):(S=_-2,C=p(h(i(y),0),w-k)),a(w+S-C),T=l(b,C),D=0;D<C;D++)O=k+D,O in b&&c(T,D,b[O]);if(T.length=C,S<C){for(D=k;D<w-C;D++)O=D+C,P=D+S,O in b?b[P]=b[O]:u(b,P);for(D=w;D>w-C+S;D--)u(b,D-1)}else if(S>C)for(D=w-C;D>k;D--)O=D+C-1,P=D+S-1,O in b?b[P]=b[O]:u(b,P);for(D=0;D<S;D++)b[D+k]=arguments[D+2];return o(b,w-C+S),T}}),c7}var k2,h7;function QDe(){if(h7)return k2;h7=1,XDe();var n=jn();return k2=n("Array","splice"),k2}var C2,p7;function ZDe(){if(p7)return C2;p7=1;var n=mn(),e=QDe(),r=Array.prototype;return C2=function(i){var s=i.splice;return i===r||n(r,i)&&s===r.splice?e:s},C2}var T2,m7;function JDe(){if(m7)return T2;m7=1;var n=ZDe();return T2=n,T2}var E2,g7;function ePe(){return g7||(g7=1,E2=JDe()),E2}var tPe=ePe(),Ur=ct(tPe),b7={},D2,y7;function nPe(){if(y7)return D2;y7=1;var n=Hn(),e=Bt(),r=bi(),i=jt(),s=r0(),o=Tw(),a=bw(),l=yi(),c=yw(),u=Object.assign,f=Object.defineProperty,d=e([].concat);return D2=!u||i(function(){if(n&&u({b:1},u(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var h={},p={},g=Symbol("assign detection"),v="abcdefghijklmnopqrst";return h[g]=7,v.split("").forEach(function(y){p[y]=y}),u({},h)[g]!==7||s(u({},p)).join("")!==v})?function(p,g){for(var v=l(p),y=arguments.length,b=1,w=o.f,k=a.f;y>b;)for(var _=c(arguments[b++]),S=w?d(s(_),w(_)):s(_),C=S.length,T=0,D;C>T;)D=S[T++],(!n||r(k,_,D))&&(v[D]=_[D]);return v}:u,D2}var v7;function rPe(){if(v7)return b7;v7=1;var n=st(),e=nPe();return n({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),b7}var P2,x7;function iPe(){if(x7)return P2;x7=1,rPe();var n=un();return P2=n.Object.assign,P2}var I2,w7;function sPe(){if(w7)return I2;w7=1;var n=iPe();return I2=n,I2}var O2,_7;function oPe(){return _7||(_7=1,O2=sPe()),O2}var aPe=oPe(),Sa=ct(aPe),S7={},k7;function lPe(){if(k7)return S7;k7=1;var n=st(),e=rR().includes,r=jt(),i=a0(),s=r(function(){return!Array(1).includes()});return n({target:"Array",proto:!0,forced:s},{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),i("includes"),S7}var M2,C7;function cPe(){if(C7)return M2;C7=1,lPe();var n=jn();return M2=n("Array","includes"),M2}var T7={},A2,E7;function uPe(){if(E7)return A2;E7=1;var n=Ar(),e=To(),r=Vn(),i=r("match");return A2=function(s){var o;return n(s)&&((o=s[i])!==void 0?!!o:e(s)==="RegExp")},A2}var R2,D7;function dPe(){if(D7)return R2;D7=1;var n=uPe(),e=TypeError;return R2=function(r){if(n(r))throw new e("The method doesn't accept regular expressions");return r},R2}var N2,P7;function fPe(){if(P7)return N2;P7=1;var n=Vn(),e=n("match");return N2=function(r){var i=/./;try{"/./"[r](i)}catch{try{return i[e]=!1,"/./"[r](i)}catch{}}return!1},N2}var I7;function hPe(){if(I7)return T7;I7=1;var n=st(),e=Bt(),r=dPe(),i=Ea(),s=gs(),o=fPe(),a=e("".indexOf);return n({target:"String",proto:!0,forced:!o("includes")},{includes:function(c){return!!~a(s(i(this)),s(r(c)),arguments.length>1?arguments[1]:void 0)}}),T7}var j2,O7;function pPe(){if(O7)return j2;O7=1,hPe();var n=jn();return j2=n("String","includes"),j2}var L2,M7;function mPe(){if(M7)return L2;M7=1;var n=mn(),e=cPe(),r=pPe(),i=Array.prototype,s=String.prototype;return L2=function(o){var a=o.includes;return o===i||n(i,o)&&a===i.includes?e:typeof o=="string"||o===s||n(s,o)&&a===s.includes?r:a},L2}var F2,A7;function gPe(){if(A7)return F2;A7=1;var n=mPe();return F2=n,F2}var $2,R7;function bPe(){return R7||(R7=1,$2=gPe()),$2}var yPe=bPe(),Bf=ct(yPe),N7={},j7;function vPe(){if(j7)return N7;j7=1;var n=st(),e=jt(),r=yi(),i=Dw(),s=uJ(),o=e(function(){i(1)});return n({target:"Object",stat:!0,forced:o,sham:!s},{getPrototypeOf:function(l){return i(r(l))}}),N7}var B2,L7;function xPe(){if(L7)return B2;L7=1,vPe();var n=un();return B2=n.Object.getPrototypeOf,B2}var z2,F7;function wPe(){if(F7)return z2;F7=1;var n=xPe();return z2=n,z2}var U2,$7;function _Pe(){return $7||($7=1,U2=wPe()),U2}var SPe=_Pe(),B7=ct(SPe),q2,z7;function kPe(){if(z7)return q2;z7=1,JZ();var n=jn();return q2=n("Array","concat"),q2}var W2,U7;function CPe(){if(U7)return W2;U7=1;var n=mn(),e=kPe(),r=Array.prototype;return W2=function(i){var s=i.concat;return i===r||n(r,i)&&s===r.concat?e:s},W2}var H2,q7;function TPe(){if(q7)return H2;q7=1;var n=CPe();return H2=n,H2}var G2,W7;function EPe(){return W7||(W7=1,G2=TPe()),G2}var DPe=EPe(),$n=ct(DPe),H7={},G7;function PPe(){if(G7)return H7;G7=1;var n=st(),e=Hl().filter,r=t0(),i=r("filter");return n({target:"Array",proto:!0,forced:!i},{filter:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),H7}var Y2,Y7;function IPe(){if(Y7)return Y2;Y7=1,PPe();var n=jn();return Y2=n("Array","filter"),Y2}var V2,V7;function OPe(){if(V7)return V2;V7=1;var n=mn(),e=IPe(),r=Array.prototype;return V2=function(i){var s=i.filter;return i===r||n(r,i)&&s===r.filter?e:s},V2}var K2,K7;function MPe(){if(K7)return K2;K7=1;var n=OPe();return K2=n,K2}var X2,X7;function APe(){return X7||(X7=1,X2=MPe()),X2}var RPe=APe(),dt=ct(RPe),Q7={},Q2,Z7;function gJ(){if(Z7)return Q2;Z7=1;var n=Hn(),e=jt(),r=Bt(),i=Dw(),s=r0(),o=Hs(),a=bw().f,l=r(a),c=r([].push),u=n&&e(function(){var d=Object.create(null);return d[2]=2,!l(d,2)}),f=function(d){return function(h){for(var p=o(h),g=s(p),v=u&&i(p)===null,y=g.length,b=0,w=[],k;y>b;)k=g[b++],(!n||(v?k in p:l(p,k)))&&c(w,d?[k,p[k]]:p[k]);return w}};return Q2={entries:f(!0),values:f(!1)},Q2}var J7;function NPe(){if(J7)return Q7;J7=1;var n=st(),e=gJ().values;return n({target:"Object",stat:!0},{values:function(i){return e(i)}}),Q7}var Z2,e$;function jPe(){if(e$)return Z2;e$=1,NPe();var n=un();return Z2=n.Object.values,Z2}var J2,t$;function LPe(){if(t$)return J2;t$=1;var n=jPe();return J2=n,J2}var eC,n$;function FPe(){return n$||(n$=1,eC=LPe()),eC}var $Pe=FPe(),cR=ct($Pe),r$={},tC,i$;function uR(){return i$||(i$=1,tC=`	
\v\f\r \u2028\u2029\uFEFF`),tC}var nC,s$;function bJ(){if(s$)return nC;s$=1;var n=Bt(),e=Ea(),r=gs(),i=uR(),s=n("".replace),o=RegExp("^["+i+"]+"),a=RegExp("(^|[^"+i+"])["+i+"]+$"),l=function(c){return function(u){var f=r(e(u));return c&1&&(f=s(f,o,"")),c&2&&(f=s(f,a,"$1")),f}};return nC={start:l(1),end:l(2),trim:l(3)},nC}var rC,o$;function BPe(){if(o$)return rC;o$=1;var n=Nn(),e=jt(),r=Bt(),i=gs(),s=bJ().trim,o=uR(),a=n.parseInt,l=n.Symbol,c=l&&l.iterator,u=/^[+-]?0x/i,f=r(u.exec),d=a(o+"08")!==8||a(o+"0x16")!==22||c&&!e(function(){a(Object(c))});return rC=d?function(p,g){var v=s(i(p));return a(v,g>>>0||(f(u,v)?16:10))}:a,rC}var a$;function zPe(){if(a$)return r$;a$=1;var n=st(),e=BPe();return n({global:!0,forced:parseInt!==e},{parseInt:e}),r$}var iC,l$;function UPe(){if(l$)return iC;l$=1,zPe();var n=un();return iC=n.parseInt,iC}var sC,c$;function qPe(){if(c$)return sC;c$=1;var n=UPe();return sC=n,sC}var oC,u$;function WPe(){return u$||(u$=1,oC=qPe()),oC}var HPe=WPe(),Ti=ct(HPe),d$={},f$;function GPe(){if(f$)return d$;f$=1;var n=st(),e=QA(),r=rR().indexOf,i=wh(),s=e([].indexOf),o=!!s&&1/s([1],1,-0)<0,a=o||!i("indexOf");return n({target:"Array",proto:!0,forced:a},{indexOf:function(c){var u=arguments.length>1?arguments[1]:void 0;return o?s(this,c,u)||0:r(this,c,u)}}),d$}var aC,h$;function YPe(){if(h$)return aC;h$=1,GPe();var n=jn();return aC=n("Array","indexOf"),aC}var lC,p$;function VPe(){if(p$)return lC;p$=1;var n=mn(),e=YPe(),r=Array.prototype;return lC=function(i){var s=i.indexOf;return i===r||n(r,i)&&s===r.indexOf?e:s},lC}var cC,m$;function KPe(){if(m$)return cC;m$=1;var n=VPe();return cC=n,cC}var uC,g$;function XPe(){return g$||(g$=1,uC=KPe()),uC}var QPe=XPe(),tn=ct(QPe),b$={},y$;function ZPe(){if(y$)return b$;y$=1;var n=st(),e=gJ().entries;return n({target:"Object",stat:!0},{entries:function(i){return e(i)}}),b$}var dC,v$;function JPe(){if(v$)return dC;v$=1,ZPe();var n=un();return dC=n.Object.entries,dC}var fC,x$;function eIe(){if(x$)return fC;x$=1;var n=JPe();return fC=n,fC}var hC,w$;function tIe(){return w$||(w$=1,hC=eIe()),hC}var nIe=tIe(),rIe=ct(nIe),_$={},S$;function iIe(){if(S$)return _$;S$=1;var n=st(),e=Hn(),r=i0();return n({target:"Object",stat:!0,sham:!e},{create:r}),_$}var pC,k$;function sIe(){if(k$)return pC;k$=1,iIe();var n=un(),e=n.Object;return pC=function(i,s){return e.create(i,s)},pC}var mC,C$;function oIe(){if(C$)return mC;C$=1;var n=sIe();return mC=n,mC}var gC,T$;function aIe(){return T$||(T$=1,gC=oIe()),gC}var lIe=aIe(),l0=ct(lIe),E$={},bC,D$;function yJ(){if(D$)return bC;D$=1;var n=bh(),e=gs(),r=Ea(),i=RangeError;return bC=function(o){var a=e(r(this)),l="",c=n(o);if(c<0||c===1/0)throw new i("Wrong number of repetitions");for(;c>0;(c>>>=1)&&(a+=a))c&1&&(l+=a);return l},bC}var yC,P$;function cIe(){if(P$)return yC;P$=1;var n=Bt(),e=QZ(),r=gs(),i=yJ(),s=Ea(),o=n(i),a=n("".slice),l=Math.ceil,c=function(u){return function(f,d,h){var p=r(s(f)),g=e(d),v=p.length,y=h===void 0?" ":r(h),b,w;return g<=v||y===""?p:(b=g-v,w=o(y,l(b/y.length)),w.length>b&&(w=a(w,0,b)),u?p+w:w+p)}};return yC={start:c(!1),end:c(!0)},yC}var vC,I$;function uIe(){if(I$)return vC;I$=1;var n=Bt(),e=jt(),r=cIe().start,i=RangeError,s=isFinite,o=Math.abs,a=Date.prototype,l=a.toISOString,c=n(a.getTime),u=n(a.getUTCDate),f=n(a.getUTCFullYear),d=n(a.getUTCHours),h=n(a.getUTCMilliseconds),p=n(a.getUTCMinutes),g=n(a.getUTCMonth),v=n(a.getUTCSeconds);return vC=e(function(){return l.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){l.call(new Date(NaN))})?function(){if(!s(c(this)))throw new i("Invalid time value");var b=this,w=f(b),k=h(b),_=w<0?"-":w>9999?"+":"";return _+r(o(w),_?6:4,0)+"-"+r(g(b)+1,2,0)+"-"+r(u(b),2,0)+"T"+r(d(b),2,0)+":"+r(p(b),2,0)+":"+r(v(b),2,0)+"."+r(k,3,0)+"Z"}:l,vC}var O$;function dIe(){if(O$)return E$;O$=1;var n=st(),e=bi(),r=yi(),i=YZ(),s=uIe(),o=To(),a=jt(),l=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return n({target:"Date",proto:!0,forced:l},{toJSON:function(u){var f=r(this),d=i(f,"number");return typeof d=="number"&&!isFinite(d)?null:!("toISOString"in f)&&o(f)==="Date"?e(s,f):f.toISOString()}}),E$}var xC,M$;function fIe(){if(M$)return xC;M$=1,dIe(),iJ();var n=un(),e=gw();return n.JSON||(n.JSON={stringify:JSON.stringify}),xC=function(i,s,o){return e(n.JSON.stringify,null,arguments)},xC}var wC,A$;function hIe(){if(A$)return wC;A$=1;var n=fIe();return wC=n,wC}var _C,R$;function pIe(){return R$||(R$=1,_C=hIe()),_C}var mIe=pIe(),ii=ct(mIe),N$={},j$={},SC,L$;function vJ(){if(L$)return SC;L$=1;var n=Nn(),e=dh(),r=To(),i=function(s){return e.slice(0,s.length)===s};return SC=function(){return i("Bun/")?"BUN":i("Cloudflare-Workers")?"CLOUDFLARE":i("Deno/")?"DENO":i("Node.js/")?"NODE":n.Bun&&typeof Bun.version=="string"?"BUN":n.Deno&&typeof Deno.version=="object"?"DENO":r(n.process)==="process"?"NODE":n.window&&n.document?"BROWSER":"REST"}(),SC}var kC,F$;function gIe(){if(F$)return kC;F$=1;var n=TypeError;return kC=function(e,r){if(e<r)throw new n("Not enough arguments");return e},kC}var CC,$$;function xJ(){if($$)return CC;$$=1;var n=Nn(),e=gw(),r=cr(),i=vJ(),s=dh(),o=yh(),a=gIe(),l=n.Function,c=/MSIE .\./.test(s)||i==="BUN"&&function(){var u=n.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return CC=function(u,f){var d=f?2:1;return c?function(h,p){var g=a(arguments.length,1)>d,v=r(h)?h:l(h),y=g?o(arguments,d):[],b=g?function(){e(v,this,y)}:v;return f?u(b,p):u(b)}:u},CC}var B$;function bIe(){if(B$)return j$;B$=1;var n=st(),e=Nn(),r=xJ(),i=r(e.setInterval,!0);return n({global:!0,bind:!0,forced:e.setInterval!==i},{setInterval:i}),j$}var z$={},U$;function yIe(){if(U$)return z$;U$=1;var n=st(),e=Nn(),r=xJ(),i=r(e.setTimeout,!0);return n({global:!0,bind:!0,forced:e.setTimeout!==i},{setTimeout:i}),z$}var q$;function wJ(){return q$||(q$=1,bIe(),yIe()),N$}var TC,W$;function vIe(){if(W$)return TC;W$=1,wJ();var n=un();return TC=n.setTimeout,TC}var EC,H$;function xIe(){return H$||(H$=1,EC=vIe()),EC}var wIe=xIe(),Pr=ct(wIe),G$={},DC,Y$;function _Ie(){if(Y$)return DC;Y$=1;var n=yi(),e=Sw(),r=Gs();return DC=function(s){for(var o=n(this),a=r(o),l=arguments.length,c=e(l>1?arguments[1]:void 0,a),u=l>2?arguments[2]:void 0,f=u===void 0?a:e(u,a);f>c;)o[c++]=s;return o},DC}var V$;function SIe(){if(V$)return G$;V$=1;var n=st(),e=_Ie(),r=a0();return n({target:"Array",proto:!0},{fill:e}),r("fill"),G$}var PC,K$;function kIe(){if(K$)return PC;K$=1,SIe();var n=jn();return PC=n("Array","fill"),PC}var IC,X$;function CIe(){if(X$)return IC;X$=1;var n=mn(),e=kIe(),r=Array.prototype;return IC=function(i){var s=i.fill;return i===r||n(r,i)&&s===r.fill?e:s},IC}var OC,Q$;function TIe(){if(Q$)return OC;Q$=1;var n=CIe();return OC=n,OC}var MC,Z$;function EIe(){return Z$||(Z$=1,MC=TIe()),MC}var DIe=EIe(),_J=ct(DIe),AC={exports:{}},J$;function PIe(){return J$||(J$=1,function(n){n.exports=e;function e(i){if(i)return r(i)}function r(i){for(var s in e.prototype)i[s]=e.prototype[s];return i}e.prototype.on=e.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},e.prototype.once=function(i,s){function o(){this.off(i,o),s.apply(this,arguments)}return o.fn=s,this.on(i,o),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+i];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var a,l=0;l<o.length;l++)if(a=o[l],a===s||a.fn===s){o.splice(l,1);break}return o.length===0&&delete this._callbacks["$"+i],this},e.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),o=this._callbacks["$"+i],a=1;a<arguments.length;a++)s[a-1]=arguments[a];if(o){o=o.slice(0);for(var a=0,l=o.length;a<l;++a)o[a].apply(this,s)}return this},e.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},e.prototype.hasListeners=function(i){return!!this.listeners(i).length}}(AC)),AC.exports}var IIe=PIe(),dR=ct(IIe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function zs(){return zs=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},zs.apply(this,arguments)}function bs(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function Lb(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var RI;typeof Object.assign!="function"?RI=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),i=1;i<arguments.length;i++){var s=arguments[i];if(s!=null)for(var o in s)s.hasOwnProperty(o)&&(r[o]=s[o])}return r}:RI=Object.assign;var du=RI,eB=["","webkit","Moz","MS","ms","o"],OIe=typeof document>"u"?{style:{}}:document.createElement("div"),MIe="function",wd=Math.round,fu=Math.abs,fR=Date.now;function Pw(n,e){for(var r,i,s=e[0].toUpperCase()+e.slice(1),o=0;o<eB.length;){if(r=eB[o],i=r?r+s:e,i in n)return i;o++}}var fa;typeof window>"u"?fa={}:fa=window;var SJ=Pw(OIe.style,"touchAction"),kJ=SJ!==void 0;function AIe(){if(!kJ)return!1;var n={},e=fa.CSS&&fa.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return n[r]=e?fa.CSS.supports("touch-action",r):!0}),n}var CJ="compute",TJ="auto",NI="manipulation",Yc="none",ag="pan-x",lg="pan-y",Fb=AIe(),RIe=/mobile|tablet|ip(ad|hone|od)|android/i,EJ="ontouchstart"in fa,NIe=Pw(fa,"PointerEvent")!==void 0,jIe=EJ&&RIe.test(navigator.userAgent),c0="touch",LIe="pen",hR="mouse",FIe="kinect",$Ie=25,Yr=1,Pu=2,Yn=4,pi=8,zv=1,u0=2,d0=4,f0=8,zf=16,xo=u0|d0,Vc=f0|zf,DJ=xo|Vc,PJ=["x","y"],Uv=["clientX","clientY"];function ha(n,e,r){var i;if(n)if(n.forEach)n.forEach(e,r);else if(n.length!==void 0)for(i=0;i<n.length;)e.call(r,n[i],i,n),i++;else for(i in n)n.hasOwnProperty(i)&&e.call(r,n[i],i,n)}function Iw(n,e){return typeof n===MIe?n.apply(e&&e[0]||void 0,e):n}function Ec(n,e){return n.indexOf(e)>-1}function BIe(n){if(Ec(n,Yc))return Yc;var e=Ec(n,ag),r=Ec(n,lg);return e&&r?Yc:e||r?e?ag:lg:Ec(n,NI)?NI:TJ}var IJ=function(){function n(r,i){this.manager=r,this.set(i)}var e=n.prototype;return e.set=function(i){i===CJ&&(i=this.compute()),kJ&&this.manager.element.style&&Fb[i]&&(this.manager.element.style[SJ]=i),this.actions=i.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var i=[];return ha(this.manager.recognizers,function(s){Iw(s.options.enable,[s])&&(i=i.concat(s.getTouchAction()))}),BIe(i.join(" "))},e.preventDefaults=function(i){var s=i.srcEvent,o=i.offsetDirection;if(this.manager.session.prevented){s.preventDefault();return}var a=this.actions,l=Ec(a,Yc)&&!Fb[Yc],c=Ec(a,lg)&&!Fb[lg],u=Ec(a,ag)&&!Fb[ag];if(l){var f=i.pointers.length===1,d=i.distance<2,h=i.deltaTime<250;if(f&&d&&h)return}if(!(u&&c)&&(l||c&&o&xo||u&&o&Vc))return this.preventSrc(s)},e.preventSrc=function(i){this.manager.session.prevented=!0,i.preventDefault()},n}();function pR(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function OJ(n){var e=n.length;if(e===1)return{x:wd(n[0].clientX),y:wd(n[0].clientY)};for(var r=0,i=0,s=0;s<e;)r+=n[s].clientX,i+=n[s].clientY,s++;return{x:wd(r/e),y:wd(i/e)}}function tB(n){for(var e=[],r=0;r<n.pointers.length;)e[r]={clientX:wd(n.pointers[r].clientX),clientY:wd(n.pointers[r].clientY)},r++;return{timeStamp:fR(),pointers:e,center:OJ(e),deltaX:n.deltaX,deltaY:n.deltaY}}function qv(n,e,r){r||(r=PJ);var i=e[r[0]]-n[r[0]],s=e[r[1]]-n[r[1]];return Math.sqrt(i*i+s*s)}function jI(n,e,r){r||(r=PJ);var i=e[r[0]]-n[r[0]],s=e[r[1]]-n[r[1]];return Math.atan2(s,i)*180/Math.PI}function MJ(n,e){return n===e?zv:fu(n)>=fu(e)?n<0?u0:d0:e<0?f0:zf}function zIe(n,e){var r=e.center,i=n.offsetDelta||{},s=n.prevDelta||{},o=n.prevInput||{};(e.eventType===Yr||o.eventType===Yn)&&(s=n.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=n.offsetDelta={x:r.x,y:r.y}),e.deltaX=s.x+(r.x-i.x),e.deltaY=s.y+(r.y-i.y)}function AJ(n,e,r){return{x:e/n||0,y:r/n||0}}function UIe(n,e){return qv(e[0],e[1],Uv)/qv(n[0],n[1],Uv)}function qIe(n,e){return jI(e[1],e[0],Uv)+jI(n[1],n[0],Uv)}function WIe(n,e){var r=n.lastInterval||e,i=e.timeStamp-r.timeStamp,s,o,a,l;if(e.eventType!==pi&&(i>$Ie||r.velocity===void 0)){var c=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,f=AJ(i,c,u);o=f.x,a=f.y,s=fu(f.x)>fu(f.y)?f.x:f.y,l=MJ(c,u),n.lastInterval=e}else s=r.velocity,o=r.velocityX,a=r.velocityY,l=r.direction;e.velocity=s,e.velocityX=o,e.velocityY=a,e.direction=l}function HIe(n,e){var r=n.session,i=e.pointers,s=i.length;r.firstInput||(r.firstInput=tB(e)),s>1&&!r.firstMultiple?r.firstMultiple=tB(e):s===1&&(r.firstMultiple=!1);var o=r.firstInput,a=r.firstMultiple,l=a?a.center:o.center,c=e.center=OJ(i);e.timeStamp=fR(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=jI(l,c),e.distance=qv(l,c),zIe(r,e),e.offsetDirection=MJ(e.deltaX,e.deltaY);var u=AJ(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=fu(u.x)>fu(u.y)?u.x:u.y,e.scale=a?UIe(a.pointers,i):1,e.rotation=a?qIe(a.pointers,i):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,WIe(r,e);var f=n.element,d=e.srcEvent,h;d.composedPath?h=d.composedPath()[0]:d.path?h=d.path[0]:h=d.target,pR(h,f)&&(f=h),e.target=f}function GIe(n,e,r){var i=r.pointers.length,s=r.changedPointers.length,o=e&Yr&&i-s===0,a=e&(Yn|pi)&&i-s===0;r.isFirst=!!o,r.isFinal=!!a,o&&(n.session={}),r.eventType=e,HIe(n,r),n.emit("hammer.input",r),n.recognize(r),n.session.prevInput=r}function cg(n){return n.trim().split(/\s+/g)}function em(n,e,r){ha(cg(e),function(i){n.addEventListener(i,r,!1)})}function tm(n,e,r){ha(cg(e),function(i){n.removeEventListener(i,r,!1)})}function nB(n){var e=n.ownerDocument||n;return e.defaultView||e.parentWindow||window}var _h=function(){function n(r,i){var s=this;this.manager=r,this.callback=i,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(o){Iw(r.options.enable,[r])&&s.handler(o)},this.init()}var e=n.prototype;return e.handler=function(){},e.init=function(){this.evEl&&em(this.element,this.evEl,this.domHandler),this.evTarget&&em(this.target,this.evTarget,this.domHandler),this.evWin&&em(nB(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&tm(this.element,this.evEl,this.domHandler),this.evTarget&&tm(this.target,this.evTarget,this.domHandler),this.evWin&&tm(nB(this.element),this.evWin,this.domHandler)},n}();function hu(n,e,r){if(n.indexOf&&!r)return n.indexOf(e);for(var i=0;i<n.length;){if(r&&n[i][r]==e||!r&&n[i]===e)return i;i++}return-1}var YIe={pointerdown:Yr,pointermove:Pu,pointerup:Yn,pointercancel:pi,pointerout:pi},VIe={2:c0,3:LIe,4:hR,5:FIe},RJ="pointerdown",NJ="pointermove pointerup pointercancel";fa.MSPointerEvent&&!fa.PointerEvent&&(RJ="MSPointerDown",NJ="MSPointerMove MSPointerUp MSPointerCancel");var jJ=function(n){bs(e,n);function e(){var i,s=e.prototype;return s.evEl=RJ,s.evWin=NJ,i=n.apply(this,arguments)||this,i.store=i.manager.session.pointerEvents=[],i}var r=e.prototype;return r.handler=function(s){var o=this.store,a=!1,l=s.type.toLowerCase().replace("ms",""),c=YIe[l],u=VIe[s.pointerType]||s.pointerType,f=u===c0,d=hu(o,s.pointerId,"pointerId");c&Yr&&(s.button===0||f)?d<0&&(o.push(s),d=o.length-1):c&(Yn|pi)&&(a=!0),!(d<0)&&(o[d]=s,this.callback(this.manager,c,{pointers:o,changedPointers:[s],pointerType:u,srcEvent:s}),a&&o.splice(d,1))},e}(_h);function ug(n){return Array.prototype.slice.call(n,0)}function mR(n,e,r){for(var i=[],s=[],o=0;o<n.length;){var a=e?n[o][e]:n[o];hu(s,a)<0&&i.push(n[o]),s[o]=a,o++}return r&&(e?i=i.sort(function(l,c){return l[e]>c[e]}):i=i.sort()),i}var KIe={touchstart:Yr,touchmove:Pu,touchend:Yn,touchcancel:pi},XIe="touchstart touchmove touchend touchcancel",gR=function(n){bs(e,n);function e(){var i;return e.prototype.evTarget=XIe,i=n.apply(this,arguments)||this,i.targetIds={},i}var r=e.prototype;return r.handler=function(s){var o=KIe[s.type],a=QIe.call(this,s,o);a&&this.callback(this.manager,o,{pointers:a[0],changedPointers:a[1],pointerType:c0,srcEvent:s})},e}(_h);function QIe(n,e){var r=ug(n.touches),i=this.targetIds;if(e&(Yr|Pu)&&r.length===1)return i[r[0].identifier]=!0,[r,r];var s,o,a=ug(n.changedTouches),l=[],c=this.target;if(o=r.filter(function(u){return pR(u.target,c)}),e===Yr)for(s=0;s<o.length;)i[o[s].identifier]=!0,s++;for(s=0;s<a.length;)i[a[s].identifier]&&l.push(a[s]),e&(Yn|pi)&&delete i[a[s].identifier],s++;if(l.length)return[mR(o.concat(l),"identifier",!0),l]}var ZIe={mousedown:Yr,mousemove:Pu,mouseup:Yn},JIe="mousedown",eOe="mousemove mouseup",bR=function(n){bs(e,n);function e(){var i,s=e.prototype;return s.evEl=JIe,s.evWin=eOe,i=n.apply(this,arguments)||this,i.pressed=!1,i}var r=e.prototype;return r.handler=function(s){var o=ZIe[s.type];o&Yr&&s.button===0&&(this.pressed=!0),o&Pu&&s.which!==1&&(o=Yn),this.pressed&&(o&Yn&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[s],changedPointers:[s],pointerType:hR,srcEvent:s}))},e}(_h),tOe=2500,rB=25;function iB(n){var e=n.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var i={x:r.clientX,y:r.clientY},s=this.lastTouches;this.lastTouches.push(i);var o=function(){var l=s.indexOf(i);l>-1&&s.splice(l,1)};setTimeout(o,tOe)}}function nOe(n,e){n&Yr?(this.primaryTouch=e.changedPointers[0].identifier,iB.call(this,e)):n&(Yn|pi)&&iB.call(this,e)}function rOe(n){for(var e=n.srcEvent.clientX,r=n.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var s=this.lastTouches[i],o=Math.abs(e-s.x),a=Math.abs(r-s.y);if(o<=rB&&a<=rB)return!0}return!1}var LJ=function(){var n=function(e){bs(r,e);function r(s,o){var a;return a=e.call(this,s,o)||this,a.handler=function(l,c,u){var f=u.pointerType===c0,d=u.pointerType===hR;if(!(d&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(f)nOe.call(Lb(Lb(a)),c,u);else if(d&&rOe.call(Lb(Lb(a)),u))return;a.callback(l,c,u)}},a.touch=new gR(a.manager,a.handler),a.mouse=new bR(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var i=r.prototype;return i.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(_h);return n}();function iOe(n){var e,r=n.options.inputClass;return r?e=r:NIe?e=jJ:jIe?e=gR:EJ?e=LJ:e=bR,new e(n,GIe)}function _d(n,e,r){return Array.isArray(n)?(ha(n,r[e],r),!0):!1}var Iy=1,us=2,Uf=4,Pl=8,pa=Pl,dg=16,ho=32,sOe=1;function oOe(){return sOe++}function $b(n,e){var r=e.manager;return r?r.get(n):n}function sB(n){return n&dg?"cancel":n&Pl?"end":n&Uf?"move":n&us?"start":""}var h0=function(){function n(r){r===void 0&&(r={}),this.options=zs({enable:!0},r),this.id=oOe(),this.manager=null,this.state=Iy,this.simultaneous={},this.requireFail=[]}var e=n.prototype;return e.set=function(i){return du(this.options,i),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(i){if(_d(i,"recognizeWith",this))return this;var s=this.simultaneous;return i=$b(i,this),s[i.id]||(s[i.id]=i,i.recognizeWith(this)),this},e.dropRecognizeWith=function(i){return _d(i,"dropRecognizeWith",this)?this:(i=$b(i,this),delete this.simultaneous[i.id],this)},e.requireFailure=function(i){if(_d(i,"requireFailure",this))return this;var s=this.requireFail;return i=$b(i,this),hu(s,i)===-1&&(s.push(i),i.requireFailure(this)),this},e.dropRequireFailure=function(i){if(_d(i,"dropRequireFailure",this))return this;i=$b(i,this);var s=hu(this.requireFail,i);return s>-1&&this.requireFail.splice(s,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(i){return!!this.simultaneous[i.id]},e.emit=function(i){var s=this,o=this.state;function a(l){s.manager.emit(l,i)}o<Pl&&a(s.options.event+sB(o)),a(s.options.event),i.additionalEvent&&a(i.additionalEvent),o>=Pl&&a(s.options.event+sB(o))},e.tryEmit=function(i){if(this.canEmit())return this.emit(i);this.state=ho},e.canEmit=function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(ho|Iy)))return!1;i++}return!0},e.recognize=function(i){var s=du({},i);if(!Iw(this.options.enable,[this,s])){this.reset(),this.state=ho;return}this.state&(pa|dg|ho)&&(this.state=Iy),this.state=this.process(s),this.state&(us|Uf|Pl|dg)&&this.tryEmit(s)},e.process=function(i){},e.getTouchAction=function(){},e.reset=function(){},n}(),LI=function(n){bs(e,n);function e(i){var s;return i===void 0&&(i={}),s=n.call(this,zs({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this,s.pTime=!1,s.pCenter=!1,s._timer=null,s._input=null,s.count=0,s}var r=e.prototype;return r.getTouchAction=function(){return[NI]},r.process=function(s){var o=this,a=this.options,l=s.pointers.length===a.pointers,c=s.distance<a.threshold,u=s.deltaTime<a.time;if(this.reset(),s.eventType&Yr&&this.count===0)return this.failTimeout();if(c&&u&&l){if(s.eventType!==Yn)return this.failTimeout();var f=this.pTime?s.timeStamp-this.pTime<a.interval:!0,d=!this.pCenter||qv(this.pCenter,s.center)<a.posThreshold;this.pTime=s.timeStamp,this.pCenter=s.center,!d||!f?this.count=1:this.count+=1,this._input=s;var h=this.count%a.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){o.state=pa,o.tryEmit()},a.interval),us):pa}return ho},r.failTimeout=function(){var s=this;return this._timer=setTimeout(function(){s.state=ho},this.options.interval),ho},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===pa&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(h0),qf=function(n){bs(e,n);function e(i){return i===void 0&&(i={}),n.call(this,zs({pointers:1},i))||this}var r=e.prototype;return r.attrTest=function(s){var o=this.options.pointers;return o===0||s.pointers.length===o},r.process=function(s){var o=this.state,a=s.eventType,l=o&(us|Uf),c=this.attrTest(s);return l&&(a&pi||!c)?o|dg:l||c?a&Yn?o|Pl:o&us?o|Uf:us:ho},e}(h0);function FJ(n){return n===zf?"down":n===f0?"up":n===u0?"left":n===d0?"right":""}var yR=function(n){bs(e,n);function e(i){var s;return i===void 0&&(i={}),s=n.call(this,zs({event:"pan",threshold:10,pointers:1,direction:DJ},i))||this,s.pX=null,s.pY=null,s}var r=e.prototype;return r.getTouchAction=function(){var s=this.options.direction,o=[];return s&xo&&o.push(lg),s&Vc&&o.push(ag),o},r.directionTest=function(s){var o=this.options,a=!0,l=s.distance,c=s.direction,u=s.deltaX,f=s.deltaY;return c&o.direction||(o.direction&xo?(c=u===0?zv:u<0?u0:d0,a=u!==this.pX,l=Math.abs(s.deltaX)):(c=f===0?zv:f<0?f0:zf,a=f!==this.pY,l=Math.abs(s.deltaY))),s.direction=c,a&&l>o.threshold&&c&o.direction},r.attrTest=function(s){return qf.prototype.attrTest.call(this,s)&&(this.state&us||!(this.state&us)&&this.directionTest(s))},r.emit=function(s){this.pX=s.deltaX,this.pY=s.deltaY;var o=FJ(s.direction);o&&(s.additionalEvent=this.options.event+o),n.prototype.emit.call(this,s)},e}(qf),$J=function(n){bs(e,n);function e(i){return i===void 0&&(i={}),n.call(this,zs({event:"swipe",threshold:10,velocity:.3,direction:xo|Vc,pointers:1},i))||this}var r=e.prototype;return r.getTouchAction=function(){return yR.prototype.getTouchAction.call(this)},r.attrTest=function(s){var o=this.options.direction,a;return o&(xo|Vc)?a=s.overallVelocity:o&xo?a=s.overallVelocityX:o&Vc&&(a=s.overallVelocityY),n.prototype.attrTest.call(this,s)&&o&s.offsetDirection&&s.distance>this.options.threshold&&s.maxPointers===this.options.pointers&&fu(a)>this.options.velocity&&s.eventType&Yn},r.emit=function(s){var o=FJ(s.offsetDirection);o&&this.manager.emit(this.options.event+o,s),this.manager.emit(this.options.event,s)},e}(qf),BJ=function(n){bs(e,n);function e(i){return i===void 0&&(i={}),n.call(this,zs({event:"pinch",threshold:0,pointers:2},i))||this}var r=e.prototype;return r.getTouchAction=function(){return[Yc]},r.attrTest=function(s){return n.prototype.attrTest.call(this,s)&&(Math.abs(s.scale-1)>this.options.threshold||this.state&us)},r.emit=function(s){if(s.scale!==1){var o=s.scale<1?"in":"out";s.additionalEvent=this.options.event+o}n.prototype.emit.call(this,s)},e}(qf),zJ=function(n){bs(e,n);function e(i){return i===void 0&&(i={}),n.call(this,zs({event:"rotate",threshold:0,pointers:2},i))||this}var r=e.prototype;return r.getTouchAction=function(){return[Yc]},r.attrTest=function(s){return n.prototype.attrTest.call(this,s)&&(Math.abs(s.rotation)>this.options.threshold||this.state&us)},e}(qf),UJ=function(n){bs(e,n);function e(i){var s;return i===void 0&&(i={}),s=n.call(this,zs({event:"press",pointers:1,time:251,threshold:9},i))||this,s._timer=null,s._input=null,s}var r=e.prototype;return r.getTouchAction=function(){return[TJ]},r.process=function(s){var o=this,a=this.options,l=s.pointers.length===a.pointers,c=s.distance<a.threshold,u=s.deltaTime>a.time;if(this._input=s,!c||!l||s.eventType&(Yn|pi)&&!u)this.reset();else if(s.eventType&Yr)this.reset(),this._timer=setTimeout(function(){o.state=pa,o.tryEmit()},a.time);else if(s.eventType&Yn)return pa;return ho},r.reset=function(){clearTimeout(this._timer)},r.emit=function(s){this.state===pa&&(s&&s.eventType&Yn?this.manager.emit(this.options.event+"up",s):(this._input.timeStamp=fR(),this.manager.emit(this.options.event,this._input)))},e}(h0),qJ={domEvents:!1,touchAction:CJ,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},oB=[[zJ,{enable:!1}],[BJ,{enable:!1},["rotate"]],[$J,{direction:xo}],[yR,{direction:xo},["swipe"]],[LI],[LI,{event:"doubletap",taps:2},["tap"]],[UJ]],aOe=1,aB=2;function lB(n,e){var r=n.element;if(r.style){var i;ha(n.options.cssProps,function(s,o){i=Pw(r.style,o),e?(n.oldCssProps[i]=r.style[i],r.style[i]=s):r.style[i]=n.oldCssProps[i]||""}),e||(n.oldCssProps={})}}function lOe(n,e){var r=document.createEvent("Event");r.initEvent(n,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var cB=function(){function n(r,i){var s=this;this.options=du({},qJ,i||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=iOe(this),this.touchAction=new IJ(this,this.options.touchAction),lB(this,!0),ha(this.options.recognizers,function(o){var a=s.add(new o[0](o[1]));o[2]&&a.recognizeWith(o[2]),o[3]&&a.requireFailure(o[3])},this)}var e=n.prototype;return e.set=function(i){return du(this.options,i),i.touchAction&&this.touchAction.update(),i.inputTarget&&(this.input.destroy(),this.input.target=i.inputTarget,this.input.init()),this},e.stop=function(i){this.session.stopped=i?aB:aOe},e.recognize=function(i){var s=this.session;if(!s.stopped){this.touchAction.preventDefaults(i);var o,a=this.recognizers,l=s.curRecognizer;(!l||l&&l.state&pa)&&(s.curRecognizer=null,l=null);for(var c=0;c<a.length;)o=a[c],s.stopped!==aB&&(!l||o===l||o.canRecognizeWith(l))?o.recognize(i):o.reset(),!l&&o.state&(us|Uf|Pl)&&(s.curRecognizer=o,l=o),c++}},e.get=function(i){if(i instanceof h0)return i;for(var s=this.recognizers,o=0;o<s.length;o++)if(s[o].options.event===i)return s[o];return null},e.add=function(i){if(_d(i,"add",this))return this;var s=this.get(i.options.event);return s&&this.remove(s),this.recognizers.push(i),i.manager=this,this.touchAction.update(),i},e.remove=function(i){if(_d(i,"remove",this))return this;var s=this.get(i);if(i){var o=this.recognizers,a=hu(o,s);a!==-1&&(o.splice(a,1),this.touchAction.update())}return this},e.on=function(i,s){if(i===void 0||s===void 0)return this;var o=this.handlers;return ha(cg(i),function(a){o[a]=o[a]||[],o[a].push(s)}),this},e.off=function(i,s){if(i===void 0)return this;var o=this.handlers;return ha(cg(i),function(a){s?o[a]&&o[a].splice(hu(o[a],s),1):delete o[a]}),this},e.emit=function(i,s){this.options.domEvents&&lOe(i,s);var o=this.handlers[i]&&this.handlers[i].slice();if(!(!o||!o.length)){s.type=i,s.preventDefault=function(){s.srcEvent.preventDefault()};for(var a=0;a<o.length;)o[a](s),a++}},e.destroy=function(){this.element&&lB(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n}(),cOe={touchstart:Yr,touchmove:Pu,touchend:Yn,touchcancel:pi},uOe="touchstart",dOe="touchstart touchmove touchend touchcancel",fOe=function(n){bs(e,n);function e(){var i,s=e.prototype;return s.evTarget=uOe,s.evWin=dOe,i=n.apply(this,arguments)||this,i.started=!1,i}var r=e.prototype;return r.handler=function(s){var o=cOe[s.type];if(o===Yr&&(this.started=!0),!!this.started){var a=hOe.call(this,s,o);o&(Yn|pi)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,o,{pointers:a[0],changedPointers:a[1],pointerType:c0,srcEvent:s})}},e}(_h);function hOe(n,e){var r=ug(n.touches),i=ug(n.changedTouches);return e&(Yn|pi)&&(r=mR(r.concat(i),"identifier",!0)),[r,i]}function WJ(n,e,r){var i="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var s=new Error("get-stack-trace"),o=s&&s.stack?s.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,i,o),n.apply(this,arguments)}}var HJ=WJ(function(n,e,r){for(var i=Object.keys(e),s=0;s<i.length;)(!r||r&&n[i[s]]===void 0)&&(n[i[s]]=e[i[s]]),s++;return n},"extend","Use `assign`."),pOe=WJ(function(n,e){return HJ(n,e,!0)},"merge","Use `assign`.");function mOe(n,e,r){var i=e.prototype,s;s=n.prototype=Object.create(i),s.constructor=n,s._super=i,r&&du(s,r)}function uB(n,e){return function(){return n.apply(e,arguments)}}var vR=function(){var n=function(r,i){return i===void 0&&(i={}),new cB(r,zs({recognizers:oB.concat()},i))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=DJ,n.DIRECTION_DOWN=zf,n.DIRECTION_LEFT=u0,n.DIRECTION_RIGHT=d0,n.DIRECTION_UP=f0,n.DIRECTION_HORIZONTAL=xo,n.DIRECTION_VERTICAL=Vc,n.DIRECTION_NONE=zv,n.DIRECTION_DOWN=zf,n.INPUT_START=Yr,n.INPUT_MOVE=Pu,n.INPUT_END=Yn,n.INPUT_CANCEL=pi,n.STATE_POSSIBLE=Iy,n.STATE_BEGAN=us,n.STATE_CHANGED=Uf,n.STATE_ENDED=Pl,n.STATE_RECOGNIZED=pa,n.STATE_CANCELLED=dg,n.STATE_FAILED=ho,n.Manager=cB,n.Input=_h,n.TouchAction=IJ,n.TouchInput=gR,n.MouseInput=bR,n.PointerEventInput=jJ,n.TouchMouseInput=LJ,n.SingleTouchInput=fOe,n.Recognizer=h0,n.AttrRecognizer=qf,n.Tap=LI,n.Pan=yR,n.Swipe=$J,n.Pinch=BJ,n.Rotate=zJ,n.Press=UJ,n.on=em,n.off=tm,n.each=ha,n.merge=pOe,n.extend=HJ,n.bindFn=uB,n.assign=du,n.inherit=mOe,n.bindFn=uB,n.prefixed=Pw,n.toArray=ug,n.inArray=hu,n.uniqueArray=mR,n.splitStr=cg,n.boolOrFn=Iw,n.hasParent=pR,n.addEventListeners=em,n.removeEventListeners=tm,n.defaults=du({},qJ,{preset:oB}),n}();vR.defaults;const xR=KEe("DELETE");function GJ(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return wR({},n,...r)}function wR(){const n=Wv(...arguments);return VJ(n),n}function Wv(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return Wv(wR(e[0],e[1]),...xh(e).call(e,2));const i=e[0],s=e[1];if(i instanceof Date&&s instanceof Date)return i.setTime(s.getTime()),i;for(const o of pJ(s))Object.prototype.propertyIsEnumerable.call(s,o)&&(s[o]===xR?delete i[o]:i[o]!==null&&s[o]!==null&&typeof i[o]=="object"&&typeof s[o]=="object"&&!Et(i[o])&&!Et(s[o])?i[o]=Wv(i[o],s[o]):i[o]=YJ(s[o]));return i}function YJ(n){return Et(n)?Vt(n).call(n,e=>YJ(e)):typeof n=="object"&&n!==null?n instanceof Date?new Date(n.getTime()):Wv({},n):n}function VJ(n){for(const e of er(n))n[e]===xR?delete n[e]:typeof n[e]=="object"&&n[e]!==null&&VJ(n[e])}function gOe(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return bOe(e.length?e:[Ci()])}function bOe(n){let[e,r,i]=yOe(n),s=1;const o=()=>{const a=2091639*e+s*23283064365386963e-26;return e=r,r=i,i=a-(s=a|0)};return o.uint32=()=>o()*4294967296,o.fract53=()=>o()+(o()*2097152|0)*11102230246251565e-32,o.algorithm="Alea",o.seed=n,o.version="0.9",o}function yOe(){const n=vOe();let e=n(" "),r=n(" "),i=n(" ");for(let s=0;s<arguments.length;s++)e-=n(s<0||arguments.length<=s?void 0:arguments[s]),e<0&&(e+=1),r-=n(s<0||arguments.length<=s?void 0:arguments[s]),r<0&&(r+=1),i-=n(s<0||arguments.length<=s?void 0:arguments[s]),i<0&&(i+=1);return[e,r,i]}function vOe(){let n=4022871197;return function(e){const r=e.toString();for(let i=0;i<r.length;i++){n+=r.charCodeAt(i);let s=.02519603282416938*n;n=s>>>0,s-=n,s*=n,n=s>>>0,s-=n,n+=s*4294967296}return(n>>>0)*23283064365386963e-26}}function xOe(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}const _R=typeof window<"u"?window.Hammer||vR:function(){return xOe()};function po(n){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=_R(this._dom.overlay);r.on("tap",ke(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Qe(i).call(i,s=>{r.on(s,o=>{o.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=s=>{wOe(s.target,n)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=s=>{("key"in s?s.key==="Escape":s.keyCode===27)&&this.deactivate()}}dR(po.prototype);po.current=null;po.prototype.destroy=function(){this.deactivate();for(const r of VDe(n=Ur(e=this._cleanupQueue).call(e,0)).call(n)){var n,e;r()}};po.prototype.activate=function(){po.current&&po.current.deactivate(),po.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};po.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};po.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};function wOe(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}const _Oe=/^\/?Date\((-?\d+)/i,SOe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,kOe=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,COe=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,TOe=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function nm(n){return n instanceof Number||typeof n=="number"}function KJ(n){if(n)for(;n.hasChildNodes()===!0;){const e=n.firstChild;e&&(KJ(e),n.removeChild(e))}}function Ei(n){return n instanceof String||typeof n=="string"}function FI(n){return typeof n=="object"&&n!==null}function EOe(n){if(n instanceof Date)return!0;if(Ei(n)){if(_Oe.exec(n))return!0;if(!isNaN(Date.parse(n)))return!0}return!1}function pu(n,e,r,i){let s=!1;i===!0&&(s=e[r]===null&&n[r]!==void 0),s?delete n[r]:n[r]=e[r]}function XJ(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const i in n)if(e[i]!==void 0)if(e[i]===null||typeof e[i]!="object")pu(n,e,i,r);else{const s=n[i],o=e[i];FI(s)&&FI(o)&&XJ(s,o,r)}}const DOe=Sa;function POe(n,e){if(!Et(n))throw new Error("Array with property names expected as first argument");for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];for(const o of i)for(let a=0;a<n.length;a++){const l=n[a];o&&Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])}return e}function IOe(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Et(r))throw new TypeError("Arrays are not supported by deepExtend");for(let s=0;s<n.length;s++){const o=n[s];if(Object.prototype.hasOwnProperty.call(r,o))if(r[o]&&r[o].constructor===Object)e[o]===void 0&&(e[o]={}),e[o].constructor===Object?fg(e[o],r[o],!1,i):pu(e,r,o,i);else{if(Et(r[o]))throw new TypeError("Arrays are not supported by deepExtend");pu(e,r,o,i)}}return e}function OOe(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Et(r))throw new TypeError("Arrays are not supported by deepExtend");for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&!Bf(n).call(n,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?fg(e[s],r[s]):pu(e,r,s,i);else if(Et(r[s])){e[s]=[];for(let o=0;o<r[s].length;o++)e[s].push(r[s][o])}else pu(e,r,s,i);return e}function fg(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)||r===!0)if(typeof e[o]=="object"&&e[o]!==null&&B7(e[o])===Object.prototype)n[o]===void 0?n[o]=fg({},e[o],r):typeof n[o]=="object"&&n[o]!==null&&B7(n[o])===Object.prototype?fg(n[o],e[o],r):pu(n,e,o,i);else if(Et(e[o])){var s;n[o]=xh(s=e[o]).call(s)}else pu(n,e,o,i);return n}function MOe(n,e){if(n.length!==e.length)return!1;for(let r=0,i=n.length;r<i;r++)if(n[r]!=e[r])return!1;return!0}function Ap(n){const e=typeof n;return e==="object"?n===null?"null":n instanceof Boolean?"Boolean":n instanceof Number?"Number":n instanceof String?"String":Et(n)?"Array":n instanceof Date?"Date":"Object":e==="number"?"Number":e==="boolean"?"Boolean":e==="string"?"String":e===void 0?"undefined":e}function hg(n,e){return[...n,e]}function QJ(n){return xh(n).call(n)}function AOe(n){return n.getBoundingClientRect().left}function ROe(n){return n.getBoundingClientRect().right}function NOe(n){return n.getBoundingClientRect().top}function jOe(n,e){let r=n.className.split(" ");const i=e.split(" ");r=$n(r).call(r,dt(i).call(i,function(s){return!Bf(r).call(r,s)})),n.className=r.join(" ")}function LOe(n,e){let r=n.className.split(" ");const i=e.split(" ");r=dt(r).call(r,function(s){return!Bf(i).call(i,s)}),n.className=r.join(" ")}function FOe(n,e){if(Et(n)){const r=n.length;for(let i=0;i<r;i++)e(n[i],i,n)}else for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e(n[r],r,n)}const $Oe=cR;function BOe(n,e,r){return n[e]!==r?(n[e]=r,!0):!1}function zOe(n){let e=!1;return()=>{e||(e=!0,requestAnimationFrame(()=>{e=!1,n()}))}}function UOe(n){n||(n=window.event),n&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}function qOe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event,e=null;return n&&(n.target?e=n.target:n.srcElement&&(e=n.srcElement)),!(e instanceof Element)||e.nodeType!=null&&e.nodeType==3&&(e=e.parentNode,!(e instanceof Element))?null:e}function WOe(n,e){let r=n;for(;r;){if(r===e)return!0;if(r.parentNode)r=r.parentNode;else return!1}return!1}const HOe={asBoolean(n,e){return typeof n=="function"&&(n=n()),n!=null?n!=!1:e||null},asNumber(n,e){return typeof n=="function"&&(n=n()),n!=null?Number(n)||e||null:e||null},asString(n,e){return typeof n=="function"&&(n=n()),n!=null?String(n):e||null},asSize(n,e){return typeof n=="function"&&(n=n()),Ei(n)?n:nm(n)?n+"px":e||null},asElement(n,e){return typeof n=="function"&&(n=n()),n||e||null}};function Ow(n){let e;switch(n.length){case 3:case 4:return e=kOe.exec(n),e?{r:Ti(e[1]+e[1],16),g:Ti(e[2]+e[2],16),b:Ti(e[3]+e[3],16)}:null;case 6:case 7:return e=SOe.exec(n),e?{r:Ti(e[1],16),g:Ti(e[2],16),b:Ti(e[3],16)}:null;default:return null}}function GOe(n,e){if(Bf(n).call(n,"rgba"))return n;if(Bf(n).call(n,"rgb")){const r=n.substr(tn(n).call(n,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=Ow(n);return r==null?n:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function SR(n,e,r){var i;return"#"+xh(i=((1<<24)+(n<<16)+(e<<8)+r).toString(16)).call(i,1)}function YOe(n,e){if(Ei(n)){let i=n;if(CR(i)){var r;const s=Vt(r=i.substr(4).substr(0,i.length-5).split(",")).call(r,function(o){return Ti(o)});i=SR(s[0],s[1],s[2])}if(kR(i)===!0){const s=JJ(i),o={h:s.h,s:s.s*.8,v:Math.min(1,s.v*1.02)},a={h:s.h,s:Math.min(1,s.s*1.25),v:s.v*.8},l=$I(a.h,a.s,a.v),c=$I(o.h,o.s,o.v);return{background:i,border:l,highlight:{background:c,border:l},hover:{background:c,border:l}}}else return{background:i,border:i,highlight:{background:i,border:i},hover:{background:i,border:i}}}else return e?{background:n.background||e.background,border:n.border||e.border,highlight:Ei(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||e.highlight.background,border:n.highlight&&n.highlight.border||e.highlight.border},hover:Ei(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||e.hover.border,background:n.hover&&n.hover.background||e.hover.background}}:{background:n.background||void 0,border:n.border||void 0,highlight:Ei(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||void 0,border:n.highlight&&n.highlight.border||void 0},hover:Ei(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||void 0,background:n.hover&&n.hover.background||void 0}}}function Sd(n,e,r){n=n/255,e=e/255,r=r/255;const i=Math.min(n,Math.min(e,r)),s=Math.max(n,Math.max(e,r));if(i===s)return{h:0,s:0,v:i};const o=n===i?e-r:r===i?n-e:r-n,l=60*((n===i?3:r===i?1:5)-o/(s-i))/360,c=(s-i)/s;return{h:l,s:c,v:s}}function ZJ(n){const e=document.createElement("div"),r={};e.style.cssText=n;for(let i=0;i<e.style.length;++i)r[e.style[i]]=e.style.getPropertyValue(e.style[i]);return r}function VOe(n,e){const r=ZJ(e);for(const[i,s]of rIe(r))n.style.setProperty(i,s)}function KOe(n,e){const r=ZJ(e);for(const i of er(r))n.style.removeProperty(i)}function rm(n,e,r){let i,s,o;const a=Math.floor(n*6),l=n*6-a,c=r*(1-e),u=r*(1-l*e),f=r*(1-(1-l)*e);switch(a%6){case 0:i=r,s=f,o=c;break;case 1:i=u,s=r,o=c;break;case 2:i=c,s=r,o=f;break;case 3:i=c,s=u,o=r;break;case 4:i=f,s=c,o=r;break;case 5:i=r,s=c,o=u;break}return{r:Math.floor(i*255),g:Math.floor(s*255),b:Math.floor(o*255)}}function $I(n,e,r){const i=rm(n,e,r);return SR(i.r,i.g,i.b)}function JJ(n){const e=Ow(n);if(!e)throw new TypeError("'".concat(n,"' is not a valid color."));return Sd(e.r,e.g,e.b)}function kR(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)}function CR(n){return COe.test(n)}function eee(n){return TOe.test(n)}function XOe(n,e){if(e!==null&&typeof e=="object"){const r=l0(e);for(let i=0;i<n.length;i++)Object.prototype.hasOwnProperty.call(e,n[i])&&typeof e[n[i]]=="object"&&(r[n[i]]=TR(e[n[i]]));return r}else return null}function TR(n){if(n===null||typeof n!="object")return null;if(n instanceof Element)return n;const e=l0(n);for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&typeof n[r]=="object"&&(e[r]=TR(n[r]));return e}function QOe(n,e){for(let r=0;r<n.length;r++){const i=n[r];let s;for(s=r;s>0&&e(i,n[s-1])<0;s--)n[s]=n[s-1];n[s]=i}return n}function ZOe(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=function(p){return p!=null},o=function(p){return p!==null&&typeof p=="object"},a=function(p){for(const g in p)if(Object.prototype.hasOwnProperty.call(p,g))return!1;return!0};if(!o(n))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!s(r))throw new Error("Parameter option must have a value");if(!o(i))throw new Error("Parameter globalOptions must be an object");const l=function(p,g,v){o(p[v])||(p[v]={});const y=g[v],b=p[v];for(const w in y)Object.prototype.hasOwnProperty.call(y,w)&&(b[w]=y[w])},c=e[r],f=o(i)&&!a(i)?i[r]:void 0,d=f?f.enabled:void 0;if(c===void 0)return;if(typeof c=="boolean"){o(n[r])||(n[r]={}),n[r].enabled=c;return}if(c===null&&!o(n[r]))if(s(f))n[r]=l0(f);else return;if(!o(c))return;let h=!0;c.enabled!==void 0?h=c.enabled:d!==void 0&&(h=f.enabled),l(n,e,r),n[r].enabled=h}function JOe(n,e,r,i){let o=0,a=0,l=n.length-1;for(;a<=l&&o<1e4;){const c=Math.floor((a+l)/2),u=n[c],f=i===void 0?u[r]:u[r][i],d=e(f);if(d==0)return c;d==-1?a=c+1:l=c-1,o++}return-1}function eMe(n,e,r,i,s){let a=0,l=0,c=n.length-1,u,f,d,h;for(s=s??function(p,g){return p==g?0:p<g?-1:1};l<=c&&a<1e4;){if(h=Math.floor(.5*(c+l)),u=n[Math.max(0,h-1)][r],f=n[h][r],d=n[Math.min(n.length-1,h+1)][r],s(f,e)==0)return h;if(s(u,e)<0&&s(f,e)>0)return i=="before"?Math.max(0,h-1):h;if(s(f,e)<0&&s(d,e)>0)return i=="before"?h:Math.min(n.length-1,h+1);s(f,e)<0?l=h+1:c=h-1,a++}return-1}const tMe={linear(n){return n},easeInQuad(n){return n*n},easeOutQuad(n){return n*(2-n)},easeInOutQuad(n){return n<.5?2*n*n:-1+(4-2*n)*n},easeInCubic(n){return n*n*n},easeOutCubic(n){return--n*n*n+1},easeInOutCubic(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart(n){return n*n*n*n},easeOutQuart(n){return 1- --n*n*n*n},easeInOutQuart(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint(n){return n*n*n*n*n},easeOutQuint(n){return 1+--n*n*n*n*n},easeInOutQuint(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}};function nMe(){const n=document.createElement("p");n.style.width="100%",n.style.height="200px";const e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(n),document.body.appendChild(e);const r=n.offsetWidth;e.style.overflow="scroll";let i=n.offsetWidth;return r==i&&(i=e.clientWidth),document.body.removeChild(e),r-i}function rMe(n,e){let r;Et(e)||(e=[e]);for(const i of n)if(i){r=i[e[0]];for(let s=1;s<e.length;s++)r&&(r=r[e[s]]);if(typeof r<"u")break}return r}const iMe={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let tee=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return iMe[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let i;const s=this._isColorString(e);if(s!==void 0&&(e=s),Ei(e)===!0){if(CR(e)===!0){const o=e.substr(4).substr(0,e.length-5).split(",");i={r:o[0],g:o[1],b:o[2],a:1}}else if(eee(e)===!0){const o=e.substr(5).substr(0,e.length-6).split(",");i={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(kR(e)===!0){const o=Ow(e);i={r:o.r,g:o.g,b:o.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const o=e.a!==void 0?e.a:"1.0";i={r:e.r,g:e.g,b:e.b,a:o}}if(i===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+ii(e));this._setColor(i,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=Sa({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Pr(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=Sa({},e)),this.color=e;const i=Sd(e.r,e.g,e.b),s=2*Math.PI,o=this.r*i.s,a=this.centerCoordinates.x+o*Math.sin(s*i.h),l=this.centerCoordinates.y+o*Math.cos(s*i.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=Sd(this.color.r,this.color.g,this.color.b);r.v=e/100;const i=rm(r.h,r.s,r.v);i.a=this.color.a,this.color=i,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=Sd(e.r,e.g,e.b),i=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const s=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,s,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-r.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),_J(i).call(i),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,i,s;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)},this.opacityRange.oninput=function(){o._setOpacity(this.value)},this.brightnessRange.onchange=function(){o._setBrightness(this.value)},this.brightnessRange.oninput=function(){o._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=ke(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=ke(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=ke(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=ke(s=this._loadLast).call(s,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new _R(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,i);let s,o,a,l;this.centerCoordinates={x:r*.5,y:i*.5},this.r=.49*r;const c=2*Math.PI/360,u=1/360,f=1/this.r;let d;for(a=0;a<360;a++)for(l=0;l<this.r;l++)s=this.centerCoordinates.x+l*Math.sin(c*a),o=this.centerCoordinates.y+l*Math.cos(c*a),d=rm(a*u,l*f,1),e.fillStyle="rgb("+d.r+","+d.g+","+d.b+")",e.fillRect(s-.5,o-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,i)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),i=e.center.x-r.left,s=e.center.y-r.top,o=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,l=i-a,c=s-o,u=Math.atan2(l,c),f=.98*Math.min(Math.sqrt(l*l+c*c),a),d=Math.cos(u)*f+o,h=Math.sin(u)*f+a;this.colorPickerSelector.style.top=d-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";let p=u/(2*Math.PI);p=p<0?p+1:p;const g=f/this.r,v=Sd(this.color.r,this.color.g,this.color.b);v.h=p,v.s=g;const y=rm(v.h,v.s,v.v);y.a=this.color.a,this.color=y,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function BI(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const i=document.createElement(e[0]);return i.appendChild(BI(...xh(e).call(e,1))),i}}let sMe=class{constructor(e,r,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Sa(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new tee(s),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(Et(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),dt(e)!==void 0&&(this.options.filter=dt(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);dt(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=dt(this.options);let r=0,i=!1;for(const s in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,s)&&(this.allowCreation=!1,i=!1,typeof e=="function"?(i=e(s,[]),i=i||this._handleObject(this.configureOptions[s],[s],!0)):(e===!0||tn(e).call(e,s)!==-1)&&(i=!0),i!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(s),this._handleObject(this.configureOptions[s],[s])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let i=0;i<e.length;i++)if(r[e[i]]!==void 0)r=r[e[i]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const o=document.createElement("div");o.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return Qe(i).call(i,a=>{o.appendChild(a)}),this.domElements.push(o),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const s=document.createElement("div");if(s.className="vis-configuration vis-config-label vis-config-s"+r.length,i===!0){for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(BI("i","b",e))}else s.innerText=e+":";return s}_makeDropdown(e,r,i){const s=document.createElement("select");s.className="vis-configuration vis-config-select";let o=0;r!==void 0&&tn(e).call(e,r)!==-1&&(o=tn(e).call(e,r));for(let c=0;c<e.length;c++){const u=document.createElement("option");u.value=e[c],c===o&&(u.selected="selected"),u.innerText=e[c],s.appendChild(u)}const a=this;s.onchange=function(){a._update(this.value,i)};const l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,s)}_makeRange(e,r,i){const s=e[0],o=e[1],a=e[2],l=e[3],c=document.createElement("input");c.className="vis-configuration vis-config-range";try{c.type="range",c.min=o,c.max=a}catch{}c.step=l;let u="",f=0;r!==void 0?(r<0&&r*1.2<o?(c.min=Math.ceil(r*1.2),f=c.min,u="range increased"):r/1.2<o&&(c.min=Math.ceil(r/1.2),f=c.min,u="range increased"),r*1.2>a&&a!==1&&(c.max=Math.ceil(r*1.2),f=c.max,u="range increased"),c.value=r):c.value=s;const d=document.createElement("input");d.className="vis-configuration vis-config-rangeinput",d.value=c.value;const h=this;c.onchange=function(){d.value=this.value,h._update(Number(this.value),i)},c.oninput=function(){d.value=this.value};const p=this._makeLabel(i[i.length-1],i),g=this._makeItem(i,p,c,d);u!==""&&this.popupHistory[g]!==f&&(this.popupHistory[g]=f,this._setupPopup(u,g))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=e,i.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Pr(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Pr(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,i){const s=document.createElement("input");s.type="checkbox",s.className="vis-configuration vis-config-checkbox",s.checked=e,r!==void 0&&(s.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:i,value:r}):this.changedOptions.push({path:i,value:r})));const o=this;s.onchange=function(){o._update(this.checked,i)};const a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,s)}_makeTextInput(e,r,i){const s=document.createElement("input");s.type="text",s.className="vis-configuration vis-config-text",s.value=r,r!==e&&this.changedOptions.push({path:i,value:r});const o=this;s.onchange=function(){o._update(this.value,i)};const a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,s)}_makeColorField(e,r,i){const s=e[1],o=document.createElement("div");r=r===void 0?s:r,r!=="none"?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=r):o.className="vis-configuration vis-config-colorBlock none",r=r===void 0?s:r,o.onclick=()=>{this._showColorPicker(r,o,i)};const a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,o)}_showColorPicker(e,r,i){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(s=>{const o="rgba("+s.r+","+s.g+","+s.b+","+s.a+")";r.style.backgroundColor=o,this._update(o,i)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,i)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=!1;const o=dt(this.options);let a=!1;for(const l in e)if(Object.prototype.hasOwnProperty.call(e,l)){s=!0;const c=e[l],u=hg(r,l);if(typeof o=="function"&&(s=o(l,r),s===!1&&!Et(c)&&typeof c!="string"&&typeof c!="boolean"&&c instanceof Object&&(this.allowCreation=!1,s=this._handleObject(c,u,!0),this.allowCreation=i===!1)),s!==!1){a=!0;const f=this._getValue(u);if(Et(c))this._handleArray(c,f,u);else if(typeof c=="string")this._makeTextInput(c,f,u);else if(typeof c=="boolean")this._makeCheckbox(c,f,u);else if(c instanceof Object){if(!this.hideOption(r,l,this.moduleOptions))if(c.enabled!==void 0){const d=hg(u,"enabled"),h=this._getValue(d);if(h===!0){const p=this._makeLabel(l,u,!0);this._makeItem(u,p),a=this._handleObject(c,u)||a}else this._makeCheckbox(c,h,u)}else{const d=this._makeLabel(l,u,!0);this._makeItem(u,d),a=this._handleObject(c,u)||a}}else console.error("dont know how to handle",c,l,u)}}return a}_handleArray(e,r,i){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,i),e[1]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:Number(r)}))}_update(e,r){const i=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}_constructOptions(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let o=0;o<r.length;o++)r[o]!=="global"&&(s[r[o]]===void 0&&(s[r[o]]={}),o!==r.length-1?s=s[r[o]]:s[r[o]]=e);return i}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(BI("pre","const options = "+ii(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},oMe=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=Ti(e),this.y=Ti(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,i=this.frame.clientWidth,s=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth;let a=0,l=0;if(this.overflowMethod=="flip"){let c=!1,u=!0;this.y-r<this.padding&&(u=!1),this.x+i>o-this.padding&&(c=!0),c?a=this.x-i:a=this.x,u?l=this.y-r:l=this.y}else l=this.y-r,l+r+this.padding>s&&(l=s-r-this.padding),l<this.padding&&(l=this.padding),a=this.x,a+i+this.padding>o&&(a=o-i-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=l+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},sp=!1,dB;const zI="background: #FFeeee; color: #dd0000";let aMe=class In{static validate(e,r,i){sp=!1,dB=r;let s=r;return i!==void 0&&(s=r[i]),In.parse(e,s,[]),sp}static parse(e,r,i){for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&In.check(s,e,r,i)}static check(e,r,i,s){if(i[e]===void 0&&i.__any__===void 0){In.getSuggestion(e,i,s);return}let o=e,a=!0;i[e]===void 0&&i.__any__!==void 0&&(o="__any__",a=In.getType(r[e])==="object");let l=i[o];a&&l.__type__!==void 0&&(l=l.__type__),In.checkFields(e,r,i,o,l,s)}static checkFields(e,r,i,s,o,a){const l=function(f){console.error("%c"+f+In.printLocation(a,e),zI)},c=In.getType(r[e]),u=o[c];u!==void 0?In.getType(u)==="array"&&tn(u).call(u,r[e])===-1?(l('Invalid option detected in "'+e+'". Allowed values are:'+In.print(u)+' not "'+r[e]+'". '),sp=!0):c==="object"&&s!=="__any__"&&(a=hg(a,e),In.parse(r[e],i[s],a)):o.any===void 0&&(l('Invalid type received for "'+e+'". Expected: '+In.print(er(o))+". Received ["+c+'] "'+r[e]+'"'),sp=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Et(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,i){const s=In.findInOptions(e,r,i,!1),o=In.findInOptions(e,dB,[],!0),a=8,l=4;let c;s.indexMatch!==void 0?c=" in "+In.printLocation(s.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+s.indexMatch+`"?

`:o.distance<=l&&s.distance>o.distance?c=" in "+In.printLocation(s.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+In.printLocation(o.path,o.closestMatch,""):s.distance<=a?c='. Did you mean "'+s.closestMatch+'"?'+In.printLocation(s.path,e):c=". Did you mean one of these: "+In.print(er(r))+In.printLocation(i,e),console.error('%cUnknown option detected: "'+e+'"'+c,zI),sp=!0}static findInOptions(e,r,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=1e9,a="",l=[];const c=e.toLowerCase();let u;for(const d in r){let h;if(r[d].__type__!==void 0&&s===!0){const p=In.findInOptions(e,r[d],hg(i,d));o>p.distance&&(a=p.closestMatch,l=p.path,o=p.distance,u=p.indexMatch)}else{var f;tn(f=d.toLowerCase()).call(f,c)!==-1&&(u=d),h=In.levenshteinDistance(e,d),o>h&&(a=d,l=QJ(i),o=h)}}return{closestMatch:a,path:l,distance:o,indexMatch:u}}static printLocation(e,r){let s=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let o=0;o<e.length;o++){for(let a=0;a<o+1;a++)s+="  ";s+=e[o]+`: {
`}for(let o=0;o<e.length+1;o++)s+="  ";s+=r+`
`;for(let o=0;o<e.length+1;o++){for(let a=0;a<e.length-o;a++)s+="  ";s+=`}
`}return s+`

`}static print(e){return ii(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const i=[];let s;for(s=0;s<=r.length;s++)i[s]=[s];let o;for(o=0;o<=e.length;o++)i[0][o]=o;for(s=1;s<=r.length;s++)for(o=1;o<=e.length;o++)r.charAt(s-1)==e.charAt(o-1)?i[s][o]=i[s-1][o-1]:i[s][o]=Math.min(i[s-1][o-1]+1,Math.min(i[s][o-1]+1,i[s-1][o]+1));return i[r.length][e.length]}};const lMe=po,cMe=tee,uMe=sMe,dMe=_R,fMe=oMe,hMe=zI,pMe=aMe;var mMe=Object.freeze({__proto__:null,Activator:lMe,Alea:gOe,ColorPicker:cMe,Configurator:uMe,DELETE:xR,HSVToHex:$I,HSVToRGB:rm,Hammer:dMe,Popup:fMe,RGBToHSV:Sd,RGBToHex:SR,VALIDATOR_PRINT_STYLE:hMe,Validator:pMe,addClassName:jOe,addCssText:VOe,binarySearchCustom:JOe,binarySearchValue:eMe,bridgeObject:TR,copyAndExtendArray:hg,copyArray:QJ,deepExtend:fg,deepObjectAssign:wR,easingFunctions:tMe,equalArray:MOe,extend:DOe,fillIfDefined:XJ,forEach:FOe,getAbsoluteLeft:AOe,getAbsoluteRight:ROe,getAbsoluteTop:NOe,getScrollBarWidth:nMe,getTarget:qOe,getType:Ap,hasParent:WOe,hexToHSV:JJ,hexToRGB:Ow,insertSort:QOe,isDate:EOe,isNumber:nm,isObject:FI,isString:Ei,isValidHex:kR,isValidRGB:CR,isValidRGBA:eee,mergeOptions:ZOe,option:HOe,overrideOpacity:GOe,parseColor:YOe,preventDefault:UOe,pureDeepObjectAssign:GJ,recursiveDOMDelete:KJ,removeClassName:LOe,removeCssText:KOe,selectiveBridgeObject:XOe,selectiveDeepExtend:IOe,selectiveExtend:POe,selectiveNotDeepExtend:OOe,throttle:zOe,toArray:$Oe,topMost:rMe,updateProperty:BOe});function tl(n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(n[e].redundant=n[e].used,n[e].used=[])}function Qi(n){for(var e in n){if(!Object.prototype.hasOwnProperty.call(n,e))continue;const i=n[e];for(var r=0;r<i.redundant.length;r++)i.redundant[r].parentNode.removeChild(i.redundant[r]);i.redundant=[]}}function gMe(n){tl(n),Qi(n),tl(n)}function Ls(n,e,r){var i;return Object.prototype.hasOwnProperty.call(e,n)?e[n].redundant.length>0?(i=e[n].redundant[0],e[n].redundant.shift()):(i=document.createElementNS("http://www.w3.org/2000/svg",n),r.appendChild(i)):(i=document.createElementNS("http://www.w3.org/2000/svg",n),e[n]={used:[],redundant:[]},r.appendChild(i)),e[n].used.push(i),i}function RC(n,e,r,i){var s;return Object.prototype.hasOwnProperty.call(e,n)?e[n].redundant.length>0?(s=e[n].redundant[0],e[n].redundant.shift()):(s=document.createElement(n),i!==void 0?r.insertBefore(s,i):r.appendChild(s)):(s=document.createElement(n),e[n]={used:[],redundant:[]},i!==void 0?r.insertBefore(s,i):r.appendChild(s)),e[n].used.push(s),s}function Wf(n,e,r,i,s,o){var a;if(r.style=="circle"?(a=Ls("circle",i,s),a.setAttributeNS(null,"cx",n),a.setAttributeNS(null,"cy",e),a.setAttributeNS(null,"r",.5*r.size)):(a=Ls("rect",i,s),a.setAttributeNS(null,"x",n-.5*r.size),a.setAttributeNS(null,"y",e-.5*r.size),a.setAttributeNS(null,"width",r.size),a.setAttributeNS(null,"height",r.size)),r.styles!==void 0&&a.setAttributeNS(null,"style",r.styles),a.setAttributeNS(null,"class",r.className+" vis-point"),o){var l=Ls("text",i,s);o.xOffset&&(n=n+o.xOffset),o.yOffset&&(e=e+o.yOffset),o.content&&(l.textContent=o.content),o.className&&l.setAttributeNS(null,"class",o.className+" vis-label"),l.setAttributeNS(null,"x",n),l.setAttributeNS(null,"y",e)}return a}function UI(n,e,r,i,s,o,a,l){if(i!=0){i<0&&(i*=-1,e-=i);var c=Ls("rect",o,a);c.setAttributeNS(null,"x",n-.5*r),c.setAttributeNS(null,"y",e),c.setAttributeNS(null,"width",r),c.setAttributeNS(null,"height",i),c.setAttributeNS(null,"class",s),l&&c.setAttributeNS(null,"style",l)}}function bMe(){try{return navigator?navigator.languages&&navigator.languages.length?navigator.languages:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en":"en"}catch{return"en"}}var NC,fB;function yMe(){if(fB)return NC;fB=1,sJ();var n=un();return NC=n.Object.getOwnPropertySymbols,NC}var jC,hB;function vMe(){if(hB)return jC;hB=1;var n=yMe();return jC=n,jC}var LC,pB;function xMe(){return pB||(pB=1,LC=vMe()),LC}var wMe=xMe(),Hv=ct(wMe),FC={exports:{}},mB={},gB;function _Me(){if(gB)return mB;gB=1;var n=st(),e=jt(),r=Hs(),i=xw().f,s=Hn(),o=!s||e(function(){i(1)});return n({target:"Object",stat:!0,forced:o,sham:!s},{getOwnPropertyDescriptor:function(l,c){return i(r(l),c)}}),mB}var bB;function SMe(){if(bB)return FC.exports;bB=1,_Me();var n=un(),e=n.Object,r=FC.exports=function(s,o){return e.getOwnPropertyDescriptor(s,o)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),FC.exports}var $C,yB;function kMe(){if(yB)return $C;yB=1;var n=SMe();return $C=n,$C}var BC,vB;function CMe(){return vB||(vB=1,BC=kMe()),BC}var TMe=CMe(),Mw=ct(TMe),xB={},wB;function EMe(){if(wB)return xB;wB=1;var n=st(),e=Hn(),r=hJ(),i=Hs(),s=xw(),o=ww();return n({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(l){for(var c=i(l),u=s.f,f=r(c),d={},h=0,p,g;f.length>h;)g=u(c,p=f[h++]),g!==void 0&&o(d,p,g);return d}}),xB}var zC,_B;function DMe(){if(_B)return zC;_B=1,EMe();var n=un();return zC=n.Object.getOwnPropertyDescriptors,zC}var UC,SB;function PMe(){if(SB)return UC;SB=1;var n=DMe();return UC=n,UC}var qC,kB;function IMe(){return kB||(kB=1,qC=PMe()),qC}var OMe=IMe(),Gv=ct(OMe),WC={exports:{}},CB={},TB;function MMe(){if(TB)return CB;TB=1;var n=st(),e=Hn(),r=sR().f;return n({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),CB}var EB;function AMe(){if(EB)return WC.exports;EB=1,MMe();var n=un(),e=n.Object,r=WC.exports=function(s,o){return e.defineProperties(s,o)};return e.defineProperties.sham&&(r.sham=!0),WC.exports}var HC,DB;function RMe(){if(DB)return HC;DB=1;var n=AMe();return HC=n,HC}var GC,PB;function NMe(){return PB||(PB=1,GC=RMe()),GC}var jMe=NMe(),nee=ct(jMe),YC={exports:{}},IB={},OB;function LMe(){if(OB)return IB;OB=1;var n=st(),e=Hn(),r=ms().f;return n({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),IB}var MB;function FMe(){if(MB)return YC.exports;MB=1,LMe();var n=un(),e=n.Object,r=YC.exports=function(s,o,a){return e.defineProperty(s,o,a)};return e.defineProperty.sham&&(r.sham=!0),YC.exports}var VC,AB;function ree(){if(AB)return VC;AB=1;var n=FMe();return VC=n,VC}var KC,RB;function $Me(){if(RB)return KC;RB=1;var n=ree();return KC=n,KC}var XC,NB;function BMe(){if(NB)return XC;NB=1;var n=$Me();return XC=n,XC}var QC,jB;function zMe(){return jB||(jB=1,QC=BMe()),QC}var UMe=zMe(),qMe=ct(UMe),LB={},FB;function WMe(){if(FB)return LB;FB=1;var n=Vn(),e=ms().f,r=n("metadata"),i=Function.prototype;return i[r]===void 0&&e(i,r,{value:null}),LB}var $B={},BB;function HMe(){return BB||(BB=1,oJ()),$B}var zB={},UB;function GMe(){return UB||(UB=1,aJ()),zB}var qB={},WB;function YMe(){if(WB)return qB;WB=1;var n=Pn();return n("metadata"),qB}var ZC,HB;function VMe(){if(HB)return ZC;HB=1;var n=fJ();return WMe(),HMe(),GMe(),YMe(),ZC=n,ZC}var GB={},JC,YB;function iee(){if(YB)return JC;YB=1;var n=$i(),e=Bt(),r=n("Symbol"),i=r.keyFor,s=e(r.prototype.valueOf);return JC=r.isRegisteredSymbol||function(a){try{return i(s(a))!==void 0}catch{return!1}},JC}var VB;function KMe(){if(VB)return GB;VB=1;var n=st(),e=iee();return n({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),GB}var KB={},eT,XB;function see(){if(XB)return eT;XB=1;for(var n=mh(),e=$i(),r=Bt(),i=Jg(),s=Vn(),o=e("Symbol"),a=o.isWellKnownSymbol,l=e("Object","getOwnPropertyNames"),c=r(o.prototype.valueOf),u=n("wks"),f=0,d=l(o),h=d.length;f<h;f++)try{var p=d[f];i(o[p])&&s(p)}catch{}return eT=function(v){if(a&&a(v))return!0;try{for(var y=c(v),b=0,w=l(u),k=w.length;b<k;b++)if(u[w[b]]==y)return!0}catch{}return!1},eT}var QB;function XMe(){if(QB)return KB;QB=1;var n=st(),e=see();return n({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),KB}var ZB={},JB;function QMe(){if(JB)return ZB;JB=1;var n=Pn();return n("customMatcher"),ZB}var ez={},tz;function ZMe(){if(tz)return ez;tz=1;var n=Pn();return n("observable"),ez}var nz={},rz;function JMe(){if(rz)return nz;rz=1;var n=st(),e=iee();return n({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),nz}var iz={},sz;function eAe(){if(sz)return iz;sz=1;var n=st(),e=see();return n({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),iz}var oz={},az;function tAe(){if(az)return oz;az=1;var n=Pn();return n("matcher"),oz}var lz={},cz;function nAe(){if(cz)return lz;cz=1;var n=Pn();return n("metadataKey"),lz}var uz={},dz;function rAe(){if(dz)return uz;dz=1;var n=Pn();return n("patternMatch"),uz}var fz={},hz;function iAe(){if(hz)return fz;hz=1;var n=Pn();return n("replaceAll"),fz}var tT,pz;function sAe(){if(pz)return tT;pz=1;var n=VMe();return KMe(),XMe(),QMe(),ZMe(),JMe(),eAe(),tAe(),nAe(),rAe(),iAe(),tT=n,tT}var nT,mz;function oAe(){return mz||(mz=1,nT=sAe()),nT}var aAe=oAe(),Bb=ct(aAe),gz={},rT,bz;function lAe(){if(bz)return rT;bz=1;var n=Bt(),e=bh(),r=gs(),i=Ea(),s=n("".charAt),o=n("".charCodeAt),a=n("".slice),l=function(c){return function(u,f){var d=r(i(u)),h=e(f),p=d.length,g,v;return h<0||h>=p?c?"":void 0:(g=o(d,h),g<55296||g>56319||h+1===p||(v=o(d,h+1))<56320||v>57343?c?s(d,h):g:c?a(d,h,h+2):(g-55296<<10)+(v-56320)+65536)}};return rT={codeAt:l(!1),charAt:l(!0)},rT}var yz;function Aw(){if(yz)return gz;yz=1;var n=lAe().charAt,e=gs(),r=o0(),i=aR(),s=lR(),o="String Iterator",a=r.set,l=r.getterFor(o);return i(String,"String",function(c){a(this,{type:o,string:e(c),index:0})},function(){var u=l(this),f=u.string,d=u.index,h;return d>=f.length?s(void 0,!0):(h=n(f,d),u.index+=h.length,s(h,!1))}),gz}var iT,vz;function cAe(){if(vz)return iT;vz=1,Gl(),Aw(),lJ();var n=Ew();return iT=n.f("iterator"),iT}var sT,xz;function oee(){if(xz)return sT;xz=1;var n=cAe();return Yl(),sT=n,sT}var oT,wz;function uAe(){if(wz)return oT;wz=1;var n=oee();return oT=n,oT}var aT,_z;function dAe(){if(_z)return aT;_z=1;var n=uAe();return aT=n,aT}var lT,Sz;function fAe(){return Sz||(Sz=1,lT=dAe()),lT}var hAe=fAe(),pAe=ct(hAe);function pg(n){"@babel/helpers - typeof";return pg=typeof Bb=="function"&&typeof pAe=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Bb=="function"&&e.constructor===Bb&&e!==Bb.prototype?"symbol":typeof e},pg(n)}var cT,kz;function mAe(){if(kz)return cT;kz=1,cJ();var n=Ew();return cT=n.f("toPrimitive"),cT}var uT,Cz;function gAe(){if(Cz)return uT;Cz=1;var n=mAe();return uT=n,uT}var dT,Tz;function bAe(){if(Tz)return dT;Tz=1;var n=gAe();return dT=n,dT}var fT,Ez;function yAe(){if(Ez)return fT;Ez=1;var n=bAe();return fT=n,fT}var hT,Dz;function vAe(){return Dz||(Dz=1,hT=yAe()),hT}var xAe=vAe(),wAe=ct(xAe);function _Ae(n,e){if(pg(n)!="object"||!n)return n;var r=n[wAe];if(r!==void 0){var i=r.call(n,e);if(pg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function SAe(n){var e=_Ae(n,"string");return pg(e)=="symbol"?e:e+""}function nn(n,e,r){return(e=SAe(e))in n?qMe(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}var Pz={},pT,Iz;function kAe(){if(Iz)return pT;Iz=1;var n=Eo(),e=yi(),r=yw(),i=Gs(),s=TypeError,o="Reduce of empty array with no initial value",a=function(l){return function(c,u,f,d){var h=e(c),p=r(h),g=i(h);if(n(u),g===0&&f<2)throw new s(o);var v=l?g-1:0,y=l?-1:1;if(f<2)for(;;){if(v in p){d=p[v],v+=y;break}if(v+=y,l?v<0:g<=v)throw new s(o)}for(;l?v>=0:g>v;v+=y)v in p&&(d=u(d,p[v],v,h));return d}};return pT={left:a(!1),right:a(!0)},pT}var mT,Oz;function CAe(){if(Oz)return mT;Oz=1;var n=vJ();return mT=n==="NODE",mT}var Mz;function TAe(){if(Mz)return Pz;Mz=1;var n=st(),e=kAe().left,r=wh(),i=Zg(),s=CAe(),o=!s&&i>79&&i<83,a=o||!r("reduce");return n({target:"Array",proto:!0,forced:a},{reduce:function(c){var u=arguments.length;return e(this,c,u,u>1?arguments[1]:void 0)}}),Pz}var gT,Az;function EAe(){if(Az)return gT;Az=1,TAe();var n=jn();return gT=n("Array","reduce"),gT}var bT,Rz;function DAe(){if(Rz)return bT;Rz=1;var n=mn(),e=EAe(),r=Array.prototype;return bT=function(i){var s=i.reduce;return i===r||n(r,i)&&s===r.reduce?e:s},bT}var yT,Nz;function PAe(){if(Nz)return yT;Nz=1;var n=DAe();return yT=n,yT}var vT,jz;function IAe(){return jz||(jz=1,vT=PAe()),vT}var OAe=IAe(),Rw=ct(OAe),Lz={},xT,Fz;function MAe(){if(Fz)return xT;Fz=1;var n=ql(),e=Gs(),r=tR(),i=e0(),s=function(o,a,l,c,u,f,d,h){for(var p=u,g=0,v=d?i(d,h):!1,y,b;g<c;)g in l&&(y=v?v(l[g],g,a):l[g],f>0&&n(y)?(b=e(y),p=s(o,a,y,b,p,f-1)-1):(r(p+1),o[p]=y),p++),g++;return p};return xT=s,xT}var $z;function AAe(){if($z)return Lz;$z=1;var n=st(),e=MAe(),r=Eo(),i=yi(),s=Gs(),o=_w();return n({target:"Array",proto:!0},{flatMap:function(l){var c=i(this),u=s(c),f;return r(l),f=o(c,0),f.length=e(f,c,c,u,0,1,l,arguments.length>1?arguments[1]:void 0),f}}),Lz}var Bz={},zz;function RAe(){if(zz)return Bz;zz=1;var n=a0();return n("flatMap"),Bz}var wT,Uz;function NAe(){if(Uz)return wT;Uz=1,AAe(),RAe();var n=jn();return wT=n("Array","flatMap"),wT}var _T,qz;function jAe(){if(qz)return _T;qz=1;var n=mn(),e=NAe(),r=Array.prototype;return _T=function(i){var s=i.flatMap;return i===r||n(r,i)&&s===r.flatMap?e:s},_T}var ST,Wz;function LAe(){if(Wz)return ST;Wz=1;var n=jAe();return ST=n,ST}var kT,Hz;function FAe(){return Hz||(Hz=1,kT=LAe()),kT}var $Ae=FAe(),BAe=ct($Ae),CT,Gz;function zAe(){return Gz||(Gz=1,CT=oee()),CT}var UAe=zAe(),Dc=ct(UAe),Yz={},Vz={},TT={exports:{}},ET,Kz;function qAe(){if(Kz)return ET;Kz=1;var n=jt();return ET=n(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),ET}var DT,Xz;function WAe(){if(Xz)return DT;Xz=1;var n=jt(),e=Ar(),r=To(),i=qAe(),s=Object.isExtensible,o=n(function(){});return DT=o||i?function(l){return!e(l)||i&&r(l)==="ArrayBuffer"?!1:s?s(l):!0}:s,DT}var PT,Qz;function HAe(){if(Qz)return PT;Qz=1;var n=jt();return PT=!n(function(){return Object.isExtensible(Object.preventExtensions({}))}),PT}var Zz;function aee(){if(Zz)return TT.exports;Zz=1;var n=st(),e=Bt(),r=n0(),i=Ar(),s=ur(),o=ms().f,a=Cw(),l=tJ(),c=WAe(),u=vw(),f=HAe(),d=!1,h=u("meta"),p=0,g=function(_){o(_,h,{value:{objectID:"O"+p++,weakData:{}}})},v=function(_,S){if(!i(_))return typeof _=="symbol"?_:(typeof _=="string"?"S":"P")+_;if(!s(_,h)){if(!c(_))return"F";if(!S)return"E";g(_)}return _[h].objectID},y=function(_,S){if(!s(_,h)){if(!c(_))return!0;if(!S)return!1;g(_)}return _[h].weakData},b=function(_){return f&&d&&c(_)&&!s(_,h)&&g(_),_},w=function(){k.enable=function(){},d=!0;var _=a.f,S=e([].splice),C={};C[h]=1,_(C).length&&(a.f=function(T){for(var D=_(T),O=0,P=D.length;O<P;O++)if(D[O]===h){S(D,O,1);break}return D},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},k=TT.exports={enable:w,fastKey:v,getWeakData:y,onFreeze:b};return r[h]=!0,TT.exports}var IT,Jz;function GAe(){if(Jz)return IT;Jz=1;var n=Vn(),e=vh(),r=n("iterator"),i=Array.prototype;return IT=function(s){return s!==void 0&&(e.Array===s||i[r]===s)},IT}var OT,eU;function lee(){if(eU)return OT;eU=1;var n=Wl(),e=ZA(),r=Qg(),i=vh(),s=Vn(),o=s("iterator");return OT=function(a){if(!r(a))return e(a,o)||e(a,"@@iterator")||i[n(a)]},OT}var MT,tU;function cee(){if(tU)return MT;tU=1;var n=bi(),e=Eo(),r=Da(),i=hh(),s=lee(),o=TypeError;return MT=function(a,l){var c=arguments.length<2?s(a):l;if(e(c))return r(n(c,a));throw new o(i(a)+" is not iterable")},MT}var AT,nU;function ER(){if(nU)return AT;nU=1;var n=bi(),e=Da(),r=ZA();return AT=function(i,s,o){var a,l;e(i);try{if(a=r(i,"return"),!a){if(s==="throw")throw o;return o}a=n(a,i)}catch(c){l=!0,a=c}if(s==="throw")throw o;if(l)throw a;return e(a),o},AT}var RT,rU;function DR(){if(rU)return RT;rU=1;var n=e0(),e=bi(),r=Da(),i=hh(),s=GAe(),o=Gs(),a=mn(),l=cee(),c=lee(),u=ER(),f=TypeError,d=function(p,g){this.stopped=p,this.result=g},h=d.prototype;return RT=function(p,g,v){var y=v&&v.that,b=!!(v&&v.AS_ENTRIES),w=!!(v&&v.IS_RECORD),k=!!(v&&v.IS_ITERATOR),_=!!(v&&v.INTERRUPTED),S=n(g,y),C,T,D,O,P,A,L,B=function($){return C&&u(C,"normal"),new d(!0,$)},F=function($){return b?(r($),_?S($[0],$[1],B):S($[0],$[1])):_?S($,B):S($)};if(w)C=p.iterator;else if(k)C=p;else{if(T=c(p),!T)throw new f(i(p)+" is not iterable");if(s(T)){for(D=0,O=o(p);O>D;D++)if(P=F(p[D]),P&&a(h,P))return P;return new d(!1)}C=l(p,T)}for(A=w?p.next:C.next;!(L=e(A,C)).done;){try{P=F(L.value)}catch($){u(C,"throw",$)}if(typeof P=="object"&&P&&a(h,P))return P}return new d(!1)},RT}var NT,iU;function uee(){if(iU)return NT;iU=1;var n=mn(),e=TypeError;return NT=function(r,i){if(n(i,r))return r;throw new e("Incorrect invocation")},NT}var jT,sU;function dee(){if(sU)return jT;sU=1;var n=st(),e=Nn(),r=aee(),i=jt(),s=gh(),o=DR(),a=uee(),l=cr(),c=Ar(),u=Qg(),f=Du(),d=ms().f,h=Hl().forEach,p=Hn(),g=o0(),v=g.set,y=g.getterFor;return jT=function(b,w,k){var _=b.indexOf("Map")!==-1,S=b.indexOf("Weak")!==-1,C=_?"set":"add",T=e[b],D=T&&T.prototype,O={},P;if(!p||!l(T)||!(S||D.forEach&&!i(function(){new T().entries().next()})))P=k.getConstructor(w,b,_,C),r.enable();else{P=w(function(B,F){v(a(B,A),{type:b,collection:new T}),u(F)||o(F,B[C],{that:B,AS_ENTRIES:_})});var A=P.prototype,L=y(b);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(B){var F=B==="add"||B==="set";B in D&&!(S&&B==="clear")&&s(A,B,function($,U){var N=L(this).collection;if(!F&&S&&!c($))return B==="get"?void 0:!1;var q=N[B]($===0?0:$,U);return F?this:q})}),S||d(A,"size",{configurable:!0,get:function(){return L(this).collection.size}})}return f(P,b,!1,!0),O[b]=P,n({global:!0,forced:!0},O),S||k.setStrong(P,b,_),P},jT}var LT,oU;function YAe(){if(oU)return LT;oU=1;var n=s0();return LT=function(e,r,i){for(var s in r)i&&i.unsafe&&e[s]?e[s]=r[s]:n(e,s,r[s],i);return e},LT}var FT,aU;function VAe(){if(aU)return FT;aU=1;var n=$i(),e=oR(),r=Vn(),i=Hn(),s=r("species");return FT=function(o){var a=n(o);i&&a&&!a[s]&&e(a,s,{configurable:!0,get:function(){return this}})},FT}var $T,lU;function fee(){if(lU)return $T;lU=1;var n=i0(),e=oR(),r=YAe(),i=e0(),s=uee(),o=Qg(),a=DR(),l=aR(),c=lR(),u=VAe(),f=Hn(),d=aee().fastKey,h=o0(),p=h.set,g=h.getterFor;return $T={getConstructor:function(v,y,b,w){var k=v(function(D,O){s(D,_),p(D,{type:y,index:n(null),first:null,last:null,size:0}),f||(D.size=0),o(O)||a(O,D[w],{that:D,AS_ENTRIES:b})}),_=k.prototype,S=g(y),C=function(D,O,P){var A=S(D),L=T(D,O),B,F;return L?L.value=P:(A.last=L={index:F=d(O,!0),key:O,value:P,previous:B=A.last,next:null,removed:!1},A.first||(A.first=L),B&&(B.next=L),f?A.size++:D.size++,F!=="F"&&(A.index[F]=L)),D},T=function(D,O){var P=S(D),A=d(O),L;if(A!=="F")return P.index[A];for(L=P.first;L;L=L.next)if(L.key===O)return L};return r(_,{clear:function(){for(var O=this,P=S(O),A=P.first;A;)A.removed=!0,A.previous&&(A.previous=A.previous.next=null),A=A.next;P.first=P.last=null,P.index=n(null),f?P.size=0:O.size=0},delete:function(D){var O=this,P=S(O),A=T(O,D);if(A){var L=A.next,B=A.previous;delete P.index[A.index],A.removed=!0,B&&(B.next=L),L&&(L.previous=B),P.first===A&&(P.first=L),P.last===A&&(P.last=B),f?P.size--:O.size--}return!!A},forEach:function(O){for(var P=S(this),A=i(O,arguments.length>1?arguments[1]:void 0),L;L=L?L.next:P.first;)for(A(L.value,L.key,this);L&&L.removed;)L=L.previous},has:function(O){return!!T(this,O)}}),r(_,b?{get:function(O){var P=T(this,O);return P&&P.value},set:function(O,P){return C(this,O===0?0:O,P)}}:{add:function(O){return C(this,O=O===0?0:O,O)}}),f&&e(_,"size",{configurable:!0,get:function(){return S(this).size}}),k},setStrong:function(v,y,b){var w=y+" Iterator",k=g(y),_=g(w);l(v,y,function(S,C){p(this,{type:w,target:S,state:k(S),kind:C,last:null})},function(){for(var S=_(this),C=S.kind,T=S.last;T&&T.removed;)T=T.previous;return!S.target||!(S.last=T=T?T.next:S.state.first)?(S.target=null,c(void 0,!0)):c(C==="keys"?T.key:C==="values"?T.value:[T.key,T.value],!1)},b?"entries":"values",!b,!0),u(y)}},$T}var cU;function KAe(){if(cU)return Vz;cU=1;var n=dee(),e=fee();return n("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),Vz}var uU;function XAe(){return uU||(uU=1,KAe()),Yz}var dU={},BT,fU;function hee(){return fU||(fU=1,BT=function(n,e){return e===1?function(r,i){return r[n](i)}:function(r,i,s){return r[n](i,s)}}),BT}var zT,hU;function QAe(){if(hU)return zT;hU=1;var n=$i(),e=hee(),r=n("Map");return zT={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},zT}var pU;function ZAe(){if(pU)return dU;pU=1;var n=st(),e=Bt(),r=Eo(),i=Ea(),s=DR(),o=QAe(),a=ph(),l=jt(),c=o.Map,u=o.has,f=o.get,d=o.set,h=e([].push),p=a||l(function(){return c.groupBy("ab",function(g){return g}).get("a").length!==1});return n({target:"Map",stat:!0,forced:a||p},{groupBy:function(v,y){i(v),r(y);var b=new c,w=0;return s(v,function(k){var _=y(k,w++);u(b,_)?h(f(b,_),k):d(b,_,[k])}),b}}),dU}var UT,mU;function JAe(){if(mU)return UT;mU=1,Gl(),XAe(),ZAe(),Aw();var n=un();return UT=n.Map,UT}var qT,gU;function eRe(){if(gU)return qT;gU=1;var n=JAe();return Yl(),qT=n,qT}var WT,bU;function tRe(){return bU||(bU=1,WT=eRe()),WT}var nRe=tRe(),pee=ct(nRe),yU={},vU={},xU;function rRe(){if(xU)return vU;xU=1;var n=dee(),e=fee();return n("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),vU}var wU;function iRe(){return wU||(wU=1,rRe()),yU}var _U={},HT,SU;function Iu(){if(SU)return HT;SU=1;var n=hh(),e=TypeError;return HT=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(n(r)+" is not a set")},HT}var GT,kU;function Ou(){if(kU)return GT;kU=1;var n=$i(),e=hee(),r=n("Set"),i=r.prototype;return GT={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:i},GT}var YT,CU;function Mu(){if(CU)return YT;CU=1;var n=bi();return YT=function(e,r,i){for(var s=i?e:e.iterator,o=e.next,a,l;!(a=n(o,s)).done;)if(l=r(a.value),l!==void 0)return l},YT}var VT,TU;function p0(){if(TU)return VT;TU=1;var n=Mu();return VT=function(e,r,i){return i?n(e.keys(),r,!0):e.forEach(r)},VT}var KT,EU;function PR(){if(EU)return KT;EU=1;var n=Ou(),e=p0(),r=n.Set,i=n.add;return KT=function(s){var o=new r;return e(s,function(a){i(o,a)}),o},KT}var XT,DU;function m0(){return DU||(DU=1,XT=function(n){return n.size}),XT}var QT,PU;function sRe(){return PU||(PU=1,QT=function(n){return{iterator:n,next:n.next,done:!1}}),QT}var ZT,IU;function Au(){if(IU)return ZT;IU=1;var n=Eo(),e=Da(),r=bi(),i=bh(),s=sRe(),o="Invalid size",a=RangeError,l=TypeError,c=Math.max,u=function(f,d){this.set=f,this.size=c(d,0),this.has=n(f.has),this.keys=n(f.keys)};return u.prototype={getIterator:function(){return s(e(r(this.keys,this.set)))},includes:function(f){return r(this.has,this.set,f)}},ZT=function(f){e(f);var d=+f.size;if(d!==d)throw new l(o);var h=i(d);if(h<0)throw new a(o);return new u(f,h)},ZT}var JT,OU;function oRe(){if(OU)return JT;OU=1;var n=Iu(),e=Ou(),r=PR(),i=m0(),s=Au(),o=p0(),a=Mu(),l=e.has,c=e.remove;return JT=function(f){var d=n(this),h=s(f),p=r(d);return i(d)<=h.size?o(d,function(g){h.includes(g)&&c(p,g)}):a(h.getIterator(),function(g){l(p,g)&&c(p,g)}),p},JT}var eE,MU;function Ru(){return MU||(MU=1,eE=function(){return!1}),eE}var AU;function aRe(){if(AU)return _U;AU=1;var n=st(),e=oRe(),r=jt(),i=Ru(),s=!i("difference",function(a){return a.size===0}),o=s||r(function(){var a={size:1,has:function(){return!0},keys:function(){var c=0;return{next:function(){var u=c++>1;return l.has(1)&&l.clear(),{done:u,value:2}}}}},l=new Set([1,2,3,4]);return l.difference(a).size!==3});return n({target:"Set",proto:!0,real:!0,forced:o},{difference:e}),_U}var RU={},tE,NU;function lRe(){if(NU)return tE;NU=1;var n=Iu(),e=Ou(),r=m0(),i=Au(),s=p0(),o=Mu(),a=e.Set,l=e.add,c=e.has;return tE=function(f){var d=n(this),h=i(f),p=new a;return r(d)>h.size?o(h.getIterator(),function(g){c(d,g)&&l(p,g)}):s(d,function(g){h.includes(g)&&l(p,g)}),p},tE}var jU;function cRe(){if(jU)return RU;jU=1;var n=st(),e=jt(),r=lRe(),i=Ru(),s=!i("intersection",function(o){return o.size===2&&o.has(1)&&o.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return n({target:"Set",proto:!0,real:!0,forced:s},{intersection:r}),RU}var LU={},nE,FU;function uRe(){if(FU)return nE;FU=1;var n=Iu(),e=Ou().has,r=m0(),i=Au(),s=p0(),o=Mu(),a=ER();return nE=function(c){var u=n(this),f=i(c);if(r(u)<=f.size)return s(u,function(h){if(f.includes(h))return!1},!0)!==!1;var d=f.getIterator();return o(d,function(h){if(e(u,h))return a(d,"normal",!1)})!==!1},nE}var $U;function dRe(){if($U)return LU;$U=1;var n=st(),e=uRe(),r=Ru(),i=!r("isDisjointFrom",function(s){return!s});return n({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:e}),LU}var BU={},rE,zU;function fRe(){if(zU)return rE;zU=1;var n=Iu(),e=m0(),r=p0(),i=Au();return rE=function(o){var a=n(this),l=i(o);return e(a)>l.size?!1:r(a,function(c){if(!l.includes(c))return!1},!0)!==!1},rE}var UU;function hRe(){if(UU)return BU;UU=1;var n=st(),e=fRe(),r=Ru(),i=!r("isSubsetOf",function(s){return s});return n({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:e}),BU}var qU={},iE,WU;function pRe(){if(WU)return iE;WU=1;var n=Iu(),e=Ou().has,r=m0(),i=Au(),s=Mu(),o=ER();return iE=function(l){var c=n(this),u=i(l);if(r(c)<u.size)return!1;var f=u.getIterator();return s(f,function(d){if(!e(c,d))return o(f,"normal",!1)})!==!1},iE}var HU;function mRe(){if(HU)return qU;HU=1;var n=st(),e=pRe(),r=Ru(),i=!r("isSupersetOf",function(s){return!s});return n({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:e}),qU}var GU={},sE,YU;function gRe(){if(YU)return sE;YU=1;var n=Iu(),e=Ou(),r=PR(),i=Au(),s=Mu(),o=e.add,a=e.has,l=e.remove;return sE=function(u){var f=n(this),d=i(u).getIterator(),h=r(f);return s(d,function(p){a(f,p)?l(h,p):o(h,p)}),h},sE}var oE,VU;function mee(){return VU||(VU=1,oE=function(n){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},i=e[n](r);return i.size===1&&i.values().next().value===4}catch{return!1}}),oE}var KU;function bRe(){if(KU)return GU;KU=1;var n=st(),e=gRe(),r=mee(),i=Ru(),s=!i("symmetricDifference")||!r("symmetricDifference");return n({target:"Set",proto:!0,real:!0,forced:s},{symmetricDifference:e}),GU}var XU={},aE,QU;function yRe(){if(QU)return aE;QU=1;var n=Iu(),e=Ou().add,r=PR(),i=Au(),s=Mu();return aE=function(a){var l=n(this),c=i(a).getIterator(),u=r(l);return s(c,function(f){e(u,f)}),u},aE}var ZU;function vRe(){if(ZU)return XU;ZU=1;var n=st(),e=yRe(),r=mee(),i=Ru(),s=!i("union")||!r("union");return n({target:"Set",proto:!0,real:!0,forced:s},{union:e}),XU}var lE,JU;function xRe(){if(JU)return lE;JU=1,Gl(),iRe(),aRe(),cRe(),dRe(),hRe(),mRe(),bRe(),vRe(),Aw();var n=un();return lE=n.Set,lE}var cE,eq;function wRe(){if(eq)return cE;eq=1;var n=xRe();return Yl(),cE=n,cE}var uE,tq;function _Re(){return tq||(tq=1,uE=wRe()),uE}var SRe=_Re(),Il=ct(SRe),dE,nq;function kRe(){if(nq)return dE;nq=1,Gl(),Aw();var n=cee();return dE=n,dE}var fE,rq;function CRe(){if(rq)return fE;rq=1;var n=kRe();return Yl(),fE=n,fE}var hE,iq;function TRe(){if(iq)return hE;iq=1;var n=CRe();return hE=n,hE}var pE,sq;function ERe(){if(sq)return pE;sq=1;var n=TRe();return pE=n,pE}var mE,oq;function DRe(){return oq||(oq=1,mE=ERe()),mE}var gE,aq;function PRe(){return aq||(aq=1,gE=DRe()),gE}var IRe=PRe(),bE=ct(IRe),lq={},yE,cq;function ORe(){if(cq)return yE;cq=1;var n=yh(),e=Math.floor,r=function(i,s){var o=i.length;if(o<8)for(var a=1,l,c;a<o;){for(c=a,l=i[a];c&&s(i[c-1],l)>0;)i[c]=i[--c];c!==a++&&(i[c]=l)}else for(var u=e(o/2),f=r(n(i,0,u),s),d=r(n(i,u),s),h=f.length,p=d.length,g=0,v=0;g<h||v<p;)i[g+v]=g<h&&v<p?s(f[g],d[v])<=0?f[g++]:d[v++]:g<h?f[g++]:d[v++];return i};return yE=r,yE}var vE,uq;function MRe(){if(uq)return vE;uq=1;var n=dh(),e=n.match(/firefox\/(\d+)/i);return vE=!!e&&+e[1],vE}var xE,dq;function ARe(){if(dq)return xE;dq=1;var n=dh();return xE=/MSIE|Trident/.test(n),xE}var wE,fq;function RRe(){if(fq)return wE;fq=1;var n=dh(),e=n.match(/AppleWebKit\/(\d+)\./);return wE=!!e&&+e[1],wE}var hq;function NRe(){if(hq)return lq;hq=1;var n=st(),e=Bt(),r=Eo(),i=yi(),s=Gs(),o=mJ(),a=gs(),l=jt(),c=ORe(),u=wh(),f=MRe(),d=ARe(),h=Zg(),p=RRe(),g=[],v=e(g.sort),y=e(g.push),b=l(function(){g.sort(void 0)}),w=l(function(){g.sort(null)}),k=u("sort"),_=!l(function(){if(h)return h<70;if(!(f&&f>3)){if(d)return!0;if(p)return p<603;var T="",D,O,P,A;for(D=65;D<76;D++){switch(O=String.fromCharCode(D),D){case 66:case 69:case 70:case 72:P=3;break;case 68:case 71:P=4;break;default:P=2}for(A=0;A<47;A++)g.push({k:O+A,v:P})}for(g.sort(function(L,B){return B.v-L.v}),A=0;A<g.length;A++)O=g[A].k.charAt(0),T.charAt(T.length-1)!==O&&(T+=O);return T!=="DGBEFHACIJK"}}),S=b||!w||!k||!_,C=function(T){return function(D,O){return O===void 0?-1:D===void 0?1:T!==void 0?+T(D,O)||0:a(D)>a(O)?1:-1}};return n({target:"Array",proto:!0,forced:S},{sort:function(D){D!==void 0&&r(D);var O=i(this);if(_)return D===void 0?v(O):v(O,D);var P=[],A=s(O),L,B;for(B=0;B<A;B++)B in O&&y(P,O[B]);for(c(P,C(D)),L=s(P),B=0;B<L;)O[B]=P[B++];for(;B<A;)o(O,B++);return O}}),lq}var _E,pq;function jRe(){if(pq)return _E;pq=1,NRe();var n=jn();return _E=n("Array","sort"),_E}var SE,mq;function LRe(){if(mq)return SE;mq=1;var n=mn(),e=jRe(),r=Array.prototype;return SE=function(i){var s=i.sort;return i===r||n(r,i)&&s===r.sort?e:s},SE}var kE,gq;function FRe(){if(gq)return kE;gq=1;var n=LRe();return kE=n,kE}var CE,bq;function $Re(){return bq||(bq=1,CE=FRe()),CE}var BRe=$Re(),qn=ct(BRe),yq={},vq;function zRe(){if(vq)return yq;vq=1;var n=st(),e=Hl().some,r=wh(),i=r("some");return n({target:"Array",proto:!0,forced:!i},{some:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),yq}var TE,xq;function URe(){if(xq)return TE;xq=1,zRe();var n=jn();return TE=n("Array","some"),TE}var EE,wq;function qRe(){if(wq)return EE;wq=1;var n=mn(),e=URe(),r=Array.prototype;return EE=function(i){var s=i.some;return i===r||n(r,i)&&s===r.some?e:s},EE}var DE,_q;function WRe(){if(_q)return DE;_q=1;var n=qRe();return DE=n,DE}var PE,Sq;function HRe(){return Sq||(Sq=1,PE=WRe()),PE}var GRe=HRe(),IR=ct(GRe),IE,kq;function YRe(){if(kq)return IE;kq=1,Gl();var n=jn();return IE=n("Array","keys"),IE}var OE,Cq;function VRe(){if(Cq)return OE;Cq=1;var n=YRe();return OE=n,OE}var ME,Tq;function KRe(){if(Tq)return ME;Tq=1,Yl();var n=Wl(),e=ur(),r=mn(),i=VRe(),s=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return ME=function(a){var l=a.keys;return a===s||r(s,a)&&l===s.keys||e(o,n(a))?i:l},ME}var AE,Eq;function XRe(){return Eq||(Eq=1,AE=KRe()),AE}var QRe=XRe(),fc=ct(QRe),RE,Dq;function ZRe(){if(Dq)return RE;Dq=1,Gl();var n=jn();return RE=n("Array","values"),RE}var NE,Pq;function JRe(){if(Pq)return NE;Pq=1;var n=ZRe();return NE=n,NE}var jE,Iq;function eNe(){if(Iq)return jE;Iq=1,Yl();var n=Wl(),e=ur(),r=mn(),i=JRe(),s=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return jE=function(a){var l=a.values;return a===s||r(s,a)&&l===s.values||e(o,n(a))?i:l},jE}var LE,Oq;function tNe(){return Oq||(Oq=1,LE=eNe()),LE}var nNe=tNe(),Mq=ct(nNe),FE,Aq;function rNe(){if(Aq)return FE;Aq=1,Gl();var n=jn();return FE=n("Array","entries"),FE}var $E,Rq;function iNe(){if(Rq)return $E;Rq=1;var n=rNe();return $E=n,$E}var BE,Nq;function sNe(){if(Nq)return BE;Nq=1,Yl();var n=Wl(),e=ur(),r=mn(),i=iNe(),s=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return BE=function(a){var l=a.entries;return a===s||r(s,a)&&l===s.entries||e(o,n(a))?i:l},BE}var zE,jq;function oNe(){return jq||(jq=1,zE=sNe()),zE}var aNe=oNe(),lNe=ct(aNe),UE,Lq;function cNe(){return Lq||(Lq=1,UE=ree()),UE}var uNe=cNe(),Nw=ct(uNe);const fr=[];for(let n=0;n<256;++n)fr.push((n+256).toString(16).slice(1));function dNe(n,e=0){return(fr[n[e+0]]+fr[n[e+1]]+fr[n[e+2]]+fr[n[e+3]]+"-"+fr[n[e+4]]+fr[n[e+5]]+"-"+fr[n[e+6]]+fr[n[e+7]]+"-"+fr[n[e+8]]+fr[n[e+9]]+"-"+fr[n[e+10]]+fr[n[e+11]]+fr[n[e+12]]+fr[n[e+13]]+fr[n[e+14]]+fr[n[e+15]]).toLowerCase()}let qE;const fNe=new Uint8Array(16);function hNe(){if(!qE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");qE=crypto.getRandomValues.bind(crypto)}return qE(fNe)}const pNe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Fq={randomUUID:pNe};function mNe(n,e,r){var s;n=n||{};const i=n.random??((s=n.rng)==null?void 0:s.call(n))??hNe();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,dNe(i)}function Kc(n,e,r){return Fq.randomUUID&&!n?Fq.randomUUID():mNe(n)}function $q(n,e){var r=er(n);if(Hv){var i=Hv(n);e&&(i=dt(i).call(i,function(s){return Mw(n,s).enumerable})),r.push.apply(r,i)}return r}function Bq(n){for(var e=1;e<arguments.length;e++){var r,i,s=arguments[e]!=null?arguments[e]:{};e%2?Qe(r=$q(Object(s),!0)).call(r,function(o){nn(n,o,s[o])}):Gv?nee(n,Gv(s)):Qe(i=$q(Object(s))).call(i,function(o){Nw(n,o,Mw(s,o))})}return n}function gNe(n){return new yNe(n)}class bNe{constructor(e,r,i){var s,o,a;nn(this,"_source",void 0),nn(this,"_transformers",void 0),nn(this,"_target",void 0),nn(this,"_listeners",{add:ke(s=this._add).call(s,this),remove:ke(o=this._remove).call(o,this),update:ke(a=this._update).call(a,this)}),this._source=e,this._transformers=r,this._target=i}all(){return this._target.update(this._transformItems(this._source.get())),this}start(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}stop(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}_transformItems(e){var r;return Rw(r=this._transformers).call(r,(i,s)=>s(i),e)}_add(e,r){r!=null&&this._target.add(this._transformItems(this._source.get(r.items)))}_update(e,r){r!=null&&this._target.update(this._transformItems(this._source.get(r.items)))}_remove(e,r){r!=null&&this._target.remove(this._transformItems(r.oldData))}}class yNe{constructor(e){nn(this,"_source",void 0),nn(this,"_transformers",[]),this._source=e}filter(e){return this._transformers.push(r=>dt(r).call(r,e)),this}map(e){return this._transformers.push(r=>Vt(r).call(r,e)),this}flatMap(e){return this._transformers.push(r=>BAe(r).call(r,e)),this}to(e){return new bNe(this._source,this._transformers,e)}}function qI(n){return typeof n=="string"||typeof n=="number"}class OR{constructor(e){nn(this,"delay",void 0),nn(this,"max",void 0),nn(this,"_queue",[]),nn(this,"_timeout",null),nn(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const i=new OR(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{i.flush()};const s=[{name:"flush",original:void 0}];if(r&&r.replace)for(let o=0;o<r.replace.length;o++){const a=r.replace[o];s.push({name:a,original:e[a]}),i.replace(e,a)}return i._extended={object:e,methods:s},i}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let i=0;i<r.length;i++){const s=r[i];s.original?e[s.name]=s.original:delete e[s.name]}this._extended=null}}replace(e,r){const i=this,s=e[r];if(!s)throw new Error("Method "+r+" undefined");e[r]=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];i.queue({args:a,fn:s,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Pr(()=>{this.flush()},this.delay))}flush(){var e,r;Qe(e=Ur(r=this._queue).call(r,0)).call(e,i=>{i.fn.apply(i.context||i.fn,i.args||[])})}}class mg{constructor(){nn(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),nn(this,"subscribe",mg.prototype.on),nn(this,"unsubscribe",mg.prototype.off)}_trigger(e,r,i){var s;if(e==="*")throw new Error("Cannot trigger event *");Qe(s=[...this._subscribers[e],...this._subscribers["*"]]).call(s,o=>{o(e,r,i??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var i;this._subscribers[e]=dt(i=this._subscribers[e]).call(i,s=>s!==r)}}class Pc{constructor(e){nn(this,"_pairs",void 0),this._pairs=e}*[Dc](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Vt(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return Vt(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=l0(null);for(const[r,i]of this._pairs)e[r]=i;return e}toMap(){return new pee(this._pairs)}toIdSet(){return new Il(this.toIdArray())}toItemSet(){return new Il(this.toItemArray())}cache(){return new Pc([...this._pairs])}distinct(e){const r=new Il;for(const[i,s]of this._pairs)r.add(e(s,i));return r}filter(e){const r=this._pairs;return new Pc({*[Dc](){for(const[i,s]of r)e(s,i)&&(yield[i,s])}})}forEach(e){for(const[r,i]of this._pairs)e(i,r)}map(e){const r=this._pairs;return new Pc({*[Dc](){for(const[i,s]of r)yield[i,e(s,i)]}})}max(e){const r=bE(this._pairs);let i=r.next();if(i.done)return null;let s=i.value[1],o=e(i.value[1],i.value[0]);for(;!(i=r.next()).done;){const[a,l]=i.value,c=e(l,a);c>o&&(o=c,s=l)}return s}min(e){const r=bE(this._pairs);let i=r.next();if(i.done)return null;let s=i.value[1],o=e(i.value[1],i.value[0]);for(;!(i=r.next()).done;){const[a,l]=i.value,c=e(l,a);c<o&&(o=c,s=l)}return s}reduce(e,r){for(const[i,s]of this._pairs)r=e(r,s,i);return r}sort(e){return new Pc({[Dc]:()=>{var r;return bE(qn(r=[...this._pairs]).call(r,(i,s)=>{let[o,a]=i,[l,c]=s;return e(a,c,o,l)}))}})}}function vNe(n,e){return n[e]==null&&(n[e]=Kc()),n}class Hf extends mg{get idProp(){return this._idProp}constructor(e,r){super(),nn(this,"flush",void 0),nn(this,"length",void 0),nn(this,"_options",void 0),nn(this,"_data",void 0),nn(this,"_idProp",void 0),nn(this,"_queue",null),e&&!Et(e)&&(r=e,e=[]),this._options=r||{},this._data=new pee,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=OR.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const i=[];let s;if(Et(e)){const o=Vt(e).call(e,a=>a[this._idProp]);if(IR(o).call(o,a=>this._data.has(a)))throw new Error("A duplicate id was found in the parameter array.");for(let a=0,l=e.length;a<l;a++)s=this._addItem(e[a]),i.push(s)}else if(e&&typeof e=="object")s=this._addItem(e),i.push(s);else throw new Error("Unknown dataType");return i.length&&this._trigger("add",{items:i},r),i}update(e,r){const i=[],s=[],o=[],a=[],l=this._idProp,c=u=>{const f=u[l];if(f!=null&&this._data.has(f)){const d=u,h=Sa({},this._data.get(f)),p=this._updateItem(d);s.push(p),a.push(d),o.push(h)}else{const d=this._addItem(u);i.push(d)}};if(Et(e))for(let u=0,f=e.length;u<f;u++)e[u]&&typeof e[u]=="object"?c(e[u]):console.warn("Ignoring input item, which is not an object at index "+u);else if(e&&typeof e=="object")c(e);else throw new Error("Unknown dataType");if(i.length&&this._trigger("add",{items:i},r),s.length){const u={items:s,oldData:o,data:a};this._trigger("update",u,r)}return $n(i).call(i,s)}updateOnly(e,r){var i;Et(e)||(e=[e]);const s=Vt(i=Vt(e).call(e,o=>{const a=this._data.get(o[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:o}})).call(i,o=>{let{oldData:a,update:l}=o;const c=a[this._idProp],u=GJ(a,l);return this._data.set(c,u),{id:c,oldData:a,updatedData:u}});if(s.length){const o={items:Vt(s).call(s,a=>a.id),oldData:Vt(s).call(s,a=>a.oldData),data:Vt(s).call(s,a=>a.updatedData)};return this._trigger("update",o,r),o.items}else return[]}get(e,r){let i,s,o;qI(e)?(i=e,o=r):Et(e)?(s=e,o=r):o=e;const a=o&&o.returnType==="Object"?"Object":"Array",l=o&&dt(o),c=[];let u,f,d;if(i!=null)u=this._data.get(i),u&&l&&!l(u)&&(u=void 0);else if(s!=null)for(let p=0,g=s.length;p<g;p++)u=this._data.get(s[p]),u!=null&&(!l||l(u))&&c.push(u);else{var h;f=[...fc(h=this._data).call(h)];for(let p=0,g=f.length;p<g;p++)d=f[p],u=this._data.get(d),u!=null&&(!l||l(u))&&c.push(u)}if(o&&o.order&&i==null&&this._sort(c,o.order),o&&o.fields){const p=o.fields;if(i!=null&&u!=null)u=this._filterFields(u,p);else for(let g=0,v=c.length;g<v;g++)c[g]=this._filterFields(c[g],p)}if(a=="Object"){const p={};for(let g=0,v=c.length;g<v;g++){const y=c[g],b=y[this._idProp];p[b]=y}return p}else return i!=null?u??null:c}getIds(e){const r=this._data,i=e&&dt(e),s=e&&e.order,o=[...fc(r).call(r)],a=[];if(i)if(s){const l=[];for(let c=0,u=o.length;c<u;c++){const f=o[c],d=this._data.get(f);d!=null&&i(d)&&l.push(d)}this._sort(l,s);for(let c=0,u=l.length;c<u;c++)a.push(l[c][this._idProp])}else for(let l=0,c=o.length;l<c;l++){const u=o[l],f=this._data.get(u);f!=null&&i(f)&&a.push(f[this._idProp])}else if(s){const l=[];for(let c=0,u=o.length;c<u;c++){const f=o[c];l.push(r.get(f))}this._sort(l,s);for(let c=0,u=l.length;c<u;c++)a.push(l[c][this._idProp])}else for(let l=0,c=o.length;l<c;l++){const u=o[l],f=r.get(u);f!=null&&a.push(f[this._idProp])}return a}getDataSet(){return this}forEach(e,r){const i=r&&dt(r),s=this._data,o=[...fc(s).call(s)];if(r&&r.order){const a=this.get(r);for(let l=0,c=a.length;l<c;l++){const u=a[l],f=u[this._idProp];e(u,f)}}else for(let a=0,l=o.length;a<l;a++){const c=o[a],u=this._data.get(c);u!=null&&(!i||i(u))&&e(u,c)}}map(e,r){const i=r&&dt(r),s=[],o=this._data,a=[...fc(o).call(o)];for(let l=0,c=a.length;l<c;l++){const u=a[l],f=this._data.get(u);f!=null&&(!i||i(f))&&s.push(e(f,u))}return r&&r.order&&this._sort(s,r.order),s}_filterFields(e,r){var i;return e&&Rw(i=Et(r)?r:er(r)).call(i,(s,o)=>(s[o]=e[o],s),{})}_sort(e,r){if(typeof r=="string"){const i=r;qn(e).call(e,(s,o)=>{const a=s[i],l=o[i];return a>l?1:a<l?-1:0})}else if(typeof r=="function")qn(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const i=[],s=[],o=Et(e)?e:[e];for(let a=0,l=o.length;a<l;a++){const c=this._remove(o[a]);if(c){const u=c[this._idProp];u!=null&&(i.push(u),s.push(c))}}return i.length&&this._trigger("remove",{items:i,oldData:s},r),i}_remove(e){let r;if(qI(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const i=this._data.get(r)||null;return this._data.delete(r),--this.length,i}return null}clear(e){var r;const i=[...fc(r=this._data).call(r)],s=[];for(let o=0,a=i.length;o<a;o++)s.push(this._data.get(i[o]));return this._data.clear(),this.length=0,this._trigger("remove",{items:i,oldData:s},e),i}max(e){let r=null,i=null;for(const o of Mq(s=this._data).call(s)){var s;const a=o[e];typeof a=="number"&&(i==null||a>i)&&(r=o,i=a)}return r||null}min(e){let r=null,i=null;for(const o of Mq(s=this._data).call(s)){var s;const a=o[e];typeof a=="number"&&(i==null||a<i)&&(r=o,i=a)}return r||null}distinct(e){const r=this._data,i=[...fc(r).call(r)],s=[];let o=0;for(let a=0,l=i.length;a<l;a++){const c=i[a],f=r.get(c)[e];let d=!1;for(let h=0;h<o;h++)if(s[h]==f){d=!0;break}!d&&f!==void 0&&(s[o]=f,o++)}return s}_addItem(e){const r=vNe(e,this._idProp),i=r[this._idProp];if(this._data.has(i))throw new Error("Cannot add item: item with id "+i+" already exists");return this._data.set(i,r),++this.length,i}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+ii(e)+")");const i=this._data.get(r);if(!i)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,Bq(Bq({},i),e)),r}stream(e){if(e){const i=this._data;return new Pc({*[Dc](){for(const s of e){const o=i.get(s);o!=null&&(yield[s,o])}}})}else{var r;return new Pc({[Dc]:ke(r=lNe(this._data)).call(r,this._data)})}}}let xNe=class gee extends mg{get idProp(){return this.getDataSet().idProp}constructor(e,r){var i;super(),nn(this,"length",0),nn(this,"_listener",void 0),nn(this,"_data",void 0),nn(this,"_ids",new Il),nn(this,"_options",void 0),this._options=r||{},this._listener=ke(i=this._onEvent).call(i,this),this.setData(e)}setData(e){if(this._data){this._data.off&&this._data.off("*",this._listener);const r=this._data.getIds({filter:dt(this._options)}),i=this._data.get(r);this._ids.clear(),this.length=0,this._trigger("remove",{items:r,oldData:i})}if(e!=null){this._data=e;const r=this._data.getIds({filter:dt(this._options)});for(let i=0,s=r.length;i<s;i++){const o=r[i];this._ids.add(o)}this.length=r.length,this._trigger("add",{items:r})}else this._data=new Hf;this._data.on&&this._data.on("*",this._listener)}refresh(){const e=this._data.getIds({filter:dt(this._options)}),r=[...this._ids],i={},s=[],o=[],a=[];for(let l=0,c=e.length;l<c;l++){const u=e[l];i[u]=!0,this._ids.has(u)||(s.push(u),this._ids.add(u))}for(let l=0,c=r.length;l<c;l++){const u=r[l],f=this._data.get(u);f==null?console.error("If you see this, report it please."):i[u]||(o.push(u),a.push(f),this._ids.delete(u))}this.length+=s.length-o.length,s.length&&this._trigger("add",{items:s}),o.length&&this._trigger("remove",{items:o,oldData:a})}get(e,r){if(this._data==null)return null;let i=null,s;qI(e)||Et(e)?(i=e,s=r):s=e;const o=Sa({},this._options,s),a=dt(this._options),l=s&&dt(s);return a&&l&&(o.filter=c=>a(c)&&l(c)),i==null?this._data.get(o):this._data.get(i,o)}getIds(e){if(this._data.length){const r=dt(this._options),i=e!=null?dt(e):null;let s;return i?r?s=o=>r(o)&&i(o):s=i:s=r,this._data.getIds({filter:s,order:e&&e.order})}else return[]}forEach(e,r){if(this._data){var i;const s=dt(this._options),o=r&&dt(r);let a;o?s?a=function(l){return s(l)&&o(l)}:a=o:a=s,Qe(i=this._data).call(i,e,{filter:a,order:r&&r.order})}}map(e,r){if(this._data){var i;const s=dt(this._options),o=r&&dt(r);let a;return o?s?a=l=>s(l)&&o(l):a=o:a=s,Vt(i=this._data).call(i,e,{filter:a,order:r&&r.order})}else return[]}getDataSet(){return this._data.getDataSet()}stream(e){var r;return this._data.stream(e||{[Dc]:ke(r=fc(this._ids)).call(r,this._ids)})}dispose(){var e;(e=this._data)!==null&&e!==void 0&&e.off&&this._data.off("*",this._listener);const r="This data view has already been disposed of.",i={get:()=>{throw new Error(r)},set:()=>{throw new Error(r)},configurable:!1};for(const s of pJ(gee.prototype))Nw(this,s,i)}_onEvent(e,r,i){if(!r||!r.items||!this._data)return;const s=r.items,o=[],a=[],l=[],c=[],u=[],f=[];switch(e){case"add":for(let d=0,h=s.length;d<h;d++){const p=s[d];this.get(p)&&(this._ids.add(p),o.push(p))}break;case"update":for(let d=0,h=s.length;d<h;d++){const p=s[d];this.get(p)?this._ids.has(p)?(a.push(p),u.push(r.data[d]),c.push(r.oldData[d])):(this._ids.add(p),o.push(p)):this._ids.has(p)&&(this._ids.delete(p),l.push(p),f.push(r.oldData[d]))}break;case"remove":for(let d=0,h=s.length;d<h;d++){const p=s[d];this._ids.has(p)&&(this._ids.delete(p),l.push(p),f.push(r.oldData[d]))}break}this.length+=o.length-l.length,o.length&&this._trigger("add",{items:o},i),a.length&&this._trigger("update",{items:a,oldData:c,data:u},i),l.length&&this._trigger("remove",{items:l,oldData:f},i)}};function wNe(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof Qe(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Vt(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function _Ne(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof Qe(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Vt(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&wNe(n,e.getDataSet())}var SNe=Ws(),Yi=ct(SNe);const qr=typeof window<"u"&&window.moment||Yi;var zb={exports:{}},bn={},Ub={exports:{}},ic={},zq;function bee(){if(zq)return ic;zq=1;function n(){var o={};return o["align-content"]=!1,o["align-items"]=!1,o["align-self"]=!1,o["alignment-adjust"]=!1,o["alignment-baseline"]=!1,o.all=!1,o["anchor-point"]=!1,o.animation=!1,o["animation-delay"]=!1,o["animation-direction"]=!1,o["animation-duration"]=!1,o["animation-fill-mode"]=!1,o["animation-iteration-count"]=!1,o["animation-name"]=!1,o["animation-play-state"]=!1,o["animation-timing-function"]=!1,o.azimuth=!1,o["backface-visibility"]=!1,o.background=!0,o["background-attachment"]=!0,o["background-clip"]=!0,o["background-color"]=!0,o["background-image"]=!0,o["background-origin"]=!0,o["background-position"]=!0,o["background-repeat"]=!0,o["background-size"]=!0,o["baseline-shift"]=!1,o.binding=!1,o.bleed=!1,o["bookmark-label"]=!1,o["bookmark-level"]=!1,o["bookmark-state"]=!1,o.border=!0,o["border-bottom"]=!0,o["border-bottom-color"]=!0,o["border-bottom-left-radius"]=!0,o["border-bottom-right-radius"]=!0,o["border-bottom-style"]=!0,o["border-bottom-width"]=!0,o["border-collapse"]=!0,o["border-color"]=!0,o["border-image"]=!0,o["border-image-outset"]=!0,o["border-image-repeat"]=!0,o["border-image-slice"]=!0,o["border-image-source"]=!0,o["border-image-width"]=!0,o["border-left"]=!0,o["border-left-color"]=!0,o["border-left-style"]=!0,o["border-left-width"]=!0,o["border-radius"]=!0,o["border-right"]=!0,o["border-right-color"]=!0,o["border-right-style"]=!0,o["border-right-width"]=!0,o["border-spacing"]=!0,o["border-style"]=!0,o["border-top"]=!0,o["border-top-color"]=!0,o["border-top-left-radius"]=!0,o["border-top-right-radius"]=!0,o["border-top-style"]=!0,o["border-top-width"]=!0,o["border-width"]=!0,o.bottom=!1,o["box-decoration-break"]=!0,o["box-shadow"]=!0,o["box-sizing"]=!0,o["box-snap"]=!0,o["box-suppress"]=!0,o["break-after"]=!0,o["break-before"]=!0,o["break-inside"]=!0,o["caption-side"]=!1,o.chains=!1,o.clear=!0,o.clip=!1,o["clip-path"]=!1,o["clip-rule"]=!1,o.color=!0,o["color-interpolation-filters"]=!0,o["column-count"]=!1,o["column-fill"]=!1,o["column-gap"]=!1,o["column-rule"]=!1,o["column-rule-color"]=!1,o["column-rule-style"]=!1,o["column-rule-width"]=!1,o["column-span"]=!1,o["column-width"]=!1,o.columns=!1,o.contain=!1,o.content=!1,o["counter-increment"]=!1,o["counter-reset"]=!1,o["counter-set"]=!1,o.crop=!1,o.cue=!1,o["cue-after"]=!1,o["cue-before"]=!1,o.cursor=!1,o.direction=!1,o.display=!0,o["display-inside"]=!0,o["display-list"]=!0,o["display-outside"]=!0,o["dominant-baseline"]=!1,o.elevation=!1,o["empty-cells"]=!1,o.filter=!1,o.flex=!1,o["flex-basis"]=!1,o["flex-direction"]=!1,o["flex-flow"]=!1,o["flex-grow"]=!1,o["flex-shrink"]=!1,o["flex-wrap"]=!1,o.float=!1,o["float-offset"]=!1,o["flood-color"]=!1,o["flood-opacity"]=!1,o["flow-from"]=!1,o["flow-into"]=!1,o.font=!0,o["font-family"]=!0,o["font-feature-settings"]=!0,o["font-kerning"]=!0,o["font-language-override"]=!0,o["font-size"]=!0,o["font-size-adjust"]=!0,o["font-stretch"]=!0,o["font-style"]=!0,o["font-synthesis"]=!0,o["font-variant"]=!0,o["font-variant-alternates"]=!0,o["font-variant-caps"]=!0,o["font-variant-east-asian"]=!0,o["font-variant-ligatures"]=!0,o["font-variant-numeric"]=!0,o["font-variant-position"]=!0,o["font-weight"]=!0,o.grid=!1,o["grid-area"]=!1,o["grid-auto-columns"]=!1,o["grid-auto-flow"]=!1,o["grid-auto-rows"]=!1,o["grid-column"]=!1,o["grid-column-end"]=!1,o["grid-column-start"]=!1,o["grid-row"]=!1,o["grid-row-end"]=!1,o["grid-row-start"]=!1,o["grid-template"]=!1,o["grid-template-areas"]=!1,o["grid-template-columns"]=!1,o["grid-template-rows"]=!1,o["hanging-punctuation"]=!1,o.height=!0,o.hyphens=!1,o.icon=!1,o["image-orientation"]=!1,o["image-resolution"]=!1,o["ime-mode"]=!1,o["initial-letters"]=!1,o["inline-box-align"]=!1,o["justify-content"]=!1,o["justify-items"]=!1,o["justify-self"]=!1,o.left=!1,o["letter-spacing"]=!0,o["lighting-color"]=!0,o["line-box-contain"]=!1,o["line-break"]=!1,o["line-grid"]=!1,o["line-height"]=!1,o["line-snap"]=!1,o["line-stacking"]=!1,o["line-stacking-ruby"]=!1,o["line-stacking-shift"]=!1,o["line-stacking-strategy"]=!1,o["list-style"]=!0,o["list-style-image"]=!0,o["list-style-position"]=!0,o["list-style-type"]=!0,o.margin=!0,o["margin-bottom"]=!0,o["margin-left"]=!0,o["margin-right"]=!0,o["margin-top"]=!0,o["marker-offset"]=!1,o["marker-side"]=!1,o.marks=!1,o.mask=!1,o["mask-box"]=!1,o["mask-box-outset"]=!1,o["mask-box-repeat"]=!1,o["mask-box-slice"]=!1,o["mask-box-source"]=!1,o["mask-box-width"]=!1,o["mask-clip"]=!1,o["mask-image"]=!1,o["mask-origin"]=!1,o["mask-position"]=!1,o["mask-repeat"]=!1,o["mask-size"]=!1,o["mask-source-type"]=!1,o["mask-type"]=!1,o["max-height"]=!0,o["max-lines"]=!1,o["max-width"]=!0,o["min-height"]=!0,o["min-width"]=!0,o["move-to"]=!1,o["nav-down"]=!1,o["nav-index"]=!1,o["nav-left"]=!1,o["nav-right"]=!1,o["nav-up"]=!1,o["object-fit"]=!1,o["object-position"]=!1,o.opacity=!1,o.order=!1,o.orphans=!1,o.outline=!1,o["outline-color"]=!1,o["outline-offset"]=!1,o["outline-style"]=!1,o["outline-width"]=!1,o.overflow=!1,o["overflow-wrap"]=!1,o["overflow-x"]=!1,o["overflow-y"]=!1,o.padding=!0,o["padding-bottom"]=!0,o["padding-left"]=!0,o["padding-right"]=!0,o["padding-top"]=!0,o.page=!1,o["page-break-after"]=!1,o["page-break-before"]=!1,o["page-break-inside"]=!1,o["page-policy"]=!1,o.pause=!1,o["pause-after"]=!1,o["pause-before"]=!1,o.perspective=!1,o["perspective-origin"]=!1,o.pitch=!1,o["pitch-range"]=!1,o["play-during"]=!1,o.position=!1,o["presentation-level"]=!1,o.quotes=!1,o["region-fragment"]=!1,o.resize=!1,o.rest=!1,o["rest-after"]=!1,o["rest-before"]=!1,o.richness=!1,o.right=!1,o.rotation=!1,o["rotation-point"]=!1,o["ruby-align"]=!1,o["ruby-merge"]=!1,o["ruby-position"]=!1,o["shape-image-threshold"]=!1,o["shape-outside"]=!1,o["shape-margin"]=!1,o.size=!1,o.speak=!1,o["speak-as"]=!1,o["speak-header"]=!1,o["speak-numeral"]=!1,o["speak-punctuation"]=!1,o["speech-rate"]=!1,o.stress=!1,o["string-set"]=!1,o["tab-size"]=!1,o["table-layout"]=!1,o["text-align"]=!0,o["text-align-last"]=!0,o["text-combine-upright"]=!0,o["text-decoration"]=!0,o["text-decoration-color"]=!0,o["text-decoration-line"]=!0,o["text-decoration-skip"]=!0,o["text-decoration-style"]=!0,o["text-emphasis"]=!0,o["text-emphasis-color"]=!0,o["text-emphasis-position"]=!0,o["text-emphasis-style"]=!0,o["text-height"]=!0,o["text-indent"]=!0,o["text-justify"]=!0,o["text-orientation"]=!0,o["text-overflow"]=!0,o["text-shadow"]=!0,o["text-space-collapse"]=!0,o["text-transform"]=!0,o["text-underline-position"]=!0,o["text-wrap"]=!0,o.top=!1,o.transform=!1,o["transform-origin"]=!1,o["transform-style"]=!1,o.transition=!1,o["transition-delay"]=!1,o["transition-duration"]=!1,o["transition-property"]=!1,o["transition-timing-function"]=!1,o["unicode-bidi"]=!1,o["vertical-align"]=!1,o.visibility=!1,o["voice-balance"]=!1,o["voice-duration"]=!1,o["voice-family"]=!1,o["voice-pitch"]=!1,o["voice-range"]=!1,o["voice-rate"]=!1,o["voice-stress"]=!1,o["voice-volume"]=!1,o.volume=!1,o["white-space"]=!1,o.widows=!1,o.width=!0,o["will-change"]=!1,o["word-break"]=!0,o["word-spacing"]=!0,o["word-wrap"]=!0,o["wrap-flow"]=!1,o["wrap-through"]=!1,o["writing-mode"]=!1,o["z-index"]=!1,o}function e(o,a,l){}function r(o,a,l){}var i=/javascript\s*\:/img;function s(o,a){return i.test(a)?"":a}return ic.whiteList=n(),ic.getDefaultWhiteList=n,ic.onAttr=e,ic.onIgnoreAttr=r,ic.safeAttrValue=s,ic}var WE,Uq;function yee(){return Uq||(Uq=1,WE={indexOf:function(n,e){var r,i;if(Array.prototype.indexOf)return n.indexOf(e);for(r=0,i=n.length;r<i;r++)if(n[r]===e)return r;return-1},forEach:function(n,e,r){var i,s;if(Array.prototype.forEach)return n.forEach(e,r);for(i=0,s=n.length;i<s;i++)e.call(r,n[i],i,n)},trim:function(n){return String.prototype.trim?n.trim():n.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(n){return String.prototype.trimRight?n.trimRight():n.replace(/(\s*$)/g,"")}}),WE}var HE,qq;function kNe(){if(qq)return HE;qq=1;var n=yee();function e(r,i){r=n.trimRight(r),r[r.length-1]!==";"&&(r+=";");var s=r.length,o=!1,a=0,l=0,c="";function u(){if(!o){var h=n.trim(r.slice(a,l)),p=h.indexOf(":");if(p!==-1){var g=n.trim(h.slice(0,p)),v=n.trim(h.slice(p+1));if(g){var y=i(a,c.length,g,v,h);y&&(c+=y+"; ")}}}a=l+1}for(;l<s;l++){var f=r[l];if(f==="/"&&r[l+1]==="*"){var d=r.indexOf("*/",l+2);if(d===-1)break;l=d+1,a=l+1,o=!1}else f==="("?o=!0:f===")"?o=!1:f===";"?o||u():f===`
`&&u()}return n.trim(c)}return HE=e,HE}var GE,Wq;function CNe(){if(Wq)return GE;Wq=1;var n=bee(),e=kNe();yee();function r(o){return o==null}function i(o){var a={};for(var l in o)a[l]=o[l];return a}function s(o){o=i(o||{}),o.whiteList=o.whiteList||n.whiteList,o.onAttr=o.onAttr||n.onAttr,o.onIgnoreAttr=o.onIgnoreAttr||n.onIgnoreAttr,o.safeAttrValue=o.safeAttrValue||n.safeAttrValue,this.options=o}return s.prototype.process=function(o){if(o=o||"",o=o.toString(),!o)return"";var a=this,l=a.options,c=l.whiteList,u=l.onAttr,f=l.onIgnoreAttr,d=l.safeAttrValue,h=e(o,function(p,g,v,y,b){var w=c[v],k=!1;if(w===!0?k=w:typeof w=="function"?k=w(y):w instanceof RegExp&&(k=w.test(y)),k!==!0&&(k=!1),y=d(v,y),!!y){var _={position:g,sourcePosition:p,source:b,isWhite:k};if(k){var S=u(v,y,_);return r(S)?v+":"+y:S}else{var S=f(v,y,_);if(!r(S))return S}}});return h},GE=s,GE}var Hq;function WI(){return Hq||(Hq=1,function(n,e){var r=bee(),i=CNe();function s(a,l){var c=new i(l);return c.process(a)}e=n.exports=s,e.FilterCSS=i;for(var o in r)e[o]=r[o];typeof window<"u"&&(window.filterCSS=n.exports)}(Ub,Ub.exports)),Ub.exports}var YE,Gq;function MR(){return Gq||(Gq=1,YE={indexOf:function(n,e){var r,i;if(Array.prototype.indexOf)return n.indexOf(e);for(r=0,i=n.length;r<i;r++)if(n[r]===e)return r;return-1},forEach:function(n,e,r){var i,s;if(Array.prototype.forEach)return n.forEach(e,r);for(i=0,s=n.length;i<s;i++)e.call(r,n[i],i,n)},trim:function(n){return String.prototype.trim?n.trim():n.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(n){var e=/\s|\n|\t/,r=e.exec(n);return r?r.index:-1}}),YE}var Yq;function vee(){if(Yq)return bn;Yq=1;var n=WI().FilterCSS,e=WI().getDefaultWhiteList,r=MR();function i(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var s=new n;function o(U,N,q){}function a(U,N,q){}function l(U,N,q){}function c(U,N,q){}function u(U){return U.replace(d,"&lt;").replace(h,"&gt;")}function f(U,N,q,H){if(q=P(q),N==="href"||N==="src"){if(q=r.trim(q),q==="#")return"#";if(!(q.substr(0,7)==="http://"||q.substr(0,8)==="https://"||q.substr(0,7)==="mailto:"||q.substr(0,4)==="tel:"||q.substr(0,11)==="data:image/"||q.substr(0,6)==="ftp://"||q.substr(0,2)==="./"||q.substr(0,3)==="../"||q[0]==="#"||q[0]==="/"))return""}else if(N==="background"){if(w.lastIndex=0,w.test(q))return""}else if(N==="style"){if(k.lastIndex=0,k.test(q)||(_.lastIndex=0,_.test(q)&&(w.lastIndex=0,w.test(q))))return"";H!==!1&&(H=H||s,q=H.process(q))}return q=A(q),q}var d=/</g,h=/>/g,p=/"/g,g=/&quot;/g,v=/&#([a-zA-Z0-9]*);?/gim,y=/&colon;?/gim,b=/&newline;?/gim,w=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,k=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,_=/u\s*r\s*l\s*\(.*/gi;function S(U){return U.replace(p,"&quot;")}function C(U){return U.replace(g,'"')}function T(U){return U.replace(v,function(q,H){return H[0]==="x"||H[0]==="X"?String.fromCharCode(parseInt(H.substr(1),16)):String.fromCharCode(parseInt(H,10))})}function D(U){return U.replace(y,":").replace(b," ")}function O(U){for(var N="",q=0,H=U.length;q<H;q++)N+=U.charCodeAt(q)<32?" ":U.charAt(q);return r.trim(N)}function P(U){return U=C(U),U=T(U),U=D(U),U=O(U),U}function A(U){return U=S(U),U=u(U),U}function L(){return""}function B(U,N){typeof N!="function"&&(N=function(){});var q=!Array.isArray(U);function H(W){return q?!0:r.indexOf(U,W)!==-1}var X=[],Y=!1;return{onIgnoreTag:function(W,R,Z){if(H(W))if(Z.isClosing){var J="[/removed]",V=Z.position+J.length;return X.push([Y!==!1?Y:Z.position,V]),Y=!1,J}else return Y||(Y=Z.position),"[removed]";else return N(W,R,Z)},remove:function(W){var R="",Z=0;return r.forEach(X,function(J){R+=W.slice(Z,J[0]),Z=J[1]}),R+=W.slice(Z),R}}}function F(U){for(var N="",q=0;q<U.length;){var H=U.indexOf("<!--",q);if(H===-1){N+=U.slice(q);break}N+=U.slice(q,H);var X=U.indexOf("-->",H);if(X===-1)break;q=X+3}return N}function $(U){var N=U.split("");return N=N.filter(function(q){var H=q.charCodeAt(0);return H===127?!1:H<=31?H===10||H===13:!0}),N.join("")}return bn.whiteList=i(),bn.getDefaultWhiteList=i,bn.onTag=o,bn.onIgnoreTag=a,bn.onTagAttr=l,bn.onIgnoreTagAttr=c,bn.safeAttrValue=f,bn.escapeHtml=u,bn.escapeQuote=S,bn.unescapeQuote=C,bn.escapeHtmlEntities=T,bn.escapeDangerHtml5Entities=D,bn.clearNonPrintableCharacter=O,bn.friendlyAttrValue=P,bn.escapeAttrValue=A,bn.onIgnoreTagStripAll=L,bn.StripTagBody=B,bn.stripCommentTag=F,bn.stripBlankChar=$,bn.attributeWrapSign='"',bn.cssFilter=s,bn.getDefaultCSSWhiteList=e,bn}var qb={},Vq;function xee(){if(Vq)return qb;Vq=1;var n=MR();function e(d){var h=n.spaceIndex(d),p;return h===-1?p=d.slice(1,-1):p=d.slice(1,h+1),p=n.trim(p).toLowerCase(),p.slice(0,1)==="/"&&(p=p.slice(1)),p.slice(-1)==="/"&&(p=p.slice(0,-1)),p}function r(d){return d.slice(0,2)==="</"}function i(d,h,p){var g="",v=0,y=!1,b=!1,w=0,k=d.length,_="",S="";e:for(w=0;w<k;w++){var C=d.charAt(w);if(y===!1){if(C==="<"){y=w;continue}}else if(b===!1){if(C==="<"){g+=p(d.slice(v,w)),y=w,v=w;continue}if(C===">"||w===k-1){g+=p(d.slice(v,y)),S=d.slice(y,w+1),_=e(S),g+=h(y,g.length,_,S,r(S)),v=w+1,y=!1;continue}if(C==='"'||C==="'")for(var T=1,D=d.charAt(w-T);D.trim()===""||D==="=";){if(D==="="){b=C;continue e}D=d.charAt(w-++T)}}else if(C===b){b=!1;continue}}return v<k&&(g+=p(d.substr(v))),g}var s=/[^a-zA-Z0-9\\_:.-]/gim;function o(d,h){var p=0,g=0,v=[],y=!1,b=d.length;function w(T,D){if(T=n.trim(T),T=T.replace(s,"").toLowerCase(),!(T.length<1)){var O=h(T,D||"");O&&v.push(O)}}for(var k=0;k<b;k++){var _=d.charAt(k),S,C;if(y===!1&&_==="="){y=d.slice(p,k),p=k+1,g=d.charAt(p)==='"'||d.charAt(p)==="'"?p:l(d,k+1);continue}if(y!==!1&&k===g){if(C=d.indexOf(_,k+1),C===-1)break;S=n.trim(d.slice(g+1,C)),w(y,S),y=!1,k=C,p=k+1;continue}if(/\s|\n|\t/.test(_))if(d=d.replace(/\s|\n|\t/g," "),y===!1)if(C=a(d,k),C===-1){S=n.trim(d.slice(p,k)),w(S),y=!1,p=k+1;continue}else{k=C-1;continue}else if(C=c(d,k-1),C===-1){S=n.trim(d.slice(p,k)),S=f(S),w(y,S),y=!1,p=k+1;continue}else continue}return p<d.length&&(y===!1?w(d.slice(p)):w(y,f(n.trim(d.slice(p))))),n.trim(v.join(" "))}function a(d,h){for(;h<d.length;h++){var p=d[h];if(p!==" ")return p==="="?h:-1}}function l(d,h){for(;h<d.length;h++){var p=d[h];if(p!==" ")return p==="'"||p==='"'?h:-1}}function c(d,h){for(;h>0;h--){var p=d[h];if(p!==" ")return p==="="?h:-1}}function u(d){return d[0]==='"'&&d[d.length-1]==='"'||d[0]==="'"&&d[d.length-1]==="'"}function f(d){return u(d)?d.substr(1,d.length-2):d}return qb.parseTag=i,qb.parseAttr=o,qb}var VE,Kq;function TNe(){if(Kq)return VE;Kq=1;var n=WI().FilterCSS,e=vee(),r=xee(),i=r.parseTag,s=r.parseAttr,o=MR();function a(d){return d==null}function l(d){var h=o.spaceIndex(d);if(h===-1)return{html:"",closing:d[d.length-2]==="/"};d=o.trim(d.slice(h+1,-1));var p=d[d.length-1]==="/";return p&&(d=o.trim(d.slice(0,-1))),{html:d,closing:p}}function c(d){var h={};for(var p in d)h[p]=d[p];return h}function u(d){var h={};for(var p in d)Array.isArray(d[p])?h[p.toLowerCase()]=d[p].map(function(g){return g.toLowerCase()}):h[p.toLowerCase()]=d[p];return h}function f(d){d=c(d||{}),d.stripIgnoreTag&&(d.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),d.onIgnoreTag=e.onIgnoreTagStripAll),d.whiteList||d.allowList?d.whiteList=u(d.whiteList||d.allowList):d.whiteList=e.whiteList,this.attributeWrapSign=d.singleQuotedAttributeValue===!0?"'":e.attributeWrapSign,d.onTag=d.onTag||e.onTag,d.onTagAttr=d.onTagAttr||e.onTagAttr,d.onIgnoreTag=d.onIgnoreTag||e.onIgnoreTag,d.onIgnoreTagAttr=d.onIgnoreTagAttr||e.onIgnoreTagAttr,d.safeAttrValue=d.safeAttrValue||e.safeAttrValue,d.escapeHtml=d.escapeHtml||e.escapeHtml,this.options=d,d.css===!1?this.cssFilter=!1:(d.css=d.css||{},this.cssFilter=new n(d.css))}return f.prototype.process=function(d){if(d=d||"",d=d.toString(),!d)return"";var h=this,p=h.options,g=p.whiteList,v=p.onTag,y=p.onIgnoreTag,b=p.onTagAttr,w=p.onIgnoreTagAttr,k=p.safeAttrValue,_=p.escapeHtml,S=h.attributeWrapSign,C=h.cssFilter;p.stripBlankChar&&(d=e.stripBlankChar(d)),p.allowCommentTag||(d=e.stripCommentTag(d));var T=!1;p.stripIgnoreTagBody&&(T=e.StripTagBody(p.stripIgnoreTagBody,y),y=T.onIgnoreTag);var D=i(d,function(O,P,A,L,B){var F={sourcePosition:O,position:P,isClosing:B,isWhite:Object.prototype.hasOwnProperty.call(g,A)},$=v(A,L,F);if(!a($))return $;if(F.isWhite){if(F.isClosing)return"</"+A+">";var U=l(L),N=g[A],q=s(U.html,function(H,X){var Y=o.indexOf(N,H)!==-1,W=b(A,H,X,Y);return a(W)?Y?(X=k(A,H,X,C),X?H+"="+S+X+S:H):(W=w(A,H,X,Y),a(W)?void 0:W):W});return L="<"+A,q&&(L+=" "+q),U.closing&&(L+=" /"),L+=">",L}else return $=y(A,L,F),a($)?_(L):$},_);return T&&(D=T.remove(D)),D},VE=f,VE}var Xq;function ENe(){return Xq||(Xq=1,function(n,e){var r=vee(),i=xee(),s=TNe();function o(l,c){var u=new s(c);return u.process(l)}e=n.exports=o,e.filterXSS=o,e.FilterXSS=s,function(){for(var l in r)e[l]=r[l];for(var c in i)e[c]=i[c]}(),typeof window<"u"&&(window.filterXSS=n.exports);function a(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}a()&&(self.filterXSS=n.exports)}(zb,zb.exports)),zb.exports}var DNe=ENe(),PNe=ct(DNe);function Qq(n,e){var r=er(n);if(Hv){var i=Hv(n);e&&(i=dt(i).call(i,function(s){return Mw(n,s).enumerable})),r.push.apply(r,i)}return r}function Zq(n){for(var e=1;e<arguments.length;e++){var r,i,s=arguments[e]!=null?arguments[e]:{};e%2?Qe(r=Qq(Object(s),!0)).call(r,function(o){nn(n,o,s[o])}):Gv?nee(n,Gv(s)):Qe(i=Qq(Object(s))).call(i,function(o){Nw(n,o,Mw(s,o))})}return n}function ka(n){var e;if(!n)return!1;let r=(e=n.idProp)!==null&&e!==void 0?e:n._idProp;return r?_Ne(r,n):!1}const KE=/^\/?Date\((-?\d+)/i,INe=/^\d+$/;function AR(n,e){let r;if(n!==void 0){if(n===null)return null;if(!e)return n;if(typeof e!="string"&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return!!n;case"number":case"Number":return Ei(n)&&!isNaN(Date.parse(n))?Yi(n).valueOf():Number(n.valueOf());case"string":case"String":return String(n);case"Date":try{return AR(n,"Moment").toDate()}catch(i){throw i instanceof TypeError?new TypeError("Cannot convert object of type "+Ap(n)+" to type "+e):i}case"Moment":if(nm(n))return Yi(n);if(n instanceof Date)return Yi(n.valueOf());if(Yi.isMoment(n))return Yi(n);if(Ei(n))return r=KE.exec(n),r?Yi(Number(r[1])):(r=INe.exec(n),Yi(r?Number(n):n));throw new TypeError("Cannot convert object of type "+Ap(n)+" to type "+e);case"ISODate":if(nm(n))return new Date(n);if(n instanceof Date)return n.toISOString();if(Yi.isMoment(n))return n.toDate().toISOString();if(Ei(n))return r=KE.exec(n),r?new Date(Number(r[1])).toISOString():Yi(n).format();throw new Error("Cannot convert object of type "+Ap(n)+" to type ISODate");case"ASPDate":if(nm(n))return"/Date("+n+")/";if(n instanceof Date||Yi.isMoment(n))return"/Date("+n.valueOf()+")/";if(Ei(n)){r=KE.exec(n);let i;return r?i=new Date(Number(r[1])).valueOf():i=new Date(n).valueOf(),"/Date("+i+")/"}else throw new Error("Cannot convert object of type "+Ap(n)+" to type ASPDate");default:throw new Error("Unknown type ".concat(e))}}}function Gf(n){var e,r,i,s,o,a;let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{start:"Date",end:"Date"};const c=n._idProp,u=new Hf({fieldId:c}),f=Vt(e=gNe(n)).call(e,d=>{var h;return Rw(h=er(d)).call(h,(p,g)=>(p[g]=AR(d[g],l[g]),p),{})}).to(u);return f.all().start(),{add:function(){return n.getDataSet().add(...arguments)},remove:function(){return n.getDataSet().remove(...arguments)},update:function(){return n.getDataSet().update(...arguments)},updateOnly:function(){return n.getDataSet().updateOnly(...arguments)},clear:function(){return n.getDataSet().clear(...arguments)},forEach:ke(r=Qe(u)).call(r,u),get:ke(i=u.get).call(i,u),getIds:ke(s=u.getIds).call(s,u),off:ke(o=u.off).call(o,u),on:ke(a=u.on).call(a,u),get length(){return u.length},idProp:c,type:l,rawDS:n,coercedDS:u,dispose:()=>f.stop()}}const wee=n=>{const e=new PNe.FilterXSS(n);return r=>typeof r=="string"?e.process(r):r},ONe=n=>n;let HI=wee();const MNe=n=>{n&&(n.disabled===!0?(HI=ONe,console.warn("You disabled XSS protection for vis-Timeline. I sure hope you know what you're doing!")):n.filterOptions&&(HI=wee(n.filterOptions)))},Q=Zq(Zq({},mMe),{},{convert:AR,setupXSSProtection:MNe});Nw(Q,"xss",{get:function(){return HI}});var Jq={},XE,eW;function ANe(){if(eW)return XE;eW=1;var n=Nn(),e=jt(),r=Bt(),i=gs(),s=bJ().trim,o=uR(),a=r("".charAt),l=n.parseFloat,c=n.Symbol,u=c&&c.iterator,f=1/l(o+"-0")!==-1/0||u&&!e(function(){l(Object(u))});return XE=f?function(h){var p=s(i(h)),g=l(p);return g===0&&a(p,0)==="-"?-0:g}:l,XE}var tW;function RNe(){if(tW)return Jq;tW=1;var n=st(),e=ANe();return n({global:!0,forced:parseFloat!==e},{parseFloat:e}),Jq}var QE,nW;function NNe(){if(nW)return QE;nW=1,RNe();var n=un();return QE=n.parseFloat,QE}var ZE,rW;function jNe(){if(rW)return ZE;rW=1;var n=NNe();return ZE=n,ZE}var JE,iW;function LNe(){return iW||(iW=1,JE=jNe()),JE}var FNe=LNe(),Yv=ct(FNe);class Vl{constructor(){this.options=null,this.props=null}setOptions(e){e&&Q.extend(this.options,e)}redraw(){return!1}destroy(){}_isResized(){const e=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,e}}var sW={},oW;function $Ne(){if(oW)return sW;oW=1;var n=st(),e=yJ();return n({target:"String",proto:!0},{repeat:e}),sW}var eD,aW;function BNe(){if(aW)return eD;aW=1,$Ne();var n=jn();return eD=n("String","repeat"),eD}var tD,lW;function zNe(){if(lW)return tD;lW=1;var n=mn(),e=BNe(),r=String.prototype;return tD=function(i){var s=i.repeat;return typeof i=="string"||i===r||n(r,i)&&s===r.repeat?e:s},tD}var nD,cW;function UNe(){if(cW)return nD;cW=1;var n=zNe();return nD=n,nD}var rD,uW;function qNe(){return uW||(uW=1,rD=UNe()),rD}var WNe=qNe(),id=ct(WNe);function RR(n,e,r){if(r&&!Et(r))return RR(n,e,[r]);if(e.hiddenDates=[],r&&Et(r)==!0){var i;for(let s=0;s<r.length;s++)if(id(r[s])===void 0){const o={};o.start=n(r[s].start).toDate().valueOf(),o.end=n(r[s].end).toDate().valueOf(),e.hiddenDates.push(o)}qn(i=e.hiddenDates).call(i,(s,o)=>s.start-o.start)}}function Vv(n,e,r){if(r&&!Et(r))return Vv(n,e,[r]);if(r&&e.domProps.centerContainer.width!==void 0){RR(n,e,r);const i=n(e.range.start),s=n(e.range.end),a=(e.range.end-e.range.start)/e.domProps.centerContainer.width;for(let d=0;d<r.length;d++)if(id(r[d])!==void 0){let h=n(r[d].start),p=n(r[d].end);if(h._d=="Invalid Date")throw new Error("Supplied start date is not valid: ".concat(r[d].start));if(p._d=="Invalid Date")throw new Error("Supplied end date is not valid: ".concat(r[d].end));if(p-h>=4*a){let v=0,y=s.clone();switch(id(r[d])){case"daily":h.day()!=p.day()&&(v=1),h=h.dayOfYear(i.dayOfYear()).year(i.year()).subtract(7,"days"),p=p.dayOfYear(i.dayOfYear()).year(i.year()).subtract(7-v,"days"),y.add(1,"weeks");break;case"weekly":{const b=p.diff(h,"days"),w=h.day();h=h.date(i.date()).month(i.month()).year(i.year()),p=h.clone(),h=h.day(w).subtract(1,"weeks"),p=p.day(w).add(b,"days").subtract(1,"weeks"),y.add(1,"weeks");break}case"monthly":h.month()!=p.month()&&(v=1),h=h.month(i.month()).year(i.year()).subtract(1,"months"),p=p.month(i.month()).year(i.year()).subtract(1,"months").add(v,"months"),y.add(1,"months");break;case"yearly":h.year()!=p.year()&&(v=1),h=h.year(i.year()).subtract(1,"years"),p=p.year(i.year()).subtract(1,"years").add(v,"years"),y.add(1,"years");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",id(r[d]));return}for(;h<y;)switch(e.hiddenDates.push({start:h.valueOf(),end:p.valueOf()}),id(r[d])){case"daily":h=h.add(1,"days"),p=p.add(1,"days");break;case"weekly":h=h.add(1,"weeks"),p=p.add(1,"weeks");break;case"monthly":h=h.add(1,"months"),p=p.add(1,"months");break;case"yearly":h=h.add(1,"y"),p=p.add(1,"y");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",id(r[d]));return}e.hiddenDates.push({start:h.valueOf(),end:p.valueOf()})}}HNe(e);const l=Xv(e.range.start,e.hiddenDates),c=Xv(e.range.end,e.hiddenDates);let u=e.range.start,f=e.range.end;l.hidden==!0&&(u=e.range.startToFront==!0?l.startDate-1:l.endDate+1),c.hidden==!0&&(f=e.range.endToFront==!0?c.startDate-1:c.endDate+1),(l.hidden==!0||c.hidden==!0)&&e.range._applyRange(u,f)}}function HNe(n){var e;const r=n.hiddenDates,i=[];for(var s=0;s<r.length;s++)for(let o=0;o<r.length;o++)s!=o&&r[o].remove!=!0&&r[s].remove!=!0&&(r[o].start>=r[s].start&&r[o].end<=r[s].end?r[o].remove=!0:r[o].start>=r[s].start&&r[o].start<=r[s].end?(r[s].end=r[o].end,r[o].remove=!0):r[o].end>=r[s].start&&r[o].end<=r[s].end&&(r[s].start=r[o].start,r[o].remove=!0));for(s=0;s<r.length;s++)r[s].remove!==!0&&i.push(r[s]);n.hiddenDates=i,qn(e=n.hiddenDates).call(e,(o,a)=>o.start-a.start)}function GNe(n,e,r){let i=!1;const s=e.current.valueOf();for(let a=0;a<e.hiddenDates.length;a++){const l=e.hiddenDates[a].start;var o=e.hiddenDates[a].end;if(s>=l&&s<o){i=!0;break}}if(i==!0&&s<e._end.valueOf()&&s!=r){const a=n(r),l=n(o);a.year()!=l.year()?e.switchedYear=!0:a.month()!=l.month()?e.switchedMonth=!0:a.dayOfYear()!=l.dayOfYear()&&(e.switchedDay=!0),e.current=l}}function dW(n,e,r){let i;if(n.body.hiddenDates.length==0)return i=n.range.conversion(r),(e.valueOf()-i.offset)*i.scale;{const s=Xv(e,n.body.hiddenDates);s.hidden==!0&&(e=s.startDate);const o=im(n.body.hiddenDates,n.range.start,n.range.end);if(e<n.range.start){i=n.range.conversion(r,o);const a=YNe(n.body.hiddenDates,e,i.offset);return e=n.options.moment(e).toDate().valueOf(),e=e+a,-(i.offset-e.valueOf())*i.scale}else if(e>n.range.end){const a={start:n.range.start,end:e};return e=hW(n.options.moment,n.body.hiddenDates,a,e),i=n.range.conversion(r,o),(e.valueOf()-i.offset)*i.scale}else return e=hW(n.options.moment,n.body.hiddenDates,n.range,e),i=n.range.conversion(r,o),(e.valueOf()-i.offset)*i.scale}}function fW(n,e,r){if(n.body.hiddenDates.length==0){const i=n.range.conversion(r);return new Date(e/i.scale+i.offset)}else{const i=im(n.body.hiddenDates,n.range.start,n.range.end),o=(n.range.end-n.range.start-i)*e/r,a=VNe(n.body.hiddenDates,n.range,o);return new Date(a+o+n.range.start)}}function im(n,e,r){let i=0;for(let s=0;s<n.length;s++){const o=n[s].start,a=n[s].end;o>=e&&a<r&&(i+=a-o)}return i}function YNe(n,e,r){let i=0;for(let s=0;s<n.length;s++){const o=n[s].start,a=n[s].end;o>=e&&a<=r&&(i+=a-o)}return i}function hW(n,e,r,i){return i=n(i).toDate().valueOf(),i-=Kv(n,e,r,i),i}function Kv(n,e,r,i){let s=0;i=n(i).toDate().valueOf();for(let o=0;o<e.length;o++){const a=e[o].start,l=e[o].end;a>=r.start&&l<r.end&&i>=l&&(s+=l-a)}return s}function VNe(n,e,r){let i=0,s=0,o=e.start;for(let a=0;a<n.length;a++){const l=n[a].start,c=n[a].end;if(l>=e.start&&c<e.end){if(s+=l-o,o=c,s>=r)break;i+=c-l}}return i}function hc(n,e,r,i){const s=Xv(e,n);return s.hidden==!0?r<0?i==!0?s.startDate-(s.endDate-e)-1:s.startDate-1:i==!0?s.endDate+(e-s.startDate)+1:s.endDate+1:e}function Xv(n,e){for(let s=0;s<e.length;s++){var r=e[s].start,i=e[s].end;if(n>=r&&n<i)return{hidden:!0,startDate:r,endDate:i}}return{hidden:!1,startDate:r,endDate:i}}class jw extends Vl{constructor(e,r){var i,s,o,a,l,c,u;super();const f=qr().hours(0).minutes(0).seconds(0).milliseconds(0),d=f.clone().add(-3,"days").valueOf(),h=f.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,r===void 0?(this.start=d,this.end=h):(this.start=r.start||d,this.end=r.end||h),this.rolling=!1,this.body=e,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:qr,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:1e3*60*60*24*365*1e4,rollingMode:{follow:!1,offset:.5}},this.options=Q.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",ke(i=this._onDragStart).call(i,this)),this.body.emitter.on("panmove",ke(s=this._onDrag).call(s,this)),this.body.emitter.on("panend",ke(o=this._onDragEnd).call(o,this)),this.body.emitter.on("mousewheel",ke(a=this._onMouseWheel).call(a,this)),this.body.emitter.on("touch",ke(l=this._onTouch).call(l,this)),this.body.emitter.on("pinch",ke(c=this._onPinch).call(c,this)),this.body.dom.rollingModeBtn.addEventListener("click",ke(u=this.startRolling).call(u,this)),this.setOptions(r)}setOptions(e){if(e){const r=["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","zoomFriction","rtl","showCurrentTime","rollingMode","horizontalScroll","horizontalScrollKey","horizontalScrollInvert","verticalScroll"];Q.selectiveExtend(r,this.options,e),e.rollingMode&&e.rollingMode.follow&&this.startRolling(),("start"in e||"end"in e)&&this.setRange(e.start,e.end)}}startRolling(){const e=this;function r(){e.stopRolling(),e.rolling=!0;let i=e.end-e.start;const s=Q.convert(new Date,"Date").valueOf(),o=e.options.rollingMode&&e.options.rollingMode.offset||.5,a=s-i*o,l=s+i*(1-o),c={animation:!1};e.setRange(a,l,c),i=1/e.conversion(e.body.domProps.center.width).scale/10,i<30&&(i=30),i>1e3&&(i=1e3),e.body.dom.rollingModeBtn.style.visibility="hidden",e.currentTimeTimer=Pr(r,i)}r()}stopRolling(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")}setRange(e,r,i,s,o){i||(i={}),i.byUser!==!0&&(i.byUser=!1);const a=this,l=e!=null?Q.convert(e,"Date").valueOf():null,c=r!=null?Q.convert(r,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,i.animation){const d=this.start,h=this.end,p=typeof i.animation=="object"&&"duration"in i.animation?i.animation.duration:500,g=typeof i.animation=="object"&&"easingFunction"in i.animation?i.animation.easingFunction:"easeInOutQuad",v=Q.easingFunctions[g];if(!v){var u;throw new Error($n(u="Unknown easing function ".concat(ii(g),". Choose from: ")).call(u,er(Q.easingFunctions).join(", ")))}const y=Ci();let b=!1;const w=()=>{if(!a.props.touch.dragging){const _=Ci()-y,S=v(_/p),C=_>p,T=C||l===null?l:d+(l-d)*S,D=C||c===null?c:h+(c-h)*S;f=a._applyRange(T,D),Vv(a.options.moment,a.body,a.options.hiddenDates),b=b||f;const O={start:new Date(a.start),end:new Date(a.end),byUser:i.byUser,event:i.event};if(o&&o(S,f,C),f&&a.body.emitter.emit("rangechange",O),C){if(b&&(a.body.emitter.emit("rangechanged",O),s))return s()}else a.animationTimer=Pr(w,20)}};return w()}else{var f=this._applyRange(l,c);if(Vv(this.options.moment,this.body,this.options.hiddenDates),f){const d={start:new Date(this.start),end:new Date(this.end),byUser:i.byUser,event:i.event};if(this.body.emitter.emit("rangechange",d),clearTimeout(a.timeoutID),a.timeoutID=Pr(()=>{a.body.emitter.emit("rangechanged",d)},200),s)return s()}}}getMillisecondsPerPixel(){return this.millisecondsPerPixelCache===void 0&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache}_cancelAnimation(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)}_applyRange(e,r){let i=e!=null?Q.convert(e,"Date").valueOf():this.start,s=r!=null?Q.convert(r,"Date").valueOf():this.end;const o=this.options.max!=null?Q.convert(this.options.max,"Date").valueOf():null,a=this.options.min!=null?Q.convert(this.options.min,"Date").valueOf():null;let l;if(isNaN(i)||i===null)throw new Error('Invalid start "'.concat(e,'"'));if(isNaN(s)||s===null)throw new Error('Invalid end "'.concat(r,'"'));if(s<i&&(s=i),a!==null&&i<a&&(l=a-i,i+=l,s+=l,o!=null&&s>o&&(s=o)),o!==null&&s>o&&(l=s-o,i-=l,s-=l,a!=null&&i<a&&(i=a)),this.options.zoomMin!==null){let u=Yv(this.options.zoomMin);u<0&&(u=0),s-i<u&&(this.end-this.start===u&&i>=this.start-.5&&s<=this.end?(i=this.start,s=this.end):(l=u-(s-i),i-=l/2,s+=l/2))}if(this.options.zoomMax!==null){let u=Yv(this.options.zoomMax);u<0&&(u=0),s-i>u&&(this.end-this.start===u&&i<this.start&&s>this.end?(i=this.start,s=this.end):(l=s-i-u,i+=l/2,s-=l/2))}const c=this.start!=i||this.end!=s;return!(i>=this.start&&i<=this.end||s>=this.start&&s<=this.end)&&!(this.start>=i&&this.start<=s||this.end>=i&&this.end<=s)&&this.body.emitter.emit("checkRangedItems"),this.start=i,this.end=s,c}getRange(){return{start:this.start,end:this.end}}conversion(e,r){return jw.conversion(this.start,this.end,e,r)}static conversion(e,r,i,s){return s===void 0&&(s=0),i!=0&&r-e!=0?{offset:e,scale:i/(r-e-s)}:{offset:0,scale:1}}_onDragStart(e){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(e)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))}_onDrag(e){if(!e||!this.props.touch.dragging||!this.options.moveable||!this.props.touch.allowDragging)return;const r=this.options.direction;pW(r);let i=r=="horizontal"?e.deltaX:e.deltaY;i-=this.deltaDifference;let s=this.props.touch.end-this.props.touch.start;const o=im(this.body.hiddenDates,this.start,this.end);s-=o;const a=r=="horizontal"?this.body.domProps.center.width:this.body.domProps.center.height;let l;this.options.rtl?l=i/a*s:l=-i/a*s;const c=this.props.touch.start+l,u=this.props.touch.end+l,f=hc(this.body.hiddenDates,c,this.previousDelta-i,!0),d=hc(this.body.hiddenDates,u,this.previousDelta-i,!0);if(f!=c||d!=u){this.deltaDifference+=i,this.props.touch.start=f,this.props.touch.end=d,this._onDrag(e);return}this.previousDelta=i,this._applyRange(c,u);const h=new Date(this.start),p=new Date(this.end);this.body.emitter.emit("rangechange",{start:h,end:p,byUser:!0,event:e}),this.body.emitter.emit("panmove")}_onDragEnd(e){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:e}))}_onMouseWheel(e){let r=0;if(e.wheelDelta?r=e.wheelDelta/120:e.detail?r=-e.detail/3:e.deltaY&&(r=-e.deltaY/3),!(this.options.zoomKey&&!e[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(e)&&r){const i=this.options.zoomFriction||5;let s;r<0?s=1-r/i:s=1/(1+r/i);let o;if(this.rolling){const a=this.options.rollingMode&&this.options.rollingMode.offset||.5;o=this.start+(this.end-this.start)*a}else{const a=this.getPointer({x:e.clientX,y:e.clientY},this.body.dom.center);o=this._pointerToDate(a)}this.zoom(s,o,r,e),e.preventDefault()}}_onTouch(e){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.props.touch.centerDate=null,this.scaleOffset=0,this.deltaDifference=0,Q.preventDefault(e)}_onPinch(e){if(!(this.options.zoomable&&this.options.moveable))return;Q.preventDefault(e),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(e.center,this.body.dom.center),this.props.touch.centerDate=this._pointerToDate(this.props.touch.center)),this.stopRolling();const r=1/(e.scale+this.scaleOffset),i=this.props.touch.centerDate,s=im(this.body.hiddenDates,this.start,this.end),o=Kv(this.options.moment,this.body.hiddenDates,this,i),a=s-o;let l=i-o+(this.props.touch.start-(i-o))*r,c=i+a+(this.props.touch.end-(i+a))*r;this.startToFront=1-r<=0,this.endToFront=r-1<=0;const u=hc(this.body.hiddenDates,l,1-r,!0),f=hc(this.body.hiddenDates,c,r-1,!0);(u!=l||f!=c)&&(this.props.touch.start=u,this.props.touch.end=f,this.scaleOffset=1-e.scale,l=u,c=f);const d={animation:!1,byUser:!0,event:e};this.setRange(l,c,d),this.startToFront=!1,this.endToFront=!0}_isInsideRange(e){const r=e.center?e.center.x:e.clientX,i=this.body.dom.centerContainer.getBoundingClientRect(),s=this.options.rtl?r-i.left:i.right-r,o=this.body.util.toTime(s);return o>=this.start&&o<=this.end}_pointerToDate(e){let r;const i=this.options.direction;if(pW(i),i=="horizontal")return this.body.util.toTime(e.x).valueOf();{const s=this.body.domProps.center.height;return r=this.conversion(s),e.y/r.scale+r.offset}}getPointer(e,r){const i=r.getBoundingClientRect();return this.options.rtl?{x:i.right-e.x,y:e.y-i.top}:{x:e.x-i.left,y:e.y-i.top}}zoom(e,r,i,s){r==null&&(r=(this.start+this.end)/2);const o=im(this.body.hiddenDates,this.start,this.end),a=Kv(this.options.moment,this.body.hiddenDates,this,r),l=o-a;let c=r-a+(this.start-(r-a))*e,u=r+l+(this.end-(r+l))*e;this.startToFront=!(i>0),this.endToFront=!(-i>0);const f=hc(this.body.hiddenDates,c,i,!0),d=hc(this.body.hiddenDates,u,-i,!0);(f!=c||d!=u)&&(c=f,u=d);const h={animation:!1,byUser:!0,event:s};this.setRange(c,u,h),this.startToFront=!1,this.endToFront=!0}move(e){const r=this.end-this.start,i=this.start+r*e,s=this.end+r*e;this.start=i,this.end=s}moveTo(e){const i=(this.start+this.end)/2-e,s=this.start-i,o=this.end-i,a={animation:!1,byUser:!0,event:null};this.setRange(s,o,a)}destroy(){this.stopRolling()}}function pW(n){if(n!="horizontal"&&n!="vertical")throw new TypeError('Unknown direction "'.concat(n,'". Choose "horizontal" or "vertical".'))}var iD,mW;function KNe(){if(mW)return iD;mW=1,wJ();var n=un();return iD=n.setInterval,iD}var sD,gW;function XNe(){return gW||(gW=1,sD=KNe()),sD}var QNe=XNe(),ZNe=ct(QNe),op=null;function GI(n,e){var r=e||{preventDefault:!1};if(n.Manager){var i=n,s=function(u,f){var d=Object.create(r);return f&&i.assign(d,f),GI(new i(u,d),d)};return i.assign(s,i),s.Manager=function(u,f){var d=Object.create(r);return f&&i.assign(d,f),GI(new i.Manager(u,d),d)},s}var o=Object.create(n),a=n.element;a.hammer||(a.hammer=[]),a.hammer.push(o),n.on("hammer.input",function(u){(r.preventDefault===!0||r.preventDefault===u.pointerType)&&u.preventDefault(),u.isFirst&&(op=u.target)}),o._handlers={},o.on=function(u,f){return l(u).forEach(function(d){var h=o._handlers[d];h||(o._handlers[d]=h=[],n.on(d,c)),h.push(f)}),o},o.off=function(u,f){return l(u).forEach(function(d){var h=o._handlers[d];h&&(h=f?h.filter(function(p){return p!==f}):[],h.length>0?o._handlers[d]=h:(n.off(d,c),delete o._handlers[d]))}),o},o.emit=function(u,f){op=f.target,n.emit(u,f)},o.destroy=function(){var u=n.element.hammer,f=u.indexOf(o);f!==-1&&u.splice(f,1),u.length||delete n.element.hammer,o._handlers={},n.destroy()};function l(u){return u.match(/[^ ]+/g)}function c(u){if(u.type!=="hammer.input"){if(u.srcEvent._handled||(u.srcEvent._handled={}),u.srcEvent._handled[u.type])return;u.srcEvent._handled[u.type]=!0}var f=!1;u.stopPropagation=function(){f=!0};var d=u.srcEvent.stopPropagation.bind(u.srcEvent);typeof d=="function"&&(u.srcEvent.stopPropagation=function(){d(),u.stopPropagation()}),u.firstTarget=op;for(var h=op.isConnected?op:u.target;h&&!f;){var p=h.hammer;if(p){for(var g,v=0;v<p.length;v++)if(g=p[v]._handlers[u.type],g)for(var y=0;y<g.length&&!f;y++)g[y](u)}h=h.parentNode}}return o}function JNe(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}let YI;if(typeof window<"u"){const n=window.Hammer||vR;YI=GI(n,{preventDefault:"mouse"})}else YI=function(){return JNe()};var zr=YI;function _ee(n,e){e.inputHandler=function(r){r.isFirst&&e(r)},n.on("hammer.input",e.inputHandler)}function e3e(n,e){return e.inputHandler=function(r){r.isFinal&&e(r)},n.on("hammer.input",e.inputHandler)}function t3e(n){const e="pan-y";return n.getTouchAction=function(){return[e]},n}class mu{constructor(e,r,i,s,o){this.moment=o&&o.moment||qr,this.options=o||{},this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(e,r,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Et(s)?this.hiddenDates=s:s!=null?this.hiddenDates=[s]:this.hiddenDates=[],this.format=mu.FORMAT}setMoment(e){this.moment=e,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())}setFormat(e){const r=Q.deepExtend({},mu.FORMAT);this.format=Q.deepExtend(r,e)}setRange(e,r,i){if(!(e instanceof Date)||!(r instanceof Date))throw"No legal start or end date in method setRange";this._start=e!=null?this.moment(e.valueOf()):Ci(),this._end=r!=null?this.moment(r.valueOf()):Ci(),this.autoScale&&this.setMinimumStep(i)}start(){this.current=this._start.clone(),this.roundToMinor()}roundToMinor(){switch(this.scale=="week"&&this.current.weekday(0),this.scale){case"year":this.current=this.current.year(this.step*Math.floor(this.current.year()/this.step)).month(0);case"month":this.current=this.current.date(1);case"week":case"day":case"weekday":this.current=this.current.hours(0);case"hour":this.current=this.current.minutes(0);case"minute":this.current=this.current.seconds(0);case"second":this.current=this.current.milliseconds(0)}if(this.step!=1){let e=this.current.clone();switch(this.scale){case"millisecond":this.current=this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current=this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current=this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current=this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current=this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current=this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current=this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current=this.current.subtract(this.current.year()%this.step,"year");break}e.isSame(this.current)||(this.current=this.moment(hc(this.hiddenDates,this.current.valueOf(),-1,!0)))}}hasNext(){return this.current.valueOf()<=this._end.valueOf()}next(){const e=this.current.valueOf();switch(this.scale){case"millisecond":this.current=this.current.add(this.step,"millisecond");break;case"second":this.current=this.current.add(this.step,"second");break;case"minute":this.current=this.current.add(this.step,"minute");break;case"hour":this.current=this.current.add(this.step,"hour"),this.current.month()<6?this.current=this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!==0&&(this.current=this.current.add(this.step-this.current.hours()%this.step,"hour"));break;case"weekday":case"day":this.current=this.current.add(this.step,"day");break;case"week":if(this.current.weekday()!==0)this.current=this.current.weekday(0).add(this.step,"week");else if(this.options.showMajorLabels===!1)this.current=this.current.add(this.step,"week");else{const r=this.current.clone();r.add(1,"week"),r.isSame(this.current,"month")?this.current=this.current.add(this.step,"week"):this.current=this.current.add(this.step,"week").date(1)}break;case"month":this.current=this.current.add(this.step,"month");break;case"year":this.current=this.current.add(this.step,"year");break}if(this.step!=1)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&(this.current=this.current.milliseconds(0));break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&(this.current=this.current.seconds(0));break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&(this.current=this.current.minutes(0));break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&(this.current=this.current.hours(0));break;case"weekday":case"day":this.current.date()<this.step+1&&(this.current=this.current.date(1));break;case"week":this.current.week()<this.step&&(this.current=this.current.week(1));break;case"month":this.current.month()<this.step&&(this.current=this.current.month(0));break}this.current.valueOf()==e&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,GNe(this.moment,this,e)}getCurrent(){return this.current.clone()}setScale(e){e&&typeof e.scale=="string"&&(this.scale=e.scale,this.step=e.step>0?e.step:1,this.autoScale=!1)}setAutoScale(e){this.autoScale=e}setMinimumStep(e){if(e==null)return;const r=1e3*60*60*24*30*12,i=1e3*60*60*24*30,s=1e3*60*60*24,o=1e3*60*60,a=1e3*60,l=1e3,c=1;r*1e3>e&&(this.scale="year",this.step=1e3),r*500>e&&(this.scale="year",this.step=500),r*100>e&&(this.scale="year",this.step=100),r*50>e&&(this.scale="year",this.step=50),r*10>e&&(this.scale="year",this.step=10),r*5>e&&(this.scale="year",this.step=5),r>e&&(this.scale="year",this.step=1),i*3>e&&(this.scale="month",this.step=3),i>e&&(this.scale="month",this.step=1),s*7>e&&this.options.showWeekScale&&(this.scale="week",this.step=1),s*2>e&&(this.scale="day",this.step=2),s>e&&(this.scale="day",this.step=1),s/2>e&&(this.scale="weekday",this.step=1),o*4>e&&(this.scale="hour",this.step=4),o>e&&(this.scale="hour",this.step=1),a*15>e&&(this.scale="minute",this.step=15),a*10>e&&(this.scale="minute",this.step=10),a*5>e&&(this.scale="minute",this.step=5),a>e&&(this.scale="minute",this.step=1),l*15>e&&(this.scale="second",this.step=15),l*10>e&&(this.scale="second",this.step=10),l*5>e&&(this.scale="second",this.step=5),l>e&&(this.scale="second",this.step=1),c*200>e&&(this.scale="millisecond",this.step=200),c*100>e&&(this.scale="millisecond",this.step=100),c*50>e&&(this.scale="millisecond",this.step=50),c*10>e&&(this.scale="millisecond",this.step=10),c*5>e&&(this.scale="millisecond",this.step=5),c>e&&(this.scale="millisecond",this.step=1)}static snap(e,r,i){let s=qr(e);if(r=="year"){const o=s.year()+Math.round(s.month()/12);s=s.year(Math.round(o/i)*i).month(0).date(0).hours(0).minutes(0).seconds(0).milliseconds(0)}else if(r=="month")s.date()>15?s=s.date(1).add(1,"month"):s=s.date(1),s=s.hours(0).minutes(0).seconds(0).milliseconds(0);else if(r=="week")s.weekday()>2?s=s.weekday(0).add(1,"week"):s=s.weekday(0),s=s.hours(0).minutes(0).seconds(0).milliseconds(0);else if(r=="day"){switch(i){case 5:case 2:s=s.hours(Math.round(s.hours()/24)*24);break;default:s=s.hours(Math.round(s.hours()/12)*12);break}s=s.minutes(0).seconds(0).milliseconds(0)}else if(r=="weekday"){switch(i){case 5:case 2:s=s.hours(Math.round(s.hours()/12)*12);break;default:s=s.hours(Math.round(s.hours()/6)*6);break}s=s.minutes(0).seconds(0).milliseconds(0)}else if(r=="hour"){switch(i){case 4:s=s.minutes(Math.round(s.minutes()/60)*60);break;default:s=s.minutes(Math.round(s.minutes()/30)*30);break}s=s.seconds(0).milliseconds(0)}else if(r=="minute"){switch(i){case 15:case 10:s=s.minutes(Math.round(s.minutes()/5)*5).seconds(0);break;case 5:s=s.seconds(Math.round(s.seconds()/60)*60);break;default:s=s.seconds(Math.round(s.seconds()/30)*30);break}s=s.milliseconds(0)}else if(r=="second")switch(i){case 15:case 10:s=s.seconds(Math.round(s.seconds()/5)*5).milliseconds(0);break;case 5:s=s.milliseconds(Math.round(s.milliseconds()/1e3)*1e3);break;default:s=s.milliseconds(Math.round(s.milliseconds()/500)*500);break}else if(r=="millisecond"){const o=i>5?i/2:1;s=s.milliseconds(Math.round(s.milliseconds()/o)*o)}return s}isMajor(){if(this.switchedYear==!0)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedMonth==!0)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedDay==!0)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}const e=this.moment(this.current);switch(this.scale){case"millisecond":return e.milliseconds()==0;case"second":return e.seconds()==0;case"minute":return e.hours()==0&&e.minutes()==0;case"hour":return e.hours()==0;case"weekday":case"day":return this.options.showWeekScale?e.isoWeekday()==1:e.date()==1;case"week":return e.date()==1;case"month":return e.month()==0;case"year":return!1;default:return!1}}getLabelMinor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.minorLabels=="function")return this.format.minorLabels(e,this.scale,this.step);const r=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(e.date()===1&&e.weekday()!==0)return"";default:return r&&r.length>0?this.moment(e).format(r):""}}getLabelMajor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.majorLabels=="function")return this.format.majorLabels(e,this.scale,this.step);const r=this.format.majorLabels[this.scale];return r&&r.length>0?this.moment(e).format(r):""}getClassName(){var e;const r=this.moment,i=this.moment(this.current),s=i.locale?i.locale("en"):i.lang("en"),o=this.step,a=[];function l(h){return h/o%2==0?" vis-even":" vis-odd"}function c(h){return h.isSame(Ci(),"day")?" vis-today":h.isSame(r().add(1,"day"),"day")?" vis-tomorrow":h.isSame(r().add(-1,"day"),"day")?" vis-yesterday":""}function u(h){return h.isSame(Ci(),"week")?" vis-current-week":""}function f(h){return h.isSame(Ci(),"month")?" vis-current-month":""}function d(h){return h.isSame(Ci(),"year")?" vis-current-year":""}switch(this.scale){case"millisecond":a.push(c(s)),a.push(l(s.milliseconds()));break;case"second":a.push(c(s)),a.push(l(s.seconds()));break;case"minute":a.push(c(s)),a.push(l(s.minutes()));break;case"hour":a.push($n(e="vis-h".concat(s.hours())).call(e,this.step==4?"-h"+(s.hours()+4):"")),a.push(c(s)),a.push(l(s.hours()));break;case"weekday":a.push("vis-".concat(s.format("dddd").toLowerCase())),a.push(c(s)),a.push(u(s)),a.push(l(s.date()));break;case"day":a.push("vis-day".concat(s.date())),a.push("vis-".concat(s.format("MMMM").toLowerCase())),a.push(c(s)),a.push(f(s)),a.push(this.step<=2?c(s):""),a.push(this.step<=2?"vis-".concat(s.format("dddd").toLowerCase()):""),a.push(l(s.date()-1));break;case"week":a.push("vis-week".concat(s.format("w"))),a.push(u(s)),a.push(l(s.week()));break;case"month":a.push("vis-".concat(s.format("MMMM").toLowerCase())),a.push(f(s)),a.push(l(s.month()));break;case"year":a.push("vis-year".concat(s.year())),a.push(d(s)),a.push(l(s.year()));break}return dt(a).call(a,String).join(" ")}}mu.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}};class Qv extends Vl{constructor(e,r){super(),this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,maxMinorChars:7,format:Q.extend({},mu.FORMAT),moment:qr,timeAxis:null},this.options=Q.extend({},this.defaultOptions),this.body=e,this._create(),this.setOptions(r)}setOptions(e){e&&(Q.selectiveExtend(["showMinorLabels","showMajorLabels","showWeekScale","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,e),Q.selectiveDeepExtend(["format"],this.options,e),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.axis=e.orientation:typeof e.orientation=="object"&&"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis)),"locale"in e&&(typeof qr.locale=="function"?qr.locale(e.locale):qr.lang(e.locale)))}_create(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"}destroy(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null}redraw(){const e=this.props,r=this.dom.foreground,i=this.dom.background,s=this.options.orientation.axis=="top"?this.body.dom.top:this.body.dom.bottom,o=r.parentNode!==s;this._calculateCharSize();const a=this.options.showMinorLabels&&this.options.orientation.axis!=="none",l=this.options.showMajorLabels&&this.options.orientation.axis!=="none";e.minorLabelHeight=a?e.minorCharHeight:0,e.majorLabelHeight=l?e.majorCharHeight:0,e.height=e.minorLabelHeight+e.majorLabelHeight,e.width=r.offsetWidth,e.minorLineHeight=this.body.domProps.root.height-e.majorLabelHeight-(this.options.orientation.axis=="top"?this.body.domProps.bottom.height:this.body.domProps.top.height),e.minorLineWidth=1,e.majorLineHeight=e.minorLineHeight+e.majorLabelHeight,e.majorLineWidth=1;const c=r.nextSibling,u=i.nextSibling;return r.parentNode&&r.parentNode.removeChild(r),i.parentNode&&i.parentNode.removeChild(i),r.style.height="".concat(this.props.height,"px"),this._repaintLabels(),c?s.insertBefore(r,c):s.appendChild(r),u?this.body.dom.backgroundVertical.insertBefore(i,u):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||o}_repaintLabels(){const e=this.options.orientation.axis,r=Q.convert(this.body.range.start,"Number"),i=Q.convert(this.body.range.end,"Number"),s=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf();let o=s-Kv(this.options.moment,this.body.hiddenDates,this.body.range,s);o-=this.body.util.toTime(0).valueOf();const a=new mu(new Date(r),new Date(i),o,this.body.hiddenDates,this.options);a.setMoment(this.options.moment),this.options.format&&a.setFormat(this.options.format),this.options.timeAxis&&a.setScale(this.options.timeAxis),this.step=a;const l=this.dom;l.redundant.lines=l.lines,l.redundant.majorTexts=l.majorTexts,l.redundant.minorTexts=l.minorTexts,l.lines=[],l.majorTexts=[],l.minorTexts=[];let c,u,f,d,h,p,g=0,v,y,b,w=0;const k=1e3;let _;for(a.start(),u=a.getCurrent(),d=this.body.util.toScreen(u);a.hasNext()&&w<k;){switch(w++,h=a.isMajor(),_=a.getClassName(),c=u,f=d,a.next(),u=a.getCurrent(),d=this.body.util.toScreen(u),v=g,g=d-f,a.scale){case"week":p=!0;break;default:p=g>=v*.4;break}if(this.options.showMinorLabels&&p){var S=this._repaintMinorText(f,a.getLabelMinor(c),e,_);S.style.width="".concat(g,"px")}h&&this.options.showMajorLabels?(f>0&&(b==null&&(b=f),S=this._repaintMajorText(f,a.getLabelMajor(c),e,_)),y=this._repaintMajorLine(f,g,e,_)):p?y=this._repaintMinorLine(f,g,e,_):y&&(y.style.width="".concat(Ti(y.style.width)+g,"px"))}if(w===k&&!bW&&(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to ".concat(k," lines.")),bW=!0),this.options.showMajorLabels){const C=this.body.util.toTime(0),T=a.getLabelMajor(C),D=T.length*(this.props.majorCharWidth||10)+10;(b==null||D<b)&&this._repaintMajorText(0,T,e,_)}Qe(Q).call(Q,this.dom.redundant,C=>{for(;C.length;){const T=C.pop();T&&T.parentNode&&T.parentNode.removeChild(T)}})}_repaintMinorText(e,r,i,s){let o=this.dom.redundant.minorTexts.shift();if(!o){const l=document.createTextNode("");o=document.createElement("div"),o.appendChild(l),this.dom.foreground.appendChild(o)}this.dom.minorTexts.push(o),o.innerHTML=Q.xss(r);let a=i=="top"?this.props.majorLabelHeight:0;return this._setXY(o,e,a),o.className="vis-text vis-minor ".concat(s),o}_repaintMajorText(e,r,i,s){let o=this.dom.redundant.majorTexts.shift();if(!o){const l=document.createElement("div");o=document.createElement("div"),o.appendChild(l),this.dom.foreground.appendChild(o)}o.childNodes[0].innerHTML=Q.xss(r),o.className="vis-text vis-major ".concat(s);let a=i=="top"?0:this.props.minorLabelHeight;return this._setXY(o,e,a),this.dom.majorTexts.push(o),o}_setXY(e,r,i){var s;const o=this.options.rtl?r*-1:r;e.style.transform=$n(s="translate(".concat(o,"px, ")).call(s,i,"px)")}_repaintMinorLine(e,r,i,s){var o;let a=this.dom.redundant.lines.shift();a||(a=document.createElement("div"),this.dom.background.appendChild(a)),this.dom.lines.push(a);const l=this.props;a.style.width="".concat(r,"px"),a.style.height="".concat(l.minorLineHeight,"px");let c=i=="top"?l.majorLabelHeight:this.body.domProps.top.height,u=e-l.minorLineWidth/2;return this._setXY(a,u,c),a.className=$n(o="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-minor ")).call(o,s),a}_repaintMajorLine(e,r,i,s){var o;let a=this.dom.redundant.lines.shift();a||(a=document.createElement("div"),this.dom.background.appendChild(a)),this.dom.lines.push(a);const l=this.props;a.style.width="".concat(r,"px"),a.style.height="".concat(l.majorLineHeight,"px");let c=i=="top"?0:this.body.domProps.top.height,u=e-l.majorLineWidth/2;return this._setXY(a,u,c),a.className=$n(o="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-major ")).call(o,s),a}_calculateCharSize(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth}}var bW=!1;function n3e(n){var e=window,r={},i={keydown:{},keyup:{}},s={},o;for(o=97;o<=122;o++)s[String.fromCharCode(o)]={code:65+(o-97),shift:!1};for(o=65;o<=90;o++)s[String.fromCharCode(o)]={code:o,shift:!0};for(o=0;o<=9;o++)s[""+o]={code:48+o,shift:!1};for(o=1;o<=12;o++)s["F"+o]={code:111+o,shift:!1};for(o=0;o<=9;o++)s["num"+o]={code:96+o,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(u){c(u,"keydown")},l=function(u){c(u,"keyup")},c=function(u,f){if(i[f][u.keyCode]!==void 0)for(var d=i[f][u.keyCode],h=0;h<d.length;h++)(d[h].shift===void 0||d[h].shift==!0&&u.shiftKey==!0||d[h].shift==!1&&u.shiftKey==!1)&&d[h].fn(u)};return r.bind=function(u,f,d){if(d===void 0&&(d="keydown"),s[u]===void 0)throw new Error("unsupported key: "+u);i[d][s[u].code]===void 0&&(i[d][s[u].code]=[]),i[d][s[u].code].push({fn:f,shift:s[u].shift})},r.bindAll=function(u,f){f===void 0&&(f="keydown");for(var d in s)s.hasOwnProperty(d)&&r.bind(d,u,f)},r.getKey=function(u){for(var f in s)if(s.hasOwnProperty(f)){if(u.shiftKey==!0&&s[f].shift==!0&&u.keyCode==s[f].code)return f;if(u.shiftKey==!1&&s[f].shift==!1&&u.keyCode==s[f].code)return f;if(u.keyCode==s[f].code&&f=="shift")return f}return"unknown key, currently not supported"},r.unbind=function(u,f,d){if(d===void 0&&(d="keydown"),s[u]===void 0)throw new Error("unsupported key: "+u);if(f!==void 0){var h=[],p=i[d][s[u].code];if(p!==void 0)for(var g=0;g<p.length;g++)p[g].fn==f&&p[g].shift==s[u].shift||h.push(i[d][s[u].code][g]);i[d][s[u].code]=h}else i[d][s[u].code]=[]},r.reset=function(){i={keydown:{},keyup:{}}},r.destroy=function(){i={keydown:{},keyup:{}},e.removeEventListener("keydown",a,!0),e.removeEventListener("keyup",l,!0)},e.addEventListener("keydown",a,!0),e.addEventListener("keyup",l,!0),r}function ls(n){var e,r;this.active=!1,this.dom={container:n},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=zr(this.dom.overlay),this.hammer.on("tap",ke(e=this._onTapOverlay).call(e,this));var i=this,s=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Qe(s).call(s,function(o){i.hammer.on(o,function(a){a.stopPropagation()})}),document&&document.body&&(this.onClick=function(o){r3e(o.target,n)||i.deactivate()},document.body.addEventListener("click",this.onClick)),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=n3e(),this.escListener=ke(r=this.deactivate).call(r,this)}dR(ls.prototype);ls.current=null;ls.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null};ls.prototype.activate=function(){var n;ls.current&&ls.current.deactivate(),ls.current=this,this.active=!0,this.dom.overlay.style.display="none",Q.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),ke(n=this.keycharm).call(n,"esc",this.escListener)};ls.prototype.deactivate=function(){ls.current===this&&(ls.current=null),this.active=!1,this.dom.overlay.style.display="",Q.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")};ls.prototype._onTapOverlay=function(n){this.activate(),n.stopPropagation()};function r3e(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}const NR={current:"current",time:"time",deleteSelected:"Delete selected"},i3e=NR,s3e=NR,jR={current:"attuale",time:"tempo",deleteSelected:"Cancella la selezione"},o3e=jR,a3e=jR,LR={current:"huidige",time:"tijd",deleteSelected:"Selectie verwijderen"},l3e=LR,c3e=LR,FR={current:"Aktuelle",time:"Zeit",deleteSelected:"Lsche Auswahl"},u3e=FR,d3e=FR,g0={current:"actuel",time:"heure",deleteSelected:"Effacer la selection"},f3e=g0,h3e=g0,p3e=g0,m3e=g0,See={current:"actual",time:"hora",deleteSelected:"Eliminar seleccin"},g3e=See,kee={current:"",time:"",deleteSelected:" "},b3e=kee,Cee={current:"",time:"",deleteSelected:" "},y3e=Cee,Tee={current:"aktualny",time:"czas",deleteSelected:"Usu wybrane"},v3e=Tee,$R={current:"atual",time:"data",deleteSelected:"Apagar selecionado"},x3e=$R,w3e=$R,Eee={current:"gncel",time:"zaman",deleteSelected:"Seileni sil"},_3e=Eee,Dee={current:"",time:"",deleteSelected:""},S3e=Dee,Pee={current:"nuvarande",time:"tid",deleteSelected:"Radera valda"},k3e=Pee,Lw={current:"nvrende",time:"tid",deleteSelected:"Slett valgte"},C3e=Lw,T3e=Lw,E3e=Lw,Iee={current:"einamas",time:"laikas",deleteSelected:"Paalinti pasirinkt"},D3e=Iee,Yf={en:NR,en_EN:i3e,en_US:s3e,it:jR,it_IT:o3e,it_CH:a3e,nl:LR,nl_NL:l3e,nl_BE:c3e,de:FR,de_DE:u3e,de_CH:d3e,fr:g0,fr_FR:f3e,fr_CA:h3e,fr_BE:p3e,fr_CH:m3e,es:See,es_ES:g3e,uk:kee,uk_UA:b3e,ru:Cee,ru_RU:y3e,pl:Tee,pl_PL:v3e,pt:$R,pt_BR:x3e,pt_PT:w3e,tr:Eee,tr_TR:_3e,ja:Dee,ja_JP:S3e,lt:Iee,lt_LT:D3e,sv:Pee,sv_SE:k3e,nb:Lw,nn:T3e,nb_NO:C3e,nn_NO:E3e};class BR extends Vl{constructor(e,r){var i;super(),this.body=e,this.defaultOptions={moment:qr,locales:Yf,locale:"en",id:void 0,title:void 0},this.options=Q.extend({},this.defaultOptions),this.setOptions(r),this.options.locales=Q.extend({},Yf,this.options.locales);const s=this.defaultOptions.locales[this.defaultOptions.locale];Qe(i=er(this.options.locales)).call(i,o=>{this.options.locales[o]=Q.extend({},s,this.options.locales[o])}),r&&r.time!=null?this.customTime=r.time:this.customTime=new Date,this.eventParams={},this._create()}setOptions(e){e&&Q.selectiveExtend(["moment","locale","locales","id","title","rtl","snap"],this.options,e)}_create(){var e,r,i;const s=document.createElement("div");s["custom-time"]=this,s.className="vis-custom-time ".concat(this.options.id||""),s.style.position="absolute",s.style.top="0px",s.style.height="100%",this.bar=s;const o=document.createElement("div");o.style.position="relative",o.style.top="0px",this.options.rtl?o.style.right="-10px":o.style.left="-10px",o.style.height="100%",o.style.width="20px";function a(l){this.body.range._onMouseWheel(l)}o.addEventListener?(o.addEventListener("mousewheel",ke(a).call(a,this),!1),o.addEventListener("DOMMouseScroll",ke(a).call(a,this),!1)):o.attachEvent("onmousewheel",ke(a).call(a,this)),s.appendChild(o),this.hammer=new zr(o),this.hammer.on("panstart",ke(e=this._onDragStart).call(e,this)),this.hammer.on("panmove",ke(r=this._onDrag).call(r,this)),this.hammer.on("panend",ke(i=this._onDragEnd).call(i,this)),this.hammer.get("pan").set({threshold:5,direction:zr.DIRECTION_ALL}),this.hammer.get("press").set({time:1e4})}destroy(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null}redraw(){const e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar));const r=this.body.util.toScreen(this.customTime);let i=this.options.locales[this.options.locale];i||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),i=this.options.locales.en);let s=this.options.title;if(s===void 0){var o;s=$n(o="".concat(i.time,": ")).call(o,this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")),s=s.charAt(0).toUpperCase()+s.substring(1)}else typeof s=="function"&&(s=s.call(this,this.customTime));return this.options.rtl?this.bar.style.right="".concat(r,"px"):this.bar.style.left="".concat(r,"px"),this.bar.title=s,!1}hide(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)}setCustomTime(e){this.customTime=Q.convert(e,"Date"),this.redraw()}getCustomTime(){return new Date(this.customTime.valueOf())}setCustomMarker(e,r){if(this.marker&&this.bar.removeChild(this.marker),this.marker=document.createElement("div"),this.marker.className="vis-custom-time-marker",this.marker.innerHTML=Q.xss(e),this.marker.style.position="absolute",r){var i;this.marker.setAttribute("contenteditable","true"),this.marker.addEventListener("pointerdown",()=>{this.marker.focus()}),this.marker.addEventListener("input",ke(i=this._onMarkerChange).call(i,this)),this.marker.title=e,this.marker.addEventListener("blur",s=>{this.title!=s.target.innerHTML&&(this._onMarkerChanged(s),this.title=s.target.innerHTML)})}this.bar.appendChild(this.marker)}setCustomTitle(e){this.options.title=e}_onDragStart(e){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,e.stopPropagation()}_onDrag(e){if(!this.eventParams.dragging)return;let r=this.options.rtl?-1*e.deltaX:e.deltaX;const i=this.body.util.toScreen(this.eventParams.customTime)+r,s=this.body.util.toTime(i),o=this.body.util.getScale(),a=this.body.util.getStep(),l=this.options.snap,c=l?l(s,o,a):s;this.setCustomTime(c),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation()}_onDragEnd(e){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation())}_onMarkerChange(e){this.body.emitter.emit("markerchange",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}_onMarkerChanged(e){this.body.emitter.emit("markerchanged",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}static customTimeFromTarget(e){let r=e.target;for(;r;){if(Object.prototype.hasOwnProperty.call(r,"custom-time"))return r["custom-time"];r=r.parentNode}return null}}class Fd{_create(e){var r,i,s;this.dom={},this.dom.container=e,this.dom.container.style.position="relative",this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.loadingScreen=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.loadingScreen.className="vis-loading-screen",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",()=>{this.initialDrawDone===!0&&this._redraw()}),this.on("rangechanged",()=>{this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}),this.on("touch",ke(r=this._onTouch).call(r,this)),this.on("panmove",ke(i=this._onDrag).call(i,this));const o=this;this._origRedraw=ke(s=this._redraw).call(s,this),this._redraw=Q.throttle(this._origRedraw),this.on("_change",g=>{o.itemSet&&o.itemSet.initialItemSetDrawn&&g&&g.queue==!0?o._redraw():o._origRedraw()}),this.hammer=new zr(this.dom.root);const a=this.hammer.get("pinch").set({enable:!0});a&&t3e(a),this.hammer.get("pan").set({threshold:5,direction:zr.DIRECTION_ALL}),this.timelineListeners={};const l=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Qe(l).call(l,g=>{const v=y=>{o.isActive()&&o.emit(g,y)};o.hammer.on(g,v),o.timelineListeners[g]=v}),_ee(this.hammer,g=>{o.emit("touch",g)}),e3e(this.hammer,g=>{o.emit("release",g)});function c(g){if(!this.isActive())return;if(this.emit("mousewheel",g),this.options.preferZoom){if(!this.options.zoomKey||g[this.options.zoomKey])return}else if(this.options.zoomKey&&g[this.options.zoomKey])return;if(!this.options.verticalScroll&&!this.options.horizontalScroll)return;let v=0,y=0;"detail"in g&&(y=g.detail*-1),"wheelDelta"in g&&(y=g.wheelDelta),"wheelDeltaY"in g&&(y=g.wheelDeltaY),"wheelDeltaX"in g&&(v=g.wheelDeltaX*-1),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(v=y*-1,y=0),"deltaY"in g&&(y=g.deltaY*-1),"deltaX"in g&&(v=g.deltaX);var b=40,w=800;g.deltaMode&&(g.deltaMode===1?(v*=b,y*=b):(v*=b,y*=w));const k=this.options.verticalScroll,_=Math.abs(y)>=Math.abs(v),S=this.options.horizontalScroll&&this.options.horizontalScrollKey&&g[this.options.horizontalScrollKey];if(k&&_&&!S){const C=this.props.scrollTop,T=C+y;this._setScrollTop(T)!==C&&(this._redraw(),this.emit("scroll",g),g.preventDefault());return}if(this.options.horizontalScroll){this.range.stopRolling();let T=(_?y:v)/120*(this.range.end-this.range.start)/20;this.options.horizontalScrollInvert&&_&&(T=-T);const D=this.range.start+T,O=this.range.end+T,P={animation:!1,byUser:!0,event:g};this.range.setRange(D,O,P),g.preventDefault();return}}const u="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":this.dom.centerContainer.addEventListener?"DOMMouseScroll":"onmousewheel";this.dom.top.addEventListener,this.dom.bottom.addEventListener,this.dom.centerContainer.addEventListener(u,ke(c).call(c,this),!1),this.dom.top.addEventListener(u,ke(c).call(c,this),!1),this.dom.bottom.addEventListener(u,ke(c).call(c,this),!1);function f(g){if(o.options.verticalScroll&&(g.preventDefault(),o.isActive())){const v=-g.target.scrollTop;o._setScrollTop(v),o._redraw(),o.emit("scrollSide",g)}}this.dom.left.parentNode.addEventListener("scroll",ke(f).call(f,this)),this.dom.right.parentNode.addEventListener("scroll",ke(f).call(f,this));let d=!1;function h(g){var v;if(g.preventDefault&&(o.emit("dragover",o.getEventProperties(g)),g.preventDefault()),tn(v=g.target.className).call(v,"timeline")>-1&&!d)return g.dataTransfer.dropEffect="move",d=!0,!1}function p(g){g.preventDefault&&g.preventDefault(),g.stopPropagation&&g.stopPropagation();try{var v=JSON.parse(g.dataTransfer.getData("text"));if(!v||!v.content)return}catch{return!1}return d=!1,g.center={x:g.clientX,y:g.clientY},v.target!=="item"?o.itemSet._onAddItem(g):o.itemSet._onDropObjectOnItem(g),o.emit("drop",o.getEventProperties(g)),!1}if(this.dom.center.addEventListener("dragover",ke(h).call(h,this),!1),this.dom.center.addEventListener("drop",ke(p).call(p,this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!e)throw new Error("No container provided");e.appendChild(this.dom.root),e.appendChild(this.dom.loadingScreen)}setOptions(e){var r;if(e){const a=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","preferZoom","rtl","zoomKey","horizontalScroll","horizontalScrollKey","horizontalScrollInvert","verticalScroll","longSelectPressTime","snap"];if(Q.selectiveExtend(a,this.options,e),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),typeof this.options.orientation!="object"&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation={item:e.orientation,axis:e.orientation}:typeof e.orientation=="object"&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis))),this.options.orientation.axis==="both"){if(!this.timeAxis2){const l=this.timeAxis2=new Qv(this.body,this.options);l.setOptions=c=>{const u=c?Q.extend({},c):{};u.orientation="top",Qv.prototype.setOptions.call(l,u)},this.components.push(l)}}else if(this.timeAxis2){var i;const l=tn(i=this.components).call(i,this.timeAxis2);if(l!==-1){var s;Ur(s=this.components).call(s,l,1)}this.timeAxis2.destroy(),this.timeAxis2=null}typeof e.drawPoints=="function"&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&RR(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new ls(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize()}if(Qe(r=this.components).call(r,a=>a.setOptions(e)),"configure"in e){var o;this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure);const a=Q.deepExtend({},this.options);Qe(o=this.components).call(o,l=>{Q.deepExtend(a,l.options)}),this.configurator.setModuleOptions({global:a})}this._redraw()}isActive(){return!this.activator||this.activator.active}destroy(){var e;this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(const r in this.timelineListeners)Object.prototype.hasOwnProperty.call(this.timelineListeners,r)&&delete this.timelineListeners[r];this.timelineListeners=null,this.hammer&&this.hammer.destroy(),this.hammer=null,Qe(e=this.components).call(e,r=>r.destroy()),this.body=null}setCustomTime(e,r){var i;const s=dt(i=this.customTimes).call(i,o=>r===o.options.id);if(s.length===0)throw new Error("No custom time bar found with id ".concat(ii(r)));s.length>0&&s[0].setCustomTime(e)}getCustomTime(e){var r;const i=dt(r=this.customTimes).call(r,s=>s.options.id===e);if(i.length===0)throw new Error("No custom time bar found with id ".concat(ii(e)));return i[0].getCustomTime()}setCustomTimeMarker(e,r,i){var s;const o=dt(s=this.customTimes).call(s,a=>a.options.id===r);if(o.length===0)throw new Error("No custom time bar found with id ".concat(ii(r)));o.length>0&&o[0].setCustomMarker(e,i)}setCustomTimeTitle(e,r){var i;const s=dt(i=this.customTimes).call(i,o=>o.options.id===r);if(s.length===0)throw new Error("No custom time bar found with id ".concat(ii(r)));if(s.length>0)return s[0].setCustomTitle(e)}getEventProperties(e){return{event:e}}addCustomTime(e,r){var i;const s=e!==void 0?Q.convert(e,"Date"):new Date;if(IR(i=this.customTimes).call(i,l=>l.options.id===r))throw new Error("A custom time with id ".concat(ii(r)," already exists"));const a=new BR(this.body,Q.extend({},this.options,{time:s,id:r,snap:this.itemSet?this.itemSet.options.snap:this.options.snap}));return this.customTimes.push(a),this.components.push(a),this._redraw(),r}removeCustomTime(e){var r;const i=dt(r=this.customTimes).call(r,s=>s.options.id===e);if(i.length===0)throw new Error("No custom time bar found with id ".concat(ii(e)));Qe(i).call(i,s=>{var o,a,l,c;Ur(o=this.customTimes).call(o,tn(a=this.customTimes).call(a,s),1),Ur(l=this.components).call(l,tn(c=this.components).call(c,s),1),s.destroy()})}getVisibleItems(){return this.itemSet&&this.itemSet.getVisibleItems()||[]}getItemsAtCurrentTime(e){return this.time=e,this.itemSet&&this.itemSet.getItemsAtCurrentTime(this.time)||[]}getVisibleGroups(){return this.itemSet&&this.itemSet.getVisibleGroups()||[]}fit(e,r){const i=this.getDataRange();if(i.min===null&&i.max===null)return;const s=i.max-i.min,o=new Date(i.min.valueOf()-s*.01),a=new Date(i.max.valueOf()+s*.01),l=e&&e.animation!==void 0?e.animation:!0;this.range.setRange(o,a,{animation:l},r)}getDataRange(){throw new Error("Cannot invoke abstract method getDataRange")}setWindow(e,r,i,s){typeof arguments[2]=="function"&&(s=arguments[2],i={});let o,a;arguments.length==1?(a=arguments[0],o=a.animation!==void 0?a.animation:!0,this.range.setRange(a.start,a.end,{animation:o})):arguments.length==2&&typeof arguments[1]=="function"?(a=arguments[0],s=arguments[1],o=a.animation!==void 0?a.animation:!0,this.range.setRange(a.start,a.end,{animation:o},s)):(o=i&&i.animation!==void 0?i.animation:!0,this.range.setRange(e,r,{animation:o},s))}moveTo(e,r,i){typeof arguments[1]=="function"&&(i=arguments[1],r={});const s=this.range.end-this.range.start,o=Q.convert(e,"Date").valueOf(),a=o-s/2,l=o+s/2,c=r&&r.animation!==void 0?r.animation:!0;this.range.setRange(a,l,{animation:c},i)}getWindow(){const e=this.range.getRange();return{start:new Date(e.start),end:new Date(e.end)}}zoomIn(e,r,i){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(i=arguments[1],r={});const s=this.getWindow(),o=s.start.valueOf(),a=s.end.valueOf(),l=a-o,c=l/(1+e),u=(l-c)/2,f=o+u,d=a-u;this.setWindow(f,d,r,i)}zoomOut(e,r,i){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(i=arguments[1],r={});const s=this.getWindow(),o=s.start.valueOf(),a=s.end.valueOf(),l=a-o,c=o-l*e/2,u=a+l*e/2;this.setWindow(c,u,r,i)}redraw(){this._redraw()}_redraw(){var e;this.redrawCount++;const r=this.dom;if(!r||!r.container||r.root.offsetWidth==0)return;let i=!1;const s=this.options,o=this.props;Vv(this.options.moment,this.body,this.options.hiddenDates),s.orientation=="top"?(Q.addClassName(r.root,"vis-top"),Q.removeClassName(r.root,"vis-bottom")):(Q.removeClassName(r.root,"vis-top"),Q.addClassName(r.root,"vis-bottom")),s.rtl?(Q.addClassName(r.root,"vis-rtl"),Q.removeClassName(r.root,"vis-ltr")):(Q.addClassName(r.root,"vis-ltr"),Q.removeClassName(r.root,"vis-rtl")),r.root.style.maxHeight=Q.option.asSize(s.maxHeight,""),r.root.style.minHeight=Q.option.asSize(s.minHeight,""),r.root.style.width=Q.option.asSize(s.width,"");const a=r.root.offsetWidth;o.border.left=1,o.border.right=1,o.border.top=1,o.border.bottom=1,o.center.height=r.center.offsetHeight,o.left.height=r.left.offsetHeight,o.right.height=r.right.offsetHeight,o.top.height=r.top.clientHeight||-o.border.top,o.bottom.height=Math.round(r.bottom.getBoundingClientRect().height)||r.bottom.clientHeight||-o.border.bottom;const l=Math.max(o.left.height,o.center.height,o.right.height),c=o.top.height+l+o.bottom.height+o.border.top+o.border.bottom;r.root.style.height=Q.option.asSize(s.height,"".concat(c,"px")),o.root.height=r.root.offsetHeight,o.background.height=o.root.height;const u=o.root.height-o.top.height-o.bottom.height;o.centerContainer.height=u,o.leftContainer.height=u,o.rightContainer.height=o.leftContainer.height,o.root.width=a,o.background.width=o.root.width,this.initialDrawDone||(o.scrollbarWidth=Q.getScrollBarWidth());const f=r.leftContainer.clientWidth,d=r.rightContainer.clientWidth;s.verticalScroll?s.rtl?(o.left.width=f||-o.border.left,o.right.width=d+o.scrollbarWidth||-o.border.right):(o.left.width=f+o.scrollbarWidth||-o.border.left,o.right.width=d||-o.border.right):(o.left.width=f||-o.border.left,o.right.width=d||-o.border.right),this._setDOM();let h=this._updateScrollTop();s.orientation.item!="top"&&(h+=Math.max(o.centerContainer.height-o.center.height-o.border.top-o.border.bottom,0)),r.center.style.transform="translateY(".concat(h,"px)");const p=o.scrollTop==0?"hidden":"",g=o.scrollTop==o.scrollTopMin?"hidden":"";r.shadowTop.style.visibility=p,r.shadowBottom.style.visibility=g,r.shadowTopLeft.style.visibility=p,r.shadowBottomLeft.style.visibility=g,r.shadowTopRight.style.visibility=p,r.shadowBottomRight.style.visibility=g,s.verticalScroll&&(r.rightContainer.className="vis-panel vis-right vis-vertical-scroll",r.leftContainer.className="vis-panel vis-left vis-vertical-scroll",r.shadowTopRight.style.visibility="hidden",r.shadowBottomRight.style.visibility="hidden",r.shadowTopLeft.style.visibility="hidden",r.shadowBottomLeft.style.visibility="hidden",r.left.style.top="0px",r.right.style.top="0px"),(!s.verticalScroll||o.center.height<o.centerContainer.height)&&(r.left.style.top="".concat(h,"px"),r.right.style.top="".concat(h,"px"),r.rightContainer.className=r.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),r.leftContainer.className=r.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),o.left.width=f||-o.border.left,o.right.width=d||-o.border.right,this._setDOM());const v=o.center.height>o.centerContainer.height;this.hammer.get("pan").set({direction:v?zr.DIRECTION_ALL:zr.DIRECTION_HORIZONTAL}),this.hammer.get("press").set({time:this.options.longSelectPressTime}),Qe(e=this.components).call(e,b=>{i=b.redraw()||i});const y=5;if(i)if(this.redrawCount<y){this.body.emitter.emit("_change");return}else console.log("WARNING: infinite loop in redraw?");else this.redrawCount=0;this.body.emitter.emit("changed")}_setDOM(){const e=this.props,r=this.dom;e.leftContainer.width=e.left.width,e.rightContainer.width=e.right.width;const i=e.root.width-e.left.width-e.right.width;e.center.width=i,e.centerContainer.width=i,e.top.width=i,e.bottom.width=i,r.background.style.height="".concat(e.background.height,"px"),r.backgroundVertical.style.height="".concat(e.background.height,"px"),r.backgroundHorizontal.style.height="".concat(e.centerContainer.height,"px"),r.centerContainer.style.height="".concat(e.centerContainer.height,"px"),r.leftContainer.style.height="".concat(e.leftContainer.height,"px"),r.rightContainer.style.height="".concat(e.rightContainer.height,"px"),r.background.style.width="".concat(e.background.width,"px"),r.backgroundVertical.style.width="".concat(e.centerContainer.width,"px"),r.backgroundHorizontal.style.width="".concat(e.background.width,"px"),r.centerContainer.style.width="".concat(e.center.width,"px"),r.top.style.width="".concat(e.top.width,"px"),r.bottom.style.width="".concat(e.bottom.width,"px"),r.background.style.left="0",r.background.style.top="0",r.backgroundVertical.style.left="".concat(e.left.width+e.border.left,"px"),r.backgroundVertical.style.top="0",r.backgroundHorizontal.style.left="0",r.backgroundHorizontal.style.top="".concat(e.top.height,"px"),r.centerContainer.style.left="".concat(e.left.width,"px"),r.centerContainer.style.top="".concat(e.top.height,"px"),r.leftContainer.style.left="0",r.leftContainer.style.top="".concat(e.top.height,"px"),r.rightContainer.style.left="".concat(e.left.width+e.center.width,"px"),r.rightContainer.style.top="".concat(e.top.height,"px"),r.top.style.left="".concat(e.left.width,"px"),r.top.style.top="0",r.bottom.style.left="".concat(e.left.width,"px"),r.bottom.style.top="".concat(e.top.height+e.centerContainer.height,"px"),r.center.style.left="0",r.left.style.left="0",r.right.style.left="0"}setCurrentTime(e){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(e)}getCurrentTime(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()}_toTime(e){return fW(this,e,this.props.center.width)}_toGlobalTime(e){return fW(this,e,this.props.root.width)}_toScreen(e){return dW(this,e,this.props.center.width)}_toGlobalScreen(e){return dW(this,e,this.props.root.width)}_initAutoResize(){this.options.autoResize==!0?this._startAutoResize():this._stopAutoResize()}_startAutoResize(){const e=this;this._stopAutoResize(),this._onResize=()=>{if(e.options.autoResize!=!0){e._stopAutoResize();return}if(e.dom.root){const r=e.dom.root.offsetHeight,i=e.dom.root.offsetWidth;(i!=e.props.lastWidth||r!=e.props.lastHeight)&&(e.props.lastWidth=i,e.props.lastHeight=r,e.props.scrollbarWidth=Q.getScrollBarWidth(),e.body.emitter.emit("_change"))}},window.addEventListener("resize",this._onResize),e.dom.root&&(e.props.lastWidth=e.dom.root.offsetWidth,e.props.lastHeight=e.dom.root.offsetHeight),this.watchTimer=ZNe(this._onResize,1e3)}_stopAutoResize(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(window.removeEventListener("resize",this._onResize),this._onResize=null)}_onTouch(){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop}_onPinch(){this.touch.allowDragging=!1}_onDrag(e){if(!e||!this.touch.allowDragging)return;const r=e.deltaY,i=this._getScrollTop(),s=this._setScrollTop(this.touch.initialScrollTop+r);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),s!=i&&this.emit("verticalDrag")}_setScrollTop(e){return this.props.scrollTop=e,this._updateScrollTop(),this.props.scrollTop}_updateScrollTop(){const e=Math.min(this.props.centerContainer.height-this.props.border.top-this.props.border.bottom-this.props.center.height,0);return e!=this.props.scrollTopMin&&(this.options.orientation.item!="top"&&(this.props.scrollTop+=e-this.props.scrollTopMin),this.props.scrollTopMin=e),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<e&&(this.props.scrollTop=e),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop}_getScrollTop(){return this.props.scrollTop}_createConfigurator(){throw new Error("Cannot invoke abstract method _createConfigurator")}}dR(Fd.prototype);class Oee extends Vl{constructor(e,r){var i;super(),this.body=e,this.defaultOptions={rtl:!1,showCurrentTime:!0,alignCurrentTime:void 0,moment:qr,locales:Yf,locale:"en"},this.options=Q.extend({},this.defaultOptions),this.setOptions(r),this.options.locales=Q.extend({},Yf,this.options.locales);const s=this.defaultOptions.locales[this.defaultOptions.locale];Qe(i=er(this.options.locales)).call(i,o=>{this.options.locales[o]=Q.extend({},s,this.options.locales[o])}),this.offset=0,this._create()}_create(){const e=document.createElement("div");e.className="vis-current-time",e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e}destroy(){this.options.showCurrentTime=!1,this.redraw(),this.body=null}setOptions(e){e&&Q.selectiveExtend(["rtl","showCurrentTime","alignCurrentTime","moment","locale","locales"],this.options,e)}redraw(){if(this.options.showCurrentTime){var e,r;const i=this.body.dom.backgroundVertical;this.bar.parentNode!=i&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),i.appendChild(this.bar),this.start());let s=this.options.moment(Ci()+this.offset);this.options.alignCurrentTime&&(s=s.startOf(this.options.alignCurrentTime));const o=this.body.util.toScreen(s);let a=this.options.locales[this.options.locale];a||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),a=this.options.locales.en);let l=$n(e=$n(r="".concat(a.current," ")).call(r,a.time,": ")).call(e,s.format("dddd, MMMM Do YYYY, H:mm:ss"));l=l.charAt(0).toUpperCase()+l.substring(1),this.options.rtl?this.bar.style.transform="translateX(".concat(o*-1,"px)"):this.bar.style.transform="translateX(".concat(o,"px)"),this.bar.title=l}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1}start(){const e=this;function r(){e.stop();let s=1/e.body.range.conversion(e.body.domProps.center.width).scale/10;s<30&&(s=30),s>1e3&&(s=1e3),e.redraw(),e.body.emitter.emit("currentTimeTick"),e.currentTimeTimer=Pr(r,s)}r()}stop(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)}setCurrentTime(e){const r=Q.convert(e,"Date").valueOf(),i=Ci();this.offset=r-i,this.redraw()}getCurrentTime(){return new Date(Ci()+this.offset)}}var yW={},vW;function P3e(){if(vW)return yW;vW=1;var n=st(),e=Hl().find,r=a0(),i="find",s=!0;return i in[]&&Array(1)[i](function(){s=!1}),n({target:"Array",proto:!0,forced:s},{find:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),r(i),yW}var oD,xW;function I3e(){if(xW)return oD;xW=1,P3e();var n=jn();return oD=n("Array","find"),oD}var aD,wW;function O3e(){if(wW)return aD;wW=1;var n=mn(),e=I3e(),r=Array.prototype;return aD=function(i){var s=i.find;return i===r||n(r,i)&&s===r.find?e:s},aD}var lD,_W;function M3e(){if(_W)return lD;_W=1;var n=O3e();return lD=n,lD}var cD,SW;function A3e(){return SW||(SW=1,cD=M3e()),cD}var R3e=A3e(),N3e=ct(R3e);const _i=.001;function j3e(n){qn(n).call(n,(e,r)=>e.data.start-r.data.start)}function L3e(n){qn(n).call(n,(e,r)=>{const i="end"in e.data?e.data.end:e.data.start,s="end"in r.data?r.data.end:r.data.start;return i-s})}function kW(n,e,r,i){return zR(n,e.item,!1,o=>o.stack&&(r||o.top===null),o=>o.stack,()=>e.axis,i)===null}function F3e(n,e,r){const i=zR(n,e.item,!1,s=>s.stack,()=>!0,s=>s.baseTop);r.height=i-r.top+.5*e.item.vertical}function $3e(n,e,r,i){for(let s=0;s<n.length;s++){if(n[s].data.subgroup==null){n[s].top=e.item.vertical;continue}if(n[s].data.subgroup===void 0||!i)continue;let o=0;for(const a in r)!Object.prototype.hasOwnProperty.call(r,a)||r[a].visible!==!0||r[a].index>=r[n[s].data.subgroup].index||(o+=r[a].height,r[n[s].data.subgroup].top=o);n[s].top=o+.5*e.item.vertical}i||B3e(n,e,r)}function B3e(n,e,r){var i;zR(qn(i=cR(r)).call(i,(s,o)=>s.index>o.index?1:s.index<o.index?-1:0),{vertical:0},!0,()=>!0,()=>!0,()=>0);for(let s=0;s<n.length;s++)n[s].data.subgroup!==void 0&&(n[s].top=r[n[s].data.subgroup].top+.5*e.item.vertical)}function CW(n,e,r){let i=!1;const s=[];for(let o in r)Object.prototype.hasOwnProperty.call(r[o],"index")?s[r[o].index]=o:s.push(o);for(let o=0;o<s.length;o++){let a=s[o];if(!Object.prototype.hasOwnProperty.call(r,a))continue;i=i||r[a].stack,r[a].top=0;for(const c in r)r[c].visible&&r[a].index>r[c].index&&(r[a].top+=r[c].height);const l=n[a];for(let c=0;c<l.length;c++)l[c].data.subgroup!==void 0&&(l[c].top=r[l[c].data.subgroup].top+.5*e.item.vertical,r[a].stack&&(l[c].baseTop=l[c].top));i&&r[a].stack&&F3e(n[a],e,r[a])}}function zR(n,e,r,i,s,o,a){let l=w=>w.start,c=w=>w.end;r||(!!(n[0]&&n[0].options.rtl)?l=k=>k.right:l=k=>k.left,c=k=>l(k)+k.width+e.horizontal);const u=[],f=[];let d=null,h=0;for(const w of n)if(i(w))u.push(w);else if(s(w)){const k=l(w);d!==null&&k<d-_i&&(h=0),d=k,h=Wb(f,_=>l(_)-_i>k,h),Ur(f).call(f,h,0,w),h++}d=null;let p=null;h=0;let g=0,v=0,y=0;for(;u.length>0;){var b;const w=u.shift();w.top=o(w);const k=l(w),_=c(w);d!==null&&k<d-_i&&(g=0,v=0,h=0,p=null),(d===null||k>d+_i)&&(g=Wb(f,T=>k<c(T)-_i,g)),d=k,(p===null||p<_-_i)&&(v=Wb(f,T=>_<l(T)-_i,Math.max(g,v))),p!==null&&p-_i>_&&(v=U3e(f,T=>_+_i>=l(T),g,v)+1),p=_;const S=qn(b=q3e(f,T=>k<c(T)-_i,g,v)).call(b,(T,D)=>T.top-D.top);for(let T=0;T<S.length;T++){const D=S[T];z3e(w,D,e)&&(w.top=D.top+D.height+e.vertical)}s(w)&&(h=Wb(f,T=>l(T)-_i>k,h),Ur(f).call(f,h,0,w),h<g&&g++,h<=v&&v++,h++);const C=w.top+w.height;if(C>y&&(y=C),a&&a())return null}return y}function z3e(n,e,r){return n.top-r.vertical+_i<e.top+e.height&&n.top+n.height+r.vertical-_i>e.top}function Wb(n,e,r){r||(r=0);for(let i=r;i<n.length;i++)if(e(n[i]))return i;return n.length}function U3e(n,e,r,i){r||(r=0),i||(i=n.length);for(let s=i-1;s>=r;s--)if(e(n[s]))return s;return r-1}function q3e(n,e,r,i){r||(r=0),i?i=Math.min(i,n.length):i=n.length;const s=[];for(let o=r;o<i;o++)e(n[o])&&s.push(n[o]);return s}const W3e="__background__",TW={BACKGROUND:W3e};let VI=class{constructor(e,r,i){if(this.groupId=e,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.subgroupVisibility={},this.doInnerStack=!1,this.shouldBailStackItems=!1,this.subgroupIndex=0,this.subgroupOrderer=r&&r.subgroupOrder,this.itemSet=i,this.isVisible=null,this.height=0,this.stackDirty=!0,this._disposeCallbacks=[],r&&r.nestedGroups&&(this.nestedGroups=r.nestedGroups,r.showNested==!1?this.showNested=!1:this.showNested=!0),r&&r.subgroupStack)if(typeof r.subgroupStack=="boolean")this.doInnerStack=r.subgroupStack,this.subgroupStackAll=r.subgroupStack;else for(const o in r.subgroupStack)Object.prototype.hasOwnProperty.call(r.subgroupStack,o)&&(this.subgroupStack[o]=r.subgroupStack[o],this.doInnerStack=this.doInnerStack||r.subgroupStack[o]);r&&r.heightMode?this.heightMode=r.heightMode:this.heightMode=i.options.groupHeightMode,this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;const s=()=>{this.checkRangedItems=!0};this.itemSet.body.emitter.on("checkRangedItems",s),this._disposeCallbacks.push(()=>{this.itemSet.body.emitter.off("checkRangedItems",s)}),this._create(),this.setData(r)}_create(){const e=document.createElement("div");this.itemSet.options.groupEditable.order?e.className="vis-label draggable":e.className="vis-label",this.dom.label=e;const r=document.createElement("div");r.className="vis-inner",e.appendChild(r),this.dom.inner=r;const i=document.createElement("div");i.className="vis-group",i["vis-group"]=this,this.dom.foreground=i,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)}setData(e){if(this.itemSet.groupTouchParams.isDragging)return;let r,i;if(e&&e.subgroupVisibility)for(const a in e.subgroupVisibility)Object.prototype.hasOwnProperty.call(e.subgroupVisibility,a)&&(this.subgroupVisibility[a]=e.subgroupVisibility[a]);if(this.itemSet.options&&this.itemSet.options.groupTemplate){var s;i=ke(s=this.itemSet.options.groupTemplate).call(s,this),r=i(e,this.dom.inner)}else r=e&&e.content;if(r instanceof Element){for(;this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(r)}else r instanceof Object&&r.isReactComponent||(r instanceof Object?i(e,this.dom.inner):r!=null?this.dom.inner.innerHTML=Q.xss(r):this.dom.inner.innerHTML=Q.xss(this.groupId||""));this.dom.label.title=e&&e.title||"",this.dom.inner.firstChild?Q.removeClassName(this.dom.inner,"vis-hidden"):Q.addClassName(this.dom.inner,"vis-hidden"),e&&e.nestedGroups?((!this.nestedGroups||this.nestedGroups!=e.nestedGroups)&&(this.nestedGroups=e.nestedGroups),(e.showNested!==void 0||this.showNested===void 0)&&(e.showNested==!1?this.showNested=!1:this.showNested=!0),Q.addClassName(this.dom.label,"vis-nesting-group"),this.showNested?(Q.removeClassName(this.dom.label,"collapsed"),Q.addClassName(this.dom.label,"expanded")):(Q.removeClassName(this.dom.label,"expanded"),Q.addClassName(this.dom.label,"collapsed"))):this.nestedGroups&&(this.nestedGroups=null,Q.removeClassName(this.dom.label,"collapsed"),Q.removeClassName(this.dom.label,"expanded"),Q.removeClassName(this.dom.label,"vis-nesting-group")),e&&(e.treeLevel||e.nestedInGroup)?(Q.addClassName(this.dom.label,"vis-nested-group"),e.treeLevel?Q.addClassName(this.dom.label,"vis-group-level-"+e.treeLevel):Q.addClassName(this.dom.label,"vis-group-level-unknown-but-gte1")):Q.addClassName(this.dom.label,"vis-group-level-0");const o=e&&e.className||null;o!=this.className&&(this.className&&(Q.removeClassName(this.dom.label,this.className),Q.removeClassName(this.dom.foreground,this.className),Q.removeClassName(this.dom.background,this.className),Q.removeClassName(this.dom.axis,this.className)),Q.addClassName(this.dom.label,o),Q.addClassName(this.dom.foreground,o),Q.addClassName(this.dom.background,o),Q.addClassName(this.dom.axis,o),this.className=o),this.style&&(Q.removeCssText(this.dom.label,this.style),this.style=null),e&&e.style&&(Q.addCssText(this.dom.label,e.style),this.style=e.style)}getLabelWidth(){return this.props.label.width}_didMarkerHeightChange(){const e=this.dom.marker.clientHeight;if(e!=this.lastMarkerHeight){this.lastMarkerHeight=e;const r={};let i=0;if(Qe(Q).call(Q,this.items,(o,a)=>{o.dirty=!0,o.displayed&&(r[a]=o.redraw(!0),i=r[a].length)}),i>0)for(let o=0;o<i;o++)Qe(Q).call(Q,r,a=>{a[o]()});return!0}else return!1}_calculateGroupSizeAndPosition(){const{offsetTop:e,offsetLeft:r,offsetWidth:i}=this.dom.foreground;this.top=e,this.right=r,this.width=i}_shouldBailItemsRedraw(){const e=this,r=this.itemSet.options.onTimeout,i={relativeBailingTime:this.itemSet.itemsSettingTime,bailTimeMs:r&&r.timeoutMs,userBailFunction:r&&r.callback,shouldBailStackItems:this.shouldBailStackItems};let s=null;if(!this.itemSet.initialDrawDone){if(i.shouldBailStackItems)return!0;Math.abs(Ci()-new Date(i.relativeBailingTime))>i.bailTimeMs&&(i.userBailFunction&&this.itemSet.userContinueNotBail==null?i.userBailFunction(o=>{e.itemSet.userContinueNotBail=o,s=!o}):e.itemSet.userContinueNotBail==!1?s=!0:s=!1)}return s}_redrawItems(e,r,i,s){if(e||this.stackDirty||this.isVisible&&!r){var a,l,c,u,f,d;const b={byEnd:dt(a=this.orderedItems.byEnd).call(a,S=>!S.isCluster),byStart:dt(l=this.orderedItems.byStart).call(l,S=>!S.isCluster)},w={byEnd:[...new Il(dt(c=Vt(u=this.orderedItems.byEnd).call(u,S=>S.cluster)).call(c,S=>!!S))],byStart:[...new Il(dt(f=Vt(d=this.orderedItems.byStart).call(d,S=>S.cluster)).call(f,S=>!!S))]},k=()=>{var S,C;const T=this._updateItemsInRange(b,dt(S=this.visibleItems).call(S,O=>!O.isCluster),s),D=this._updateClustersInRange(w,dt(C=this.visibleItems).call(C,O=>O.isCluster),s);return[...T,...D]},_=S=>{let C={};for(const D in this.subgroups){var T;if(!Object.prototype.hasOwnProperty.call(this.subgroups,D))continue;const O=dt(T=this.visibleItems).call(T,P=>P.data.subgroup===D);C[D]=S?qn(O).call(O,(P,A)=>S(P.data,A.data)):O}return C};if(typeof this.itemSet.options.order=="function"){const S=this;if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const C=_(this.itemSet.options.order);CW(C,i,this.subgroups),this.visibleItems=k(),this._updateSubGroupHeights(i)}else{var h,p,g,v;this.visibleItems=k(),this._updateSubGroupHeights(i);const C=qn(h=dt(p=xh(g=this.visibleItems).call(g)).call(p,T=>T.isCluster||!T.isCluster&&!T.cluster)).call(h,(T,D)=>S.itemSet.options.order(T.data,D.data));this.shouldBailStackItems=kW(C,i,!0,ke(v=this._shouldBailItemsRedraw).call(v,this))}}else if(this.visibleItems=k(),this._updateSubGroupHeights(i),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const S=_();CW(S,i,this.subgroups)}else{var y;this.shouldBailStackItems=kW(this.visibleItems,i,!0,ke(y=this._shouldBailItemsRedraw).call(y,this))}else $3e(this.visibleItems,i,this.subgroups,this.itemSet.options.stackSubgroups);for(let S=0;S<this.visibleItems.length;S++)this.visibleItems[S].repositionX(),this.subgroupVisibility[this.visibleItems[S].data.subgroup]!==void 0&&(this.subgroupVisibility[this.visibleItems[S].data.subgroup]||this.visibleItems[S].hide());this.itemSet.options.cluster&&Qe(Q).call(Q,this.items,S=>{S.cluster&&S.displayed&&S.hide()}),this.shouldBailStackItems&&this.itemSet.body.emitter.emit("destroyTimeline"),this.stackDirty=!1}}_didResize(e,r){e=Q.updateProperty(this,"height",r)||e;const i=this.dom.inner.clientWidth,s=this.dom.inner.clientHeight;return e=Q.updateProperty(this.props.label,"width",i)||e,e=Q.updateProperty(this.props.label,"height",s)||e,e}_applyGroupHeight(e){this.dom.background.style.height="".concat(e,"px"),this.dom.foreground.style.height="".concat(e,"px"),this.dom.label.style.height="".concat(e,"px")}_updateItemsVerticalPosition(e){for(let r=0,i=this.visibleItems.length;r<i;r++){const s=this.visibleItems[r];s.repositionY(e),!this.isVisible&&this.groupId!=TW.BACKGROUND&&s.displayed&&s.hide()}}redraw(e,r,i,s){var o,a,l,c,u;let f=!1;const d=this.isVisible;let h;const p=[()=>{i=this._didMarkerHeightChange.call(this)||i},ke(o=this._updateSubGroupHeights).call(o,this,r),ke(a=this._calculateGroupSizeAndPosition).call(a,this),()=>{var g;this.isVisible=ke(g=this._isGroupVisible).call(g,this)(e,r)},()=>{var g;ke(g=this._redrawItems).call(g,this)(i,d,r,e)},ke(l=this._updateSubgroupsSizes).call(l,this),()=>{var g;h=this.height=ke(g=this._calculateHeight).call(g,this)(r)},ke(c=this._calculateGroupSizeAndPosition).call(c,this),()=>{var g;f=ke(g=this._didResize).call(g,this)(f,h)},()=>{var g;ke(g=this._applyGroupHeight).call(g,this)(h)},()=>{var g;ke(g=this._updateItemsVerticalPosition).call(g,this)(r)},ke(u=()=>(!this.isVisible&&this.height&&(f=!1),f)).call(u,this)];if(s)return p;{let g;return Qe(p).call(p,v=>{g=v()}),g}}_updateSubGroupHeights(e){if(er(this.subgroups).length>0){const r=this;this._resetSubgroups(),Qe(Q).call(Q,this.visibleItems,i=>{i.data.subgroup!==void 0&&(r.subgroups[i.data.subgroup].height=Math.max(r.subgroups[i.data.subgroup].height,i.height+e.item.vertical),r.subgroups[i.data.subgroup].visible=typeof this.subgroupVisibility[i.data.subgroup]>"u"?!0:!!this.subgroupVisibility[i.data.subgroup])})}}_isGroupVisible(e,r){return this.top<=e.body.domProps.centerContainer.height-e.body.domProps.scrollTop+r.axis&&this.top+this.height+r.axis>=-e.body.domProps.scrollTop}_calculateHeight(e){let r,i;if(this.heightMode==="fixed"?i=Q.toArray(this.items):i=this.visibleItems,!this.isVisible&&this.height)r=Math.max(this.height,this.props.label.height);else if(i.length>0){let s=i[0].top,o=i[0].top+i[0].height;if(Qe(Q).call(Q,i,a=>{s=Math.min(s,a.top),o=Math.max(o,a.top+a.height)}),s>e.axis){const a=s-e.axis;o-=a,Qe(Q).call(Q,i,l=>{l.top-=a})}r=Math.ceil(o+e.item.vertical/2),this.heightMode!=="fitItems"&&(r=Math.max(r,this.props.label.height))}else r=this.props.label.height;return r}show(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)}hide(){const e=this.dom.label;e.parentNode&&e.parentNode.removeChild(e);const r=this.dom.foreground;r.parentNode&&r.parentNode.removeChild(r);const i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);const s=this.dom.axis;s.parentNode&&s.parentNode.removeChild(s)}add(e){var r;if(this.items[e.id]=e,e.setParent(this),this.stackDirty=!0,e.data.subgroup!==void 0&&(this._addToSubgroup(e),this.orderSubgroups()),!Bf(r=this.visibleItems).call(r,e)){const i=this.itemSet.body.range;this._checkIfVisible(e,this.visibleItems,i)}}_addToSubgroup(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.data.subgroup;r!=null&&this.subgroups[r]===void 0&&(this.subgroups[r]={height:0,top:0,start:e.data.start,end:e.data.end||e.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[r]||!1},this.subgroupIndex++),new Date(e.data.start)<new Date(this.subgroups[r].start)&&(this.subgroups[r].start=e.data.start);const i=e.data.end||e.data.start;new Date(i)>new Date(this.subgroups[r].end)&&(this.subgroups[r].end=i),this.subgroups[r].items.push(e)}_updateSubgroupsSizes(){const e=this;if(e.subgroups)for(const i in e.subgroups){var r;if(!Object.prototype.hasOwnProperty.call(e.subgroups,i))continue;const s=e.subgroups[i].items[0].data.end||e.subgroups[i].items[0].data.start;let o=e.subgroups[i].items[0].data.start,a=s-1;Qe(r=e.subgroups[i].items).call(r,l=>{new Date(l.data.start)<new Date(o)&&(o=l.data.start);const c=l.data.end||l.data.start;new Date(c)>new Date(a)&&(a=c)}),e.subgroups[i].start=o,e.subgroups[i].end=new Date(a-1)}}orderSubgroups(){if(this.subgroupOrderer!==void 0){const e=[];if(typeof this.subgroupOrderer=="string"){for(const r in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,r)&&e.push({subgroup:r,sortField:this.subgroups[r].items[0].data[this.subgroupOrderer]});qn(e).call(e,(r,i)=>r.sortField-i.sortField)}else if(typeof this.subgroupOrderer=="function"){for(const r in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,r)&&e.push(this.subgroups[r].items[0].data);qn(e).call(e,this.subgroupOrderer)}if(e.length>0)for(let r=0;r<e.length;r++)this.subgroups[e[r].subgroup].index=r}}_resetSubgroups(){for(const e in this.subgroups)Object.prototype.hasOwnProperty.call(this.subgroups,e)&&(this.subgroups[e].visible=!1,this.subgroups[e].height=0)}remove(e){var r,i;delete this.items[e.id],e.setParent(null),this.stackDirty=!0;const s=tn(r=this.visibleItems).call(r,e);s!=-1&&Ur(i=this.visibleItems).call(i,s,1),e.data.subgroup!==void 0&&(this._removeFromSubgroup(e),this.orderSubgroups())}_removeFromSubgroup(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.data.subgroup;if(r!=null){const o=this.subgroups[r];if(o){var i;const a=tn(i=o.items).call(i,e);if(a>=0){var s;Ur(s=o.items).call(s,a,1),o.items.length?this._updateSubgroupsSizes():delete this.subgroups[r]}}}}removeFromDataSet(e){this.itemSet.removeItem(e.id)}order(){const e=Q.toArray(this.items),r=[],i=[];for(let s=0;s<e.length;s++)e[s].data.end!==void 0&&i.push(e[s]),r.push(e[s]);this.orderedItems={byStart:r,byEnd:i},j3e(this.orderedItems.byStart),L3e(this.orderedItems.byEnd)}_updateItemsInRange(e,r,i){const s=[],o={};if(!this.isVisible&&this.height!==void 0&&this.groupId!=TW.BACKGROUND){for(let y=0;y<r.length;y++){var a=r[y];a.displayed&&a.hide()}return s}const l=(i.end-i.start)/4,c=i.start-l,u=i.end+l,f=y=>y<c?-1:y<=u?0:1,d=y=>{const{start:b,end:w}=y;return w<c?-1:b<=u?0:1};if(r.length>0)for(let y=0;y<r.length;y++)this._checkIfVisibleWithReference(r[y],s,o,i);const h=Q.binarySearchCustom(e.byStart,f,"data","start");if(this._traceVisible(h,e.byStart,s,o,y=>y.data.start<c||y.data.start>u),this.checkRangedItems==!0){this.checkRangedItems=!1;for(let y=0;y<e.byEnd.length;y++)this._checkIfVisibleWithReference(e.byEnd[y],s,o,i)}else{const y=Q.binarySearchCustom(e.byEnd,d,"data");this._traceVisible(y,e.byEnd,s,o,b=>b.data.end<c||b.data.start>u)}this._sortVisibleItems(e.byStart,s,o);const p={};let g=0;for(let y=0;y<s.length;y++){const b=s[y];b.displayed||(p[y]=b.redraw(!0),g=p[y].length)}if(g>0)for(let y=0;y<g;y++)Qe(Q).call(Q,p,b=>{b[y]()});for(let y=0;y<s.length;y++)s[y].repositionX();return s}_traceVisible(e,r,i,s,o){if(e!=-1){for(let a=e;a>=0;a--){let l=r[a];if(o(l))break;!(l.isCluster&&!l.hasItems())&&!l.cluster&&s[l.id]===void 0&&(s[l.id]=!0,i.unshift(l))}for(let a=e+1;a<r.length;a++){let l=r[a];if(o(l))break;!(l.isCluster&&!l.hasItems())&&!l.cluster&&s[l.id]===void 0&&(s[l.id]=!0,i.push(l))}}}_sortVisibleItems(e,r,i){r.length=0;for(let s=0;s<e.length;s++){let o=e[s];i[o.id]&&r.push(o)}}_checkIfVisible(e,r,i){e.isVisible(i)?(e.displayed||e.show(),e.repositionX(),r.push(e)):e.displayed&&e.hide()}_checkIfVisibleWithReference(e,r,i,s){e.isVisible(s)?i[e.id]===void 0&&(i[e.id]=!0,r.push(e)):e.displayed&&e.hide()}_updateClustersInRange(e,r,i){const s=[],o={};if(r.length>0)for(let f=0;f<r.length;f++)this._checkIfVisibleWithReference(r[f],s,o,i);for(let f=0;f<e.byStart.length;f++)this._checkIfVisibleWithReference(e.byStart[f],s,o,i);for(let f=0;f<e.byEnd.length;f++)this._checkIfVisibleWithReference(e.byEnd[f],s,o,i);const a={};let l=0;for(let f=0;f<s.length;f++){const d=s[f];d.displayed||(a[f]=d.redraw(!0),l=a[f].length)}if(l>0)for(var u=0;u<l;u++)Qe(Q).call(Q,a,function(f){f[u]()});for(let f=0;f<s.length;f++)s[f].repositionX();return s}changeSubgroup(e,r,i){this._removeFromSubgroup(e,r),this._addToSubgroup(e,i),this.orderSubgroups()}dispose(){this.hide();let e;for(;e=this._disposeCallbacks.pop();)e()}};class Mee extends VI{constructor(e,r,i){super(e,r,i),this.width=0,this.height=0,this.top=0,this.left=0}redraw(e,r){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,e),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(let s=0,o=this.visibleItems.length;s<o;s++)this.visibleItems[s].repositionY(r);return!1}show(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)}}class Sh{constructor(e,r,i){var s;this.id=null,this.parent=null,this.data=e,this.dom=null,this.conversion=r||{},this.defaultOptions={locales:Yf,locale:"en"},this.options=Q.extend({},this.defaultOptions,i),this.options.locales=Q.extend({},Yf,this.options.locales);const o=this.defaultOptions.locales[this.defaultOptions.locale];Qe(s=er(this.options.locales)).call(s,a=>{this.options.locales[a]=Q.extend({},o,this.options.locales[a])}),this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.selectable=i&&i.selectable||!1,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.setSelectability(e),this.editable=null,this._updateEditStatus()}select(){this.selectable&&(this.selected=!0,this.dirty=!0,this.displayed&&this.redraw())}unselect(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()}setData(e){e.group!=null&&this.data.group!=e.group&&this.parent!=null&&this.parent.itemSet._moveToGroup(this,e.group),this.setSelectability(e),this.parent&&(this.parent.stackDirty=!0),e.subgroup!=null&&this.data.subgroup!=e.subgroup&&this.parent!=null&&this.parent.changeSubgroup(this,this.data.subgroup,e.subgroup),this.data=e,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()}setSelectability(e){e&&(this.selectable=typeof e.selectable>"u"?!0:!!e.selectable)}setParent(e){this.displayed?(this.hide(),this.parent=e,this.parent&&this.show()):this.parent=e}isVisible(){return!1}show(){return!1}hide(){return!1}redraw(){}repositionX(){}repositionY(){}_repaintDragCenter(){if(this.selected&&this.editable.updateTime&&!this.dom.dragCenter){var e,r;const i=this,s=document.createElement("div");s.className="vis-drag-center",s.dragCenterItem=this,this.hammerDragCenter=new zr(s),this.hammerDragCenter.on("tap",o=>{i.parent.itemSet.body.emitter.emit("click",{event:o,item:i.id})}),this.hammerDragCenter.on("doubletap",o=>{o.stopPropagation(),i.parent.itemSet._onUpdateItem(i),i.parent.itemSet.body.emitter.emit("doubleClick",{event:o,item:i.id})}),this.hammerDragCenter.on("panstart",o=>{o.stopPropagation(),i.parent.itemSet._onDragStart(o)}),this.hammerDragCenter.on("panmove",ke(e=i.parent.itemSet._onDrag).call(e,i.parent.itemSet)),this.hammerDragCenter.on("panend",ke(r=i.parent.itemSet._onDragEnd).call(r,i.parent.itemSet)),this.hammerDragCenter.get("press").set({time:1e4}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(s,this.dom.dragLeft):this.dom.box.appendChild(s):this.dom.point&&this.dom.point.appendChild(s),this.dom.dragCenter=s}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null,this.hammerDragCenter&&(this.hammerDragCenter.destroy(),this.hammerDragCenter=null))}_repaintDeleteButton(e){const r=(this.options.editable.overrideItems||this.editable==null)&&this.options.editable.remove||!this.options.editable.overrideItems&&this.editable!=null&&this.editable.remove;if(this.selected&&r&&!this.dom.deleteButton){const i=this,s=document.createElement("div");this.options.rtl?s.className="vis-delete-rtl":s.className="vis-delete";let o=this.options.locales[this.options.locale];o||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),o=this.options.locales.en),s.title=o.deleteSelected,this.hammerDeleteButton=new zr(s).on("tap",a=>{a.stopPropagation(),i.parent.removeFromDataSet(i)}),e.appendChild(s),this.dom.deleteButton=s}else(!this.selected||!r)&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null,this.hammerDeleteButton&&(this.hammerDeleteButton.destroy(),this.hammerDeleteButton=null))}_repaintOnItemUpdateTimeTooltip(e){if(!this.options.tooltipOnItemUpdateTime)return;const r=(this.options.editable.updateTime||this.data.editable===!0)&&this.data.editable!==!1;if(this.selected&&r&&!this.dom.onItemUpdateTimeTooltip){const s=document.createElement("div");s.className="vis-onUpdateTime-tooltip",e.appendChild(s),this.dom.onItemUpdateTimeTooltip=s}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.dom.onItemUpdateTimeTooltip.style.transform="translateX(-50%)",this.dom.onItemUpdateTimeTooltip.style.left="50%";const s=50,o=this.parent.itemSet.body.domProps.scrollTop;let a;this.options.orientation.item=="top"?a=this.top:a=this.parent.height-this.top-this.height,a+this.parent.top-s<-o?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top="".concat(this.height+2,"px")):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom="".concat(this.height+2,"px"));let c,u;if(this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template){var i;u=ke(i=this.options.tooltipOnItemUpdateTime.template).call(i,this),c=u(this.data)}else c="start: ".concat(qr(this.data.start).format("MM/DD/YYYY hh:mm")),this.data.end&&(c+="<br> end: ".concat(qr(this.data.end).format("MM/DD/YYYY hh:mm")));this.dom.onItemUpdateTimeTooltip.innerHTML=Q.xss(c)}}_getItemData(){return this.parent.itemSet.itemsData.get(this.id)}_updateContents(e){let r,i,s,o,a;const l=this._getItemData(),u=(this.dom.box||this.dom.point).getElementsByClassName("vis-item-visible-frame")[0];if(this.options.visibleFrameTemplate){var f;a=ke(f=this.options.visibleFrameTemplate).call(f,this),o=Q.xss(a(l,u))}else o="";if(u){if(o instanceof Object&&!(o instanceof Element))a(l,u);else if(i=this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(o),i){if(o instanceof Element)u.innerHTML="",u.appendChild(o);else if(o!=null)u.innerHTML=Q.xss(o);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error('Property "content" missing in item '.concat(this.id));this.itemVisibleFrameContent=o}}if(this.options.template){var d;s=ke(d=this.options.template).call(d,this),r=s(l,e,this.data)}else r=this.data.content;if(r instanceof Object&&!(r instanceof Element))s(l,e);else if(i=this._contentToString(this.content)!==this._contentToString(r),i){if(r instanceof Element)e.innerHTML="",e.appendChild(r);else if(r!=null)e.innerHTML=Q.xss(r);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error('Property "content" missing in item '.concat(this.id));this.content=r}}_updateDataAttributes(e){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){let r=[];if(Et(this.options.dataAttributes))r=this.options.dataAttributes;else if(this.options.dataAttributes=="all")r=er(this.data);else return;for(const i of r){const s=this.data[i];s!=null?e.setAttribute("data-".concat(i),s):e.removeAttribute("data-".concat(i))}}}_updateStyle(e){this.style&&(Q.removeCssText(e,this.style),this.style=null),this.data.style&&(Q.addCssText(e,this.data.style),this.style=this.data.style)}_contentToString(e){return typeof e=="string"?e:e&&"outerHTML"in e?e.outerHTML:e}_updateEditStatus(){this.options&&(typeof this.options.editable=="boolean"?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:typeof this.options.editable=="object"&&(this.editable={},Q.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),(!this.options||!this.options.editable||this.options.editable.overrideItems!==!0)&&this.data&&(typeof this.data.editable=="boolean"?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:typeof this.data.editable=="object"&&(this.editable={},Q.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))}getWidthLeft(){return 0}getWidthRight(){return 0}getTitle(){if(this.options.tooltip&&this.options.tooltip.template){var e;return ke(e=this.options.tooltip.template).call(e,this)(this._getItemData(),this.data)}return this.data.title}}Sh.prototype.stack=!0;class H3e extends Sh{constructor(e,r,i){if(super(e,r,i),this.props={dot:{width:0,height:0},line:{width:0,height:0}},e&&e.start==null)throw new Error('Property "start" missing in item '.concat(e))}isVisible(e){if(this.cluster)return!1;let r;const i=this.data.align||this.options.align,s=this.width*e.getMillisecondsPerPixel();return i=="right"?r=this.data.start.getTime()>e.start&&this.data.start.getTime()-s<e.end:i=="left"?r=this.data.start.getTime()+s>e.start&&this.data.start.getTime()<e.end:r=this.data.start.getTime()+s/2>e.start&&this.data.start.getTime()-s/2<e.end,r}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const r=this.parent.dom.foreground;if(!r)throw new Error("Cannot redraw item: parent has no foreground container element");r.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){const r=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");r.appendChild(this.dom.dot)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,r=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box".concat(r),this.dom.line.className="vis-item vis-line".concat(r),this.dom.dot.className="vis-item vis-dot".concat(r)}}_getDomComponentsSizes(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=e.dot.height,this.props.dot.width=e.dot.width,this.props.line.width=e.line.width,this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)}redraw(e){var r,i,s,o;let a;const l=[ke(r=this._createDomElement).call(r,this),ke(i=this._appendDomElement).call(i,this),ke(s=this._updateDirtyDomComponents).call(s,this),()=>{this.dirty&&(a=this._getDomComponentsSizes())},()=>{if(this.dirty){var c;ke(c=this._updateDomComponentsSizes).call(c,this)(a)}},ke(o=this._repaintDomAdditionals).call(o,this)];if(e)return l;{let c;return Qe(l).call(l,u=>{c=u()}),c}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom;e.box.remove?e.box.remove():e.box.parentNode&&e.box.parentNode.removeChild(e.box),e.line.remove?e.line.remove():e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.remove?e.dot.remove():e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot),this.displayed=!1}}repositionXY(){const e=this.options.rtl,r=function(i,s,o){var a;let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(s===void 0&&o===void 0)return;const c=l?s*-1:s;if(o===void 0){i.style.transform="translateX(".concat(c,"px)");return}if(s===void 0){i.style.transform="translateY(".concat(o,"px)");return}i.style.transform=$n(a="translate(".concat(c,"px, ")).call(a,o,"px)")};r(this.dom.box,this.boxX,this.boxY,e),r(this.dom.dot,this.dotX,this.dotY,e),r(this.dom.line,this.lineX,this.lineY,e)}repositionX(){const e=this.conversion.toScreen(this.data.start),r=this.data.align===void 0?this.options.align:this.data.align,i=this.props.line.width,s=this.props.dot.width;r=="right"?(this.boxX=e-this.width,this.lineX=e-i,this.dotX=e-i/2-s/2):r=="left"?(this.boxX=e,this.lineX=e,this.dotX=e+i/2-s/2):(this.boxX=e-this.width/2,this.lineX=this.options.rtl?e-i:e-i/2,this.dotX=e-s/2),this.options.rtl?this.right=this.boxX:this.left=this.boxX,this.repositionXY()}repositionY(){const e=this.options.orientation.item,r=this.dom.line.style;if(e=="top"){const i=this.parent.top+this.top+1;this.boxY=this.top||0,r.height="".concat(i,"px"),r.bottom="",r.top="0"}else{const s=this.parent.itemSet.props.height-this.parent.top-this.parent.height+this.top;this.boxY=this.parent.height-this.top-(this.height||0),r.height="".concat(s,"px"),r.top="",r.bottom="0"}this.dotY=-this.props.dot.height/2,this.repositionXY()}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}}class G3e extends Sh{constructor(e,r,i){if(super(e,r,i),this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},e&&e.start==null)throw new Error('Property "start" missing in item '.concat(e))}isVisible(e){if(this.cluster)return!1;const r=this.width*e.getMillisecondsPerPixel();return this.data.start.getTime()+r>e.start&&this.data.start<e.end}_createDomElement(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.point)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);const e=this.editable.updateTime||this.editable.updateGroup,r=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point".concat(r),this.dom.dot.className="vis-item vis-dot".concat(r)}}_getDomComponentsSizes(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}}_updateDomComponentsSizes(e){this.props.dot.width=e.dot.width,this.props.dot.height=e.dot.height,this.props.content.height=e.content.height,this.options.rtl?this.dom.content.style.marginRight="".concat(this.props.dot.width/2,"px"):this.dom.content.style.marginLeft="".concat(this.props.dot.width/2,"px"),this.width=e.point.width,this.height=e.point.height,this.dom.dot.style.top="".concat((this.height-this.props.dot.height)/2,"px");const r=this.props.dot.width,i=this.options.rtl?r/2:r/2*-1;this.dom.dot.style.transform="translateX(".concat(i,"px"),this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)}redraw(e){var r,i,s,o;let a;const l=[ke(r=this._createDomElement).call(r,this),ke(i=this._appendDomElement).call(i,this),ke(s=this._updateDirtyDomComponents).call(s,this),()=>{this.dirty&&(a=this._getDomComponentsSizes())},()=>{if(this.dirty){var c;ke(c=this._updateDomComponentsSizes).call(c,this)(a)}},ke(o=this._repaintDomAdditionals).call(o,this)];if(e)return l;{let c;return Qe(l).call(l,u=>{c=u()}),c}}repositionXY(){const e=this.options.rtl;(function(i,s,o){var a;let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(s===void 0&&o===void 0)return;const c=l?s*-1:s;if(o===void 0){i.style.transform="translateX(".concat(c,"px)");return}if(s===void 0){i.style.transform="translateY(".concat(o,"px)");return}i.style.transform=$n(a="translate(".concat(c,"px, ")).call(a,o,"px)")})(this.dom.point,this.pointX,this.pointY,e)}show(e){if(!this.displayed)return this.redraw(e)}hide(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)}repositionX(){const e=this.conversion.toScreen(this.data.start);this.pointX=e,this.options.rtl?this.right=e-this.props.dot.width:this.left=e-this.props.dot.width,this.repositionXY()}repositionY(){this.options.orientation.item=="top"?this.pointY=this.top:this.pointY=this.parent.height-this.top-this.height,this.repositionXY()}getWidthLeft(){return this.props.dot.width}getWidthRight(){return this.props.dot.width}}class gu extends Sh{constructor(e,r,i){if(super(e,r,i),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error('Property "start" missing in item '.concat(e.id));if(e.end==null)throw new Error('Property "end" missing in item '.concat(e.id))}}isVisible(e){return this.cluster?!1:this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,r=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+r,this.dom.content.style.maxWidth="none"}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.frame).overflow!=="hidden",this.whiteSpace=window.getComputedStyle(this.dom.content).whiteSpace!=="nowrap",{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=e.box.height,this.dom.content.style.maxWidth="",this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()}redraw(e){var r,i,s,o;let a;const l=[ke(r=this._createDomElement).call(r,this),ke(i=this._appendDomElement).call(i,this),ke(s=this._updateDirtyDomComponents).call(s,this),()=>{if(this.dirty){var c;a=ke(c=this._getDomComponentsSizes).call(c,this)()}},()=>{if(this.dirty){var c;ke(c=this._updateDomComponentsSizes).call(c,this)(a)}},ke(o=this._repaintDomAdditionals).call(o,this)];if(e)return l;{let c;return Qe(l).call(l,u=>{c=u()}),c}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom.box;e.parentNode&&e.parentNode.removeChild(e),this.displayed=!1}}repositionX(e){const r=this.parent.width;let i=this.conversion.toScreen(this.data.start),s=this.conversion.toScreen(this.data.end);const o=this.data.align===void 0?this.options.align:this.data.align;let a,l;this.data.limitSize!==!1&&(e===void 0||e===!0)&&(i<-r&&(i=-r),s>2*r&&(s=2*r));const c=Math.max(Math.round((s-i)*1e3)/1e3,1);switch(this.overflow?(this.options.rtl?this.right=i:this.left=i,this.width=c+this.props.content.width,l=this.props.content.width):(this.options.rtl?this.right=i:this.left=i,this.width=c,l=Math.min(s-i,this.props.content.width)),this.options.rtl?this.dom.box.style.transform="translateX(".concat(this.right*-1,"px)"):this.dom.box.style.transform="translateX(".concat(this.left,"px)"),this.dom.box.style.width="".concat(c,"px"),this.whiteSpace&&(this.height=this.dom.box.offsetHeight),o){case"left":this.dom.content.style.transform="translateX(0)";break;case"right":if(this.options.rtl){const u=Math.max(c-l,0)*-1;this.dom.content.style.transform="translateX(".concat(u,"px)")}else this.dom.content.style.transform="translateX(".concat(Math.max(c-l,0),"px)");break;case"center":if(this.options.rtl){const u=Math.max((c-l)/2,0)*-1;this.dom.content.style.transform="translateX(".concat(u,"px)")}else this.dom.content.style.transform="translateX(".concat(Math.max((c-l)/2,0),"px)");break;default:if(this.overflow?s>0?a=Math.max(-i,0):a=-l:i<0?a=-i:a=0,this.options.rtl){const u=a*-1;this.dom.content.style.transform="translateX(".concat(u,"px)")}else this.dom.content.style.transform="translateX(".concat(a,"px)")}}repositionY(){const e=this.options.orientation.item,r=this.dom.box;e=="top"?r.style.top="".concat(this.top,"px"):r.style.top="".concat(this.parent.height-this.top-this.height,"px")}_repaintDragLeft(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragLeft){const e=document.createElement("div");e.className="vis-drag-left",e.dragLeftItem=this,this.dom.box.appendChild(e),this.dom.dragLeft=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)}_repaintDragRight(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragRight){const e=document.createElement("div");e.className="vis-drag-right",e.dragRightItem=this,this.dom.box.appendChild(e),this.dom.dragRight=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)}}gu.prototype.baseClassName="vis-item vis-range";class Nu extends Sh{constructor(e,r,i){if(super(e,r,i),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error('Property "start" missing in item '.concat(e.id));if(e.end==null)throw new Error('Property "end" missing in item '.concat(e.id))}}isVisible(e){return this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);const e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+e}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.content).overflow!=="hidden",{content:{width:this.dom.content.offsetWidth}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=0,this.dirty=!1}_repaintDomAdditionals(){}redraw(e){var r,i,s,o;let a;const l=[ke(r=this._createDomElement).call(r,this),ke(i=this._appendDomElement).call(i,this),ke(s=this._updateDirtyDomComponents).call(s,this),()=>{if(this.dirty){var c;a=ke(c=this._getDomComponentsSizes).call(c,this)()}},()=>{if(this.dirty){var c;ke(c=this._updateDomComponentsSizes).call(c,this)(a)}},ke(o=this._repaintDomAdditionals).call(o,this)];if(e)return l;{let c;return Qe(l).call(l,u=>{c=u()}),c}}repositionY(){let e;const r=this.options.orientation.item;if(this.data.subgroup!==void 0){const i=this.data.subgroup;this.dom.box.style.height="".concat(this.parent.subgroups[i].height,"px"),r=="top"?this.dom.box.style.top="".concat(this.parent.top+this.parent.subgroups[i].top,"px"):this.dom.box.style.top="".concat(this.parent.top+this.parent.height-this.parent.subgroups[i].top-this.parent.subgroups[i].height,"px"),this.dom.box.style.bottom=""}else this.parent instanceof Mee?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom=r=="bottom"?"0":"",this.dom.box.style.top=r=="top"?"0":""):(e=this.parent.height,this.dom.box.style.top="".concat(this.parent.top,"px"),this.dom.box.style.bottom="");this.dom.box.style.height="".concat(e,"px")}}Nu.prototype.baseClassName="vis-item vis-background";Nu.prototype.stack=!1;Nu.prototype.show=gu.prototype.show;Nu.prototype.hide=gu.prototype.hide;Nu.prototype.repositionX=gu.prototype.repositionX;class Y3e{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=Ti(e),this.y=Ti(r)}setText(e){e instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(e)):this.frame.innerHTML=Q.xss(e)}show(e){if(e===void 0&&(e=!0),e===!0){var r=this.frame.clientHeight,i=this.frame.clientWidth,s=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,a=0,l=0;if(this.overflowMethod=="flip"||this.overflowMethod=="none"){let c=!1,u=!0;this.overflowMethod=="flip"&&(this.y-r<this.padding&&(u=!1),this.x+i>o-this.padding&&(c=!0)),c?a=this.x-i:a=this.x,u?l=this.y-r:l=this.y}else l=this.y-r,l+r+this.padding>s&&(l=s-r-this.padding),l<this.padding&&(l=this.padding),a=this.x,a+i+this.padding>o&&(a=o-i-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=l+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}}var EW={},DW;function V3e(){if(DW)return EW;DW=1;var n=st(),e=Hl().every,r=wh(),i=r("every");return n({target:"Array",proto:!0,forced:!i},{every:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),EW}var uD,PW;function K3e(){if(PW)return uD;PW=1,V3e();var n=jn();return uD=n("Array","every"),uD}var dD,IW;function X3e(){if(IW)return dD;IW=1;var n=mn(),e=K3e(),r=Array.prototype;return dD=function(i){var s=i.every;return i===r||n(r,i)&&s===r.every?e:s},dD}var fD,OW;function Q3e(){if(OW)return fD;OW=1;var n=X3e();return fD=n,fD}var hD,MW;function Z3e(){return MW||(MW=1,hD=Q3e()),hD}var J3e=Z3e(),e5e=ct(J3e);class Fw extends Sh{constructor(e,r,i){const s=Sa({},{fitOnDoubleClick:!0},i,{editable:!1});if(super(e,r,s),this.props={content:{width:0,height:0}},!e||e.uiItems==null)throw new Error('Property "uiItems" missing in item '+e.id);this.id=Kc(),this.group=e.group,this._setupRange(),this.emitter=this.data.eventEmitter,this.range=this.data.range,this.attached=!1,this.isCluster=!0,this.data.isCluster=!0}hasItems(){return this.data.uiItems&&this.data.uiItems.length&&this.attached}setUiItems(e){this.detach(),this.data.uiItems=e,this._setupRange(),this.attach()}isVisible(e){const r=this.data.end?this.data.end-this.data.start:0,i=this.width*e.getMillisecondsPerPixel(),s=Math.max(this.data.start.getTime()+r,this.data.start.getTime()+i);return this.data.start<e.end&&s>e.start&&this.hasItems()}getData(){return{isCluster:!0,id:this.id,items:this.data.items||[],data:this.data}}redraw(e){var r,i,s,o,a,l,c,u=[ke(r=this._createDomElement).call(r,this),ke(i=this._appendDomElement).call(i,this),ke(s=this._updateDirtyDomComponents).call(s,this),ke(o=function(){this.dirty&&(c=this._getDomComponentsSizes())}).call(o,this),ke(a=function(){if(this.dirty){var d;ke(d=this._updateDomComponentsSizes).call(d,this)(c)}}).call(a,this),ke(l=this._repaintDomAdditionals).call(l,this)];if(e)return u;var f;return Qe(u).call(u,function(d){f=d()}),f}show(){this.displayed||this.redraw()}hide(){if(this.displayed){var e=this.dom;e.box.parentNode&&e.box.parentNode.removeChild(e.box),this.options.showStipes&&(e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot)),this.displayed=!1}}repositionX(){let e=this.conversion.toScreen(this.data.start),r=this.data.end?this.conversion.toScreen(this.data.end):0;if(r)this.repositionXWithRanges(e,r);else{let i=this.data.align===void 0?this.options.align:this.data.align;this.repositionXWithoutRanges(e,i)}this.options.showStipes&&(this.dom.line.style.display=this._isStipeVisible()?"block":"none",this.dom.dot.style.display=this._isStipeVisible()?"block":"none",this._isStipeVisible()&&this.repositionStype(e,r))}repositionStype(e,r){this.dom.line.style.display="block",this.dom.dot.style.display="block";const i=this.dom.line.offsetWidth,s=this.dom.dot.offsetWidth;if(r){const o=i+e+(r-e)/2,a=o-s/2,l=this.options.rtl?o*-1:o,c=this.options.rtl?a*-1:a;this.dom.line.style.transform="translateX(".concat(l,"px)"),this.dom.dot.style.transform="translateX(".concat(c,"px)")}else{const o=this.options.rtl?e*-1:e,a=this.options.rtl?(e-s/2)*-1:e-s/2;this.dom.line.style.transform="translateX(".concat(o,"px)"),this.dom.dot.style.transform="translateX(".concat(a,"px)")}}repositionXWithoutRanges(e,r){r=="right"?this.options.rtl?(this.right=e-this.width,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width,this.dom.box.style.left=this.left+"px"):r=="left"?this.options.rtl?(this.right=e,this.dom.box.style.right=this.right+"px"):(this.left=e,this.dom.box.style.left=this.left+"px"):this.options.rtl?(this.right=e-this.width/2,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width/2,this.dom.box.style.left=this.left+"px")}repositionXWithRanges(e,r){let i=Math.round(Math.max(r-e+.5,1));this.options.rtl?this.right=e:this.left=e,this.width=Math.max(i,this.minWidth||0),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=i+"px"}repositionY(){var e=this.options.orientation.item,r=this.dom.box;if(e=="top"?r.style.top=(this.top||0)+"px":r.style.top=(this.parent.height-this.top-this.height||0)+"px",this.options.showStipes){if(e=="top")this.dom.line.style.top="0",this.dom.line.style.height=this.parent.top+this.top+1+"px",this.dom.line.style.bottom="";else{var i=this.parent.itemSet.props.height,s=i-this.parent.top-this.parent.height+this.top;this.dom.line.style.top=i-s+"px",this.dom.line.style.bottom="0"}this.dom.dot.style.top=-this.dom.dot.offsetHeight/2+"px"}}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}move(){this.repositionX(),this.repositionY()}attach(){var e;for(let r of this.data.uiItems)r.cluster=this;this.data.items=Vt(e=this.data.uiItems).call(e,r=>r.data),this.attached=!0,this.dirty=!0}detach(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.hasItems()){for(let r of this.data.uiItems)delete r.cluster;this.attached=!1,e&&this.group&&(this.group.remove(this),this.group=null),this.data.items=[],this.dirty=!0}}_onDoubleClick(){this._fit()}_setupRange(){var e,r,i;const s=Vt(e=this.data.uiItems).call(e,l=>({start:l.data.start.valueOf(),end:l.data.end?l.data.end.valueOf():l.data.start.valueOf()}));this.data.min=Math.min(...Vt(s).call(s,l=>Math.min(l.start,l.end||l.start))),this.data.max=Math.max(...Vt(s).call(s,l=>Math.max(l.start,l.end||l.start)));const o=Vt(r=this.data.uiItems).call(r,l=>l.center),a=Rw(o).call(o,(l,c)=>l+c,0)/this.data.uiItems.length;IR(i=this.data.uiItems).call(i,l=>l.data.end)?(this.data.start=new Date(this.data.min),this.data.end=new Date(this.data.max)):(this.data.start=new Date(a),this.data.end=null)}_getUiItems(){if(this.data.uiItems&&this.data.uiItems.length){var e;return dt(e=this.data.uiItems).call(e,r=>r.cluster===this)}return[]}_createDomElement(){if(!this.dom){if(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.options.showStipes&&(this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-cluster-line",this.dom.line.style.display="none",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-cluster-dot",this.dom.dot.style.display="none"),this.options.fitOnDoubleClick){var e;this.dom.box.ondblclick=ke(e=Fw.prototype._onDoubleClick).call(e,this)}this.dom.box["vis-item"]=this,this.dirty=!0}}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const i=this.parent.dom.foreground;if(!i)throw new Error("Cannot redraw item: parent has no foreground container element");i.appendChild(this.dom.box)}const e=this.parent.dom.background;if(this.options.showStipes){if(!this.dom.line.parentNode){if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var r=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");r.appendChild(this.dom.dot)}}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.baseClassName+" "+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+" vis-readonly";this.dom.box.className="vis-item "+e,this.options.showStipes&&(this.dom.line.className="vis-item vis-cluster-line "+(this.selected?" vis-selected":""),this.dom.dot.className="vis-item vis-cluster-dot "+(this.selected?" vis-selected":"")),this.data.end&&(this.dom.content.style.maxWidth="none")}}_getDomComponentsSizes(){const e={previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}};return this.options.showStipes&&(e.dot={height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},e.line={width:this.dom.line.offsetWidth}),e}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.data.end?this.minWidth=e.box.width:this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box)}_isStipeVisible(){return this.minWidth>=this.width||!this.data.end}_getFitRange(){const e=.05*(this.data.max-this.data.min)/2;return{fitStart:this.data.min-e,fitEnd:this.data.max+e}}_fit(){if(this.emitter){const{fitStart:e,fitEnd:r}=this._getFitRange(),i={start:new Date(e),end:new Date(r),animation:!0};this.emitter.emit("fit",i)}}_getItemData(){return this.data}}Fw.prototype.baseClassName="vis-item vis-range vis-cluster";const t5e="__ungrouped__",n5e={UNGROUPED:t5e};class r5e{constructor(e){this.itemSet=e,this.groups={},this.cache={},this.cache[-1]=[]}createClusterItem(e,r,i){return new Fw(e,r,i)}setItems(e,r){this.items=e||[],this.dataChanged=!0,this.applyOnChangedLevel=!1,r&&r.applyOnChangedLevel&&(this.applyOnChangedLevel=r.applyOnChangedLevel)}updateData(){this.dataChanged=!0,this.applyOnChangedLevel=!1}getClusters(e,r,i){let{maxItems:s,clusterCriteria:o}=typeof i=="boolean"?{}:i;o||(o=()=>!0),s=s||1;let a=-1,l=2,c=0;if(r>0){if(r>=1)return[];a=Math.abs(Math.round(Math.log(100/r)/Math.log(l))),c=Math.abs(Math.pow(l,a))}if(this.dataChanged){const f=a!=this.cacheLevel;(this.applyOnChangedLevel?f:!0)&&(this._dropLevelsCache(),this._filterData())}this.cacheLevel=a;let u=this.cache[a];if(!u){u=[];for(let f in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,f))continue;const d=this.groups[f],h=d.length;let p=0;for(;p<h;){let g=d[p],v=1,y=p-1;for(;y>=0&&g.center-d[y].center<c/2;)!d[y].cluster&&o(g.data,d[y].data)&&v++,y--;let b=p+1;for(;b<d.length&&d[b].center-g.center<c/2;)o(g.data,d[b].data)&&v++,b++;let w=u.length-1;for(;w>=0&&g.center-u[w].center<c;)g.group==u[w].group&&o(g.data,u[w].data)&&v++,w--;if(v>s){const k=v-s+1,_=[];let S=p;for(;_.length<k&&S<d.length;)o(d[p].data,d[S].data)&&_.push(d[S]),S++;const C=this.itemSet.getGroupId(g.data),T=this.itemSet.groups[C]||this.itemSet.groups[n5e.UNGROUPED];let D=this._getClusterForItems(_,T,e,i);u.push(D),p+=k}else delete g.cluster,p+=1}}this.cache[a]=u}return u}_filterData(){const e={};this.groups=e;for(const i of cR(this.items)){const s=i.parent?i.parent.groupId:"";let o=e[s];o||(o=[],e[s]=o),o.push(i),i.data.start&&(i.data.end?i.center=(i.data.start.valueOf()+i.data.end.valueOf())/2:i.center=i.data.start.valueOf())}for(let i in e){var r;Object.prototype.hasOwnProperty.call(e,i)&&qn(r=e[i]).call(r,(s,o)=>s.center-o.center)}this.dataChanged=!1}_getClusterForItems(e,r,i,s){var o;const a=Vt(o=i||[]).call(o,g=>{var v;return{cluster:g,itemsIds:new Il(Vt(v=g.data.uiItems).call(v,y=>y.id))}});let l;if(a.length){for(let g of a)if(g.itemsIds.size===e.length&&e5e(e).call(e,v=>g.itemsIds.has(v.id))){l=g.cluster;break}}if(l)return l.setUiItems(e),l.group!==r&&(l.group&&l.group.remove(l),r&&(r.add(l),l.group=r)),l;let c=s.titleTemplate||"";const u={toScreen:this.itemSet.body.util.toScreen,toTime:this.itemSet.body.util.toTime},f=c.replace(/{count}/,e.length),d='<div title="'+f+'">'+e.length+"</div>",h=Sa({},s,this.itemSet.options),p={content:d,title:f,group:r,uiItems:e,eventEmitter:this.itemSet.body.emitter,range:this.itemSet.body.range};return l=this.createClusterItem(p,u,h),r&&(r.add(l),l.group=r),l.attach(),l}_dropLevelsCache(){this.cache={},this.cacheLevel=-1,this.cache[this.cacheLevel]=[]}}const Ku="__ungrouped__",Ua="__background__";class bu extends Vl{constructor(e,r){super(),this.body=e,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap(s,o){const a=o.order;o.order=s.order,s.order=a},groupOrder:"order",selectable:!0,multiselect:!1,longSelectPressTime:251,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:mu.snap,onDropObjectOnItem(s,o,a){a(o)},onAdd(s,o){o(s)},onUpdate(s,o){o(s)},onMove(s,o){o(s)},onRemove(s,o){o(s)},onMoving(s,o){o(s)},onAddGroup(s,o){o(s)},onMoveGroup(s,o){o(s)},onRemoveGroup(s,o){o(s)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:500},tooltipOnItemUpdateTime:!1},this.options=Q.extend({},this.defaultOptions),this.options.rtl=r.rtl,this.options.onTimeout=r.onTimeout,this.conversion={toScreen:e.util.toScreen,toTime:e.util.toTime},this.dom={},this.props={},this.hammer=null;const i=this;this.itemsData=null,this.groupsData=null,this.itemsSettingTime=null,this.initialItemSetDrawn=!1,this.userContinueNotBail=null,this.sequentialSelection=!1,this.itemListeners={add(s,o){i._onAdd(o.items),i.options.cluster&&i.clusterGenerator.setItems(i.items,{applyOnChangedLevel:!1}),i.redraw()},update(s,o){i._onUpdate(o.items),i.options.cluster&&i.clusterGenerator.setItems(i.items,{applyOnChangedLevel:!1}),i.redraw()},remove(s,o){i._onRemove(o.items),i.options.cluster&&i.clusterGenerator.setItems(i.items,{applyOnChangedLevel:!1}),i.redraw()}},this.groupListeners={add(s,o,a){if(i._onAddGroups(o.items),i.groupsData&&i.groupsData.length>0){var l;const c=i.groupsData.getDataSet();Qe(l=c.get()).call(l,u=>{if(u.nestedGroups){var f;u.showNested!=!1&&(u.showNested=!0);let d=[];Qe(f=u.nestedGroups).call(f,h=>{const p=c.get(h);p&&(p.nestedInGroup=u.id,u.showNested==!1&&(p.visible=!1),d=$n(d).call(d,p))}),c.update(d,a)}})}},update(s,o){i._onUpdateGroups(o.items)},remove(s,o){i._onRemoveGroups(o.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.popupTimer=null,this.touchParams={},this.groupTouchParams={group:null,isDragging:!1},this._create(),this.setOptions(r),this.clusters=[]}_create(){var e,r,i,s,o,a,l,c,u,f,d,h,p,g,v;const y=document.createElement("div");y.className="vis-itemset",y["vis-itemset"]=this,this.dom.frame=y;const b=document.createElement("div");b.className="vis-background",y.appendChild(b),this.dom.background=b;const w=document.createElement("div");w.className="vis-foreground",y.appendChild(w),this.dom.foreground=w;const k=document.createElement("div");k.className="vis-axis",this.dom.axis=k;const _=document.createElement("div");_.className="vis-labelset",this.dom.labelSet=_,this._updateUngrouped();const S=new Mee(Ua,null,this);S.show(),this.groups[Ua]=S,this.hammer=new zr(this.body.dom.centerContainer),this.hammer.on("hammer.input",C=>{C.isFirst&&this._onTouch(C)}),this.hammer.on("panstart",ke(e=this._onDragStart).call(e,this)),this.hammer.on("panmove",ke(r=this._onDrag).call(r,this)),this.hammer.on("panend",ke(i=this._onDragEnd).call(i,this)),this.hammer.get("pan").set({threshold:5,direction:zr.ALL}),this.hammer.get("press").set({time:1e4}),this.hammer.on("tap",ke(s=this._onSelectItem).call(s,this)),this.hammer.on("press",ke(o=this._onMultiSelectItem).call(o,this)),this.hammer.get("press").set({time:1e4}),this.hammer.on("doubletap",ke(a=this._onAddItem).call(a,this)),this.options.rtl?this.groupHammer=new zr(this.body.dom.rightContainer):this.groupHammer=new zr(this.body.dom.leftContainer),this.groupHammer.on("tap",ke(l=this._onGroupClick).call(l,this)),this.groupHammer.on("panstart",ke(c=this._onGroupDragStart).call(c,this)),this.groupHammer.on("panmove",ke(u=this._onGroupDrag).call(u,this)),this.groupHammer.on("panend",ke(f=this._onGroupDragEnd).call(f,this)),this.groupHammer.get("pan").set({threshold:5,direction:zr.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",ke(d=this._onMouseOver).call(d,this)),this.body.dom.centerContainer.addEventListener("mouseout",ke(h=this._onMouseOut).call(h,this)),this.body.dom.centerContainer.addEventListener("mousemove",ke(p=this._onMouseMove).call(p,this)),this.body.dom.centerContainer.addEventListener("contextmenu",ke(g=this._onDragEnd).call(g,this)),this.body.dom.centerContainer.addEventListener("mousewheel",ke(v=this._onMouseWheel).call(v,this)),this.show()}setOptions(e){if(e){var r,i;const s=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","sequentialSelection","multiselectPerGroup","longSelectPressTime","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime","groupHeightMode","onTimeout"];Q.selectiveExtend(s,this.options,e),"itemsAlwaysDraggable"in e&&(typeof e.itemsAlwaysDraggable=="boolean"?(this.options.itemsAlwaysDraggable.item=e.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):typeof e.itemsAlwaysDraggable=="object"&&(Q.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,e.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"sequentialSelection"in e&&typeof e.sequentialSelection=="boolean"&&(this.options.sequentialSelection=e.sequentialSelection),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.item=e.orientation==="top"?"top":"bottom":typeof e.orientation=="object"&&"item"in e.orientation&&(this.options.orientation.item=e.orientation.item)),"margin"in e&&(typeof e.margin=="number"?(this.options.margin.axis=e.margin,this.options.margin.item.horizontal=e.margin,this.options.margin.item.vertical=e.margin):typeof e.margin=="object"&&(Q.selectiveExtend(["axis"],this.options.margin,e.margin),"item"in e.margin&&(typeof e.margin.item=="number"?(this.options.margin.item.horizontal=e.margin.item,this.options.margin.item.vertical=e.margin.item):typeof e.margin.item=="object"&&Q.selectiveExtend(["horizontal","vertical"],this.options.margin.item,e.margin.item)))),Qe(r=["locale","locales"]).call(r,a=>{a in e&&(this.options[a]=e[a])}),"editable"in e&&(typeof e.editable=="boolean"?(this.options.editable.updateTime=e.editable,this.options.editable.updateGroup=e.editable,this.options.editable.add=e.editable,this.options.editable.remove=e.editable,this.options.editable.overrideItems=!1):typeof e.editable=="object"&&Q.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,e.editable)),"groupEditable"in e&&(typeof e.groupEditable=="boolean"?(this.options.groupEditable.order=e.groupEditable,this.options.groupEditable.add=e.groupEditable,this.options.groupEditable.remove=e.groupEditable):typeof e.groupEditable=="object"&&Q.selectiveExtend(["order","add","remove"],this.options.groupEditable,e.groupEditable));const o=a=>{const l=e[a];if(l){if(typeof l!="function"){var c;throw new Error($n(c="option ".concat(a," must be a function ")).call(c,a,"(item, callback)"))}this.options[a]=l}};Qe(i=["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"]).call(i,o),e.cluster?(Sa(this.options,{cluster:e.cluster}),this.clusterGenerator||(this.clusterGenerator=new r5e(this)),this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.clusterGenerator?(this._detachAllClusters(),this.clusters=[],this.clusterGenerator=null,this.options.cluster=void 0,this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.markDirty()}}markDirty(e){this.groupIds=[],e&&(e.refreshItems&&Qe(Q).call(Q,this.items,r=>{r.dirty=!0,r.displayed&&r.redraw()}),e.restackGroups&&Qe(Q).call(Q,this.groups,(r,i)=>{i!==Ua&&(r.stackDirty=!0)}))}destroy(){this.clearPopupTimer(),this.hide(),this.setItems(null),this.setGroups(null),this.hammer&&this.hammer.destroy(),this.groupHammer&&this.groupHammer.destroy(),this.hammer=null,this.body=null,this.conversion=null}hide(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)}show(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))}setPopupTimer(e){if(this.clearPopupTimer(),e){const r=this.options.tooltip.delay||typeof this.options.tooltip.delay=="number"?this.options.tooltip.delay:500;this.popupTimer=Pr(function(){e.show()},r)}}clearPopupTimer(){this.popupTimer!=null&&(clearTimeout(this.popupTimer),this.popupTimer=null)}setSelection(e){var r;e==null&&(e=[]),Et(e)||(e=[e]);const i=dt(r=this.selection).call(r,s=>tn(e).call(e,s)===-1);for(let s of i){const o=this.getItemById(s);o&&o.unselect()}this.selection=[...e];for(let s of e){const o=this.getItemById(s);o&&o.select()}}getSelection(){var e;return $n(e=this.selection).call(e,[])}getVisibleItems(){const e=this.body.range.getRange();let r,i;this.options.rtl?(r=this.body.util.toScreen(e.start),i=this.body.util.toScreen(e.end)):(i=this.body.util.toScreen(e.start),r=this.body.util.toScreen(e.end));const s=[];for(const o in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,o))continue;const a=this.groups[o],l=a.isVisible?a.visibleItems:[];for(const c of l)this.options.rtl?c.right<i&&c.right+c.width>r&&s.push(c.id):c.left<r&&c.left+c.width>i&&s.push(c.id)}return s}getItemsAtCurrentTime(e){let r,i;this.options.rtl?(r=this.body.util.toScreen(e),i=this.body.util.toScreen(e)):(i=this.body.util.toScreen(e),r=this.body.util.toScreen(e));const s=[];for(const o in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,o))continue;const a=this.groups[o],l=a.isVisible?a.visibleItems:[];for(const c of l)this.options.rtl?c.right<i&&c.right+c.width>r&&s.push(c.id):c.left<r&&c.left+c.width>i&&s.push(c.id)}return s}getVisibleGroups(){const e=[];for(const r in this.groups){if(!Object.prototype.hasOwnProperty.call(this.groups,r))continue;this.groups[r].isVisible&&e.push(r)}return e}getItemById(e){var r;return this.items[e]||N3e(r=this.clusters).call(r,i=>i.id===e)}_deselect(e){const r=this.selection;for(let i=0,s=r.length;i<s;i++)if(r[i]==e){Ur(r).call(r,i,1);break}}redraw(){const e=this.options.margin,r=this.body.range,i=Q.option.asSize,s=this.options,o=s.orientation.item;let a=!1;const l=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,l.className="vis-itemset",this.options.cluster&&this._clusterItems(),a=this._orderGroups()||a;const c=r.end-r.start,u=c!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,f=r.start!=this.lastRangeStart,d=s.stack!=this.lastStack,h=s.stackSubgroups!=this.lastStackSubgroups,p=u||f||d||h;this.lastVisibleInterval=c,this.lastRangeStart=r.start,this.lastStack=s.stack,this.lastStackSubgroups=s.stackSubgroups,this.props.lastWidth=this.props.width;const g=this._firstGroup(),v={item:e.item,axis:e.axis},y={item:e.item,axis:e.item.vertical/2};let b=0;const w=e.axis+e.item.vertical;this.groups[Ua].redraw(r,y,p);const k={};let _=0;if(Qe(Q).call(Q,this.groups,(C,T)=>{if(T===Ua)return;const D=C==g?v:y,O=!0;k[T]=C.redraw(r,D,p,O),_=k[T].length}),_>0){const C={};for(let T=0;T<_;T++)Qe(Q).call(Q,k,(D,O)=>{C[O]=D[T]()});Qe(Q).call(Q,this.groups,(T,D)=>{if(D===Ua)return;a=C[D]||a,b+=T.height}),b=Math.max(b,w)}return b=Math.max(b,w),l.style.height=i(b),this.props.width=l.offsetWidth,this.props.height=b,this.dom.axis.style.top=i(o=="top"?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.hammer.get("press").set({time:this.options.longSelectPressTime}),this.initialItemSetDrawn=!0,a=this._isResized()||a,a}_firstGroup(){const e=this.options.orientation.item=="top"?0:this.groupIds.length-1,r=this.groupIds[e];return this.groups[r]||this.groups[Ku]||null}_updateUngrouped(){let e=this.groups[Ku],r,i;if(this.groupsData){if(e){e.dispose(),delete this.groups[Ku];for(i in this.items){if(!Object.prototype.hasOwnProperty.call(this.items,i))continue;r=this.items[i],r.parent&&r.parent.remove(r);const s=this.getGroupId(r.data),o=this.groups[s];o&&o.add(r)||r.hide()}}}else if(!e){e=new VI(null,null,this),this.groups[Ku]=e;for(i in this.items)Object.prototype.hasOwnProperty.call(this.items,i)&&(r=this.items[i],e.add(r));e.show()}}getLabelSet(){return this.dom.labelSet}setItems(e){this.itemsSettingTime=new Date;const r=this;let i;const s=this.itemsData;if(!e)this.itemsData=null;else if(ka(e))this.itemsData=Gf(e);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(s&&(Qe(Q).call(Q,this.itemListeners,(o,a)=>{s.off(a,o)}),s.dispose(),i=s.getIds(),this._onRemove(i)),this.itemsData){const o=this.id;Qe(Q).call(Q,this.itemListeners,(a,l)=>{r.itemsData.on(l,a,o)}),i=this.itemsData.getIds(),this._onAdd(i),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})}getItems(){return this.itemsData!=null?this.itemsData.rawDS:null}setGroups(e){const r=this;let i;if(this.groupsData&&(Qe(Q).call(Q,this.groupListeners,(o,a)=>{r.groupsData.off(a,o)}),i=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(i)),!e)this.groupsData=null;else if(ka(e))this.groupsData=e;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){var s;const o=this.groupsData.getDataSet();Qe(s=o.get()).call(s,l=>{if(l.nestedGroups){var c;Qe(c=l.nestedGroups).call(c,u=>{const f=o.get(u);f.nestedInGroup=l.id,l.showNested==!1&&(f.visible=!1),o.update(f)})}});const a=this.id;Qe(Q).call(Q,this.groupListeners,(l,c)=>{r.groupsData.on(c,l,a)}),i=this.groupsData.getIds(),this._onAddGroups(i)}this._updateUngrouped(),this._order(),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems(),this.markDirty({refreshItems:!0,restackGroups:!0})),this.body.emitter.emit("_change",{queue:!0})}getGroups(){return this.groupsData}removeItem(e){const r=this.itemsData.get(e);r&&this.options.onRemove(r,i=>{i&&this.itemsData.remove(e)})}_getType(e){return e.type||this.options.type||(e.end?"range":"box")}getGroupId(e){return this._getType(e)=="background"&&e.group==null?Ua:this.groupsData?e.group:Ku}_onUpdate(e){const r=this;Qe(e).call(e,i=>{const s=r.itemsData.get(i);let o=r.items[i];const a=s?r._getType(s):null,l=bu.types[a];let c;if(o&&(!l||!(o instanceof l)?(c=o.selected,r._removeItem(o),o=null):r._updateItem(o,s)),!o&&s)if(l)o=new l(s,r.conversion,r.options),o.id=i,r._addItem(o),c&&(this.selection.push(i),o.select());else throw new TypeError('Unknown item type "'.concat(a,'"'))}),this._order(),this.options.cluster&&(this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this._clusterItems()),this.body.emitter.emit("_change",{queue:!0})}_onRemove(e){let r=0;const i=this;Qe(e).call(e,s=>{const o=i.items[s];o&&(r++,i._removeItem(o))}),r&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))}_order(){Qe(Q).call(Q,this.groups,e=>{e.order()})}_onUpdateGroups(e){this._onAddGroups(e)}_onAddGroups(e){const r=this;Qe(e).call(e,i=>{const s=r.groupsData.get(i);let o=r.groups[i];if(o)o.setData(s);else{if(i==Ku||i==Ua)throw new Error("Illegal group id. ".concat(i," is a reserved id."));const a=l0(r.options);Q.extend(a,{height:null}),o=new VI(i,s,r),r.groups[i]=o;for(const l in r.items){if(!Object.prototype.hasOwnProperty.call(r.items,l))continue;const c=r.items[l];c.data.group==i&&o.add(c)}o.order(),o.show()}}),this.body.emitter.emit("_change",{queue:!0})}_onRemoveGroups(e){Qe(e).call(e,r=>{const i=this.groups[r];i&&(i.dispose(),delete this.groups[r])}),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems()),this.markDirty({restackGroups:!!this.options.cluster}),this.body.emitter.emit("_change",{queue:!0})}_orderGroups(){if(this.groupsData){let e=this.groupsData.getIds({order:this.options.groupOrder});e=this._orderNestedGroups(e);const r=!Q.equalArray(e,this.groupIds);if(r){const i=this.groups;Qe(e).call(e,s=>{i[s].hide()}),Qe(e).call(e,s=>{i[s].show()}),this.groupIds=e}return r}else return!1}_orderNestedGroups(e){function r(s,o){let a=[];return Qe(o).call(o,l=>{if(a.push(l),s.groupsData.get(l).nestedGroups){var u;const f=Vt(u=s.groupsData.get({filter(d){return d.nestedInGroup==l},order:s.options.groupOrder})).call(u,d=>d.id);a=$n(a).call(a,r(s,f))}}),a}const i=dt(e).call(e,s=>!this.groupsData.get(s).nestedInGroup);return r(this,i)}_addItem(e){this.items[e.id]=e;const r=this.getGroupId(e.data),i=this.groups[r];i?i&&i.data&&i.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1,i&&i.add(e)}_updateItem(e,r){e.setData(r);const i=this.getGroupId(e.data),s=this.groups[i];s?s&&s.data&&s.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1}_removeItem(e){var r,i;e.hide(),delete this.items[e.id];const s=tn(r=this.selection).call(r,e.id);s!=-1&&Ur(i=this.selection).call(i,s,1),e.parent&&e.parent.remove(e),this.popup!=null&&this.popup.hide()}_constructByEndArray(e){const r=[];for(let i=0;i<e.length;i++)e[i]instanceof gu&&r.push(e[i]);return r}_onTouch(e){this.touchParams.item=this.itemFromTarget(e),this.touchParams.dragLeftItem=e.target.dragLeftItem||!1,this.touchParams.dragRightItem=e.target.dragRightItem||!1,this.touchParams.itemProps=null}_getGroupIndex(e){for(let r=0;r<this.groupIds.length;r++)if(e==this.groupIds[r])return r}_onDragStart(e){if(this.touchParams.itemIsDragging)return;const r=this.touchParams.item||null,i=this;let s;if(r&&(r.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup||r.editable!=null&&!r.editable.updateTime&&!r.editable.updateGroup&&!this.options.editable.overrideItems)return;const o=this.touchParams.dragLeftItem,a=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=r,o)s={item:o,initialX:e.center.x,dragLeft:!0,data:this._cloneItemData(r.data)},this.touchParams.itemProps=[s];else if(a)s={item:a,initialX:e.center.x,dragRight:!0,data:this._cloneItemData(r.data)},this.touchParams.itemProps=[s];else if(this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey))this._onDragStartAddItem(e);else{this.groupIds.length<1&&this.redraw();const l=this._getGroupIndex(r.data.group),c=this.options.itemsAlwaysDraggable.item&&!r.selected?[r.id]:this.getSelection();this.touchParams.itemProps=Vt(c).call(c,u=>{const f=i.items[u],d=i._getGroupIndex(f.data.group);return{item:f,initialX:e.center.x,groupOffset:l-d,data:this._cloneItemData(f.data)}})}e.stopPropagation()}else this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey)&&this._onDragStartAddItem(e)}_onDragStartAddItem(e){const r=this.options.snap||null,i=this.dom.frame.getBoundingClientRect(),s=this.options.rtl?i.right-e.center.x+10:e.center.x-i.left-10,o=this.body.util.toTime(s),a=this.body.util.getScale(),l=this.body.util.getStep(),c=r?r(o,a,l):o,f={type:"range",start:c,end:c,content:"new item"},d=Kc();f[this.itemsData.idProp]=d;const h=this.groupFromTarget(e);h&&(f.group=h.groupId);const p=new gu(f,this.conversion,this.options);p.id=d,p.data=this._cloneItemData(f),this._addItem(p),this.touchParams.selectedItem=p;const g={item:p,initialX:e.center.x,data:p.data};this.options.rtl?g.dragLeft=!0:g.dragRight=!0,this.touchParams.itemProps=[g],e.stopPropagation()}_onDrag(e){if(this.popup!=null&&this.options.showTooltips&&!this.popup.hidden){const i=this.body.dom.centerContainer,s=i.getBoundingClientRect();this.popup.setPosition(e.center.x-s.left+i.offsetLeft,e.center.y-s.top+i.offsetTop),this.popup.show()}if(this.touchParams.itemProps){var r;e.stopPropagation();const i=this,s=this.options.snap||null,o=this.body.dom.root.offsetLeft,a=this.options.rtl?o+this.body.domProps.right.width:o+this.body.domProps.left.width,l=this.body.util.getScale(),c=this.body.util.getStep(),u=this.touchParams.selectedItem,f=(this.options.editable.overrideItems||u.editable==null)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&u.editable!=null&&u.editable.updateGroup;let d=null;if(f&&u&&u.data.group!=null){const h=i.groupFromTarget(e);h&&(d=this._getGroupIndex(h.groupId))}Qe(r=this.touchParams.itemProps).call(r,h=>{const p=i.body.util.toTime(e.center.x-a),g=i.body.util.toTime(h.initialX-a);let v,y,b,w,k;this.options.rtl?v=-(p-g):v=p-g;let _=this._cloneItemData(h.item.data);if(h.item.editable!=null&&!h.item.editable.updateTime&&!h.item.editable.updateGroup&&!i.options.editable.overrideItems)return;if((this.options.editable.overrideItems||u.editable==null)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&u.editable!=null&&u.editable.updateTime){if(h.dragLeft)this.options.rtl?_.end!=null&&(b=Q.convert(h.data.end,"Date"),k=new Date(b.valueOf()+v),_.end=s?s(k,l,c):k):_.start!=null&&(y=Q.convert(h.data.start,"Date"),w=new Date(y.valueOf()+v),_.start=s?s(w,l,c):w);else if(h.dragRight)this.options.rtl?_.start!=null&&(y=Q.convert(h.data.start,"Date"),w=new Date(y.valueOf()+v),_.start=s?s(w,l,c):w):_.end!=null&&(b=Q.convert(h.data.end,"Date"),k=new Date(b.valueOf()+v),_.end=s?s(k,l,c):k);else if(_.start!=null)if(y=Q.convert(h.data.start,"Date").valueOf(),w=new Date(y+v),_.end!=null){b=Q.convert(h.data.end,"Date");const C=b.valueOf()-y.valueOf();_.start=s?s(w,l,c):w,_.end=new Date(_.start.valueOf()+C)}else _.start=s?s(w,l,c):w}if(f&&!h.dragLeft&&!h.dragRight&&d!=null&&_.group!=null){let C=d-h.groupOffset;C=Math.max(0,C),C=Math.min(i.groupIds.length-1,C),_.group=i.groupIds[C]}_=this._cloneItemData(_),i.options.onMoving(_,C=>{C&&h.item.setData(this._cloneItemData(C,"Date"))})}),this.body.emitter.emit("_change")}}_moveToGroup(e,r){const i=this.groups[r];if(i&&i.groupId!=e.data.group){const s=e.parent;s.remove(e),s.order(),e.data.group=i.groupId,i.add(e),i.order()}}_onDragEnd(e){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){e.stopPropagation();const r=this,i=this.touchParams.itemProps;this.touchParams.itemProps=null,Qe(i).call(i,s=>{const o=s.item.id;if(!(r.itemsData.get(o)!=null))r.options.onAdd(s.item.data,l=>{r._removeItem(s.item),l&&r.itemsData.add(l),r.body.emitter.emit("_change")});else{const l=this._cloneItemData(s.item.data);r.options.onMove(l,c=>{c?(c[this.itemsData.idProp]=o,this.itemsData.update(c)):(s.item.setData(s.data),r.body.emitter.emit("_change"))})}})}}_onGroupClick(e){const r=this.groupFromTarget(e);Pr(()=>{this.toggleGroupShowNested(r)},1)}toggleGroupShowNested(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(!e||!e.nestedGroups)return;const i=this.groupsData.getDataSet();r!=null?e.showNested=!!r:e.showNested=!e.showNested;let s=i.get(e.groupId);s.showNested=e.showNested;let o=e.nestedGroups,a=o;for(;a.length>0;){let f=a;a=[];for(let d=0;d<f.length;d++){let h=i.get(f[d]);h.nestedGroups&&(a=$n(a).call(a,h.nestedGroups))}a.length>0&&(o=$n(o).call(o,a))}var l;if(s.showNested){var c=i.get(s.nestedGroups);for(let f=0;f<c.length;f++){let d=c[f];d.nestedGroups&&d.nestedGroups.length>0&&(d.showNested==null||d.showNested==!0)&&c.push(...i.get(d.nestedGroups))}l=Vt(c).call(c,function(f){return f.visible==null&&(f.visible=!0),f.visible=!!s.showNested,f})}else{var u;l=Vt(u=i.get(o)).call(u,function(f){return f.visible==null&&(f.visible=!0),f.visible=!!s.showNested,f})}i.update($n(l).call(l,s)),s.showNested?(Q.removeClassName(e.dom.label,"collapsed"),Q.addClassName(e.dom.label,"expanded")):(Q.removeClassName(e.dom.label,"expanded"),Q.addClassName(e.dom.label,"collapsed"))}toggleGroupDragClassName(e){e.dom.label.classList.toggle("vis-group-is-dragging"),e.dom.foreground.classList.toggle("vis-group-is-dragging")}_onGroupDragStart(e){this.groupTouchParams.isDragging||this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(e),this.groupTouchParams.group&&(e.stopPropagation(),this.groupTouchParams.isDragging=!0,this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))}_onGroupDrag(e){if(this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const r=this.groupsData.getDataSet(),i=this.groupFromTarget(e);if(i&&i.height!=this.groupTouchParams.group.height){const s=i.top<this.groupTouchParams.group.top,o=e.center?e.center.y:e.clientY,a=i.dom.foreground.getBoundingClientRect(),l=this.groupTouchParams.group.height;if(s){if(a.top+l<o)return}else{const c=i.height;if(a.top+c-l>o)return}}if(i&&i!=this.groupTouchParams.group){const s=r.get(i.groupId),o=r.get(this.groupTouchParams.group.groupId);o&&s&&(this.options.groupOrderSwap(o,s,r),r.update(o),r.update(s));const a=r.getIds({order:this.options.groupOrder});if(!Q.equalArray(a,this.groupTouchParams.originalOrder)){const l=this.groupTouchParams.originalOrder,c=this.groupTouchParams.group.groupId,u=Math.min(l.length,a.length);let f=0,d=0,h=0;for(;f<u;){for(;f+d<u&&f+h<u&&a[f+d]==l[f+h];)f++;if(f+d>=u)break;if(a[f+d]==c)d=1;else if(l[f+h]==c)h=1;else{const p=tn(a).call(a,l[f+h]),g=r.get(a[f+d]),v=r.get(l[f+h]);this.options.groupOrderSwap(g,v,r),r.update(g),r.update(v);const y=a[f+d];a[f+d]=l[f+h],a[p]=y,f++}}}}}}_onGroupDragEnd(e){if(this.groupTouchParams.isDragging=!1,this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const r=this,i=r.groupTouchParams.group.groupId,s=r.groupsData.getDataSet(),o=Q.extend({},s.get(i));r.options.onMoveGroup(o,a=>{if(a)a[s._idProp]=i,s.update(a);else{const l=s.getIds({order:r.options.groupOrder});if(!Q.equalArray(l,r.groupTouchParams.originalOrder)){const c=r.groupTouchParams.originalOrder,u=Math.min(c.length,l.length);let f=0;for(;f<u;){for(;f<u&&l[f]==c[f];)f++;if(f>=u)break;const d=tn(l).call(l,c[f]),h=s.get(l[f]),p=s.get(c[f]);r.options.groupOrderSwap(h,p,s),s.update(h),s.update(p);const g=l[f];l[f]=c[f],l[d]=g,f++}}}}),r.body.emitter.emit("groupDragged",{groupId:i}),this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.group=null}}_onSelectItem(e){if(!this.options.selectable)return;const r=e.srcEvent&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey),i=e.srcEvent&&e.srcEvent.shiftKey;if(r||i){this._onMultiSelectItem(e);return}const s=this.getSelection(),o=this.itemFromTarget(e),a=o&&o.selectable?[o.id]:[];this.setSelection(a);const l=this.getSelection();(l.length>0||s.length>0)&&this.body.emitter.emit("select",{items:l,event:e})}_onMouseOver(e){const r=this.itemFromTarget(e);if(!r)return;const i=this.itemFromRelatedTarget(e);if(r===i)return;const s=r.getTitle();if(this.options.showTooltips&&s){this.popup==null&&(this.popup=new Y3e(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(s);const o=this.body.dom.centerContainer,a=o.getBoundingClientRect();this.popup.setPosition(e.clientX-a.left+o.offsetLeft,e.clientY-a.top+o.offsetTop),this.setPopupTimer(this.popup)}else this.clearPopupTimer(),this.popup!=null&&this.popup.hide();this.body.emitter.emit("itemover",{item:r.id,event:e})}_onMouseOut(e){const r=this.itemFromTarget(e);if(!r)return;const i=this.itemFromRelatedTarget(e);r!==i&&(this.clearPopupTimer(),this.popup!=null&&this.popup.hide(),this.body.emitter.emit("itemout",{item:r.id,event:e}))}_onMouseMove(e){if(this.itemFromTarget(e)&&(this.popupTimer!=null&&this.setPopupTimer(this.popup),this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden)){const i=this.body.dom.centerContainer,s=i.getBoundingClientRect();this.popup.setPosition(e.clientX-s.left+i.offsetLeft,e.clientY-s.top+i.offsetTop),this.popup.show()}}_onMouseWheel(e){this.touchParams.itemIsDragging&&this._onDragEnd(e)}_onUpdateItem(e){if(!this.options.selectable||!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;const r=this;if(e){const i=r.itemsData.get(e.id);this.options.onUpdate(i,s=>{s&&r.itemsData.update(s)})}}_onDropObjectOnItem(e){const r=this.itemFromTarget(e),i=JSON.parse(e.dataTransfer.getData("text"));this.options.onDropObjectOnItem(i,r)}_onAddItem(e){if(!this.options.selectable||!this.options.editable.add)return;const r=this,i=this.options.snap||null,s=this.dom.frame.getBoundingClientRect(),o=this.options.rtl?s.right-e.center.x:e.center.x-s.left,a=this.body.util.toTime(o),l=this.body.util.getScale(),c=this.body.util.getStep();let u,f;e.type=="drop"?(f=JSON.parse(e.dataTransfer.getData("text")),f.content=f.content?f.content:"new item",f.start=f.start?f.start:i?i(a,l,c):a,f.type=f.type||"box",f[this.itemsData.idProp]=f.id||Kc(),f.type=="range"&&!f.end&&(u=this.body.util.toTime(o+this.props.width/5),f.end=i?i(u,l,c):u)):(f={start:i?i(a,l,c):a,content:"new item"},f[this.itemsData.idProp]=Kc(),this.options.type==="range"&&(u=this.body.util.toTime(o+this.props.width/5),f.end=i?i(u,l,c):u));const d=this.groupFromTarget(e);d&&(f.group=d.groupId),f=this._cloneItemData(f),this.options.onAdd(f,h=>{h&&(r.itemsData.add(h),e.type=="drop"&&r.setSelection([h.id]))})}_onMultiSelectItem(e){if(!this.options.selectable)return;const r=this.itemFromTarget(e);if(r){let i=this.options.multiselect?this.getSelection():[];if((e.srcEvent&&e.srcEvent.shiftKey||!1||this.options.sequentialSelection)&&this.options.multiselect){const a=this.itemsData.get(r.id).group;let l;this.options.multiselectPerGroup&&i.length>0&&(l=this.itemsData.get(i[0]).group),(!this.options.multiselectPerGroup||l==null||l==a)&&i.push(r.id);const c=bu._getItemRange(this.itemsData.get(i));if(!this.options.multiselectPerGroup||l==a){i=[];for(const u in this.items){if(!Object.prototype.hasOwnProperty.call(this.items,u))continue;const f=this.items[u],d=f.data.start,h=f.data.end!==void 0?f.data.end:d;d>=c.min&&h<=c.max&&(!this.options.multiselectPerGroup||l==this.itemsData.get(f.id).group)&&!(f instanceof Nu)&&i.push(f.id)}}}else{const a=tn(i).call(i,r.id);a==-1?i.push(r.id):Ur(i).call(i,a,1)}const o=dt(i).call(i,a=>this.getItemById(a).selectable);this.setSelection(o),this.body.emitter.emit("select",{items:this.getSelection(),event:e})}}static _getItemRange(e){let r=null,i=null;return Qe(e).call(e,s=>{(i==null||s.start<i)&&(i=s.start),s.end!=null?(r==null||s.end>r)&&(r=s.end):(r==null||s.start>r)&&(r=s.start)}),{min:i,max:r}}itemFromElement(e){let r=e;for(;r;){if(Object.prototype.hasOwnProperty.call(r,"vis-item"))return r["vis-item"];r=r.parentNode}return null}itemFromTarget(e){return this.itemFromElement(e.target)}itemFromRelatedTarget(e){return this.itemFromElement(e.relatedTarget)}groupFromTarget(e){const r=e.center?e.center.y:e.clientY;let i=this.groupIds;i.length<=0&&this.groupsData&&(i=this.groupsData.getIds({order:this.options.groupOrder}));for(let s=0;s<i.length;s++){const o=i[s],a=this.groups[o],l=a.dom.foreground,c=l.getBoundingClientRect();if(r>=c.top&&r<c.top+l.offsetHeight)return a;if(this.options.orientation.item==="top"){if(s===this.groupIds.length-1&&r>c.top)return a}else if(s===0&&r<c.top+l.offset)return a}return null}static itemSetFromTarget(e){let r=e.target;for(;r;){if(Object.prototype.hasOwnProperty.call(r,"vis-itemset"))return r["vis-itemset"];r=r.parentNode}return null}_cloneItemData(e,r){const i=Q.extend({},e);return r||(r=this.itemsData.type),i.start!=null&&(i.start=Q.convert(i.start,r&&r.start||"Date")),i.end!=null&&(i.end=Q.convert(i.end,r&&r.end||"Date")),i}_clusterItems(){if(!this.options.cluster)return;const{scale:e}=this.body.range.conversion(this.body.domProps.center.width),r=this.clusterGenerator.getClusters(this.clusters,e,this.options.cluster);if(this.clusters!=r){if(this._detachAllClusters(),r){for(let i of r)i.attach();this.clusters=r}this._updateClusters(r)}}_detachAllClusters(){if(this.options.cluster&&this.clusters&&this.clusters.length)for(let e of this.clusters)e.detach()}_updateClusters(e){if(this.clusters&&this.clusters.length){var r;const o=new Il(Vt(e).call(e,c=>c.id)),a=dt(r=this.clusters).call(r,c=>!o.has(c.id));let l=!1;for(let c of a){var i;const u=tn(i=this.selection).call(i,c.id);if(u!==-1){var s;c.unselect(),Ur(s=this.selection).call(s,u,1),l=!0}}if(l){const c=this.getSelection();this.body.emitter.emit("select",{items:c,event})}}this.clusters=e||[]}}bu.types={background:Nu,box:H3e,range:gu,point:G3e};bu.prototype._onAdd=bu.prototype._onUpdate;let ap=!1,AW,Zv="background: #FFeeee; color: #dd0000";class vn{constructor(){}static validate(e,r,i){ap=!1,AW=r;let s=r;return i!==void 0&&(s=r[i]),vn.parse(e,s,[]),ap}static parse(e,r,i){for(let s in e)Object.prototype.hasOwnProperty.call(e,s)&&vn.check(s,e,r,i)}static check(e,r,i,s){if(i[e]===void 0&&i.__any__===void 0){vn.getSuggestion(e,i,s);return}let o=e,a=!0;i[e]===void 0&&i.__any__!==void 0&&(o="__any__",a=vn.getType(r[e])==="object");let l=i[o];a&&l.__type__!==void 0&&(l=l.__type__),vn.checkFields(e,r,i,o,l,s)}static checkFields(e,r,i,s,o,a){let l=function(f){console.log("%c"+f+vn.printLocation(a,e),Zv)},c=vn.getType(r[e]),u=o[c];u!==void 0?vn.getType(u)==="array"&&tn(u).call(u,r[e])===-1?(l('Invalid option detected in "'+e+'". Allowed values are:'+vn.print(u)+' not "'+r[e]+'". '),ap=!0):c==="object"&&s!=="__any__"&&(a=Q.copyAndExtendArray(a,e),vn.parse(r[e],i[s],a)):o.any===void 0&&(l('Invalid type received for "'+e+'". Expected: '+vn.print(er(o))+". Received ["+c+'] "'+r[e]+'"'),ap=!0)}static getType(e){var r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Et(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,i){let s=vn.findInOptions(e,r,i,!1),o=vn.findInOptions(e,AW,[],!0),a=8,l=4,c;s.indexMatch!==void 0?c=" in "+vn.printLocation(s.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+s.indexMatch+`"?

`:o.distance<=l&&s.distance>o.distance?c=" in "+vn.printLocation(s.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+vn.printLocation(o.path,o.closestMatch,""):s.distance<=a?c='. Did you mean "'+s.closestMatch+'"?'+vn.printLocation(s.path,e):c=". Did you mean one of these: "+vn.print(er(r))+vn.printLocation(i,e),console.log('%cUnknown option detected: "'+e+'"'+c,Zv),ap=!0}static findInOptions(e,r,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=1e9,a="",l=[],c=e.toLowerCase(),u;for(let d in r){if(!Object.prototype.hasOwnProperty.call(r,d))continue;let h;if(r[d].__type__!==void 0&&s===!0){let p=vn.findInOptions(e,r[d],Q.copyAndExtendArray(i,d));o>p.distance&&(a=p.closestMatch,l=p.path,o=p.distance,u=p.indexMatch)}else{var f;tn(f=d.toLowerCase()).call(f,c)!==-1&&(u=d),h=vn.levenshteinDistance(e,d),o>h&&(a=d,l=Q.copyArray(i),o=h)}}return{closestMatch:a,path:l,distance:o,indexMatch:u}}static printLocation(e,r){let s=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let o=0;o<e.length;o++){for(let a=0;a<o+1;a++)s+="  ";s+=e[o]+`: {
`}for(let o=0;o<e.length+1;o++)s+="  ";s+=r+`
`;for(let o=0;o<e.length+1;o++){for(let a=0;a<e.length-o;a++)s+="  ";s+=`}
`}return s+`

`}static print(e){return ii(e).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;var i=[],s;for(s=0;s<=r.length;s++)i[s]=[s];var o;for(o=0;o<=e.length;o++)i[0][o]=o;for(s=1;s<=r.length;s++)for(o=1;o<=e.length;o++)r.charAt(s-1)==e.charAt(o-1)?i[s][o]=i[s-1][o-1]:i[s][o]=Math.min(i[s-1][o-1]+1,Math.min(i[s][o-1]+1,i[s-1][o]+1));return i[r.length][e.length]}}let vt="string",gt="boolean",on="number",RW="array",Xu="date",Fn="object",i5e="dom",Qu="moment",NW="any",s5e={configure:{enabled:{boolean:gt},filter:{boolean:gt,function:"function"},container:{dom:i5e},__type__:{object:Fn,boolean:gt,function:"function"}},align:{string:vt},alignCurrentTime:{string:vt,undefined:"undefined"},rtl:{boolean:gt,undefined:"undefined"},rollingMode:{follow:{boolean:gt},offset:{number:on,undefined:"undefined"},__type__:{object:Fn}},onTimeout:{timeoutMs:{number:on},callback:{function:"function"},__type__:{object:Fn}},verticalScroll:{boolean:gt,undefined:"undefined"},horizontalScroll:{boolean:gt,undefined:"undefined"},horizontalScrollKey:{string:vt,undefined:"undefined"},horizontalScrollInvert:{boolean:gt,undefined:"undefined"},autoResize:{boolean:gt},throttleRedraw:{number:on},clickToUse:{boolean:gt},dataAttributes:{string:vt,array:RW},editable:{add:{boolean:gt,undefined:"undefined"},remove:{boolean:gt,undefined:"undefined"},updateGroup:{boolean:gt,undefined:"undefined"},updateTime:{boolean:gt,undefined:"undefined"},overrideItems:{boolean:gt,undefined:"undefined"},__type__:{boolean:gt,object:Fn}},end:{number:on,date:Xu,string:vt,moment:Qu},format:{minorLabels:{millisecond:{string:vt,undefined:"undefined"},second:{string:vt,undefined:"undefined"},minute:{string:vt,undefined:"undefined"},hour:{string:vt,undefined:"undefined"},weekday:{string:vt,undefined:"undefined"},day:{string:vt,undefined:"undefined"},week:{string:vt,undefined:"undefined"},month:{string:vt,undefined:"undefined"},year:{string:vt,undefined:"undefined"},__type__:{object:Fn,function:"function"}},majorLabels:{millisecond:{string:vt,undefined:"undefined"},second:{string:vt,undefined:"undefined"},minute:{string:vt,undefined:"undefined"},hour:{string:vt,undefined:"undefined"},weekday:{string:vt,undefined:"undefined"},day:{string:vt,undefined:"undefined"},week:{string:vt,undefined:"undefined"},month:{string:vt,undefined:"undefined"},year:{string:vt,undefined:"undefined"},__type__:{object:Fn,function:"function"}},__type__:{object:Fn}},moment:{function:"function"},groupHeightMode:{string:vt},groupOrder:{string:vt,function:"function"},groupEditable:{add:{boolean:gt,undefined:"undefined"},remove:{boolean:gt,undefined:"undefined"},order:{boolean:gt,undefined:"undefined"},__type__:{boolean:gt,object:Fn}},groupOrderSwap:{function:"function"},height:{string:vt,number:on},hiddenDates:{start:{date:Xu,number:on,string:vt,moment:Qu},end:{date:Xu,number:on,string:vt,moment:Qu},repeat:{string:vt},__type__:{object:Fn,array:RW}},itemsAlwaysDraggable:{item:{boolean:gt,undefined:"undefined"},range:{boolean:gt,undefined:"undefined"},__type__:{boolean:gt,object:Fn}},limitSize:{boolean:gt},locale:{string:vt},locales:{__any__:{any:NW},__type__:{object:Fn}},longSelectPressTime:{number:on},margin:{axis:{number:on},item:{horizontal:{number:on,undefined:"undefined"},vertical:{number:on,undefined:"undefined"},__type__:{object:Fn,number:on}},__type__:{object:Fn,number:on}},max:{date:Xu,number:on,string:vt,moment:Qu},maxHeight:{number:on,string:vt},maxMinorChars:{number:on},min:{date:Xu,number:on,string:vt,moment:Qu},minHeight:{number:on,string:vt},moveable:{boolean:gt},multiselect:{boolean:gt},multiselectPerGroup:{boolean:gt},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:vt,undefined:"undefined"},item:{string:vt,undefined:"undefined"},__type__:{string:vt,object:Fn}},selectable:{boolean:gt},sequentialSelection:{boolean:gt},showCurrentTime:{boolean:gt},showMajorLabels:{boolean:gt},showMinorLabels:{boolean:gt},showWeekScale:{boolean:gt},stack:{boolean:gt},stackSubgroups:{boolean:gt},cluster:{maxItems:{number:on,undefined:"undefined"},titleTemplate:{string:vt,undefined:"undefined"},clusterCriteria:{function:"function",undefined:"undefined"},showStipes:{boolean:gt,undefined:"undefined"},fitOnDoubleClick:{boolean:gt,undefined:"undefined"},__type__:{boolean:gt,object:Fn}},snap:{function:"function",null:"null"},start:{date:Xu,number:on,string:vt,moment:Qu},template:{function:"function"},loadingScreenTemplate:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:vt,function:"function"},showTooltips:{boolean:gt},tooltip:{followMouse:{boolean:gt},overflowMethod:{string:["cap","flip","none"]},delay:{number:on},template:{function:"function"},__type__:{object:Fn}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:gt,object:Fn}},timeAxis:{scale:{string:vt,undefined:"undefined"},step:{number:on,undefined:"undefined"},__type__:{object:Fn}},type:{string:vt},width:{string:vt,number:on},preferZoom:{boolean:gt},zoomable:{boolean:gt},zoomKey:{string:["ctrlKey","altKey","shiftKey","metaKey",""]},zoomFriction:{number:on},zoomMax:{number:on},zoomMin:{number:on},xss:{disabled:{boolean:gt},filterOptions:{__any__:{any:NW},__type__:{object:Fn}},__type__:{object:Fn}},__type__:{object:Fn}},o5e={global:{align:["center","left","right"],alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupHeightMode:["auto","fixed","fitItems"],groupsDraggable:!1,height:"",locale:"",longSelectPressTime:251,margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},preferZoom:!1,selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,cluster:!1,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:[500,0,99999,100]},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","shiftKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],xss:{disabled:!1}}};var a5e={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};class l5e{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return a5e[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let i;var s=this._isColorString(e);if(s!==void 0&&(e=s),Q.isString(e)===!0){if(Q.isValidRGB(e)===!0){let o=e.substr(4).substr(0,e.length-5).split(",");i={r:o[0],g:o[1],b:o[2],a:1}}else if(Q.isValidRGBA(e)===!0){let o=e.substr(5).substr(0,e.length-6).split(",");i={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(Q.isValidHex(e)===!0){let o=Q.hexToRGB(e);i={r:o.r,g:o.g,b:o.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){let o=e.a!==void 0?e.a:"1.0";i={r:e.r,g:e.g,b:e.b,a:o}}if(i===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+ii(e));this._setColor(i,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=Q.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Pr(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=Q.extend({},e)),this.color=e;let i=Q.RGBToHSV(e.r,e.g,e.b),s=2*Math.PI,o=this.r*i.s,a=this.centerCoordinates.x+o*Math.sin(s*i.h),l=this.centerCoordinates.y+o*Math.cos(s*i.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){let r=Q.RGBToHSV(this.color.r,this.color.g,this.color.b);r.v=e/100;let i=Q.HSVToRGB(r.h,r.s,r.v);i.a=this.color.a,this.color=i,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,r=Q.RGBToHSV(e.r,e.g,e.b),i=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let s=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,s,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-r.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),_J(i).call(i),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,i,s;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){let a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{let a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)},this.opacityRange.oninput=function(){o._setOpacity(this.value)},this.brightnessRange.onchange=function(){o._setBrightness(this.value)},this.brightnessRange.oninput=function(){o._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=ke(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=ke(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=ke(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=ke(s=this._loadLast).call(s,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new zr(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),_ee(this.hammer,e=>{this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){let e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let r=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,i);let s,o,a,l;this.centerCoordinates={x:r*.5,y:i*.5},this.r=.49*r;let c=2*Math.PI/360,u=1/360,f=1/this.r,d;for(a=0;a<360;a++)for(l=0;l<this.r;l++)s=this.centerCoordinates.x+l*Math.sin(c*a),o=this.centerCoordinates.y+l*Math.cos(c*a),d=Q.HSVToRGB(a*u,l*f,1),e.fillStyle="rgb("+d.r+","+d.g+","+d.b+")",e.fillRect(s-.5,o-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,i)}this.generated=!0}_moveSelector(e){let r=this.colorPickerDiv.getBoundingClientRect(),i=e.center.x-r.left,s=e.center.y-r.top,o=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,l=i-a,c=s-o,u=Math.atan2(l,c),f=.98*Math.min(Math.sqrt(l*l+c*c),a),d=Math.cos(u)*f+o,h=Math.sin(u)*f+a;this.colorPickerSelector.style.top=d-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";let p=u/(2*Math.PI);p=p<0?p+1:p;let g=f/this.r,v=Q.RGBToHSV(this.color.r,this.color.g,this.color.b);v.h=p,v.s=g;let y=Q.HSVToRGB(v.h,v.s,v.v);y.a=this.color.a,this.color=y,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}class Aee{constructor(e,r,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Q.extend(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new l5e(s),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(Et(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),dt(e)!==void 0&&(this.options.filter=dt(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);dt(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];let e=dt(this.options),r=0,i=!1;for(let s in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,s)&&(this.allowCreation=!1,i=!1,typeof e=="function"?(i=e(s,[]),i=i||this._handleObject(this.configureOptions[s],[s],!0)):(e===!0||tn(e).call(e,s)!==-1)&&(i=!0),i!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(s),this._handleObject(this.configureOptions[s],[s])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let i=0;i<e.length;i++)if(r[e[i]]!==void 0)r=r[e[i]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){let o=document.createElement("div");o.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return Qe(i).call(i,a=>{o.appendChild(a)}),this.domElements.push(o),this.domElements.length}return 0}_makeHeader(e){let r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerHTML=Q.xss(e),this._makeItem([],r)}_makeLabel(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=document.createElement("div");return s.className="vis-configuration vis-config-label vis-config-s"+r.length,i===!0?s.innerHTML=Q.xss("<i><b>"+e+":</b></i>"):s.innerHTML=Q.xss(e+":"),s}_makeDropdown(e,r,i){let s=document.createElement("select");s.className="vis-configuration vis-config-select";let o=0;r!==void 0&&tn(e).call(e,r)!==-1&&(o=tn(e).call(e,r));for(let c=0;c<e.length;c++){let u=document.createElement("option");u.value=e[c],c===o&&(u.selected="selected"),u.innerHTML=e[c],s.appendChild(u)}let a=this;s.onchange=function(){a._update(this.value,i)};let l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,s)}_makeRange(e,r,i){let s=e[0],o=e[1],a=e[2],l=e[3],c=document.createElement("input");c.className="vis-configuration vis-config-range";try{c.type="range",c.min=o,c.max=a}catch{}c.step=l;let u="",f=0;if(r!==void 0){let v=1.2;r<0&&r*v<o?(c.min=Math.ceil(r*v),f=c.min,u="range increased"):r/v<o&&(c.min=Math.ceil(r/v),f=c.min,u="range increased"),r*v>a&&a!==1&&(c.max=Math.ceil(r*v),f=c.max,u="range increased"),c.value=r}else c.value=s;let d=document.createElement("input");d.className="vis-configuration vis-config-rangeinput",d.value=Number(c.value);var h=this;c.onchange=function(){d.value=this.value,h._update(Number(this.value),i)},c.oninput=function(){d.value=this.value};let p=this._makeLabel(i[i.length-1],i),g=this._makeItem(i,p,c,d);u!==""&&this.popupHistory[g]!==f&&(this.popupHistory[g]=f,this._setupPopup(u,g))}_makeButton(){if(this.options.showButton===!0){let e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerHTML="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){let i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerHTML=Q.xss(e),i.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){let r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Pr(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Pr(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,i){var s=document.createElement("input");s.type="checkbox",s.className="vis-configuration vis-config-checkbox",s.checked=e,r!==void 0&&(s.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:i,value:r}):this.changedOptions.push({path:i,value:r})));let o=this;s.onchange=function(){o._update(this.checked,i)};let a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,s)}_makeTextInput(e,r,i){var s=document.createElement("input");s.type="text",s.className="vis-configuration vis-config-text",s.value=r,r!==e&&this.changedOptions.push({path:i,value:r});let o=this;s.onchange=function(){o._update(this.value,i)};let a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,s)}_makeColorField(e,r,i){let s=e[1],o=document.createElement("div");r=r===void 0?s:r,r!=="none"?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=r):o.className="vis-configuration vis-config-colorBlock none",r=r===void 0?s:r,o.onclick=()=>{this._showColorPicker(r,o,i)};let a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,o)}_showColorPicker(e,r,i){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(s=>{let o="rgba("+s.r+","+s.g+","+s.b+","+s.a+")";r.style.backgroundColor=o,this._update(o,i)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,i)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=!1,o=dt(this.options),a=!1;for(let l in e){if(!Object.prototype.hasOwnProperty.call(e,l))continue;s=!0;let c=e[l],u=Q.copyAndExtendArray(r,l);if(typeof o=="function"&&(s=o(l,r),s===!1&&!Et(c)&&typeof c!="string"&&typeof c!="boolean"&&c instanceof Object&&(this.allowCreation=!1,s=this._handleObject(c,u,!0),this.allowCreation=i===!1)),s!==!1){a=!0;let f=this._getValue(u);if(Et(c))this._handleArray(c,f,u);else if(typeof c=="string")this._makeTextInput(c,f,u);else if(typeof c=="boolean")this._makeCheckbox(c,f,u);else if(c instanceof Object){let d=!0;if(tn(r).call(r,"physics")!==-1&&this.moduleOptions.physics.solver!==l&&(d=!1),d===!0)if(c.enabled!==void 0){let h=Q.copyAndExtendArray(u,"enabled"),p=this._getValue(h);if(p===!0){let g=this._makeLabel(l,u,!0);this._makeItem(u,g),a=this._handleObject(c,u)||a}else this._makeCheckbox(c,p,u)}else{let h=this._makeLabel(l,u,!0);this._makeItem(u,h),a=this._handleObject(c,u)||a}}else console.error("dont know how to handle",c,l,u)}}return a}_handleArray(e,r,i){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,i),e[1]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:Number(r)}))}_update(e,r){let i=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}_constructOptions(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let o=0;o<r.length;o++)r[o]!=="global"&&(s[r[o]]===void 0&&(s[r[o]]={}),o!==r.length-1?s=s[r[o]]:s[r[o]]=e);return i}_printOptions(){let e=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+ii(e,null,2)+"</pre>"}getOptions(){let e={};for(var r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}}class UR extends Fd{constructor(e,r,i,s){var o,a,l,c,u,f,d;if(super(),this.initTime=new Date,this.itemsDone=!1,!(this instanceof UR))throw new SyntaxError("Constructor must be called with the new operator");if(!(Et(i)||ka(i))&&i instanceof Object){const y=s;s=i,i=y}s&&s.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');const h=this;if(this.defaultOptions={autoResize:!0,longSelectPressTime:251,orientation:{axis:"bottom",item:"bottom"},moment:qr},this.options=Q.deepExtend({},this.defaultOptions),s&&Q.setupXSSProtection(s.xss),this._create(e),!s||s&&typeof s.rtl>"u"){this.dom.root.style.visibility="hidden";let y,b=this.dom.root;for(;!y&&b;)y=window.getComputedStyle(b,null).direction,b=b.parentElement;this.options.rtl=y&&y.toLowerCase()=="rtl"}else this.options.rtl=s.rtl;s&&(s.rollingMode&&(this.options.rollingMode=s.rollingMode),s.onInitialDrawComplete&&(this.options.onInitialDrawComplete=s.onInitialDrawComplete),s.onTimeout&&(this.options.onTimeout=s.onTimeout),s.loadingScreenTemplate&&(this.options.loadingScreenTemplate=s.loadingScreenTemplate));const p=document.createElement("div");if(this.options.loadingScreenTemplate){var g;const y=ke(g=this.options.loadingScreenTemplate).call(g,this),b=y(this.dom.loadingScreen);b instanceof Object&&!(b instanceof Element)?y(p):b instanceof Element?(p.innerHTML="",p.appendChild(b)):b!=null&&(p.innerHTML=Q.xss(b))}this.dom.loadingScreen.appendChild(p),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:ke(o=this.on).call(o,this),off:ke(a=this.off).call(a,this),emit:ke(l=this.emit).call(l,this)},hiddenDates:[],util:{getScale(){return h.timeAxis.step.scale},getStep(){return h.timeAxis.step.step},toScreen:ke(c=h._toScreen).call(c,h),toGlobalScreen:ke(u=h._toGlobalScreen).call(u,h),toTime:ke(f=h._toTime).call(f,h),toGlobalTime:ke(d=h._toGlobalTime).call(d,h)}},this.range=new jw(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new Qv(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new Oee(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new bu(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null;function v(y,b){h.hasListeners(y)&&h.emit(y,h.getEventProperties(b))}this.dom.root.onclick=y=>v("click",y),this.dom.root.ondblclick=y=>v("doubleClick",y),this.dom.root.oncontextmenu=y=>v("contextmenu",y),this.dom.root.onmouseover=y=>v("mouseOver",y),window.PointerEvent?(this.dom.root.onpointerdown=y=>v("mouseDown",y),this.dom.root.onpointermove=y=>v("mouseMove",y),this.dom.root.onpointerup=y=>v("mouseUp",y)):(this.dom.root.onmousemove=y=>v("mouseMove",y),this.dom.root.onmousedown=y=>v("mouseDown",y),this.dom.root.onmouseup=y=>v("mouseUp",y)),this.initialFitDone=!1,this.on("changed",()=>{if(h.itemsData!=null){if(!h.initialFitDone&&!h.options.rollingMode)if(h.initialFitDone=!0,h.options.start!=null||h.options.end!=null){if(h.options.start==null||h.options.end==null)var y=h.getItemRange();const b=h.options.start!=null?h.options.start:y.min,w=h.options.end!=null?h.options.end:y.max;h.setWindow(b,w,{animation:!1})}else h.fit({animation:!1});!h.initialDrawDone&&(h.initialRangeChangeDone||!h.options.start&&!h.options.end||h.options.rollingMode)&&(h.initialDrawDone=!0,h.itemSet.initialDrawDone=!0,h.dom.root.style.visibility="visible",h.dom.loadingScreen.parentNode.removeChild(h.dom.loadingScreen),h.options.onInitialDrawComplete&&Pr(()=>h.options.onInitialDrawComplete(),0))}}),this.on("destroyTimeline",()=>{h.destroy()}),s&&this.setOptions(s),this.body.emitter.on("fit",y=>{this._onFit(y),this.redraw()}),i&&this.setGroups(i),r&&this.setItems(r),this._redraw()}_createConfigurator(){return new Aee(this,this.dom.container,o5e)}redraw(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()}setOptions(e){if(vn.validate(e,s5e)===!0&&console.log("%cErrors have been found in the supplied options object.",Zv),Fd.prototype.setOptions.call(this,e),"type"in e&&e.type!==this.options.type){this.options.type=e.type;const i=this.itemsData;if(i){const s=this.getSelection();this.setItems(null),this.setItems(i.rawDS),this.setSelection(s)}}}setItems(e){this.itemsDone=!1;let r;e?ka(e)?r=Gf(e):r=Gf(new Hf(e)):r=null,this.itemsData&&this.itemsData.dispose(),this.itemsData=r,this.itemSet&&this.itemSet.setItems(r!=null?r.rawDS:null)}setGroups(e){let r;const i=s=>s.visible!==!1;e?(Et(e)&&(e=new Hf(e)),r=new xNe(e,{filter:i})):r=null,this.groupsData!=null&&typeof this.groupsData.setData=="function"&&this.groupsData.setData(null),this.groupsData=r,this.itemSet.setGroups(r)}setData(e){e&&e.groups&&this.setGroups(e.groups),e&&e.items&&this.setItems(e.items)}setSelection(e,r){this.itemSet&&this.itemSet.setSelection(e),r&&r.focus&&this.focus(e,r)}getSelection(){return this.itemSet&&this.itemSet.getSelection()||[]}focus(e,r){if(!this.itemsData||e==null)return;const i=Et(e)?e:[e],s=this.itemsData.get(i);let o=null,a=null;if(Qe(s).call(s,l=>{const c=l.start.valueOf(),u="end"in l?l.end.valueOf():l.start.valueOf();(o===null||c<o)&&(o=c),(a===null||u>a)&&(a=u)}),o!==null&&a!==null){const l=this,c=this.itemSet.items[i[0]];let u=this._getScrollTop()*-1,f=null;const d=(w,k,_)=>{const S=jW(l,c);if(S===!1||(f||(f=S),f.itemTop==S.itemTop&&!f.shouldScroll))return;f.itemTop!=S.itemTop&&S.shouldScroll&&(f=S,u=l._getScrollTop()*-1);const C=u,T=f.scrollOffset,D=_?T:C+(T-C)*w;l._setScrollTop(-D),k||l._redraw()},h=()=>{const w=jW(l,c);w.shouldScroll&&w.itemTop!=f.itemTop&&(l._setScrollTop(-w.scrollOffset),l._redraw())},p=()=>{h(),Pr(h,100)},g=r&&r.zoom!==void 0?r.zoom:!0,v=(o+a)/2,y=g?(a-o)*1.1:Math.max(this.range.end-this.range.start,(a-o)*1.1),b=r&&r.animation!==void 0?r.animation:!0;b||(f={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.stopRolling(),this.range.setRange(v-y/2,v+y/2,{animation:b},p,d)}}fit(e,r){const i=e&&e.animation!==void 0?e.animation:!0;let s;this.itemsData.length===1&&this.itemsData.get()[0].end===void 0?(s=this.getDataRange(),this.moveTo(s.min.valueOf(),{animation:i},r)):(s=this.getItemRange(),this.range.setRange(s.min,s.max,{animation:i},r))}getItemRange(){const e=this.getDataRange();let r=e.min!==null?e.min.valueOf():null,i=e.max!==null?e.max.valueOf():null,s=null,o=null;if(r!=null&&i!=null){let a=i-r;a<=0&&(a=10);const l=a/this.props.center.width,c={};let u=0;if(Qe(Q).call(Q,this.itemSet.items,(d,h)=>{d.groupShowing&&(c[h]=d.redraw(!0),u=c[h].length)}),u>0)for(let d=0;d<u;d++)Qe(Q).call(Q,c,h=>{h[d]()});if(Qe(Q).call(Q,this.itemSet.items,d=>{const h=pD(d),p=mD(d);let g,v;this.options.rtl?(g=h-(d.getWidthRight()+10)*l,v=p+(d.getWidthLeft()+10)*l):(g=h-(d.getWidthLeft()+10)*l,v=p+(d.getWidthRight()+10)*l),g<r&&(r=g,s=d),v>i&&(i=v,o=d)}),s&&o){const d=s.getWidthLeft()+10,h=o.getWidthRight()+10,p=this.props.center.width-d-h;p>0&&(this.options.rtl?(r=pD(s)-h*a/p,i=mD(o)+d*a/p):(r=pD(s)-d*a/p,i=mD(o)+h*a/p))}}return{min:r!=null?new Date(r):null,max:i!=null?new Date(i):null}}getDataRange(){let e=null,r=null;if(this.itemsData){var i;Qe(i=this.itemsData).call(i,s=>{const o=Q.convert(s.start,"Date").valueOf(),a=Q.convert(s.end!=null?s.end:s.start,"Date").valueOf();(e===null||o<e)&&(e=o),(r===null||a>r)&&(r=a)})}return{min:e!=null?new Date(e):null,max:r!=null?new Date(r):null}}getEventProperties(e){const r=e.center?e.center.x:e.clientX,i=e.center?e.center.y:e.clientY,s=this.dom.centerContainer.getBoundingClientRect(),o=this.options.rtl?s.right-r:r-s.left,a=i-s.top,l=this.itemSet.itemFromTarget(e),c=this.itemSet.groupFromTarget(e),u=BR.customTimeFromTarget(e),f=this.itemSet.options.snap||null,d=this.body.util.getScale(),h=this.body.util.getStep(),p=this._toTime(o),g=f?f(p,d,h):p,v=Q.getTarget(e);let y=null;return l!=null?y="item":u!=null?y="custom-time":Q.hasParent(v,this.timeAxis.dom.foreground)||this.timeAxis2&&Q.hasParent(v,this.timeAxis2.dom.foreground)?y="axis":Q.hasParent(v,this.itemSet.dom.labelSet)?y="group-label":Q.hasParent(v,this.currentTime.bar)?y="current-time":Q.hasParent(v,this.dom.center)&&(y="background"),{event:e,item:l?l.id:null,isCluster:l?!!l.isCluster:!1,items:l?l.items||[]:null,group:c?c.groupId:null,customTime:u?u.options.id:null,what:y,pageX:e.srcEvent?e.srcEvent.pageX:e.pageX,pageY:e.srcEvent?e.srcEvent.pageY:e.pageY,x:o,y:a,time:p,snappedTime:g}}toggleRollingMode(){this.range.rolling?this.range.stopRolling():(this.options.rollingMode==null&&this.setOptions(this.options),this.range.startRolling())}_redraw(){Fd.prototype._redraw.call(this)}_onFit(e){const{start:r,end:i,animation:s}=e;i?this.range.setRange(r,i,{animation:s}):this.moveTo(r.valueOf(),{animation:s})}}function pD(n){return Q.convert(n.data.start,"Date").valueOf()}function mD(n){const e=n.data.end!=null?n.data.end:n.data.start;return Q.convert(e,"Date").valueOf()}function jW(n,e){if(!e.parent)return!1;const r=n.options.rtl?n.props.rightContainer.height:n.props.leftContainer.height,i=n.props.center.height,s=e.parent;let o=s.top,a=!0;const l=n.timeAxis.options.orientation.axis,c=()=>l=="bottom"?s.height-e.top-e.height:e.top,u=n._getScrollTop()*-1,f=o+c(),d=e.height;return f<u?o+r<=o+c()+d&&(o+=c()-n.itemSet.options.margin.item.vertical):f+d>u+r?o+=c()+d-r+n.itemSet.options.margin.item.vertical:a=!1,o=Math.min(o,i-r),{shouldScroll:a,scrollOffset:o,itemTop:f}}class c5e{constructor(e,r,i,s,o,a){let l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=o,this.majorCharHeight=a,this._start=e,this._end=r,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=l,this.autoScaleStart=i,this.autoScaleEnd=s,this.formattingFunction=c,i||s){const u=this,f=d=>{const h=d-d%(u.magnitudefactor*u.minorSteps[u.minorStepIdx]);return d%(u.magnitudefactor*u.minorSteps[u.minorStepIdx])>.5*(u.magnitudefactor*u.minorSteps[u.minorStepIdx])?h+u.magnitudefactor*u.minorSteps[u.minorStepIdx]:h};i&&(this._start-=this.magnitudefactor*2*this.minorSteps[this.minorStepIdx],this._start=f(this._start)),s&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=f(this._end)),this.determineScale()}}setCharHeight(e){this.majorCharHeight=e}setHeight(e){this.containerHeight=e}determineScale(){const e=this._end-this._start;this.scale=this.containerHeight/e;const r=this.majorCharHeight/this.scale,i=e>0?Math.round(Math.log(e)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,i);let s=0;i<0&&(s=i);let o=!1;for(let a=s;Math.abs(a)<=Math.abs(i);a++){this.magnitudefactor=Math.pow(10,a);for(let l=0;l<this.minorSteps.length;l++)if(this.magnitudefactor*this.minorSteps[l]>=r){o=!0,this.minorStepIdx=l;break}if(o===!0)break}}is_major(e){return e%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])===0}getStep(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]}getFirstMajor(){const e=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(e-this._start%e)%e)}formatValue(e){let r=e.toPrecision(5);return typeof this.formattingFunction=="function"&&(r=this.formattingFunction(e)),typeof r=="number"?"".concat(r):typeof r=="string"?r:e.toPrecision(5)}getLines(){const e=[],r=this.getStep(),i=(r-this._start%r)%r;for(let s=this._start+i;this._end-s>1e-5;s+=r)s!=this._start&&e.push({major:this.is_major(s),y:this.convertValue(s),val:this.formatValue(s)});return e}followScale(e){const r=this.minorStepIdx,i=this._start,s=this._end,o=this,a=()=>{o.magnitudefactor*=2},l=()=>{o.magnitudefactor/=2};e.minorStepIdx<=1&&this.minorStepIdx<=1||e.minorStepIdx>1&&this.minorStepIdx>1||(e.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,r==2||a(),a()):(this.minorStepIdx=2,r==1||l(),l()));const c=e.convertValue(0),u=e.getStep()*e.scale;let f=!1,d=0;for(;!f&&d++<5;){this.scale=u/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);const h=this.containerHeight/this.scale;this._start=i,this._end=this._start+h;const p=this._end*this.scale,g=this.magnitudefactor*this.majorSteps[this.minorStepIdx],v=this.getFirstMajor()-e.getFirstMajor();if(this.zeroAlign){const y=c-p;this._end+=y/this.scale,this._start=this._end-h}else this.autoScaleStart?(this._start-=v/this.scale,this._end=this._start+h):(this._start+=g-v/this.scale,this._end=this._start+h);if(!this.autoScaleEnd&&this._end>s+1e-5){l(),f=!1;continue}if(!this.autoScaleStart&&this._start<i-1e-5)if(this.zeroAlign&&i>=0)console.warn("Can't adhere to given 'min' range, due to zeroalign");else{l(),f=!1;continue}if(this.autoScaleStart&&this.autoScaleEnd&&h<s-i){a(),f=!1;continue}f=!0}}convertValue(e){return this.containerHeight-(e-this._start)*this.scale}screenToValue(e){return(this.containerHeight-e)/this.scale+this._start}}class LW extends Vl{constructor(e,r,i,s){super(),this.id=Kc(),this.body=e,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format(a){return"".concat(Yv(a.toPrecision(3)))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format(a){return"".concat(Yv(a.toPrecision(3)))},title:{text:void 0,style:void 0}}},this.linegraphOptions=s,this.linegraphSVG=i,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=Q.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(r),this.width=Number("".concat(this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.scale==null&&this._redrawLabels(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};const o=this;this.body.emitter.on("verticalDrag",()=>{o.dom.lineContainer.style.top="".concat(o.body.domProps.scrollTop,"px")})}addGroup(e,r){Object.prototype.hasOwnProperty.call(this.groups,e)||(this.groups[e]=r),this.amountOfGroups+=1}updateGroup(e,r){Object.prototype.hasOwnProperty.call(this.groups,e)||(this.amountOfGroups+=1),this.groups[e]=r}removeGroup(e){Object.prototype.hasOwnProperty.call(this.groups,e)&&(delete this.groups[e],this.amountOfGroups-=1)}setOptions(e){if(e){let r=!1;this.options.orientation!=e.orientation&&e.orientation!==void 0&&(r=!0);const i=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];Q.selectiveDeepExtend(i,this.options,e),this.minWidth=Number("".concat(this.options.width).replace("px","")),r===!0&&this.dom.frame&&(this.hide(),this.show())}}_create(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.dom.lineContainer.style.visibility="visible",this.dom.lineContainer.style.display="block",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)}_redrawGroupIcons(){tl(this.svgElements);let e;const r=this.options.iconWidth,i=15,s=4;let o=s+.5*i;this.options.orientation==="left"?e=s:e=this.width-r-s;const a=er(this.groups);qn(a).call(a,(l,c)=>l<c?-1:1);for(const l of a)this.groups[l].visible===!0&&(this.linegraphOptions.visibility[l]===void 0||this.linegraphOptions.visibility[l]===!0)&&(this.groups[l].getLegend(r,i,this.framework,e,o),o+=i+s);Qi(this.svgElements),this.iconsRemoved=!1}_cleanupIcons(){this.iconsRemoved===!1&&(tl(this.svgElements),Qi(this.svgElements),this.iconsRemoved=!0)}show(){this.hidden=!1,this.dom.frame.parentNode||(this.options.orientation==="left"?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer),this.dom.lineContainer.style.display="block"}hide(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.style.display="none"}setRange(e,r){this.range.start=e,this.range.end=r}redraw(){let e=!1,r=0;this.dom.lineContainer.style.top="".concat(this.body.domProps.scrollTop,"px");for(const i in this.groups)Object.prototype.hasOwnProperty.call(this.groups,i)&&this.groups[i].visible===!0&&(this.linegraphOptions.visibility[i]===void 0||this.linegraphOptions.visibility[i]===!0)&&r++;if(this.amountOfGroups===0||r===0)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height="".concat(this.height,"px"),this.width=this.options.visible===!0?Number("".concat(this.options.width).replace("px","")):0;const i=this.props,s=this.dom.frame;s.className="vis-data-axis",this._calculateCharSize();const o=this.options.orientation,a=this.options.showMinorLabels,l=this.options.showMajorLabels,c=this.body.dom.backgroundHorizontal.offsetWidth;i.minorLabelHeight=a?i.minorCharHeight:0,i.majorLabelHeight=l?i.majorCharHeight:0,i.minorLineWidth=c-this.lineOffset-this.width+2*this.options.minorLinesOffset,i.minorLineHeight=1,i.majorLineWidth=c-this.lineOffset-this.width+2*this.options.majorLinesOffset,i.majorLineHeight=1,o==="left"?(s.style.top="0",s.style.left="0",s.style.bottom="",s.style.width="".concat(this.width,"px"),s.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(s.style.top="",s.style.bottom="0",s.style.left="0",s.style.width="".concat(this.width,"px"),s.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),e=this._redrawLabels(),e=this._isResized()||e,this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(o)}return e}_redrawLabels(){let e=!1;tl(this.DOMelements.lines),tl(this.DOMelements.labels);const r=this.options.orientation,i=this.options[r].range!=null?this.options[r].range:{};let s=!0;i.max!=null&&(this.range.end=i.max,s=!1);let o=!0;i.min!=null&&(this.range.start=i.min,o=!1),this.scale=new c5e(this.range.start,this.range.end,o,s,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[r].format),this.master===!1&&this.masterAxis!=null?(this.scale.followScale(this.masterAxis.scale),this.dom.lineContainer.style.display="none"):this.dom.lineContainer.style.display="block",this.maxLabelSize=0;const a=this.scale.getLines();Qe(a).call(a,u=>{const f=u.y,d=u.major;this.options.showMinorLabels&&d===!1&&this._redrawLabel(f-2,u.val,r,"vis-y-axis vis-minor",this.props.minorCharHeight),d&&f>=0&&this._redrawLabel(f-2,u.val,r,"vis-y-axis vis-major",this.props.majorCharHeight),this.master===!0&&(d?this._redrawLine(f,r,"vis-grid vis-horizontal vis-major",this.options.majorLinesOffset,this.props.majorLineWidth):this._redrawLine(f,r,"vis-grid vis-horizontal vis-minor",this.options.minorLinesOffset,this.props.minorLineWidth))});let l=0;this.options[r].title!==void 0&&this.options[r].title.text!==void 0&&(l=this.props.titleCharHeight);const c=this.options.icons===!0?Math.max(this.options.iconWidth,l)+this.options.labelOffsetX+15:l+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-c&&this.options.visible===!0?(this.width=this.maxLabelSize+c,this.options.width="".concat(this.width,"px"),Qi(this.DOMelements.lines),Qi(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-c&&this.options.visible===!0&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+c),this.options.width="".concat(this.width,"px"),Qi(this.DOMelements.lines),Qi(this.DOMelements.labels),this.redraw(),e=!0):(Qi(this.DOMelements.lines),Qi(this.DOMelements.labels),e=!1),e}convertValue(e){return this.scale.convertValue(e)}screenToValue(e){return this.scale.screenToValue(e)}_redrawLabel(e,r,i,s,o){const a=RC("div",this.DOMelements.labels,this.dom.frame);a.className=s,a.innerHTML=Q.xss(r),i==="left"?(a.style.left="-".concat(this.options.labelOffsetX,"px"),a.style.textAlign="right"):(a.style.right="-".concat(this.options.labelOffsetX,"px"),a.style.textAlign="left"),a.style.top="".concat(e-.5*o+this.options.labelOffsetY,"px"),r+="";const l=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<r.length*l&&(this.maxLabelSize=r.length*l)}_redrawLine(e,r,i,s,o){if(this.master===!0){const a=RC("div",this.DOMelements.lines,this.dom.lineContainer);a.className=i,a.innerHTML="",r==="left"?a.style.left="".concat(this.width-s,"px"):a.style.right="".concat(this.width-s,"px"),a.style.width="".concat(o,"px"),a.style.top="".concat(e,"px")}}_redrawTitle(e){if(tl(this.DOMelements.title),this.options[e].title!==void 0&&this.options[e].title.text!==void 0){const r=RC("div",this.DOMelements.title,this.dom.frame);r.className="vis-y-axis vis-title vis-".concat(e),r.innerHTML=Q.xss(this.options[e].title.text),this.options[e].title.style!==void 0&&Q.addCssText(r,this.options[e].title.style),e==="left"?r.style.left="".concat(this.props.titleCharHeight,"px"):r.style.right="".concat(this.props.titleCharHeight,"px"),r.style.width="".concat(this.height,"px")}Qi(this.DOMelements.title)}_calculateCharSize(){if(!("minorCharHeight"in this.props)){const e=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-minor vis-measure",r.appendChild(e),this.dom.frame.appendChild(r),this.props.minorCharHeight=r.clientHeight,this.props.minorCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}if(!("majorCharHeight"in this.props)){const e=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-major vis-measure",r.appendChild(e),this.dom.frame.appendChild(r),this.props.majorCharHeight=r.clientHeight,this.props.majorCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}if(!("titleCharHeight"in this.props)){const e=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-title vis-measure",r.appendChild(e),this.dom.frame.appendChild(r),this.props.titleCharHeight=r.clientHeight,this.props.titleCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}}}function b0(){}b0.draw=function(n,e,r,i){i=i||0;for(var s=u5e(r,e),o=0;o<n.length;o++)if(!s)Wf(n[o].screen_x+i,n[o].screen_y,KI(e),r.svgElements,r.svg,n[o].label);else{var a=s(n[o],e);(a===!0||typeof a=="object")&&Wf(n[o].screen_x+i,n[o].screen_y,KI(e,a),r.svgElements,r.svg,n[o].label)}};b0.drawIcon=function(n,e,r,i,s,o){var a=s*.5,l=Ls("rect",o.svgElements,o.svg);l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",r-a),l.setAttributeNS(null,"width",i),l.setAttributeNS(null,"height",2*a),l.setAttributeNS(null,"class","vis-outline"),Wf(e+.5*i,r,KI(n),o.svgElements,o.svg)};function KI(n,e){return e=typeof e>"u"?{}:e,{style:e.style||n.options.drawPoints.style,styles:e.styles||n.options.drawPoints.styles,size:e.size||n.options.drawPoints.size,className:e.className||n.className}}function u5e(n,e){var r=void 0;return n.options&&n.options.drawPoints&&n.options.drawPoints.onRender&&typeof n.options.drawPoints.onRender=="function"&&(r=n.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&typeof e.group.options.drawPoints.onRender=="function"&&(r=e.group.options.drawPoints.onRender),r}function Wr(){}Wr.drawIcon=function(n,e,r,i,s,o){var a=s*.5,l=Ls("rect",o.svgElements,o.svg);l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",r-a),l.setAttributeNS(null,"width",i),l.setAttributeNS(null,"height",2*a),l.setAttributeNS(null,"class","vis-outline");var c=Math.round(.3*i),u=n.options.barChart.width,f=u/c,d=Math.round(.4*s),h=Math.round(.75*s),p=Math.round((i-2*c)/3);if(UI(e+.5*c+p,r+a-d-1,c,d,n.className+" vis-bar",o.svgElements,o.svg,n.style),UI(e+1.5*c+p+2,r+a-h-1,c,h,n.className+" vis-bar",o.svgElements,o.svg,n.style),n.options.drawPoints.enabled==!0){var g={style:n.options.drawPoints.style,styles:n.options.drawPoints.styles,size:n.options.drawPoints.size/f,className:n.className};Wf(e+.5*c+p,r+a-d-1,g,o.svgElements,o.svg),Wf(e+1.5*c+p+2,r+a-h-1,g,o.svgElements,o.svg)}};Wr.draw=function(n,e,r){var i=[],s={},o,a,l,c,u,f,d=0;for(u=0;u<n.length;u++)if(c=r.groups[n[u]],c.options.style==="bar"&&c.visible===!0&&(r.options.groups.visibility[n[u]]===void 0||r.options.groups.visibility[n[u]]===!0))for(f=0;f<e[n[u]].length;f++)i.push({screen_x:e[n[u]][f].screen_x,screen_end:e[n[u]][f].screen_end,screen_y:e[n[u]][f].screen_y,x:e[n[u]][f].x,end:e[n[u]][f].end,y:e[n[u]][f].y,groupId:n[u],label:e[n[u]][f].label}),d+=1;if(d!==0)for(qn(i).call(i,function(v,y){return v.screen_x===y.screen_x?v.groupId<y.groupId?-1:1:v.screen_x-y.screen_x}),Wr._getDataIntersections(s,i),u=0;u<i.length;u++){c=r.groups[i[u].groupId];var h=c.options.barChart.minWidth!=null?c.options.barChart.minWidth:.1*c.options.barChart.width;a=i[u].screen_x;var p=0;if(s[a]===void 0)u+1<i.length&&(o=Math.abs(i[u+1].screen_x-a)),l=Wr._getSafeDrawData(o,c,h);else{var g=u+(s[a].amount-s[a].resolved);g<i.length&&(o=Math.abs(i[g].screen_x-a)),l=Wr._getSafeDrawData(o,c,h),s[a].resolved+=1,c.options.stack===!0&&c.options.excludeFromStacking!==!0?i[u].screen_y<c.zeroPosition?(p=s[a].accumulatedNegative,s[a].accumulatedNegative+=c.zeroPosition-i[u].screen_y):(p=s[a].accumulatedPositive,s[a].accumulatedPositive+=c.zeroPosition-i[u].screen_y):c.options.barChart.sideBySide===!0&&(l.width=l.width/s[a].amount,l.offset+=s[a].resolved*l.width-.5*l.width*(s[a].amount+1))}let v=l.width,y=i[u].screen_x;if(i[u].screen_end!=null?(v=i[u].screen_end-i[u].screen_x,y+=v*.5):y+=l.offset,UI(y,i[u].screen_y-p,v,c.zeroPosition-i[u].screen_y,c.className+" vis-bar",r.svgElements,r.svg,c.style),c.options.drawPoints.enabled===!0){let b={screen_x:i[u].screen_x,screen_y:i[u].screen_y-p,x:i[u].x,y:i[u].y,groupId:i[u].groupId,label:i[u].label};b0.draw([b],c,r,l.offset)}}};Wr._getDataIntersections=function(n,e){for(var r,i=0;i<e.length;i++)i+1<e.length&&(r=Math.abs(e[i+1].screen_x-e[i].screen_x)),i>0&&(r=Math.min(r,Math.abs(e[i-1].screen_x-e[i].screen_x))),r===0&&(n[e[i].screen_x]===void 0&&(n[e[i].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),n[e[i].screen_x].amount+=1)};Wr._getSafeDrawData=function(n,e,r){var i,s;return n<e.options.barChart.width&&n>0?(i=n<r?r:n,s=0,e.options.barChart.align==="left"?s-=.5*n:e.options.barChart.align==="right"&&(s+=.5*n)):(i=e.options.barChart.width,s=0,e.options.barChart.align==="left"?s-=.5*e.options.barChart.width:e.options.barChart.align==="right"&&(s+=.5*e.options.barChart.width)),{width:i,offset:s}};Wr.getStackedYRange=function(n,e,r,i,s){if(n.length>0){qn(n).call(n,function(a,l){return a.screen_x===l.screen_x?a.groupId<l.groupId?-1:1:a.screen_x-l.screen_x});var o={};Wr._getDataIntersections(o,n),e[i]=Wr._getStackedYRange(o,n),e[i].yAxisOrientation=s,r.push(i)}};Wr._getStackedYRange=function(n,e){for(var r,i=e[0].screen_y,s=e[0].screen_y,o=0;o<e.length;o++)r=e[o].screen_x,n[r]===void 0?(i=i>e[o].screen_y?e[o].screen_y:i,s=s<e[o].screen_y?e[o].screen_y:s):e[o].screen_y<0?n[r].accumulatedNegative+=e[o].screen_y:n[r].accumulatedPositive+=e[o].screen_y;for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i=i>n[a].accumulatedNegative?n[a].accumulatedNegative:i,i=i>n[a].accumulatedPositive?n[a].accumulatedPositive:i,s=s<n[a].accumulatedNegative?n[a].accumulatedNegative:s,s=s<n[a].accumulatedPositive?n[a].accumulatedPositive:s);return{min:i,max:s}};function mr(){}mr.calcPath=function(n,e){if(n!=null&&n.length>0){var r=[];return e.options.interpolation.enabled==!0?r=mr._catmullRom(n,e):r=mr._linear(n),r}};mr.drawIcon=function(n,e,r,i,s,o){var a=s*.5,l,c,u=Ls("rect",o.svgElements,o.svg);if(u.setAttributeNS(null,"x",e),u.setAttributeNS(null,"y",r-a),u.setAttributeNS(null,"width",i),u.setAttributeNS(null,"height",2*a),u.setAttributeNS(null,"class","vis-outline"),l=Ls("path",o.svgElements,o.svg),l.setAttributeNS(null,"class",n.className),n.style!==void 0&&l.setAttributeNS(null,"style",n.style),l.setAttributeNS(null,"d","M"+e+","+r+" L"+(e+i)+","+r),n.options.shaded.enabled==!0&&(c=Ls("path",o.svgElements,o.svg),n.options.shaded.orientation=="top"?c.setAttributeNS(null,"d","M"+e+", "+(r-a)+"L"+e+","+r+" L"+(e+i)+","+r+" L"+(e+i)+","+(r-a)):c.setAttributeNS(null,"d","M"+e+","+r+" L"+e+","+(r+a)+" L"+(e+i)+","+(r+a)+"L"+(e+i)+","+r),c.setAttributeNS(null,"class",n.className+" vis-icon-fill"),n.options.shaded.style!==void 0&&n.options.shaded.style!==""&&c.setAttributeNS(null,"style",n.options.shaded.style)),n.options.drawPoints.enabled==!0){var f={style:n.options.drawPoints.style,styles:n.options.drawPoints.styles,size:n.options.drawPoints.size,className:n.className};Wf(e+.5*i,r,f,o.svgElements,o.svg)}};mr.drawShading=function(n,e,r,i){if(e.options.shaded.enabled==!0){var s=Number(i.svg.style.height.replace("px","")),o=Ls("path",i.svgElements,i.svg),a="L";e.options.interpolation.enabled==!0&&(a="C");var l,c=0;e.options.shaded.orientation=="top"?c=0:e.options.shaded.orientation=="bottom"?c=s:c=Math.min(Math.max(0,e.zeroPosition),s),e.options.shaded.orientation=="group"&&r!=null&&r!=null?l="M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,a,!1)+" L"+r[r.length-1][0]+","+r[r.length-1][1]+" "+this.serializePath(r,a,!0)+r[0][0]+","+r[0][1]+" Z":l="M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,a,!1)+" V"+c+" H"+n[0][0]+" Z",o.setAttributeNS(null,"class",e.className+" vis-fill"),e.options.shaded.style!==void 0&&o.setAttributeNS(null,"style",e.options.shaded.style),o.setAttributeNS(null,"d",l)}};mr.draw=function(n,e,r){if(n!=null&&n!=null){var i=Ls("path",r.svgElements,r.svg);i.setAttributeNS(null,"class",e.className),e.style!==void 0&&i.setAttributeNS(null,"style",e.style);var s="L";e.options.interpolation.enabled==!0&&(s="C"),i.setAttributeNS(null,"d","M"+n[0][0]+","+n[0][1]+" "+this.serializePath(n,s,!1))}};mr.serializePath=function(n,e,r){if(n.length<2)return"";var i=e,s;if(r)for(s=n.length-2;s>0;s--)i+=n[s][0]+","+n[s][1]+" ";else for(s=1;s<n.length;s++)i+=n[s][0]+","+n[s][1]+" ";return i};mr._catmullRomUniform=function(n){var e,r,i,s,o,a,l=[];l.push([Math.round(n[0].screen_x),Math.round(n[0].screen_y)]);for(var c=1/6,u=n.length,f=0;f<u-1;f++)e=f==0?n[0]:n[f-1],r=n[f],i=n[f+1],s=f+2<u?n[f+2]:i,o={screen_x:(-e.screen_x+6*r.screen_x+i.screen_x)*c,screen_y:(-e.screen_y+6*r.screen_y+i.screen_y)*c},a={screen_x:(r.screen_x+6*i.screen_x-s.screen_x)*c,screen_y:(r.screen_y+6*i.screen_y-s.screen_y)*c},l.push([o.screen_x,o.screen_y]),l.push([a.screen_x,a.screen_y]),l.push([i.screen_x,i.screen_y]);return l};mr._catmullRom=function(n,e){var r=e.options.interpolation.alpha;if(r==0||r===void 0)return this._catmullRomUniform(n);var i,s,o,a,l,c,u,f,d,h,p,g,v,y,b,w,k,_,S,C=[];C.push([Math.round(n[0].screen_x),Math.round(n[0].screen_y)]);for(var T=n.length,D=0;D<T-1;D++)i=D==0?n[0]:n[D-1],s=n[D],o=n[D+1],a=D+2<T?n[D+2]:o,u=Math.sqrt(Math.pow(i.screen_x-s.screen_x,2)+Math.pow(i.screen_y-s.screen_y,2)),f=Math.sqrt(Math.pow(s.screen_x-o.screen_x,2)+Math.pow(s.screen_y-o.screen_y,2)),d=Math.sqrt(Math.pow(o.screen_x-a.screen_x,2)+Math.pow(o.screen_y-a.screen_y,2)),y=Math.pow(d,r),w=Math.pow(d,2*r),b=Math.pow(f,r),k=Math.pow(f,2*r),S=Math.pow(u,r),_=Math.pow(u,2*r),h=2*_+3*S*b+k,p=2*w+3*y*b+k,g=3*S*(S+b),g>0&&(g=1/g),v=3*y*(y+b),v>0&&(v=1/v),l={screen_x:(-k*i.screen_x+h*s.screen_x+_*o.screen_x)*g,screen_y:(-k*i.screen_y+h*s.screen_y+_*o.screen_y)*g},c={screen_x:(w*s.screen_x+p*o.screen_x-k*a.screen_x)*v,screen_y:(w*s.screen_y+p*o.screen_y-k*a.screen_y)*v},l.screen_x==0&&l.screen_y==0&&(l=s),c.screen_x==0&&c.screen_y==0&&(c=o),C.push([l.screen_x,l.screen_y]),C.push([c.screen_x,c.screen_y]),C.push([o.screen_x,o.screen_y]);return C};mr._linear=function(n){for(var e=[],r=0;r<n.length;r++)e.push([n[r].screen_x,n[r].screen_y]);return e};function Kl(n,e,r,i){this.id=e;var s=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=Q.selectiveBridgeObject(s,r),this.usingDefaultStyle=n.className===void 0,this.groupsUsingDefaultStyles=i,this.zeroPosition=0,this.update(n),this.usingDefaultStyle==!0&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=n.visible===void 0?!0:n.visible}Kl.prototype.setItems=function(n){n!=null?(this.itemsData=n,qn(this.options)==!0&&Q.insertSort(this.itemsData,function(e,r){return e.x>r.x?1:-1})):this.itemsData=[]};Kl.prototype.getItems=function(){return this.itemsData};Kl.prototype.setZeroPosition=function(n){this.zeroPosition=n};Kl.prototype.setOptions=function(n){if(n!==void 0){var e=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];Q.selectiveDeepExtend(e,this.options,n),typeof n.drawPoints=="function"&&(n.drawPoints={onRender:n.drawPoints}),Q.mergeOptions(this.options,n,"interpolation"),Q.mergeOptions(this.options,n,"drawPoints"),Q.mergeOptions(this.options,n,"shaded"),n.interpolation&&typeof n.interpolation=="object"&&n.interpolation.parametrization&&(n.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:n.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}};Kl.prototype.update=function(n){this.group=n,this.content=n.content||"graph",this.className=n.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=n.visible===void 0?!0:n.visible,this.style=n.style,this.setOptions(n.options)};Kl.prototype.getLegend=function(n,e,r,i,s){if(r==null||r==null){var o=document.createElementNS("http://www.w3.org/2000/svg","svg");r={svg:o,svgElements:{},options:this.options,groups:[this]}}switch((i==null||i==null)&&(i=0),(s==null||s==null)&&(s=.5*e),this.options.style){case"line":mr.drawIcon(this,i,s,n,e,r);break;case"points":case"point":b0.drawIcon(this,i,s,n,e,r);break;case"bar":Wr.drawIcon(this,i,s,n,e,r);break}return{icon:r.svg,label:this.content,orientation:this.options.yAxisOrientation}};Kl.prototype.getYRange=function(n){for(var e=n[0].y,r=n[0].y,i=0;i<n.length;i++)e=e>n[i].y?n[i].y:e,r=r<n[i].y?n[i].y:r;return{min:e,max:r,yAxisOrientation:this.options.yAxisOrientation}};function Ni(n,e,r,i){this.body=n,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=r,this.options=Q.extend({},this.defaultOptions),this.linegraphOptions=i,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}Ni.prototype=new Vl;Ni.prototype.clear=function(){this.groups={},this.amountOfGroups=0};Ni.prototype.addGroup=function(n,e){e.options.excludeFromLegend!=!0&&(Object.prototype.hasOwnProperty.call(this.groups,n)||(this.groups[n]=e),this.amountOfGroups+=1)};Ni.prototype.updateGroup=function(n,e){this.groups[n]=e};Ni.prototype.removeGroup=function(n){Object.prototype.hasOwnProperty.call(this.groups,n)&&(delete this.groups[n],this.amountOfGroups-=1)};Ni.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)};Ni.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};Ni.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};Ni.prototype.setOptions=function(n){var e=["enabled","orientation","icons","left","right"];Q.selectiveDeepExtend(e,this.options,n)};Ni.prototype.redraw=function(){var n=0,e=er(this.groups);qn(e).call(e,function(a,l){return a<l?-1:1});for(var r=0;r<e.length;r++){var i=e[r];this.groups[i].visible==!0&&(this.linegraphOptions.visibility[i]===void 0||this.linegraphOptions.visibility[i]==!0)&&n++}if(this.options[this.side].visible==!1||this.amountOfGroups==0||this.options.enabled==!1||n==0)this.hide();else{if(this.show(),this.options[this.side].position=="top-left"||this.options[this.side].position=="bottom-left"?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),this.options[this.side].position=="top-left"||this.options[this.side].position=="top-right")this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var s=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+s+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}this.options.icons==!1?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var o="";for(r=0;r<e.length;r++)i=e[r],this.groups[i].visible==!0&&(this.linegraphOptions.visibility[i]===void 0||this.linegraphOptions.visibility[i]==!0)&&(o+=this.groups[i].content+"<br />");this.dom.textArea.innerHTML=Q.xss(o),this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}};Ni.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var n=er(this.groups);qn(n).call(n,function(u,f){return u<f?-1:1}),gMe(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,r=Number(e.replace("px","")),i=r,s=this.options.iconSize,o=.75*this.options.iconSize,a=r+.5*o+3;this.svg.style.width=s+5+r+"px";for(var l=0;l<n.length;l++){var c=n[l];this.groups[c].visible==!0&&(this.linegraphOptions.visibility[c]===void 0||this.linegraphOptions.visibility[c]==!0)&&(this.groups[c].getLegend(s,o,this.framework,i,a),a+=o+this.options.iconSpacing)}}};var Jv="__ungrouped__";function rn(n,e){this.id=Kc(),this.body=n,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=Q.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var r=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(i,s){r._onAdd(s.items)},update:function(i,s){r._onUpdate(s.items)},remove:function(i,s){r._onRemove(s.items)}},this.groupListeners={add:function(i,s){r._onAddGroups(s.items)},update:function(i,s){r._onUpdateGroups(s.items)},remove:function(i,s){r._onRemoveGroups(s.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){r.svg.style.left=Q.option.asSize(-r.props.width),r.forceGraphUpdate=!0,r.redraw.call(r)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}rn.prototype=new Vl;rn.prototype._create=function(){var n=document.createElement("div");n.className="vis-line-graph",this.dom.frame=n,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",n.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new LW(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new LW(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new Ni(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new Ni(this.body,this.options.legend,"right",this.options.groups),this.show()};rn.prototype.setOptions=function(n){if(n){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];n.graphHeight===void 0&&n.height!==void 0?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):this.body.domProps.centerContainer.height!==void 0&&n.graphHeight!==void 0&&Ti((n.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),Q.selectiveDeepExtend(e,this.options,n),Q.mergeOptions(this.options,n,"interpolation"),Q.mergeOptions(this.options,n,"drawPoints"),Q.mergeOptions(this.options,n,"shaded"),Q.mergeOptions(this.options,n,"legend"),n.interpolation&&typeof n.interpolation=="object"&&n.interpolation.parametrization&&(n.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:n.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&n.dataAxis!==void 0&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&n.legend!==void 0&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),Object.prototype.hasOwnProperty.call(this.groups,Jv)&&this.groups[Jv].setOptions(n)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))};rn.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};rn.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};rn.prototype.setItems=function(n){var e=this,r,i=this.itemsData;if(!n)this.itemsData=null;else if(ka(n))this.itemsData=Gf(n);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(i&&(Qe(Q).call(Q,this.itemListeners,function(o,a){i.off(a,o)}),i.dispose(),r=i.getIds(),this._onRemove(r)),this.itemsData){var s=this.id;Qe(Q).call(Q,this.itemListeners,function(o,a){e.itemsData.on(a,o,s)}),r=this.itemsData.getIds(),this._onAdd(r)}};rn.prototype.setGroups=function(n){var e=this,r;if(this.groupsData){Qe(Q).call(Q,this.groupListeners,function(o,a){e.groupsData.off(a,o)}),r=this.groupsData.getIds(),this.groupsData=null;for(var i=0;i<r.length;i++)this._removeGroup(r[i])}if(!n)this.groupsData=null;else if(ka(n))this.groupsData=n;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){var s=this.id;Qe(Q).call(Q,this.groupListeners,function(o,a){e.groupsData.on(a,o,s)}),r=this.groupsData.getIds(),this._onAddGroups(r)}};rn.prototype._onUpdate=function(n){this._updateAllGroupData(n)};rn.prototype._onAdd=function(n){this._onUpdate(n)};rn.prototype._onRemove=function(n){this._onUpdate(n)};rn.prototype._onUpdateGroups=function(n){this._updateAllGroupData(null,n)};rn.prototype._onAddGroups=function(n){this._onUpdateGroups(n)};rn.prototype._onRemoveGroups=function(n){for(var e=0;e<n.length;e++)this._removeGroup(n[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})};rn.prototype._removeGroup=function(n){Object.prototype.hasOwnProperty.call(this.groups,n)&&(this.groups[n].options.yAxisOrientation=="right"?(this.yAxisRight.removeGroup(n),this.legendRight.removeGroup(n),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(n),this.legendLeft.removeGroup(n),this.legendLeft.redraw()),delete this.groups[n])};rn.prototype._updateGroup=function(n,e){Object.prototype.hasOwnProperty.call(this.groups,e)?(this.groups[e].update(n),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new Kl(n,e,this.options,this.groupsUsingDefaultStyles),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()};rn.prototype._updateAllGroupData=function(n,e){if(this.itemsData!=null){var r={},i=this.itemsData.get(),s=this.itemsData.idProp,o={};n&&Vt(n).call(n,function(y){o[y]=y});for(var a={},l=0;l<i.length;l++){var c=i[l],u=c.group;u==null&&(u=Jv),Object.prototype.hasOwnProperty.call(a,u)?a[u]++:a[u]=1}var f={};if(!e&&n){for(u in this.groups)if(Object.prototype.hasOwnProperty.call(this.groups,u)){v=this.groups[u];var d=v.getItems();r[u]=dt(d).call(d,function(y){return f[y[s]]=y[s],y[s]!==o[y[s]]});var h=a[u];a[u]-=r[u].length,r[u].length<h&&(r[u][h-1]={})}}for(l=0;l<i.length;l++)if(c=i[l],u=c.group,u==null&&(u=Jv),!(!e&&n&&c[s]!==o[c[s]]&&Object.prototype.hasOwnProperty.call(f,c[s]))){Object.prototype.hasOwnProperty.call(r,u)||(r[u]=new Array(a[u]));var p=Q.bridgeObject(c);p.x=Q.convert(c.x,"Date"),p.end=Q.convert(c.end,"Date"),p.orginalY=c.y,p.y=Number(c.y),p[s]=c[s];var g=r[u].length-a[u]--;r[u][g]=p}for(u in this.groups)!Object.prototype.hasOwnProperty.call(this.groups,u)||Object.prototype.hasOwnProperty.call(r,u)||(r[u]=new Array(0));for(u in r)if(Object.prototype.hasOwnProperty.call(r,u))if(r[u].length==0)Object.prototype.hasOwnProperty.call(this.groups,u)&&this._removeGroup(u);else{var v=void 0;this.groupsData!=null&&(v=this.groupsData.get(u)),v==null&&(v={id:u,content:this.options.defaultGroup+u}),this._updateGroup(v,u),this.groups[u].setItems(r[u])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}};rn.prototype.redraw=function(){var n=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,n=this._isResized()||n;var e=this.body.range.end-this.body.range.start,r=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,n==!0){var i;this.svg.style.width=Q.option.asSize(3*this.props.width),this.svg.style.left=Q.option.asSize(-this.props.width),(tn(i=this.options.height+"").call(i,"%")!=-1||this.updateSVGheightOnResize==!0)&&(this.updateSVGheight=!0)}if(this.updateSVGheight==!0?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",n==!0||r==!0||this.abortedGraphUpdate==!0||this.forceGraphUpdate==!0)n=this._updateGraph()||n,this.forceGraphUpdate=!1,this.lastStart=this.body.range.start,this.svg.style.left=-this.props.width+"px";else if(this.lastStart!=0){var s=this.body.range.start-this.lastStart,o=this.body.range.end-this.body.range.start;if(this.props.width!=0){var a=this.props.width/o,l=s*a;this.svg.style.left=-this.props.width-l+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),n};rn.prototype._getSortedGroupIds=function(){var n=[];for(var e in this.groups)if(Object.prototype.hasOwnProperty.call(this.groups,e)){var r=this.groups[e];r.visible==!0&&(this.options.groups.visibility[e]===void 0||this.options.groups.visibility[e]==!0)&&n.push({id:e,zIndex:r.options.zIndex})}Q.insertSort(n,function(o,a){var l=o.zIndex,c=a.zIndex;return l===void 0&&(l=0),c===void 0&&(c=0),l==c?0:l<c?-1:1});for(var i=new Array(n.length),s=0;s<n.length;s++)i[s]=n[s].id;return i};rn.prototype._updateGraph=function(){if(tl(this.svgElements),this.props.width!=0&&this.itemsData!=null){var n,e,r={},i=!1,s=this.body.util.toGlobalTime(-this.body.domProps.root.width),o=this.body.util.toGlobalTime(2*this.body.domProps.root.width),a=this._getSortedGroupIds();if(a.length>0){var l={};for(this._getRelevantData(a,l,s,o),this._applySampling(a,l),e=0;e<a.length;e++)this._convertXcoordinates(l[a[e]]);if(this._getYRanges(a,l,r),i=this._updateYAxis(a,r),i==!0)return Qi(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var c=void 0;for(e=0;e<a.length;e++)n=this.groups[a[e]],this.options.stack===!0&&this.options.style==="line"&&(n.options.excludeFromStacking==null||!n.options.excludeFromStacking)&&(c!=null&&(this._stack(l[n.id],l[c.id]),n.options.shaded.enabled==!0&&n.options.shaded.orientation!=="group"&&(n.options.shaded.orientation=="top"&&c.options.shaded.orientation!=="group"?(c.options.shaded.orientation="group",c.options.shaded.groupId=n.id):(n.options.shaded.orientation="group",n.options.shaded.groupId=c.id))),c=n),this._convertYcoordinates(l[a[e]],n);var u={};for(e=0;e<a.length;e++)if(n=this.groups[a[e]],n.options.style==="line"&&n.options.shaded.enabled==!0){var f=l[a[e]];if(f==null||f.length==0)continue;if(Object.prototype.hasOwnProperty.call(u,a[e])||(u[a[e]]=mr.calcPath(f,n)),n.options.shaded.orientation==="group"){var d=n.options.shaded.groupId;if(tn(a).call(a,d)===-1){console.log(n.id+": Unknown shading group target given:"+d);continue}Object.prototype.hasOwnProperty.call(u,d)||(u[d]=mr.calcPath(l[d],this.groups[d])),mr.drawShading(u[a[e]],n,u[d],this.framework)}else mr.drawShading(u[a[e]],n,void 0,this.framework)}for(Wr.draw(a,l,this.framework),e=0;e<a.length;e++)if(n=this.groups[a[e]],l[a[e]].length>0)switch(n.options.style){case"line":Object.prototype.hasOwnProperty.call(u,a[e])||(u[a[e]]=mr.calcPath(l[a[e]],n)),mr.draw(u[a[e]],n,this.framework);case"point":case"points":(n.options.style=="point"||n.options.style=="points"||n.options.drawPoints.enabled==!0)&&b0.draw(l[a[e]],n,this.framework);break}}}return Qi(this.svgElements),!1};rn.prototype._stack=function(n,e){var r,i,s,o,a;r=0;for(var l=0;l<n.length;l++){o=void 0,a=void 0;for(var c=r;c<e.length;c++)if(e[c].x===n[l].x){o=e[c],a=e[c],r=c;break}else if(e[c].x>n[l].x){a=e[c],c==0?o=a:o=e[c-1],r=c;break}a===void 0&&(o=e[e.length-1],a=e[e.length-1]),i=a.x-o.x,s=a.y-o.y,i==0?n[l].y=n[l].orginalY+a.y:n[l].y=n[l].orginalY+s/i*(n[l].x-o.x)+o.y}};rn.prototype._getRelevantData=function(n,e,r,i){var s,o,a,l;if(n.length>0)for(o=0;o<n.length;o++){s=this.groups[n[o]];var c=s.getItems();if(qn(s.options)==!0){var u=function(p,g){return p.getTime()==g.getTime()?0:p<g?-1:1},f=Math.max(0,Q.binarySearchValue(c,r,"x","before",u)),d=Math.min(c.length,Q.binarySearchValue(c,i,"x","after",u)+1);d<=0&&(d=c.length);var h=new Array(d-f);for(a=f;a<d;a++)l=s.itemsData[a],h[a-f]=l;e[n[o]]=h}else e[n[o]]=s.itemsData}};rn.prototype._applySampling=function(n,e){var r;if(n.length>0){for(var i=0;i<n.length;i++)if(r=this.groups[n[i]],r.options.sampling==!0){var s=e[n[i]];if(s.length>0){var o=1,a=s.length,l=this.body.util.toGlobalScreen(s[s.length-1].x)-this.body.util.toGlobalScreen(s[0].x),c=a/l;o=Math.min(Math.ceil(.2*a),Math.max(1,Math.round(c)));for(var u=new Array(a),f=0;f<a;f+=o){var d=Math.round(f/o);u[d]=s[f]}e[n[i]]=Ur(u).call(u,0,Math.round(a/o))}}}};rn.prototype._getYRanges=function(n,e,r){var i,s,o,a=[],l=[],c;if(n.length>0){for(o=0;o<n.length;o++)i=e[n[o]],c=this.groups[n[o]].options,i.length>0&&(s=this.groups[n[o]],c.stack===!0&&c.style==="bar"?c.yAxisOrientation==="left"?a=$n(a).call(a,i):l=$n(l).call(l,i):r[n[o]]=s.getYRange(i,n[o]));Wr.getStackedYRange(a,r,n,"__barStackLeft","left"),Wr.getStackedYRange(l,r,n,"__barStackRight","right")}};rn.prototype._updateYAxis=function(n,e){var r=!1,i=!1,s=!1,o=1e9,a=1e9,l=-1e9,c=-1e9,u,f;if(n.length>0){for(var d=0;d<n.length;d++){var h=this.groups[n[d]];h&&h.options.yAxisOrientation!="right"?(i=!0,o=1e9,l=-1e9):h&&h.options.yAxisOrientation&&(s=!0,a=1e9,c=-1e9)}for(d=0;d<n.length;d++)!Object.prototype.hasOwnProperty.call(e,n[d])||e[n[d]].ignore===!0||(u=e[n[d]].min,f=e[n[d]].max,e[n[d]].yAxisOrientation!="right"?(i=!0,o=o>u?u:o,l=l<f?f:l):(s=!0,a=a>u?u:a,c=c<f?f:c));i==!0&&this.yAxisLeft.setRange(o,l),s==!0&&this.yAxisRight.setRange(a,c)}r=this._toggleAxisVisiblity(i,this.yAxisLeft)||r,r=this._toggleAxisVisiblity(s,this.yAxisRight)||r,s==!0&&i==!0?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!i,this.yAxisRight.masterAxis=this.yAxisLeft,this.yAxisRight.master==!1?(s==!0?this.yAxisLeft.lineOffset=this.yAxisRight.width:this.yAxisLeft.lineOffset=0,r=this.yAxisLeft.redraw()||r,r=this.yAxisRight.redraw()||r):r=this.yAxisRight.redraw()||r;var p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(d=0;d<p.length;d++)tn(n).call(n,p[d])!=-1&&Ur(n).call(n,tn(n).call(n,p[d]),1);return r};rn.prototype._toggleAxisVisiblity=function(n,e){var r=!1;return n==!1?e.dom.frame.parentNode&&e.hidden==!1&&(e.hide(),r=!0):!e.dom.frame.parentNode&&e.hidden==!0&&(e.show(),r=!0),r};rn.prototype._convertXcoordinates=function(n){for(var e=this.body.util.toScreen,r=0;r<n.length;r++)n[r].screen_x=e(n[r].x)+this.props.width,n[r].screen_y=n[r].y,n[r].end!=null?n[r].screen_end=e(n[r].end)+this.props.width:n[r].screen_end=void 0};rn.prototype._convertYcoordinates=function(n,e){var r=this.yAxisLeft,i=Number(this.svg.style.height.replace("px",""));e.options.yAxisOrientation=="right"&&(r=this.yAxisRight);for(var s=0;s<n.length;s++)n[s].screen_y=Math.round(r.convertValue(n[s].y));e.setZeroPosition(Math.min(i,r.convertValue(0)))};let wt="string",Lt="boolean",Qt="number",d5e="array",Zu="date",yn="object",f5e="dom",Ju="moment",FW="any",h5e={configure:{enabled:{boolean:Lt},filter:{boolean:Lt,function:"function"},container:{dom:f5e},__type__:{object:yn,boolean:Lt,function:"function"}},alignCurrentTime:{string:wt,undefined:"undefined"},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:wt},sort:{boolean:Lt},sampling:{boolean:Lt},stack:{boolean:Lt},graphHeight:{string:wt,number:Qt},shaded:{enabled:{boolean:Lt},orientation:{string:["bottom","top","zero","group"]},groupId:{object:yn},__type__:{boolean:Lt,object:yn}},style:{string:["line","bar","points"]},barChart:{width:{number:Qt},minWidth:{number:Qt},sideBySide:{boolean:Lt},align:{string:["left","center","right"]},__type__:{object:yn}},interpolation:{enabled:{boolean:Lt},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:Qt},__type__:{object:yn,boolean:Lt}},drawPoints:{enabled:{boolean:Lt},onRender:{function:"function"},size:{number:Qt},style:{string:["square","circle"]},__type__:{object:yn,boolean:Lt,function:"function"}},dataAxis:{showMinorLabels:{boolean:Lt},showMajorLabels:{boolean:Lt},showWeekScale:{boolean:Lt},icons:{boolean:Lt},width:{string:wt,number:Qt},visible:{boolean:Lt},alignZeros:{boolean:Lt},left:{range:{min:{number:Qt,undefined:"undefined"},max:{number:Qt,undefined:"undefined"},__type__:{object:yn}},format:{function:"function"},title:{text:{string:wt,number:Qt,undefined:"undefined"},style:{string:wt,undefined:"undefined"},__type__:{object:yn}},__type__:{object:yn}},right:{range:{min:{number:Qt,undefined:"undefined"},max:{number:Qt,undefined:"undefined"},__type__:{object:yn}},format:{function:"function"},title:{text:{string:wt,number:Qt,undefined:"undefined"},style:{string:wt,undefined:"undefined"},__type__:{object:yn}},__type__:{object:yn}},__type__:{object:yn}},legend:{enabled:{boolean:Lt},icons:{boolean:Lt},left:{visible:{boolean:Lt},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:yn}},right:{visible:{boolean:Lt},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:yn}},__type__:{object:yn,boolean:Lt}},groups:{visibility:{any:FW},__type__:{object:yn}},autoResize:{boolean:Lt},throttleRedraw:{number:Qt},clickToUse:{boolean:Lt},end:{number:Qt,date:Zu,string:wt,moment:Ju},format:{minorLabels:{millisecond:{string:wt,undefined:"undefined"},second:{string:wt,undefined:"undefined"},minute:{string:wt,undefined:"undefined"},hour:{string:wt,undefined:"undefined"},weekday:{string:wt,undefined:"undefined"},day:{string:wt,undefined:"undefined"},week:{string:wt,undefined:"undefined"},month:{string:wt,undefined:"undefined"},quarter:{string:wt,undefined:"undefined"},year:{string:wt,undefined:"undefined"},__type__:{object:yn}},majorLabels:{millisecond:{string:wt,undefined:"undefined"},second:{string:wt,undefined:"undefined"},minute:{string:wt,undefined:"undefined"},hour:{string:wt,undefined:"undefined"},weekday:{string:wt,undefined:"undefined"},day:{string:wt,undefined:"undefined"},week:{string:wt,undefined:"undefined"},month:{string:wt,undefined:"undefined"},quarter:{string:wt,undefined:"undefined"},year:{string:wt,undefined:"undefined"},__type__:{object:yn}},__type__:{object:yn}},moment:{function:"function"},height:{string:wt,number:Qt},hiddenDates:{start:{date:Zu,number:Qt,string:wt,moment:Ju},end:{date:Zu,number:Qt,string:wt,moment:Ju},repeat:{string:wt},__type__:{object:yn,array:d5e}},locale:{string:wt},locales:{__any__:{any:FW},__type__:{object:yn}},max:{date:Zu,number:Qt,string:wt,moment:Ju},maxHeight:{number:Qt,string:wt},maxMinorChars:{number:Qt},min:{date:Zu,number:Qt,string:wt,moment:Ju},minHeight:{number:Qt,string:wt},moveable:{boolean:Lt},multiselect:{boolean:Lt},orientation:{string:wt},showCurrentTime:{boolean:Lt},showMajorLabels:{boolean:Lt},showMinorLabels:{boolean:Lt},showWeekScale:{boolean:Lt},snap:{function:"function",null:"null"},start:{date:Zu,number:Qt,string:wt,moment:Ju},timeAxis:{scale:{string:wt,undefined:"undefined"},step:{number:Qt,undefined:"undefined"},__type__:{object:yn}},width:{string:wt,number:Qt},zoomable:{boolean:Lt},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:Qt},zoomMin:{number:Qt},zIndex:{number:Qt},__type__:{object:yn}},p5e={global:{alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",quarter:"[Q]Q",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",quarter:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,showWeekScale:!1,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};function Pa(n,e,r,i){var s,o,a,l,c,u,f;if(!(Et(r)||ka(r))&&r instanceof Object){var d=i;i=r,r=d}i&&i.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var h=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:qr,width:null,height:null,maxHeight:null,minHeight:null},this.options=Q.deepExtend({},this.defaultOptions),this._create(n),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:ke(s=this.on).call(s,this),off:ke(o=this.off).call(o,this),emit:ke(a=this.emit).call(a,this)},hiddenDates:[],util:{getScale(){return h.timeAxis.step.scale},getStep(){return h.timeAxis.step.step},toScreen:ke(l=h._toScreen).call(l,h),toGlobalScreen:ke(c=h._toGlobalScreen).call(c,h),toTime:ke(u=h._toTime).call(u,h),toGlobalTime:ke(f=h._toGlobalTime).call(f,h)}},this.range=new jw(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new Qv(this.body),this.components.push(this.timeAxis),this.currentTime=new Oee(this.body),this.components.push(this.currentTime),this.linegraph=new rn(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(p){h.emit("click",h.getEventProperties(p))}),this.on("doubletap",function(p){h.emit("doubleClick",h.getEventProperties(p))}),this.dom.root.oncontextmenu=function(p){h.emit("contextmenu",h.getEventProperties(p))},this.initialFitDone=!1,this.on("changed",function(){if(h.itemsData!=null){if(!h.initialFitDone&&!h.options.rollingMode)if(h.initialFitDone=!0,h.options.start!=null||h.options.end!=null){if(h.options.start==null||h.options.end==null)var p=h.getItemRange();var g=h.options.start!=null?h.options.start:p.min,v=h.options.end!=null?h.options.end:p.max;h.setWindow(g,v,{animation:!1})}else h.fit({animation:!1});!h.initialDrawDone&&(h.initialRangeChangeDone||!h.options.start&&!h.options.end||h.options.rollingMode)&&(h.initialDrawDone=!0,h.dom.root.style.visibility="visible",h.dom.loadingScreen.parentNode.removeChild(h.dom.loadingScreen),h.options.onInitialDrawComplete&&Pr(()=>h.options.onInitialDrawComplete(),0))}}),i&&this.setOptions(i),r&&this.setGroups(r),e&&this.setItems(e),this._redraw()}Pa.prototype=new Fd;Pa.prototype.setOptions=function(n){vn.validate(n,h5e)===!0&&console.log("%cErrors have been found in the supplied options object.",Zv),Fd.prototype.setOptions.call(this,n)};Pa.prototype.setItems=function(n){var e=this.itemsData==null,r;if(n?ka(n)?r=Gf(n):r=Gf(new Hf(n)):r=null,this.itemsData&&this.itemsData.dispose(),this.itemsData=r,this.linegraph&&this.linegraph.setItems(r!=null?r.rawDS:null),e)if(this.options.start!=null||this.options.end!=null){var i=this.options.start!=null?this.options.start:null,s=this.options.end!=null?this.options.end:null;this.setWindow(i,s,{animation:!1})}else this.fit({animation:!1})};Pa.prototype.setGroups=function(n){var e;n?ka(n)?e=n:e=new Hf(n):e=null,this.groupsData=e,this.linegraph.setGroups(e)};Pa.prototype.getLegend=function(n,e,r){return e===void 0&&(e=15),r===void 0&&(r=15),this.linegraph.groups[n]!==void 0?this.linegraph.groups[n].getLegend(e,r):"cannot find group:'"+n+"'"};Pa.prototype.isGroupVisible=function(n){return this.linegraph.groups[n]!==void 0?this.linegraph.groups[n].visible&&(this.linegraph.options.groups.visibility[n]===void 0||this.linegraph.options.groups.visibility[n]==!0):!1};Pa.prototype.getDataRange=function(){var n=null,e=null;for(var r in this.linegraph.groups)if(!(!Object.prototype.hasOwnProperty.call(this.linegraph.groups,r)||this.linegraph.groups[r].visible!==!0))for(var i=0;i<this.linegraph.groups[r].itemsData.length;i++){var s=this.linegraph.groups[r].itemsData[i],o=Q.convert(s.x,"Date").valueOf();n=n==null||n>o?o:n,e=e==null||e<o?o:e}return{min:n!=null?new Date(n):null,max:e!=null?new Date(e):null}};Pa.prototype.getEventProperties=function(n){var e=n.center?n.center.x:n.clientX,r=n.center?n.center.y:n.clientY,i=e-Q.getAbsoluteLeft(this.dom.centerContainer),s=r-Q.getAbsoluteTop(this.dom.centerContainer),o=this._toTime(i),a=BR.customTimeFromTarget(n),l=Q.getTarget(n),c=null;Q.hasParent(l,this.timeAxis.dom.foreground)||this.timeAxis2&&Q.hasParent(l,this.timeAxis2.dom.foreground)?c="axis":Q.hasParent(l,this.linegraph.yAxisLeft.dom.frame)||Q.hasParent(l,this.linegraph.yAxisRight.dom.frame)?c="data-axis":Q.hasParent(l,this.linegraph.legendLeft.dom.frame)||Q.hasParent(l,this.linegraph.legendRight.dom.frame)?c="legend":a!=null?c="custom-time":Q.hasParent(l,this.currentTime.bar)?c="current-time":Q.hasParent(l,this.dom.center)&&(c="background");var u=[],f=this.linegraph.yAxisLeft,d=this.linegraph.yAxisRight;return!f.hidden&&this.itemsData.length>0&&u.push(f.screenToValue(s)),!d.hidden&&this.itemsData.length>0&&u.push(d.screenToValue(s)),{event:n,customTime:a?a.options.id:null,what:c,pageX:n.srcEvent?n.srcEvent.pageX:n.pageX,pageY:n.srcEvent?n.srcEvent.pageY:n.pageY,x:i,y:s,time:o,value:u}};Pa.prototype._createConfigurator=function(){return new Aee(this,this.dom.container,p5e)};const m5e=bMe();qr.locale(m5e);function g5e(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function b5e(n,e,r){return e=C5e(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function $W(n,e){return x5e(n)||g5e(n,e)||Ree(n,e)||S5e()}function y5e(n){return v5e(n)||w5e(n)||Ree(n)||_5e()}function v5e(n){if(Array.isArray(n))return XI(n)}function x5e(n){if(Array.isArray(n))return n}function w5e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Ree(n,e){if(n){if(typeof n=="string")return XI(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XI(n,e)}}function XI(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function _5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k5e(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function C5e(n){var e=k5e(n,"string");return typeof e=="symbol"?e:String(e)}var T5e=function(e,r){var i=new Set(r);return Object.assign.apply(Object,[{}].concat(y5e(Object.entries(e).filter(function(s){var o=$W(s,1),a=o[0];return!i.has(a)}).map(function(s){var o=$W(s,2),a=o[0],l=o[1];return b5e({},a,l)}))))};function QI(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function E5e(n){if(Array.isArray(n))return n}function D5e(n){if(Array.isArray(n))return QI(n)}function P5e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function I5e(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function O5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A5e(n,e){return E5e(n)||I5e(n,e)||Nee(n,e)||O5e()}function BW(n){return D5e(n)||P5e(n)||Nee(n)||M5e()}function Nee(n,e){if(n){if(typeof n=="string")return QI(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?QI(n,e):void 0}}function R5e(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.wrapperElementType,i=r===void 0?"div":r,s=e.nodeMapper,o=s===void 0?function(f){return f}:s,a=e.methodNames,l=a===void 0?[]:a,c=e.initPropNames,u=c===void 0?[]:c;return I.forwardRef(function(f,d){var h=I.useRef(),p=I.useMemo(function(){var y=Object.fromEntries(u.filter(function(b){return f.hasOwnProperty(b)}).map(function(b){return[b,f[b]]}));return n(y)},[]);zW(function(){p(o(h.current))},I.useLayoutEffect),zW(function(){return p._destructor instanceof Function?p._destructor:void 0});var g=I.useCallback(function(y){for(var b=arguments.length,w=new Array(b>1?b-1:0),k=1;k<b;k++)w[k-1]=arguments[k];return p[y]instanceof Function?p[y].apply(p,w):void 0},[p]),v=I.useRef({});return Object.keys(T5e(f,[].concat(BW(l),BW(u)))).filter(function(y){return v.current[y]!==f[y]}).forEach(function(y){return g(y,f[y])}),v.current=f,I.useImperativeHandle(d,function(){return Object.fromEntries(l.map(function(y){return[y,function(){for(var b=arguments.length,w=new Array(b),k=0;k<b;k++)w[k]=arguments[k];return g.apply(void 0,[y].concat(w))}]}))},[g]),Ae.createElement(i,{ref:h})})}function zW(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I.useEffect,r=I.useRef(),i=I.useRef(!1),s=I.useRef(!1),o=I.useState(0),a=A5e(o,2);a[0];var l=a[1];i.current&&(s.current=!0),e(function(){return i.current||(r.current=n(),i.current=!0),l(function(c){return c+1}),function(){s.current&&r.current&&r.current()}},[])}var N5e=typeof global=="object"&&global&&global.Object===Object&&global,j5e=typeof self=="object"&&self&&self.Object===Object&&self,jee=N5e||j5e||Function("return this")(),ex=jee.Symbol,Lee=Object.prototype,L5e=Lee.hasOwnProperty,F5e=Lee.toString,lp=ex?ex.toStringTag:void 0;function $5e(n){var e=L5e.call(n,lp),r=n[lp];try{n[lp]=void 0;var i=!0}catch{}var s=F5e.call(n);return i&&(e?n[lp]=r:delete n[lp]),s}var B5e=Object.prototype,z5e=B5e.toString;function U5e(n){return z5e.call(n)}var q5e="[object Null]",W5e="[object Undefined]",UW=ex?ex.toStringTag:void 0;function H5e(n){return n==null?n===void 0?W5e:q5e:UW&&UW in Object(n)?$5e(n):U5e(n)}function G5e(n){return n!=null&&typeof n=="object"}var Y5e="[object Symbol]";function V5e(n){return typeof n=="symbol"||G5e(n)&&H5e(n)==Y5e}var K5e=/\s/;function X5e(n){for(var e=n.length;e--&&K5e.test(n.charAt(e)););return e}var Q5e=/^\s+/;function Z5e(n){return n&&n.slice(0,X5e(n)+1).replace(Q5e,"")}function tx(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var qW=NaN,J5e=/^[-+]0x[0-9a-f]+$/i,e4e=/^0b[01]+$/i,t4e=/^0o[0-7]+$/i,n4e=parseInt;function WW(n){if(typeof n=="number")return n;if(V5e(n))return qW;if(tx(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=tx(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=Z5e(n);var r=e4e.test(n);return r||t4e.test(n)?n4e(n.slice(2),r?2:8):J5e.test(n)?qW:+n}var gD=function(){return jee.Date.now()},r4e="Expected a function",i4e=Math.max,s4e=Math.min;function Fee(n,e,r){var i,s,o,a,l,c,u=0,f=!1,d=!1,h=!0;if(typeof n!="function")throw new TypeError(r4e);e=WW(e)||0,tx(r)&&(f=!!r.leading,d="maxWait"in r,o=d?i4e(WW(r.maxWait)||0,e):o,h="trailing"in r?!!r.trailing:h);function p(C){var T=i,D=s;return i=s=void 0,u=C,a=n.apply(D,T),a}function g(C){return u=C,l=setTimeout(b,e),f?p(C):a}function v(C){var T=C-c,D=C-u,O=e-T;return d?s4e(O,o-D):O}function y(C){var T=C-c,D=C-u;return c===void 0||T>=e||T<0||d&&D>=o}function b(){var C=gD();if(y(C))return w(C);l=setTimeout(b,v(C))}function w(C){return l=void 0,h&&i?p(C):(i=s=void 0,a)}function k(){l!==void 0&&clearTimeout(l),u=0,i=c=s=l=void 0}function _(){return l===void 0?a:w(gD())}function S(){var C=gD(),T=y(C);if(i=arguments,s=this,c=C,T){if(l===void 0)return g(c);if(d)return clearTimeout(l),l=setTimeout(b,e),p(c)}return l===void 0&&(l=setTimeout(b,e)),a}return S.cancel=k,S.flush=_,S}var o4e="Expected a function";function a4e(n,e,r){var i=!0,s=!0;if(typeof n!="function")throw new TypeError(o4e);return tx(r)&&(i="leading"in r?!!r.leading:i,s="trailing"in r?!!r.trailing:s),Fee(n,e,{leading:i,maxWait:e,trailing:s})}var Xc=Object.freeze({Linear:Object.freeze({None:function(n){return n},In:function(n){return n},Out:function(n){return n},InOut:function(n){return n}}),Quadratic:Object.freeze({In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}}),Cubic:Object.freeze({In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}}),Quartic:Object.freeze({In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}}),Quintic:Object.freeze({In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}}),Sinusoidal:Object.freeze({In:function(n){return 1-Math.sin((1-n)*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.sin(Math.PI*(.5-n)))}}),Exponential:Object.freeze({In:function(n){return n===0?0:Math.pow(1024,n-1)},Out:function(n){return n===1?1:1-Math.pow(2,-10*n)},InOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}}),Circular:Object.freeze({In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}}),Elastic:Object.freeze({In:function(n){return n===0?0:n===1?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return n===0?0:n===1?1:(n*=2,n<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(n){var e=1.70158;return n===1?1:n*n*((e+1)*n-e)},Out:function(n){var e=1.70158;return n===0?0:--n*n*((e+1)*n+e)+1},InOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}}),Bounce:Object.freeze({In:function(n){return 1-Xc.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?Xc.Bounce.In(n*2)*.5:Xc.Bounce.Out(n*2-1)*.5+.5}}),generatePow:function(n){return n===void 0&&(n=4),n=n<Number.EPSILON?Number.EPSILON:n,n=n>1e4?1e4:n,{In:function(e){return Math.pow(e,n)},Out:function(e){return 1-Math.pow(1-e,n)},InOut:function(e){return e<.5?Math.pow(e*2,n)/2:(1-Math.pow(2-e*2,n))/2+.5}}}}),Rp=function(){return performance.now()},$ee=function(){function n(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,e)}return n.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(r){return e._tweens[r]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(){for(var e,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];for(var s=0,o=r;s<o.length;s++){var a=o[s];(e=a._group)===null||e===void 0||e.remove(a),a._group=this,this._tweens[a.getId()]=a,this._tweensAddedDuringUpdate[a.getId()]=a}},n.prototype.remove=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var i=0,s=e;i<s.length;i++){var o=s[i];o._group=void 0,delete this._tweens[o.getId()],delete this._tweensAddedDuringUpdate[o.getId()]}},n.prototype.allStopped=function(){return this.getAll().every(function(e){return!e.isPlaying()})},n.prototype.update=function(e,r){e===void 0&&(e=Rp()),r===void 0&&(r=!0);var i=Object.keys(this._tweens);if(i.length!==0)for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var s=0;s<i.length;s++){var o=this._tweens[i[s]],a=!r;o&&o.update(e,a)===!1&&!r&&this.remove(o)}i=Object.keys(this._tweensAddedDuringUpdate)}},n}(),ZI={Linear:function(n,e){var r=n.length-1,i=r*e,s=Math.floor(i),o=ZI.Utils.Linear;return e<0?o(n[0],n[1],i):e>1?o(n[r],n[r-1],r-i):o(n[s],n[s+1>r?r:s+1],i-s)},Utils:{Linear:function(n,e,r){return(e-n)*r+n}}},Bee=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),JI=new $ee,HW=function(){function n(e,r){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Xc.Linear.None,this._interpolationFunction=ZI.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=Bee.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=e,typeof r=="object"?(this._group=r,r.add(this)):r===!0&&(this._group=JI,JI.add(this))}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.getDuration=function(){return this._duration},n.prototype.to=function(e,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},n.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},n.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},n.prototype.start=function(e,r){if(e===void 0&&(e=Rp()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var s={};for(var o in this._valuesEnd)s[o]=this._valuesEnd[o];this._valuesEnd=s}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},n.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},n.prototype._setupProperties=function(e,r,i,s,o){for(var a in i){var l=e[a],c=Array.isArray(l),u=c?"array":typeof l,f=!c&&Array.isArray(i[a]);if(!(u==="undefined"||u==="function")){if(f){var d=i[a];if(d.length===0)continue;for(var h=[l],p=0,g=d.length;p<g;p+=1){var v=this._handleRelativeValue(l,d[p]);if(isNaN(v)){f=!1,console.warn("Found invalid interpolation list. Skipping.");break}h.push(v)}f&&(i[a]=h)}if((u==="object"||c)&&l&&!f){r[a]=c?[]:{};var y=l;for(var b in y)r[a][b]=y[b];s[a]=c?[]:{};var d=i[a];if(!this._isDynamic){var w={};for(var b in d)w[b]=d[b];i[a]=d=w}this._setupProperties(y,r[a],d,s[a],o)}else(typeof r[a]>"u"||o)&&(r[a]=l),c||(r[a]*=1),f?s[a]=i[a].slice().reverse():s[a]=r[a]||0}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},n.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},n.prototype.pause=function(e){return e===void 0&&(e=Rp()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this)},n.prototype.resume=function(e){return e===void 0&&(e=Rp()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this)},n.prototype.stopChainedTweens=function(){for(var e=0,r=this._chainedTweens.length;e<r;e++)this._chainedTweens[e].stop();return this},n.prototype.group=function(e){return e?(e.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},n.prototype.remove=function(){var e;return(e=this._group)===null||e===void 0||e.remove(this),this},n.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},n.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},n.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},n.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},n.prototype.easing=function(e){return e===void 0&&(e=Xc.Linear.None),this._easingFunction=e,this},n.prototype.interpolation=function(e){return e===void 0&&(e=ZI.Linear),this._interpolationFunction=e,this},n.prototype.chain=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._chainedTweens=e,this},n.prototype.onStart=function(e){return this._onStartCallback=e,this},n.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},n.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},n.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},n.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},n.prototype.onStop=function(e){return this._onStopCallback=e,this},n.prototype.update=function(e,r){var i=this,s;if(e===void 0&&(e=Rp()),r===void 0&&(r=n.autoStartOnUpdate),this._isPaused)return!0;var o;if(!this._goToEnd&&!this._isPlaying)if(r)this.start(e,!0);else return!1;if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var a=e-this._startTime,l=this._duration+((s=this._repeatDelayTime)!==null&&s!==void 0?s:this._delayTime),c=this._duration+this._repeat*l,u=function(){if(i._duration===0||a>c)return 1;var v=Math.trunc(a/l),y=a-v*l,b=Math.min(y/i._duration,1);return b===0&&a===i._duration?1:b},f=u(),d=this._easingFunction(f);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,d),this._onUpdateCallback&&this._onUpdateCallback(this._object,f),this._duration===0||a>=this._duration)if(this._repeat>0){var h=Math.min(Math.trunc((a-this._duration)/l)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=h);for(o in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[o]=="string"&&(this._valuesStartRepeat[o]=this._valuesStartRepeat[o]+parseFloat(this._valuesEnd[o])),this._yoyo&&this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=l*h,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var p=0,g=this._chainedTweens.length;p<g;p++)this._chainedTweens[p].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},n.prototype._updateProperties=function(e,r,i,s){for(var o in i)if(r[o]!==void 0){var a=r[o]||0,l=i[o],c=Array.isArray(e[o]),u=Array.isArray(l),f=!c&&u;f?e[o]=this._interpolationFunction(l,s):typeof l=="object"&&l?this._updateProperties(e[o],a,l,s):(l=this._handleRelativeValue(a,l),typeof l=="number"&&(e[o]=a+(l-a)*s))}},n.prototype._handleRelativeValue=function(e,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?e+parseFloat(r):parseFloat(r)},n.prototype._swapEndStartRepeatValues=function(e){var r=this._valuesStartRepeat[e],i=this._valuesEnd[e];typeof i=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(i):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r},n.autoStartOnUpdate=!1,n}();Bee.nextId;var _o=JI;_o.getAll.bind(_o);_o.removeAll.bind(_o);_o.add.bind(_o);_o.remove.bind(_o);_o.update.bind(_o);function GW(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function l4e(n){if(Array.isArray(n))return n}function c4e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function u4e(n,e,r){return Object.defineProperty(n,"prototype",{writable:!1}),n}function d4e(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function f4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h4e(n,e){return l4e(n)||d4e(n,e)||p4e(n,e)||f4e()}function p4e(n,e){if(n){if(typeof n=="string")return GW(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?GW(n,e):void 0}}var m4e=u4e(function n(e,r){var i=r.default,s=i===void 0?null:i,o=r.triggerUpdate,a=o===void 0?!0:o,l=r.onChange,c=l===void 0?function(u,f){}:l;c4e(this,n),this.name=e,this.defaultVal=s,this.triggerUpdate=a,this.onChange=c});function qR(n){var e=n.stateInit,r=e===void 0?function(){return{}}:e,i=n.props,s=i===void 0?{}:i,o=n.methods,a=o===void 0?{}:o,l=n.aliases,c=l===void 0?{}:l,u=n.init,f=u===void 0?function(){}:u,d=n.update,h=d===void 0?function(){}:d,p=Object.keys(s).map(function(g){return new m4e(g,s[g])});return function g(){for(var v=arguments.length,y=new Array(v),b=0;b<v;b++)y[b]=arguments[b];var w=!!(this instanceof g&&this.constructor),k=w?y.shift():void 0,_=y[0],S=_===void 0?{}:_,C=Object.assign({},r instanceof Function?r(S):r,{initialised:!1}),T={};function D(A){return O(A,S),P(),D}var O=function(L,B){f.call(D,L,C,B),C.initialised=!0},P=Fee(function(){C.initialised&&(h.call(D,C,T),T={})},1);return p.forEach(function(A){D[A.name]=L(A);function L(B){var F=B.name,$=B.triggerUpdate,U=$===void 0?!1:$,N=B.onChange,q=N===void 0?function(Y,W){}:N,H=B.defaultVal,X=H===void 0?null:H;return function(Y){var W=C[F];if(!arguments.length)return W;var R=Y===void 0?X:Y;return C[F]=R,q.call(D,R,C,W),!T.hasOwnProperty(F)&&(T[F]=W),U&&P(),D}}}),Object.keys(a).forEach(function(A){D[A]=function(){for(var L,B=arguments.length,F=new Array(B),$=0;$<B;$++)F[$]=arguments[$];return(L=a[A]).call.apply(L,[D,C].concat(F))}}),Object.entries(c).forEach(function(A){var L=h4e(A,2),B=L[0],F=L[1];return D[B]=D[F]}),D.resetProps=function(){return p.forEach(function(A){D[A.name](A.defaultVal)}),D},D.resetProps(),C._rerender=P,w&&k&&D(k),D}}var Yt=function(n){return typeof n=="function"?n:typeof n=="string"?function(e){return e[n]}:function(e){return n}};function nx(n){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nx(n)}var g4e=/^\s+/,b4e=/\s+$/;function it(n,e){if(n=n||"",e=e||{},n instanceof it)return n;if(!(this instanceof it))return new it(n,e);var r=y4e(n);this._originalInput=n,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}it.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,i,s,o,a,l;return r=e.r/255,i=e.g/255,s=e.b/255,r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),s<=.03928?l=s/12.92:l=Math.pow((s+.055)/1.055,2.4),.2126*o+.7152*a+.0722*l},setAlpha:function(e){return this._a=zee(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=VW(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=VW(this._r,this._g,this._b),r=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+i+"%, "+s+"%)":"hsva("+r+", "+i+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var e=YW(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=YW(this._r,this._g,this._b),r=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+i+"%, "+s+"%)":"hsla("+r+", "+i+"%, "+s+"%, "+this._roundA+")"},toHex:function(e){return KW(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return _4e(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(wn(this._r,255)*100)+"%",g:Math.round(wn(this._g,255)*100)+"%",b:Math.round(wn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(wn(this._r,255)*100)+"%, "+Math.round(wn(this._g,255)*100)+"%, "+Math.round(wn(this._b,255)*100)+"%)":"rgba("+Math.round(wn(this._r,255)*100)+"%, "+Math.round(wn(this._g,255)*100)+"%, "+Math.round(wn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:R4e[KW(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+XW(this._r,this._g,this._b,this._a),i=r,s=this._gradientType?"GradientType = 1, ":"";if(e){var o=it(e);i="#"+XW(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+r+",endColorstr="+i+")"},toString:function(e){var r=!!e;e=e||this._format;var i=!1,s=this._a<1&&this._a>=0,o=!r&&s&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return it(this.toString())},_applyModification:function(e,r){var i=e.apply(null,[this].concat([].slice.call(r)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(T4e,arguments)},brighten:function(){return this._applyModification(E4e,arguments)},darken:function(){return this._applyModification(D4e,arguments)},desaturate:function(){return this._applyModification(S4e,arguments)},saturate:function(){return this._applyModification(k4e,arguments)},greyscale:function(){return this._applyModification(C4e,arguments)},spin:function(){return this._applyModification(P4e,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(M4e,arguments)},complement:function(){return this._applyCombination(I4e,arguments)},monochromatic:function(){return this._applyCombination(A4e,arguments)},splitcomplement:function(){return this._applyCombination(O4e,arguments)},triad:function(){return this._applyCombination(QW,[3])},tetrad:function(){return this._applyCombination(QW,[4])}};it.fromRatio=function(n,e){if(nx(n)=="object"){var r={};for(var i in n)n.hasOwnProperty(i)&&(i==="a"?r[i]=n[i]:r[i]=Np(n[i]));n=r}return it(n,e)};function y4e(n){var e={r:0,g:0,b:0},r=1,i=null,s=null,o=null,a=!1,l=!1;return typeof n=="string"&&(n=F4e(n)),nx(n)=="object"&&($o(n.r)&&$o(n.g)&&$o(n.b)?(e=v4e(n.r,n.g,n.b),a=!0,l=String(n.r).substr(-1)==="%"?"prgb":"rgb"):$o(n.h)&&$o(n.s)&&$o(n.v)?(i=Np(n.s),s=Np(n.v),e=w4e(n.h,i,s),a=!0,l="hsv"):$o(n.h)&&$o(n.s)&&$o(n.l)&&(i=Np(n.s),o=Np(n.l),e=x4e(n.h,i,o),a=!0,l="hsl"),n.hasOwnProperty("a")&&(r=n.a)),r=zee(r),{ok:a,format:n.format||l,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function v4e(n,e,r){return{r:wn(n,255)*255,g:wn(e,255)*255,b:wn(r,255)*255}}function YW(n,e,r){n=wn(n,255),e=wn(e,255),r=wn(r,255);var i=Math.max(n,e,r),s=Math.min(n,e,r),o,a,l=(i+s)/2;if(i==s)o=a=0;else{var c=i-s;switch(a=l>.5?c/(2-i-s):c/(i+s),i){case n:o=(e-r)/c+(e<r?6:0);break;case e:o=(r-n)/c+2;break;case r:o=(n-e)/c+4;break}o/=6}return{h:o,s:a,l}}function x4e(n,e,r){var i,s,o;n=wn(n,360),e=wn(e,100),r=wn(r,100);function a(u,f,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?u+(f-u)*6*d:d<1/2?f:d<2/3?u+(f-u)*(2/3-d)*6:u}if(e===0)i=s=o=r;else{var l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;i=a(c,l,n+1/3),s=a(c,l,n),o=a(c,l,n-1/3)}return{r:i*255,g:s*255,b:o*255}}function VW(n,e,r){n=wn(n,255),e=wn(e,255),r=wn(r,255);var i=Math.max(n,e,r),s=Math.min(n,e,r),o,a,l=i,c=i-s;if(a=i===0?0:c/i,i==s)o=0;else{switch(i){case n:o=(e-r)/c+(e<r?6:0);break;case e:o=(r-n)/c+2;break;case r:o=(n-e)/c+4;break}o/=6}return{h:o,s:a,v:l}}function w4e(n,e,r){n=wn(n,360)*6,e=wn(e,100),r=wn(r,100);var i=Math.floor(n),s=n-i,o=r*(1-e),a=r*(1-s*e),l=r*(1-(1-s)*e),c=i%6,u=[r,a,o,o,l,r][c],f=[l,r,r,a,o,o][c],d=[o,o,l,r,r,a][c];return{r:u*255,g:f*255,b:d*255}}function KW(n,e,r,i){var s=[Rs(Math.round(n).toString(16)),Rs(Math.round(e).toString(16)),Rs(Math.round(r).toString(16))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function _4e(n,e,r,i,s){var o=[Rs(Math.round(n).toString(16)),Rs(Math.round(e).toString(16)),Rs(Math.round(r).toString(16)),Rs(Uee(i))];return s&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function XW(n,e,r,i){var s=[Rs(Uee(i)),Rs(Math.round(n).toString(16)),Rs(Math.round(e).toString(16)),Rs(Math.round(r).toString(16))];return s.join("")}it.equals=function(n,e){return!n||!e?!1:it(n).toRgbString()==it(e).toRgbString()};it.random=function(){return it.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function S4e(n,e){e=e===0?0:e||10;var r=it(n).toHsl();return r.s-=e/100,r.s=$w(r.s),it(r)}function k4e(n,e){e=e===0?0:e||10;var r=it(n).toHsl();return r.s+=e/100,r.s=$w(r.s),it(r)}function C4e(n){return it(n).desaturate(100)}function T4e(n,e){e=e===0?0:e||10;var r=it(n).toHsl();return r.l+=e/100,r.l=$w(r.l),it(r)}function E4e(n,e){e=e===0?0:e||10;var r=it(n).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),it(r)}function D4e(n,e){e=e===0?0:e||10;var r=it(n).toHsl();return r.l-=e/100,r.l=$w(r.l),it(r)}function P4e(n,e){var r=it(n).toHsl(),i=(r.h+e)%360;return r.h=i<0?360+i:i,it(r)}function I4e(n){var e=it(n).toHsl();return e.h=(e.h+180)%360,it(e)}function QW(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=it(n).toHsl(),i=[it(n)],s=360/e,o=1;o<e;o++)i.push(it({h:(r.h+o*s)%360,s:r.s,l:r.l}));return i}function O4e(n){var e=it(n).toHsl(),r=e.h;return[it(n),it({h:(r+72)%360,s:e.s,l:e.l}),it({h:(r+216)%360,s:e.s,l:e.l})]}function M4e(n,e,r){e=e||6,r=r||30;var i=it(n).toHsl(),s=360/r,o=[it(n)];for(i.h=(i.h-(s*e>>1)+720)%360;--e;)i.h=(i.h+s)%360,o.push(it(i));return o}function A4e(n,e){e=e||6;for(var r=it(n).toHsv(),i=r.h,s=r.s,o=r.v,a=[],l=1/e;e--;)a.push(it({h:i,s,v:o})),o=(o+l)%1;return a}it.mix=function(n,e,r){r=r===0?0:r||50;var i=it(n).toRgb(),s=it(e).toRgb(),o=r/100,a={r:(s.r-i.r)*o+i.r,g:(s.g-i.g)*o+i.g,b:(s.b-i.b)*o+i.b,a:(s.a-i.a)*o+i.a};return it(a)};it.readability=function(n,e){var r=it(n),i=it(e);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)};it.isReadable=function(n,e,r){var i=it.readability(n,e),s,o;switch(o=!1,s=$4e(r),s.level+s.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7;break}return o};it.mostReadable=function(n,e,r){var i=null,s=0,o,a,l,c;r=r||{},a=r.includeFallbackColors,l=r.level,c=r.size;for(var u=0;u<e.length;u++)o=it.readability(n,e[u]),o>s&&(s=o,i=it(e[u]));return it.isReadable(n,i,{level:l,size:c})||!a?i:(r.includeFallbackColors=!1,it.mostReadable(n,["#fff","#000"],r))};var eO=it.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},R4e=it.hexNames=N4e(eO);function N4e(n){var e={};for(var r in n)n.hasOwnProperty(r)&&(e[n[r]]=r);return e}function zee(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function wn(n,e){j4e(n)&&(n="100%");var r=L4e(n);return n=Math.min(e,Math.max(0,parseFloat(n))),r&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function $w(n){return Math.min(1,Math.max(0,n))}function wi(n){return parseInt(n,16)}function j4e(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function L4e(n){return typeof n=="string"&&n.indexOf("%")!=-1}function Rs(n){return n.length==1?"0"+n:""+n}function Np(n){return n<=1&&(n=n*100+"%"),n}function Uee(n){return Math.round(parseFloat(n)*255).toString(16)}function ZW(n){return wi(n)/255}var ws=function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+n+")",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",s="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+s),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function $o(n){return!!ws.CSS_UNIT.exec(n)}function F4e(n){n=n.replace(g4e,"").replace(b4e,"").toLowerCase();var e=!1;if(eO[n])n=eO[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=ws.rgb.exec(n))?{r:r[1],g:r[2],b:r[3]}:(r=ws.rgba.exec(n))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=ws.hsl.exec(n))?{h:r[1],s:r[2],l:r[3]}:(r=ws.hsla.exec(n))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=ws.hsv.exec(n))?{h:r[1],s:r[2],v:r[3]}:(r=ws.hsva.exec(n))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=ws.hex8.exec(n))?{r:wi(r[1]),g:wi(r[2]),b:wi(r[3]),a:ZW(r[4]),format:e?"name":"hex8"}:(r=ws.hex6.exec(n))?{r:wi(r[1]),g:wi(r[2]),b:wi(r[3]),format:e?"name":"hex"}:(r=ws.hex4.exec(n))?{r:wi(r[1]+""+r[1]),g:wi(r[2]+""+r[2]),b:wi(r[3]+""+r[3]),a:ZW(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=ws.hex3.exec(n))?{r:wi(r[1]+""+r[1]),g:wi(r[2]+""+r[2]),b:wi(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function $4e(n){var e,r;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),r=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}function tO(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function B4e(n){if(Array.isArray(n))return tO(n)}function qee(n,e,r){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function z4e(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function U4e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Wi(n,e){return n.get(qee(n,e))}function JW(n,e,r){z4e(n,e),e.set(n,r)}function eH(n,e,r){return n.set(qee(n,e),r),r}function q4e(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,K4e(i.key),i)}}function W4e(n,e,r){return e&&q4e(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function H4e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function G4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y4e(n){return B4e(n)||H4e(n)||X4e(n)||G4e()}function V4e(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function K4e(n){var e=V4e(n,"string");return typeof e=="symbol"?e:e+""}function X4e(n,e){if(n){if(typeof n=="string")return tO(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tO(n,e):void 0}}var Q4e=123,Z4e=function(e){return"#".concat(Math.min(e,Math.pow(2,24)).toString(16).padStart(6,"0"))},Wee=function(e,r,i){return(e<<16)+(r<<8)+i},J4e=function(e){var r=it(e).toRgb(),i=r.r,s=r.g,o=r.b;return Wee(i,s,o)},tH=function(e,r){return e*Q4e%Math.pow(2,r)},sc=new WeakMap,Bo=new WeakMap,eje=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;U4e(this,n),JW(this,sc,void 0),JW(this,Bo,void 0),eH(Bo,this,e),this.reset()}return W4e(n,[{key:"reset",value:function(){eH(sc,this,["__reserved for background__"])}},{key:"register",value:function(r){if(Wi(sc,this).length>=Math.pow(2,24-Wi(Bo,this)))return null;var i=Wi(sc,this).length,s=tH(i,Wi(Bo,this)),o=Z4e(i+(s<<24-Wi(Bo,this)));return Wi(sc,this).push(r),o}},{key:"lookup",value:function(r){if(!r)return null;var i=typeof r=="string"?J4e(r):Wee.apply(void 0,Y4e(r));if(!i)return null;var s=i&Math.pow(2,24-Wi(Bo,this))-1,o=i>>24-Wi(Bo,this)&Math.pow(2,Wi(Bo,this))-1;return tH(s,Wi(Bo,this))!==o||s>=Wi(sc,this).length?null:Wi(sc,this)[s]}}])}(),y0,kn,Hee,Gee,gc,nH,Yee,Vee,Kee,WR,nO,rO,gg={},Xee=[],tje=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Bw=Array.isArray;function mo(n,e){for(var r in e)n[r]=e[r];return n}function HR(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function nje(n,e,r){var i,s,o,a={};for(o in e)o=="key"?i=e[o]:o=="ref"?s=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?y0.call(arguments,2):r),typeof n=="function"&&n.defaultProps!=null)for(o in n.defaultProps)a[o]===void 0&&(a[o]=n.defaultProps[o]);return sm(n,a,i,s,null)}function sm(n,e,r,i,s){var o={type:n,props:e,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++Hee,__i:-1,__u:0};return s==null&&kn.vnode!=null&&kn.vnode(o),o}function zw(n){return n.children}function Oy(n,e){this.props=n,this.context=e}function Vf(n,e){if(e==null)return n.__?Vf(n.__,n.__i+1):null;for(var r;e<n.__k.length;e++)if((r=n.__k[e])!=null&&r.__e!=null)return r.__e;return typeof n.type=="function"?Vf(n):null}function Qee(n){var e,r;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((r=n.__k[e])!=null&&r.__e!=null){n.__e=n.__c.base=r.__e;break}return Qee(n)}}function rH(n){(!n.__d&&(n.__d=!0)&&gc.push(n)&&!rx.__r++||nH!=kn.debounceRendering)&&((nH=kn.debounceRendering)||Yee)(rx)}function rx(){for(var n,e,r,i,s,o,a,l=1;gc.length;)gc.length>l&&gc.sort(Vee),n=gc.shift(),l=gc.length,n.__d&&(r=void 0,i=void 0,s=(i=(e=n).__v).__e,o=[],a=[],e.__P&&((r=mo({},i)).__v=i.__v+1,kn.vnode&&kn.vnode(r),GR(e.__P,r,i,e.__n,e.__P.namespaceURI,32&i.__u?[s]:null,o,s??Vf(i),!!(32&i.__u),a),r.__v=i.__v,r.__.__k[r.__i]=r,ete(o,r,a),i.__e=i.__=null,r.__e!=s&&Qee(r)));rx.__r=0}function Zee(n,e,r,i,s,o,a,l,c,u,f){var d,h,p,g,v,y,b,w=i&&i.__k||Xee,k=e.length;for(c=rje(r,e,w,c,k),d=0;d<k;d++)(p=r.__k[d])!=null&&(h=p.__i==-1?gg:w[p.__i]||gg,p.__i=d,y=GR(n,p,h,s,o,a,l,c,u,f),g=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&YR(h.ref,null,p),f.push(p.ref,p.__c||g,p)),v==null&&g!=null&&(v=g),(b=!!(4&p.__u))||h.__k===p.__k?c=Jee(p,c,n,b):typeof p.type=="function"&&y!==void 0?c=y:g&&(c=g.nextSibling),p.__u&=-7);return r.__e=v,c}function rje(n,e,r,i,s){var o,a,l,c,u,f=r.length,d=f,h=0;for(n.__k=new Array(s),o=0;o<s;o++)(a=e[o])!=null&&typeof a!="boolean"&&typeof a!="function"?(typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?a=n.__k[o]=sm(null,a,null,null,null):Bw(a)?a=n.__k[o]=sm(zw,{children:a},null,null,null):a.constructor==null&&a.__b>0?a=n.__k[o]=sm(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):n.__k[o]=a,c=o+h,a.__=n,a.__b=n.__b+1,l=null,(u=a.__i=ije(a,r,c,d))!=-1&&(d--,(l=r[u])&&(l.__u|=2)),l==null||l.__v==null?(u==-1&&(s>f?h--:s<f&&h++),typeof a.type!="function"&&(a.__u|=4)):u!=c&&(u==c-1?h--:u==c+1?h++:(u>c?h--:h++,a.__u|=4))):n.__k[o]=null;if(d)for(o=0;o<f;o++)(l=r[o])!=null&&!(2&l.__u)&&(l.__e==i&&(i=Vf(l)),nte(l,l));return i}function Jee(n,e,r,i){var s,o;if(typeof n.type=="function"){for(s=n.__k,o=0;s&&o<s.length;o++)s[o]&&(s[o].__=n,e=Jee(s[o],e,r,i));return e}n.__e!=e&&(i&&(e&&n.type&&!e.parentNode&&(e=Vf(n)),r.insertBefore(n.__e,e||null)),e=n.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function ije(n,e,r,i){var s,o,a,l=n.key,c=n.type,u=e[r],f=u!=null&&(2&u.__u)==0;if(u===null&&l==null||f&&l==u.key&&c==u.type)return r;if(i>(f?1:0)){for(s=r-1,o=r+1;s>=0||o<e.length;)if((u=e[a=s>=0?s--:o++])!=null&&!(2&u.__u)&&l==u.key&&c==u.type)return a}return-1}function iH(n,e,r){e[0]=="-"?n.setProperty(e,r??""):n[e]=r==null?"":typeof r!="number"||tje.test(e)?r:r+"px"}function Hb(n,e,r,i,s){var o,a;e:if(e=="style")if(typeof r=="string")n.style.cssText=r;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)r&&e in r||iH(n.style,e,"");if(r)for(e in r)i&&r[e]==i[e]||iH(n.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(Kee,"$1")),a=e.toLowerCase(),e=a in n||e=="onFocusOut"||e=="onFocusIn"?a.slice(2):e.slice(2),n.l||(n.l={}),n.l[e+o]=r,r?i?r.u=i.u:(r.u=WR,n.addEventListener(e,o?rO:nO,o)):n.removeEventListener(e,o?rO:nO,o);else{if(s=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in n)try{n[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?n.removeAttribute(e):n.setAttribute(e,e=="popover"&&r==1?"":r))}}function sH(n){return function(e){if(this.l){var r=this.l[e.type+n];if(e.t==null)e.t=WR++;else if(e.t<r.u)return;return r(kn.event?kn.event(e):e)}}}function GR(n,e,r,i,s,o,a,l,c,u){var f,d,h,p,g,v,y,b,w,k,_,S,C,T,D,O,P,A=e.type;if(e.constructor!=null)return null;128&r.__u&&(c=!!(32&r.__u),o=[l=e.__e=r.__e]),(f=kn.__b)&&f(e);e:if(typeof A=="function")try{if(b=e.props,w="prototype"in A&&A.prototype.render,k=(f=A.contextType)&&i[f.__c],_=f?k?k.props.value:f.__:i,r.__c?y=(d=e.__c=r.__c).__=d.__E:(w?e.__c=d=new A(b,_):(e.__c=d=new Oy(b,_),d.constructor=A,d.render=oje),k&&k.sub(d),d.state||(d.state={}),d.__n=i,h=d.__d=!0,d.__h=[],d._sb=[]),w&&d.__s==null&&(d.__s=d.state),w&&A.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=mo({},d.__s)),mo(d.__s,A.getDerivedStateFromProps(b,d.__s))),p=d.props,g=d.state,d.__v=e,h)w&&A.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),w&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(w&&A.getDerivedStateFromProps==null&&b!==p&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(b,_),e.__v==r.__v||!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(b,d.__s,_)===!1){for(e.__v!=r.__v&&(d.props=b,d.state=d.__s,d.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(L){L&&(L.__=e)}),S=0;S<d._sb.length;S++)d.__h.push(d._sb[S]);d._sb=[],d.__h.length&&a.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(b,d.__s,_),w&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(p,g,v)})}if(d.context=_,d.props=b,d.__P=n,d.__e=!1,C=kn.__r,T=0,w){for(d.state=d.__s,d.__d=!1,C&&C(e),f=d.render(d.props,d.state,d.context),D=0;D<d._sb.length;D++)d.__h.push(d._sb[D]);d._sb=[]}else do d.__d=!1,C&&C(e),f=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++T<25);d.state=d.__s,d.getChildContext!=null&&(i=mo(mo({},i),d.getChildContext())),w&&!h&&d.getSnapshotBeforeUpdate!=null&&(v=d.getSnapshotBeforeUpdate(p,g)),O=f,f!=null&&f.type===zw&&f.key==null&&(O=tte(f.props.children)),l=Zee(n,Bw(O)?O:[O],e,r,i,s,o,a,l,c,u),d.base=e.__e,e.__u&=-161,d.__h.length&&a.push(d),y&&(d.__E=d.__=null)}catch(L){if(e.__v=null,c||o!=null)if(L.then){for(e.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;o[o.indexOf(l)]=null,e.__e=l}else{for(P=o.length;P--;)HR(o[P]);iO(e)}else e.__e=r.__e,e.__k=r.__k,L.then||iO(e);kn.__e(L,e,r)}else o==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):l=e.__e=sje(r.__e,e,r,i,s,o,a,c,u);return(f=kn.diffed)&&f(e),128&e.__u?void 0:l}function iO(n){n&&n.__c&&(n.__c.__e=!0),n&&n.__k&&n.__k.forEach(iO)}function ete(n,e,r){for(var i=0;i<r.length;i++)YR(r[i],r[++i],r[++i]);kn.__c&&kn.__c(e,n),n.some(function(s){try{n=s.__h,s.__h=[],n.some(function(o){o.call(s)})}catch(o){kn.__e(o,s.__v)}})}function tte(n){return typeof n!="object"||n==null||n.__b&&n.__b>0?n:Bw(n)?n.map(tte):mo({},n)}function sje(n,e,r,i,s,o,a,l,c){var u,f,d,h,p,g,v,y=r.props||gg,b=e.props,w=e.type;if(w=="svg"?s="http://www.w3.org/2000/svg":w=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),o!=null){for(u=0;u<o.length;u++)if((p=o[u])&&"setAttribute"in p==!!w&&(w?p.localName==w:p.nodeType==3)){n=p,o[u]=null;break}}if(n==null){if(w==null)return document.createTextNode(b);n=document.createElementNS(s,w,b.is&&b),l&&(kn.__m&&kn.__m(e,o),l=!1),o=null}if(w==null)y===b||l&&n.data==b||(n.data=b);else{if(o=o&&y0.call(n.childNodes),!l&&o!=null)for(y={},u=0;u<n.attributes.length;u++)y[(p=n.attributes[u]).name]=p.value;for(u in y)if(p=y[u],u!="children"){if(u=="dangerouslySetInnerHTML")d=p;else if(!(u in b)){if(u=="value"&&"defaultValue"in b||u=="checked"&&"defaultChecked"in b)continue;Hb(n,u,null,p,s)}}for(u in b)p=b[u],u=="children"?h=p:u=="dangerouslySetInnerHTML"?f=p:u=="value"?g=p:u=="checked"?v=p:l&&typeof p!="function"||y[u]===p||Hb(n,u,p,y[u],s);if(f)l||d&&(f.__html==d.__html||f.__html==n.innerHTML)||(n.innerHTML=f.__html),e.__k=[];else if(d&&(n.innerHTML=""),Zee(e.type=="template"?n.content:n,Bw(h)?h:[h],e,r,i,w=="foreignObject"?"http://www.w3.org/1999/xhtml":s,o,a,o?o[0]:r.__k&&Vf(r,0),l,c),o!=null)for(u=o.length;u--;)HR(o[u]);l||(u="value",w=="progress"&&g==null?n.removeAttribute("value"):g!=null&&(g!==n[u]||w=="progress"&&!g||w=="option"&&g!=y[u])&&Hb(n,u,g,y[u],s),u="checked",v!=null&&v!=n[u]&&Hb(n,u,v,y[u],s))}return n}function YR(n,e,r){try{if(typeof n=="function"){var i=typeof n.__u=="function";i&&n.__u(),i&&e==null||(n.__u=n(e))}else n.current=e}catch(s){kn.__e(s,r)}}function nte(n,e,r){var i,s;if(kn.unmount&&kn.unmount(n),(i=n.ref)&&(i.current&&i.current!=n.__e||YR(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){kn.__e(o,e)}i.base=i.__P=null}if(i=n.__k)for(s=0;s<i.length;s++)i[s]&&nte(i[s],e,r||typeof n.type!="function");r||HR(n.__e),n.__c=n.__=n.__e=void 0}function oje(n,e,r){return this.constructor(n,r)}function aje(n,e,r){var i,s,o,a;e==document&&(e=document.documentElement),kn.__&&kn.__(n,e),s=(i=!1)?null:e.__k,o=[],a=[],GR(e,n=e.__k=nje(zw,null,[n]),s||gg,gg,e.namespaceURI,s?null:e.firstChild?y0.call(e.childNodes):null,o,s?s.__e:e.firstChild,i,a),ete(o,n,a)}function rte(n,e,r){var i,s,o,a,l=mo({},n.props);for(o in n.type&&n.type.defaultProps&&(a=n.type.defaultProps),e)o=="key"?i=e[o]:o=="ref"?s=e[o]:l[o]=e[o]===void 0&&a!=null?a[o]:e[o];return arguments.length>2&&(l.children=arguments.length>3?y0.call(arguments,2):r),sm(n.type,l,i||n.key,s||n.ref,null)}y0=Xee.slice,kn={__e:function(n,e,r,i){for(var s,o,a;e=e.__;)if((s=e.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(n)),a=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(n,i||{}),a=s.__d),a)return s.__E=s}catch(l){n=l}throw n}},Hee=0,Gee=function(n){return n!=null&&n.constructor==null},Oy.prototype.setState=function(n,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=mo({},this.state),typeof n=="function"&&(n=n(mo({},r),this.props)),n&&mo(r,n),n!=null&&this.__v&&(e&&this._sb.push(e),rH(this))},Oy.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),rH(this))},Oy.prototype.render=zw,gc=[],Yee=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Vee=function(n,e){return n.__v.__b-e.__v.__b},rx.__r=0,Kee=/(PointerCapture)$|Capture$/i,WR=0,nO=sH(!1),rO=sH(!0);function oH(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function lje(n){if(Array.isArray(n))return n}function cje(n,e,r){return(e=mje(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function uje(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function dje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aH(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function fje(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aH(Object(r),!0).forEach(function(i){cje(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):aH(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function hje(n,e){return lje(n)||uje(n,e)||gje(n,e)||dje()}function pje(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function mje(n){var e=pje(n,"string");return typeof e=="symbol"?e:e+""}function ix(n){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ix(n)}function gje(n,e){if(n){if(typeof n=="string")return oH(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oH(n,e):void 0}}var sO=function(e){if(ix(e)!=="object")return e;var r=rte(e);if(r.props){var i;r.props=fje({},r.props),r!=null&&(i=r.props)!==null&&i!==void 0&&i.children&&(r.props.children=Array.isArray(r.props.children)?r.props.children.map(sO):sO(r.props.children))}return r},bje=function(e){return Gee(rte(e))},yje=function(e,r){delete r.__k,aje(sO(e),r)};function vje(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}}var xje=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;vje(xje);var wje=qR({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.style,o=s===void 0?{}:s,a=!!e&&ix(e)==="object"&&!!e.node&&typeof e.node=="function",l=Dr(a?e.node():e);l.style("position")==="static"&&l.style("position","relative"),r.tooltipEl=l.append("div").attr("class","float-tooltip-kap"),Object.entries(o).forEach(function(u){var f=hje(u,2),d=f[0],h=f[1];return r.tooltipEl.style(d,h)}),r.tooltipEl.style("left","-10000px").style("display","none");var c="tooltip-".concat(Math.round(Math.random()*1e12));r.mouseInside=!1,l.on("mousemove.".concat(c),function(u){r.mouseInside=!0;var f=Ps(u),d=l.node(),h=d.offsetWidth,p=d.offsetHeight,g=[r.offsetX===null||r.offsetX===void 0?"-".concat(f[0]/h*100,"%"):typeof r.offsetX=="number"?"calc(-50% + ".concat(r.offsetX,"px)"):r.offsetX,r.offsetY===null||r.offsetY===void 0?p>130&&p-f[1]<100?"calc(-100% - 6px)":"21px":typeof r.offsetY=="number"?r.offsetY<0?"calc(-100% - ".concat(Math.abs(r.offsetY),"px)"):"".concat(r.offsetY,"px"):r.offsetY];r.tooltipEl.style("left",f[0]+"px").style("top",f[1]+"px").style("transform","translate(".concat(g.join(","),")")),r.content&&r.tooltipEl.style("display","inline")}),l.on("mouseover.".concat(c),function(){r.mouseInside=!0,r.content&&r.tooltipEl.style("display","inline")}),l.on("mouseout.".concat(c),function(){r.mouseInside=!1,r.tooltipEl.style("display","none")})},update:function(e){e.tooltipEl.style("display",e.content&&e.mouseInside?"inline":"none"),e.content?e.content instanceof HTMLElement?(e.tooltipEl.text(""),e.tooltipEl.append(function(){return e.content})):typeof e.content=="string"?e.tooltipEl.html(e.content):bje(e.content)?(e.tooltipEl.text(""),yje(e.content,e.tooltipEl.node())):(e.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",e.content,e.content.toString())):e.tooltipEl.text("")}});function _je(n,e,r){var i,s=1;n==null&&(n=0),e==null&&(e=0),r==null&&(r=0);function o(){var a,l=i.length,c,u=0,f=0,d=0;for(a=0;a<l;++a)c=i[a],u+=c.x||0,f+=c.y||0,d+=c.z||0;for(u=(u/l-n)*s,f=(f/l-e)*s,d=(d/l-r)*s,a=0;a<l;++a)c=i[a],u&&(c.x-=u),f&&(c.y-=f),d&&(c.z-=d)}return o.initialize=function(a){i=a},o.x=function(a){return arguments.length?(n=+a,o):n},o.y=function(a){return arguments.length?(e=+a,o):e},o.z=function(a){return arguments.length?(r=+a,o):r},o.strength=function(a){return arguments.length?(s=+a,o):s},o}function Sje(n){const e=+this._x.call(null,n);return ite(this.cover(e),e,n)}function ite(n,e,r){if(isNaN(e))return n;var i,s=n._root,o={data:r},a=n._x0,l=n._x1,c,u,f,d,h;if(!s)return n._root=o,n;for(;s.length;)if((f=e>=(c=(a+l)/2))?a=c:l=c,i=s,!(s=s[d=+f]))return i[d]=o,n;if(u=+n._x.call(null,s.data),e===u)return o.next=s,i?i[d]=o:n._root=o,n;do i=i?i[d]=new Array(2):n._root=new Array(2),(f=e>=(c=(a+l)/2))?a=c:l=c;while((d=+f)==(h=+(u>=c)));return i[h]=s,i[d]=o,n}function kje(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,r=new Float64Array(e);let i=1/0,s=-1/0;for(let o=0,a;o<e;++o)isNaN(a=+this._x.call(null,n[o]))||(r[o]=a,a<i&&(i=a),a>s&&(s=a));if(i>s)return this;this.cover(i).cover(s);for(let o=0;o<e;++o)ite(this,r[o],n[o]);return this}function Cje(n){if(isNaN(n=+n))return this;var e=this._x0,r=this._x1;if(isNaN(e))r=(e=Math.floor(n))+1;else{for(var i=r-e||1,s=this._root,o,a;e>n||n>=r;)switch(a=+(n<e),o=new Array(2),o[a]=s,s=o,i*=2,a){case 0:r=e+i;break;case 1:e=r-i;break}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._x1=r,this}function Tje(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function Eje(n){return arguments.length?this.cover(+n[0][0]).cover(+n[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function ma(n,e,r){this.node=n,this.x0=e,this.x1=r}function Dje(n,e){var r,i=this._x0,s,o,a=this._x1,l=[],c=this._root,u,f;for(c&&l.push(new ma(c,i,a)),e==null?e=1/0:(i=n-e,a=n+e);u=l.pop();)if(!(!(c=u.node)||(s=u.x0)>a||(o=u.x1)<i))if(c.length){var d=(s+o)/2;l.push(new ma(c[1],d,o),new ma(c[0],s,d)),(f=+(n>=d))&&(u=l[l.length-1],l[l.length-1]=l[l.length-1-f],l[l.length-1-f]=u)}else{var h=Math.abs(n-+this._x.call(null,c.data));h<e&&(e=h,i=n-h,a=n+h,r=c.data)}return r}function Pje(n){if(isNaN(c=+this._x.call(null,n)))return this;var e,r=this._root,i,s,o,a=this._x0,l=this._x1,c,u,f,d,h;if(!r)return this;if(r.length)for(;;){if((f=c>=(u=(a+l)/2))?a=u:l=u,e=r,!(r=r[d=+f]))return this;if(!r.length)break;e[d+1&1]&&(i=e,h=d)}for(;r.data!==n;)if(s=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,s?(o?s.next=o:delete s.next,this):e?(o?e[d]=o:delete e[d],(r=e[0]||e[1])&&r===(e[1]||e[0])&&!r.length&&(i?i[h]=r:this._root=r),this):(this._root=o,this)}function Ije(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function Oje(){return this._root}function Mje(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function Aje(n){var e=[],r,i=this._root,s,o,a;for(i&&e.push(new ma(i,this._x0,this._x1));r=e.pop();)if(!n(i=r.node,o=r.x0,a=r.x1)&&i.length){var l=(o+a)/2;(s=i[1])&&e.push(new ma(s,l,a)),(s=i[0])&&e.push(new ma(s,o,l))}return this}function Rje(n){var e=[],r=[],i;for(this._root&&e.push(new ma(this._root,this._x0,this._x1));i=e.pop();){var s=i.node;if(s.length){var o,a=i.x0,l=i.x1,c=(a+l)/2;(o=s[0])&&e.push(new ma(o,a,c)),(o=s[1])&&e.push(new ma(o,c,l))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.x1);return this}function Nje(n){return n[0]}function jje(n){return arguments.length?(this._x=n,this):this._x}function ste(n,e){var r=new VR(e??Nje,NaN,NaN);return n==null?r:r.addAll(n)}function VR(n,e,r){this._x=n,this._x0=e,this._x1=r,this._root=void 0}function lH(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var vi=ste.prototype=VR.prototype;vi.copy=function(){var n=new VR(this._x,this._x0,this._x1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=lH(e),n;for(r=[{source:e,target:n._root=new Array(2)}];e=r.pop();)for(var s=0;s<2;++s)(i=e.source[s])&&(i.length?r.push({source:i,target:e.target[s]=new Array(2)}):e.target[s]=lH(i));return n};vi.add=Sje;vi.addAll=kje;vi.cover=Cje;vi.data=Tje;vi.extent=Eje;vi.find=Dje;vi.remove=Pje;vi.removeAll=Ije;vi.root=Oje;vi.size=Mje;vi.visit=Aje;vi.visitAfter=Rje;vi.x=jje;function Lje(n){const e=+this._x.call(null,n),r=+this._y.call(null,n),i=+this._z.call(null,n);return ote(this.cover(e,r,i),e,r,i,n)}function ote(n,e,r,i,s){if(isNaN(e)||isNaN(r)||isNaN(i))return n;var o,a=n._root,l={data:s},c=n._x0,u=n._y0,f=n._z0,d=n._x1,h=n._y1,p=n._z1,g,v,y,b,w,k,_,S,C,T,D;if(!a)return n._root=l,n;for(;a.length;)if((_=e>=(g=(c+d)/2))?c=g:d=g,(S=r>=(v=(u+h)/2))?u=v:h=v,(C=i>=(y=(f+p)/2))?f=y:p=y,o=a,!(a=a[T=C<<2|S<<1|_]))return o[T]=l,n;if(b=+n._x.call(null,a.data),w=+n._y.call(null,a.data),k=+n._z.call(null,a.data),e===b&&r===w&&i===k)return l.next=a,o?o[T]=l:n._root=l,n;do o=o?o[T]=new Array(8):n._root=new Array(8),(_=e>=(g=(c+d)/2))?c=g:d=g,(S=r>=(v=(u+h)/2))?u=v:h=v,(C=i>=(y=(f+p)/2))?f=y:p=y;while((T=C<<2|S<<1|_)===(D=(k>=y)<<2|(w>=v)<<1|b>=g));return o[D]=a,o[T]=l,n}function Fje(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,r=new Float64Array(e),i=new Float64Array(e),s=new Float64Array(e);let o=1/0,a=1/0,l=1/0,c=-1/0,u=-1/0,f=-1/0;for(let d=0,h,p,g,v;d<e;++d)isNaN(p=+this._x.call(null,h=n[d]))||isNaN(g=+this._y.call(null,h))||isNaN(v=+this._z.call(null,h))||(r[d]=p,i[d]=g,s[d]=v,p<o&&(o=p),p>c&&(c=p),g<a&&(a=g),g>u&&(u=g),v<l&&(l=v),v>f&&(f=v));if(o>c||a>u||l>f)return this;this.cover(o,a,l).cover(c,u,f);for(let d=0;d<e;++d)ote(this,r[d],i[d],s[d],n[d]);return this}function $je(n,e,r){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(r=+r))return this;var i=this._x0,s=this._y0,o=this._z0,a=this._x1,l=this._y1,c=this._z1;if(isNaN(i))a=(i=Math.floor(n))+1,l=(s=Math.floor(e))+1,c=(o=Math.floor(r))+1;else{for(var u=a-i||1,f=this._root,d,h;i>n||n>=a||s>e||e>=l||o>r||r>=c;)switch(h=(r<o)<<2|(e<s)<<1|n<i,d=new Array(8),d[h]=f,f=d,u*=2,h){case 0:a=i+u,l=s+u,c=o+u;break;case 1:i=a-u,l=s+u,c=o+u;break;case 2:a=i+u,s=l-u,c=o+u;break;case 3:i=a-u,s=l-u,c=o+u;break;case 4:a=i+u,l=s+u,o=c-u;break;case 5:i=a-u,l=s+u,o=c-u;break;case 6:a=i+u,s=l-u,o=c-u;break;case 7:i=a-u,s=l-u,o=c-u;break}this._root&&this._root.length&&(this._root=f)}return this._x0=i,this._y0=s,this._z0=o,this._x1=a,this._y1=l,this._z1=c,this}function Bje(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function zje(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function sn(n,e,r,i,s,o,a){this.node=n,this.x0=e,this.y0=r,this.z0=i,this.x1=s,this.y1=o,this.z1=a}function Uje(n,e,r,i){var s,o=this._x0,a=this._y0,l=this._z0,c,u,f,d,h,p,g=this._x1,v=this._y1,y=this._z1,b=[],w=this._root,k,_;for(w&&b.push(new sn(w,o,a,l,g,v,y)),i==null?i=1/0:(o=n-i,a=e-i,l=r-i,g=n+i,v=e+i,y=r+i,i*=i);k=b.pop();)if(!(!(w=k.node)||(c=k.x0)>g||(u=k.y0)>v||(f=k.z0)>y||(d=k.x1)<o||(h=k.y1)<a||(p=k.z1)<l))if(w.length){var S=(c+d)/2,C=(u+h)/2,T=(f+p)/2;b.push(new sn(w[7],S,C,T,d,h,p),new sn(w[6],c,C,T,S,h,p),new sn(w[5],S,u,T,d,C,p),new sn(w[4],c,u,T,S,C,p),new sn(w[3],S,C,f,d,h,T),new sn(w[2],c,C,f,S,h,T),new sn(w[1],S,u,f,d,C,T),new sn(w[0],c,u,f,S,C,T)),(_=(r>=T)<<2|(e>=C)<<1|n>=S)&&(k=b[b.length-1],b[b.length-1]=b[b.length-1-_],b[b.length-1-_]=k)}else{var D=n-+this._x.call(null,w.data),O=e-+this._y.call(null,w.data),P=r-+this._z.call(null,w.data),A=D*D+O*O+P*P;if(A<i){var L=Math.sqrt(i=A);o=n-L,a=e-L,l=r-L,g=n+L,v=e+L,y=r+L,s=w.data}}return s}const qje=(n,e,r,i,s,o)=>Math.sqrt((n-i)**2+(e-s)**2+(r-o)**2);function Wje(n,e,r,i){const s=[],o=n-i,a=e-i,l=r-i,c=n+i,u=e+i,f=r+i;return this.visit((d,h,p,g,v,y,b)=>{if(!d.length)do{const w=d.data;qje(n,e,r,this._x(w),this._y(w),this._z(w))<=i&&s.push(w)}while(d=d.next);return h>c||p>u||g>f||v<o||y<a||b<l}),s}function Hje(n){if(isNaN(h=+this._x.call(null,n))||isNaN(p=+this._y.call(null,n))||isNaN(g=+this._z.call(null,n)))return this;var e,r=this._root,i,s,o,a=this._x0,l=this._y0,c=this._z0,u=this._x1,f=this._y1,d=this._z1,h,p,g,v,y,b,w,k,_,S,C;if(!r)return this;if(r.length)for(;;){if((w=h>=(v=(a+u)/2))?a=v:u=v,(k=p>=(y=(l+f)/2))?l=y:f=y,(_=g>=(b=(c+d)/2))?c=b:d=b,e=r,!(r=r[S=_<<2|k<<1|w]))return this;if(!r.length)break;(e[S+1&7]||e[S+2&7]||e[S+3&7]||e[S+4&7]||e[S+5&7]||e[S+6&7]||e[S+7&7])&&(i=e,C=S)}for(;r.data!==n;)if(s=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,s?(o?s.next=o:delete s.next,this):e?(o?e[S]=o:delete e[S],(r=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&r===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[C]=r:this._root=r),this):(this._root=o,this)}function Gje(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function Yje(){return this._root}function Vje(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function Kje(n){var e=[],r,i=this._root,s,o,a,l,c,u,f;for(i&&e.push(new sn(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=e.pop();)if(!n(i=r.node,o=r.x0,a=r.y0,l=r.z0,c=r.x1,u=r.y1,f=r.z1)&&i.length){var d=(o+c)/2,h=(a+u)/2,p=(l+f)/2;(s=i[7])&&e.push(new sn(s,d,h,p,c,u,f)),(s=i[6])&&e.push(new sn(s,o,h,p,d,u,f)),(s=i[5])&&e.push(new sn(s,d,a,p,c,h,f)),(s=i[4])&&e.push(new sn(s,o,a,p,d,h,f)),(s=i[3])&&e.push(new sn(s,d,h,l,c,u,p)),(s=i[2])&&e.push(new sn(s,o,h,l,d,u,p)),(s=i[1])&&e.push(new sn(s,d,a,l,c,h,p)),(s=i[0])&&e.push(new sn(s,o,a,l,d,h,p))}return this}function Xje(n){var e=[],r=[],i;for(this._root&&e.push(new sn(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();){var s=i.node;if(s.length){var o,a=i.x0,l=i.y0,c=i.z0,u=i.x1,f=i.y1,d=i.z1,h=(a+u)/2,p=(l+f)/2,g=(c+d)/2;(o=s[0])&&e.push(new sn(o,a,l,c,h,p,g)),(o=s[1])&&e.push(new sn(o,h,l,c,u,p,g)),(o=s[2])&&e.push(new sn(o,a,p,c,h,f,g)),(o=s[3])&&e.push(new sn(o,h,p,c,u,f,g)),(o=s[4])&&e.push(new sn(o,a,l,g,h,p,d)),(o=s[5])&&e.push(new sn(o,h,l,g,u,p,d)),(o=s[6])&&e.push(new sn(o,a,p,g,h,f,d)),(o=s[7])&&e.push(new sn(o,h,p,g,u,f,d))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function Qje(n){return n[0]}function Zje(n){return arguments.length?(this._x=n,this):this._x}function Jje(n){return n[1]}function e8e(n){return arguments.length?(this._y=n,this):this._y}function t8e(n){return n[2]}function n8e(n){return arguments.length?(this._z=n,this):this._z}function ate(n,e,r,i){var s=new KR(e??Qje,r??Jje,i??t8e,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?s:s.addAll(n)}function KR(n,e,r,i,s,o,a,l,c){this._x=n,this._y=e,this._z=r,this._x0=i,this._y0=s,this._z0=o,this._x1=a,this._y1=l,this._z1=c,this._root=void 0}function cH(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var xr=ate.prototype=KR.prototype;xr.copy=function(){var n=new KR(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=cH(e),n;for(r=[{source:e,target:n._root=new Array(8)}];e=r.pop();)for(var s=0;s<8;++s)(i=e.source[s])&&(i.length?r.push({source:i,target:e.target[s]=new Array(8)}):e.target[s]=cH(i));return n};xr.add=Lje;xr.addAll=Fje;xr.cover=$je;xr.data=Bje;xr.extent=zje;xr.find=Uje;xr.findAllWithinRadius=Wje;xr.remove=Hje;xr.removeAll=Gje;xr.root=Yje;xr.size=Vje;xr.visit=Kje;xr.visitAfter=Xje;xr.x=Zje;xr.y=e8e;xr.z=n8e;function oa(n){return function(){return n}}function Ko(n){return(n()-.5)*1e-6}function r8e(n){return n.index}function uH(n,e){var r=n.get(e);if(!r)throw new Error("node not found: "+e);return r}function i8e(n){var e=r8e,r=h,i,s=oa(30),o,a,l,c,u,f,d=1;n==null&&(n=[]);function h(b){return 1/Math.min(c[b.source.index],c[b.target.index])}function p(b){for(var w=0,k=n.length;w<d;++w)for(var _=0,S,C,T,D=0,O=0,P=0,A,L;_<k;++_)S=n[_],C=S.source,T=S.target,D=T.x+T.vx-C.x-C.vx||Ko(f),l>1&&(O=T.y+T.vy-C.y-C.vy||Ko(f)),l>2&&(P=T.z+T.vz-C.z-C.vz||Ko(f)),A=Math.sqrt(D*D+O*O+P*P),A=(A-o[_])/A*b*i[_],D*=A,O*=A,P*=A,T.vx-=D*(L=u[_]),l>1&&(T.vy-=O*L),l>2&&(T.vz-=P*L),C.vx+=D*(L=1-L),l>1&&(C.vy+=O*L),l>2&&(C.vz+=P*L)}function g(){if(a){var b,w=a.length,k=n.length,_=new Map(a.map((C,T)=>[e(C,T,a),C])),S;for(b=0,c=new Array(w);b<k;++b)S=n[b],S.index=b,typeof S.source!="object"&&(S.source=uH(_,S.source)),typeof S.target!="object"&&(S.target=uH(_,S.target)),c[S.source.index]=(c[S.source.index]||0)+1,c[S.target.index]=(c[S.target.index]||0)+1;for(b=0,u=new Array(k);b<k;++b)S=n[b],u[b]=c[S.source.index]/(c[S.source.index]+c[S.target.index]);i=new Array(k),v(),o=new Array(k),y()}}function v(){if(a)for(var b=0,w=n.length;b<w;++b)i[b]=+r(n[b],b,n)}function y(){if(a)for(var b=0,w=n.length;b<w;++b)o[b]=+s(n[b],b,n)}return p.initialize=function(b,...w){a=b,f=w.find(k=>typeof k=="function")||Math.random,l=w.find(k=>[1,2,3].includes(k))||2,g()},p.links=function(b){return arguments.length?(n=b,g(),p):n},p.id=function(b){return arguments.length?(e=b,p):e},p.iterations=function(b){return arguments.length?(d=+b,p):d},p.strength=function(b){return arguments.length?(r=typeof b=="function"?b:oa(+b),v(),p):r},p.distance=function(b){return arguments.length?(s=typeof b=="function"?b:oa(+b),y(),p):s},p}const s8e=1664525,o8e=1013904223,dH=4294967296;function a8e(){let n=1;return()=>(n=(s8e*n+o8e)%dH)/dH}var fH=3;function bD(n){return n.x}function hH(n){return n.y}function l8e(n){return n.z}var c8e=10,u8e=Math.PI*(3-Math.sqrt(5)),d8e=Math.PI*20/(9+Math.sqrt(221));function f8e(n,e){e=e||2;var r=Math.min(fH,Math.max(1,Math.round(e))),i,s=1,o=.001,a=1-Math.pow(o,1/300),l=0,c=.6,u=new Map,f=xA(p),d=Ug("tick","end"),h=a8e();n==null&&(n=[]);function p(){g(),d.call("tick",i),s<o&&(f.stop(),d.call("end",i))}function g(b){var w,k=n.length,_;b===void 0&&(b=1);for(var S=0;S<b;++S)for(s+=(l-s)*a,u.forEach(function(C){C(s)}),w=0;w<k;++w)_=n[w],_.fx==null?_.x+=_.vx*=c:(_.x=_.fx,_.vx=0),r>1&&(_.fy==null?_.y+=_.vy*=c:(_.y=_.fy,_.vy=0)),r>2&&(_.fz==null?_.z+=_.vz*=c:(_.z=_.fz,_.vz=0));return i}function v(){for(var b=0,w=n.length,k;b<w;++b){if(k=n[b],k.index=b,k.fx!=null&&(k.x=k.fx),k.fy!=null&&(k.y=k.fy),k.fz!=null&&(k.z=k.fz),isNaN(k.x)||r>1&&isNaN(k.y)||r>2&&isNaN(k.z)){var _=c8e*(r>2?Math.cbrt(.5+b):r>1?Math.sqrt(.5+b):b),S=b*u8e,C=b*d8e;r===1?k.x=_:r===2?(k.x=_*Math.cos(S),k.y=_*Math.sin(S)):(k.x=_*Math.sin(S)*Math.cos(C),k.y=_*Math.cos(S),k.z=_*Math.sin(S)*Math.sin(C))}(isNaN(k.vx)||r>1&&isNaN(k.vy)||r>2&&isNaN(k.vz))&&(k.vx=0,r>1&&(k.vy=0),r>2&&(k.vz=0))}}function y(b){return b.initialize&&b.initialize(n,h,r),b}return v(),i={tick:g,restart:function(){return f.restart(p),i},stop:function(){return f.stop(),i},numDimensions:function(b){return arguments.length?(r=Math.min(fH,Math.max(1,Math.round(b))),u.forEach(y),i):r},nodes:function(b){return arguments.length?(n=b,v(),u.forEach(y),i):n},alpha:function(b){return arguments.length?(s=+b,i):s},alphaMin:function(b){return arguments.length?(o=+b,i):o},alphaDecay:function(b){return arguments.length?(a=+b,i):+a},alphaTarget:function(b){return arguments.length?(l=+b,i):l},velocityDecay:function(b){return arguments.length?(c=1-b,i):1-c},randomSource:function(b){return arguments.length?(h=b,u.forEach(y),i):h},force:function(b,w){return arguments.length>1?(w==null?u.delete(b):u.set(b,y(w)),i):u.get(b)},find:function(){var b=Array.prototype.slice.call(arguments),w=b.shift()||0,k=(r>1?b.shift():null)||0,_=(r>2?b.shift():null)||0,S=b.shift()||1/0,C=0,T=n.length,D,O,P,A,L,B;for(S*=S,C=0;C<T;++C)L=n[C],D=w-L.x,O=k-(L.y||0),P=_-(L.z||0),A=D*D+O*O+P*P,A<S&&(B=L,S=A);return B},on:function(b,w){return arguments.length>1?(d.on(b,w),i):d.on(b)}}}function h8e(){var n,e,r,i,s,o=oa(-30),a,l=1,c=1/0,u=.81;function f(g){var v,y=n.length,b=(e===1?ste(n,bD):e===2?OQ(n,bD,hH):e===3?ate(n,bD,hH,l8e):null).visitAfter(h);for(s=g,v=0;v<y;++v)r=n[v],b.visit(p)}function d(){if(n){var g,v=n.length,y;for(a=new Array(v),g=0;g<v;++g)y=n[g],a[y.index]=+o(y,g,n)}}function h(g){var v=0,y,b,w=0,k,_,S,C,T=g.length;if(T){for(k=_=S=C=0;C<T;++C)(y=g[C])&&(b=Math.abs(y.value))&&(v+=y.value,w+=b,k+=b*(y.x||0),_+=b*(y.y||0),S+=b*(y.z||0));v*=Math.sqrt(4/T),g.x=k/w,e>1&&(g.y=_/w),e>2&&(g.z=S/w)}else{y=g,y.x=y.data.x,e>1&&(y.y=y.data.y),e>2&&(y.z=y.data.z);do v+=a[y.data.index];while(y=y.next)}g.value=v}function p(g,v,y,b,w){if(!g.value)return!0;var k=[y,b,w][e-1],_=g.x-r.x,S=e>1?g.y-r.y:0,C=e>2?g.z-r.z:0,T=k-v,D=_*_+S*S+C*C;if(T*T/u<D)return D<c&&(_===0&&(_=Ko(i),D+=_*_),e>1&&S===0&&(S=Ko(i),D+=S*S),e>2&&C===0&&(C=Ko(i),D+=C*C),D<l&&(D=Math.sqrt(l*D)),r.vx+=_*g.value*s/D,e>1&&(r.vy+=S*g.value*s/D),e>2&&(r.vz+=C*g.value*s/D)),!0;if(g.length||D>=c)return;(g.data!==r||g.next)&&(_===0&&(_=Ko(i),D+=_*_),e>1&&S===0&&(S=Ko(i),D+=S*S),e>2&&C===0&&(C=Ko(i),D+=C*C),D<l&&(D=Math.sqrt(l*D)));do g.data!==r&&(T=a[g.data.index]*s/D,r.vx+=_*T,e>1&&(r.vy+=S*T),e>2&&(r.vz+=C*T));while(g=g.next)}return f.initialize=function(g,...v){n=g,i=v.find(y=>typeof y=="function")||Math.random,e=v.find(y=>[1,2,3].includes(y))||2,d()},f.strength=function(g){return arguments.length?(o=typeof g=="function"?g:oa(+g),d(),f):o},f.distanceMin=function(g){return arguments.length?(l=g*g,f):Math.sqrt(l)},f.distanceMax=function(g){return arguments.length?(c=g*g,f):Math.sqrt(c)},f.theta=function(g){return arguments.length?(u=g*g,f):Math.sqrt(u)},f}function p8e(n,e,r,i){var s,o,a=oa(.1),l,c;typeof n!="function"&&(n=oa(+n)),e==null&&(e=0),r==null&&(r=0),i==null&&(i=0);function u(d){for(var h=0,p=s.length;h<p;++h){var g=s[h],v=g.x-e||1e-6,y=(g.y||0)-r||1e-6,b=(g.z||0)-i||1e-6,w=Math.sqrt(v*v+y*y+b*b),k=(c[h]-w)*l[h]*d/w;g.vx+=v*k,o>1&&(g.vy+=y*k),o>2&&(g.vz+=b*k)}}function f(){if(s){var d,h=s.length;for(l=new Array(h),c=new Array(h),d=0;d<h;++d)c[d]=+n(s[d],d,s),l[d]=isNaN(c[d])?0:+a(s[d],d,s)}}return u.initialize=function(d,...h){s=d,o=h.find(p=>[1,2,3].includes(p))||2,f()},u.strength=function(d){return arguments.length?(a=typeof d=="function"?d:oa(+d),f(),u):a},u.radius=function(d){return arguments.length?(n=typeof d=="function"?d:oa(+d),f(),u):n},u.x=function(d){return arguments.length?(e=+d,u):e},u.y=function(d){return arguments.length?(r=+d,u):r},u.z=function(d){return arguments.length?(i=+d,u):i},u}const{abs:cp,cos:zo,sin:ed,acos:m8e,atan2:up,sqrt:qa,pow:Vi}=Math;function dp(n){return n<0?-Vi(-n,1/3):Vi(n,1/3)}const lte=Math.PI,Gb=2*lte,Wa=lte/2,g8e=1e-6,yD=Number.MAX_SAFE_INTEGER||9007199254740991,vD=Number.MIN_SAFE_INTEGER||-9007199254740991,b8e={x:0,y:0,z:0},We={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(n,e){const r=e(n);let i=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(i+=r.z*r.z),qa(i)},compute:function(n,e,r){if(n===0)return e[0].t=0,e[0];const i=e.length-1;if(n===1)return e[i].t=1,e[i];const s=1-n;let o=e;if(i===0)return e[0].t=n,e[0];if(i===1){const l={x:s*o[0].x+n*o[1].x,y:s*o[0].y+n*o[1].y,t:n};return r&&(l.z=s*o[0].z+n*o[1].z),l}if(i<4){let l=s*s,c=n*n,u,f,d,h=0;i===2?(o=[o[0],o[1],o[2],b8e],u=l,f=s*n*2,d=c):i===3&&(u=l*s,f=l*n*3,d=s*c*3,h=n*c);const p={x:u*o[0].x+f*o[1].x+d*o[2].x+h*o[3].x,y:u*o[0].y+f*o[1].y+d*o[2].y+h*o[3].y,t:n};return r&&(p.z=u*o[0].z+f*o[1].z+d*o[2].z+h*o[3].z),p}const a=JSON.parse(JSON.stringify(e));for(;a.length>1;){for(let l=0;l<a.length-1;l++)a[l]={x:a[l].x+(a[l+1].x-a[l].x)*n,y:a[l].y+(a[l+1].y-a[l].y)*n},typeof a[l].z<"u"&&(a[l].z=a[l].z+(a[l+1].z-a[l].z)*n);a.splice(a.length-1,1)}return a[0].t=n,a[0]},computeWithRatios:function(n,e,r,i){const s=1-n,o=r,a=e;let l=o[0],c=o[1],u=o[2],f=o[3],d;if(l*=s,c*=n,a.length===2)return d=l+c,{x:(l*a[0].x+c*a[1].x)/d,y:(l*a[0].y+c*a[1].y)/d,z:i?(l*a[0].z+c*a[1].z)/d:!1,t:n};if(l*=s,c*=2*s,u*=n*n,a.length===3)return d=l+c+u,{x:(l*a[0].x+c*a[1].x+u*a[2].x)/d,y:(l*a[0].y+c*a[1].y+u*a[2].y)/d,z:i?(l*a[0].z+c*a[1].z+u*a[2].z)/d:!1,t:n};if(l*=s,c*=1.5*s,u*=3*s,f*=n*n*n,a.length===4)return d=l+c+u+f,{x:(l*a[0].x+c*a[1].x+u*a[2].x+f*a[3].x)/d,y:(l*a[0].y+c*a[1].y+u*a[2].y+f*a[3].y)/d,z:i?(l*a[0].z+c*a[1].z+u*a[2].z+f*a[3].z)/d:!1,t:n}},derive:function(n,e){const r=[];for(let i=n,s=i.length,o=s-1;s>1;s--,o--){const a=[];for(let l=0,c;l<o;l++)c={x:o*(i[l+1].x-i[l].x),y:o*(i[l+1].y-i[l].y)},e&&(c.z=o*(i[l+1].z-i[l].z)),a.push(c);r.push(a),i=a}return r},between:function(n,e,r){return e<=n&&n<=r||We.approximately(n,e)||We.approximately(n,r)},approximately:function(n,e,r){return cp(n-e)<=(r||g8e)},length:function(n){const r=We.Tvalues.length;let i=0;for(let s=0,o;s<r;s++)o=.5*We.Tvalues[s]+.5,i+=We.Cvalues[s]*We.arcfn(o,n);return .5*i},map:function(n,e,r,i,s){const o=r-e,a=s-i,l=n-e,c=l/o;return i+a*c},lerp:function(n,e,r){const i={x:e.x+n*(r.x-e.x),y:e.y+n*(r.y-e.y)};return e.z!==void 0&&r.z!==void 0&&(i.z=e.z+n*(r.z-e.z)),i},pointToString:function(n){let e=n.x+"/"+n.y;return typeof n.z<"u"&&(e+="/"+n.z),e},pointsToString:function(n){return"["+n.map(We.pointToString).join(", ")+"]"},copy:function(n){return JSON.parse(JSON.stringify(n))},angle:function(n,e,r){const i=e.x-n.x,s=e.y-n.y,o=r.x-n.x,a=r.y-n.y,l=i*a-s*o,c=i*o+s*a;return up(l,c)},round:function(n,e){const r=""+n,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+e))},dist:function(n,e){const r=n.x-e.x,i=n.y-e.y;return qa(r*r+i*i)},closest:function(n,e){let r=Vi(2,63),i,s;return n.forEach(function(o,a){s=We.dist(e,o),s<r&&(r=s,i=a)}),{mdist:r,mpos:i}},abcratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=Vi(n,e)+Vi(1-n,e),i=r-1;return cp(i/r)},projectionratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=Vi(1-n,e),i=Vi(n,e)+r;return r/i},lli8:function(n,e,r,i,s,o,a,l){const c=(n*i-e*r)*(s-a)-(n-r)*(s*l-o*a),u=(n*i-e*r)*(o-l)-(e-i)*(s*l-o*a),f=(n-r)*(o-l)-(e-i)*(s-a);return f==0?!1:{x:c/f,y:u/f}},lli4:function(n,e,r,i){const s=n.x,o=n.y,a=e.x,l=e.y,c=r.x,u=r.y,f=i.x,d=i.y;return We.lli8(s,o,a,l,c,u,f,d)},lli:function(n,e){return We.lli4(n,n.c,e,e.c)},makeline:function(n,e){return new hn(n.x,n.y,(n.x+e.x)/2,(n.y+e.y)/2,e.x,e.y)},findbbox:function(n){let e=yD,r=yD,i=vD,s=vD;return n.forEach(function(o){const a=o.bbox();e>a.x.min&&(e=a.x.min),r>a.y.min&&(r=a.y.min),i<a.x.max&&(i=a.x.max),s<a.y.max&&(s=a.y.max)}),{x:{min:e,mid:(e+i)/2,max:i,size:i-e},y:{min:r,mid:(r+s)/2,max:s,size:s-r}}},shapeintersections:function(n,e,r,i,s){if(!We.bboxoverlap(e,i))return[];const o=[],a=[n.startcap,n.forward,n.back,n.endcap],l=[r.startcap,r.forward,r.back,r.endcap];return a.forEach(function(c){c.virtual||l.forEach(function(u){if(u.virtual)return;const f=c.intersects(u,s);f.length>0&&(f.c1=c,f.c2=u,f.s1=n,f.s2=r,o.push(f))})}),o},makeshape:function(n,e,r){const i=e.points.length,s=n.points.length,o=We.makeline(e.points[i-1],n.points[0]),a=We.makeline(n.points[s-1],e.points[0]),l={startcap:o,forward:n,back:e,endcap:a,bbox:We.findbbox([o,n,e,a])};return l.intersections=function(c){return We.shapeintersections(l,l.bbox,c,c.bbox,r)},l},getminmax:function(n,e,r){if(!r)return{min:0,max:0};let i=yD,s=vD,o,a;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let l=0,c=r.length;l<c;l++)o=r[l],a=n.get(o),a[e]<i&&(i=a[e]),a[e]>s&&(s=a[e]);return{min:i,mid:(i+s)/2,max:s,size:s-i}},align:function(n,e){const r=e.p1.x,i=e.p1.y,s=-up(e.p2.y-i,e.p2.x-r),o=function(a){return{x:(a.x-r)*zo(s)-(a.y-i)*ed(s),y:(a.x-r)*ed(s)+(a.y-i)*zo(s)}};return n.map(o)},roots:function(n,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=n.length-1,i=We.align(n,e),s=function(T){return 0<=T&&T<=1};if(r===2){const T=i[0].y,D=i[1].y,O=i[2].y,P=T-2*D+O;if(P!==0){const A=-qa(D*D-T*O),L=-T+D,B=-(A+L)/P,F=-(-A+L)/P;return[B,F].filter(s)}else if(D!==O&&P===0)return[(2*D-O)/(2*D-2*O)].filter(s);return[]}const o=i[0].y,a=i[1].y,l=i[2].y,c=i[3].y;let u=-o+3*a-3*l+c,f=3*o-6*a+3*l,d=-3*o+3*a,h=o;if(We.approximately(u,0)){if(We.approximately(f,0))return We.approximately(d,0)?[]:[-h/d].filter(s);const T=qa(d*d-4*f*h),D=2*f;return[(T-d)/D,(-d-T)/D].filter(s)}f/=u,d/=u,h/=u;const p=(3*d-f*f)/3,g=p/3,v=(2*f*f*f-9*f*d+27*h)/27,y=v/2,b=y*y+g*g*g;let w,k,_,S,C;if(b<0){const T=-p/3,D=T*T*T,O=qa(D),P=-v/(2*O),A=P<-1?-1:P>1?1:P,L=m8e(A),B=dp(O),F=2*B;return _=F*zo(L/3)-f/3,S=F*zo((L+Gb)/3)-f/3,C=F*zo((L+2*Gb)/3)-f/3,[_,S,C].filter(s)}else{if(b===0)return w=y<0?dp(-y):-dp(y),_=2*w-f/3,S=-w-f/3,[_,S].filter(s);{const T=qa(b);return w=dp(-y+T),k=dp(y+T),[w-k-f/3].filter(s)}}},droots:function(n){if(n.length===3){const e=n[0],r=n[1],i=n[2],s=e-2*r+i;if(s!==0){const o=-qa(r*r-e*i),a=-e+r,l=-(o+a)/s,c=-(-o+a)/s;return[l,c]}else if(r!==i&&s===0)return[(2*r-i)/(2*(r-i))];return[]}if(n.length===2){const e=n[0],r=n[1];return e!==r?[e/(e-r)]:[]}return[]},curvature:function(n,e,r,i,s){let o,a,l,c,u=0,f=0;const d=We.compute(n,e),h=We.compute(n,r),p=d.x*d.x+d.y*d.y;if(i?(o=qa(Vi(d.y*h.z-h.y*d.z,2)+Vi(d.z*h.x-h.z*d.x,2)+Vi(d.x*h.y-h.x*d.y,2)),a=Vi(p+d.z*d.z,3/2)):(o=d.x*h.y-d.y*h.x,a=Vi(p,3/2)),o===0||a===0)return{k:0,r:0};if(u=o/a,f=a/o,!s){const g=We.curvature(n-.001,e,r,i,!0).k,v=We.curvature(n+.001,e,r,i,!0).k;c=(v-u+(u-g))/2,l=(cp(v-u)+cp(u-g))/2}return{k:u,r:f,dk:c,adk:l}},inflections:function(n){if(n.length<4)return[];const e=We.align(n,{p1:n[0],p2:n.slice(-1)[0]}),r=e[2].x*e[1].y,i=e[3].x*e[1].y,s=e[1].x*e[2].y,o=e[3].x*e[2].y,a=18*(-3*r+2*i+3*s-o),l=18*(3*r-i-3*s),c=18*(s-r);if(We.approximately(a,0)){if(!We.approximately(l,0)){let h=-c/l;if(0<=h&&h<=1)return[h]}return[]}const u=2*a;if(We.approximately(u,0))return[];const f=l*l-4*a*c;if(f<0)return[];const d=Math.sqrt(f);return[(d-l)/u,-(l+d)/u].filter(function(h){return 0<=h&&h<=1})},bboxoverlap:function(n,e){const r=["x","y"],i=r.length;for(let s=0,o,a,l,c;s<i;s++)if(o=r[s],a=n[o].mid,l=e[o].mid,c=(n[o].size+e[o].size)/2,cp(a-l)>=c)return!1;return!0},expandbox:function(n,e){e.x.min<n.x.min&&(n.x.min=e.x.min),e.y.min<n.y.min&&(n.y.min=e.y.min),e.z&&e.z.min<n.z.min&&(n.z.min=e.z.min),e.x.max>n.x.max&&(n.x.max=e.x.max),e.y.max>n.y.max&&(n.y.max=e.y.max),e.z&&e.z.max>n.z.max&&(n.z.max=e.z.max),n.x.mid=(n.x.min+n.x.max)/2,n.y.mid=(n.y.min+n.y.max)/2,n.z&&(n.z.mid=(n.z.min+n.z.max)/2),n.x.size=n.x.max-n.x.min,n.y.size=n.y.max-n.y.min,n.z&&(n.z.size=n.z.max-n.z.min)},pairiteration:function(n,e,r){const i=n.bbox(),s=e.bbox(),o=1e5,a=r||.5;if(i.x.size+i.y.size<a&&s.x.size+s.y.size<a)return[(o*(n._t1+n._t2)/2|0)/o+"/"+(o*(e._t1+e._t2)/2|0)/o];let l=n.split(.5),c=e.split(.5),u=[{left:l.left,right:c.left},{left:l.left,right:c.right},{left:l.right,right:c.right},{left:l.right,right:c.left}];u=u.filter(function(d){return We.bboxoverlap(d.left.bbox(),d.right.bbox())});let f=[];return u.length===0||(u.forEach(function(d){f=f.concat(We.pairiteration(d.left,d.right,a))}),f=f.filter(function(d,h){return f.indexOf(d)===h})),f},getccenter:function(n,e,r){const i=e.x-n.x,s=e.y-n.y,o=r.x-e.x,a=r.y-e.y,l=i*zo(Wa)-s*ed(Wa),c=i*ed(Wa)+s*zo(Wa),u=o*zo(Wa)-a*ed(Wa),f=o*ed(Wa)+a*zo(Wa),d=(n.x+e.x)/2,h=(n.y+e.y)/2,p=(e.x+r.x)/2,g=(e.y+r.y)/2,v=d+l,y=h+c,b=p+u,w=g+f,k=We.lli8(d,h,v,y,p,g,b,w),_=We.dist(k,n);let S=up(n.y-k.y,n.x-k.x),C=up(e.y-k.y,e.x-k.x),T=up(r.y-k.y,r.x-k.x),D;return S<T?((S>C||C>T)&&(S+=Gb),S>T&&(D=T,T=S,S=D)):T<C&&C<S?(D=T,T=S,S=D):T+=Gb,k.s=S,k.e=T,k.r=_,k},numberSort:function(n,e){return n-e}};class om{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return We.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,r){return e+r})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var r=e[0].bbox(),i=1;i<e.length;i++)We.expandbox(r,e[i].bbox());return r}offset(e){const r=[];return this.curves.forEach(function(i){r.push(...i.offset(e))}),new om(r)}}const{abs:fp,min:pH,max:mH,cos:y8e,sin:v8e,acos:x8e,sqrt:hp}=Math,w8e=Math.PI;class hn{constructor(e){let r=e&&e.forEach?e:Array.from(arguments).slice(),i=!1;if(typeof r[0]=="object"){i=r.length;const p=[];r.forEach(function(g){["x","y","z"].forEach(function(v){typeof g[v]<"u"&&p.push(g[v])})}),r=p}let s=!1;const o=r.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");s=!0}}else if(o!==6&&o!==8&&o!==9&&o!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const a=this._3d=!s&&(o===9||o===12)||e&&e[0]&&typeof e[0].z<"u",l=this.points=[];for(let p=0,g=a?3:2;p<o;p+=g){var c={x:r[p],y:r[p+1]};a&&(c.z=r[p+2]),l.push(c)}const u=this.order=l.length-1,f=this.dims=["x","y"];a&&f.push("z"),this.dimlen=f.length;const d=We.align(l,{p1:l[0],p2:l[u]}),h=We.dist(l[0],l[u]);this._linear=d.reduce((p,g)=>p+fp(g.y),0)<h/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,r,i,s){if(typeof s>"u"&&(s=.5),s===0)return new hn(r,r,i);if(s===1)return new hn(e,r,r);const o=hn.getABC(2,e,r,i,s);return new hn(e,o.A,i)}static cubicFromPoints(e,r,i,s,o){typeof s>"u"&&(s=.5);const a=hn.getABC(3,e,r,i,s);typeof o>"u"&&(o=We.dist(r,a.C));const l=o*(1-s)/s,c=We.dist(e,i),u=(i.x-e.x)/c,f=(i.y-e.y)/c,d=o*u,h=o*f,p=l*u,g=l*f,v={x:r.x-d,y:r.y-h},y={x:r.x+p,y:r.y+g},b=a.A,w={x:b.x+(v.x-b.x)/(1-s),y:b.y+(v.y-b.y)/(1-s)},k={x:b.x+(y.x-b.x)/s,y:b.y+(y.y-b.y)/s},_={x:e.x+(w.x-e.x)/s,y:e.y+(w.y-e.y)/s},S={x:i.x+(k.x-i.x)/(1-s),y:i.y+(k.y-i.y)/(1-s)};return new hn(e,_,S,i)}static getUtils(){return We}getUtils(){return hn.getUtils()}static get PolyBezier(){return om}valueOf(){return this.toString()}toString(){return We.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,r=e[0].x,i=e[0].y,s=["M",r,i,this.order===2?"Q":"C"];for(let o=1,a=e.length;o<a;o++)s.push(e[o].x),s.push(e[o].y);return s.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,r){return""+r+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=We.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,r=We.angle(e[0],e[this.order],e[1]);this.clockwise=r>0}length(){return We.length(this.derivative.bind(this))}static getABC(e=2,r,i,s,o=.5){const a=We.projectionratio(o,e),l=1-a,c={x:a*r.x+l*s.x,y:a*r.y+l*s.y},u=We.abcratio(o,e);return{A:{x:i.x+(i.x-c.x)/u,y:i.y+(i.y-c.y)/u},B:i,C:c,S:r,E:s}}getABC(e,r){r=r||this.get(e);let i=this.points[0],s=this.points[this.order];return hn.getABC(this.order,i,r,s,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(let r=0,i,s;r<e;r++)s=r/(e-1),i=this.compute(s),i.t=s,this._lut.push(i);return this._lut}on(e,r){r=r||5;const i=this.getLUT(),s=[];for(let o=0,a,l=0;o<i.length;o++)a=i[o],We.dist(a,e)<r&&(s.push(a),l+=o/i.length);return s.length?t/=s.length:!1}project(e){const r=this.getLUT(),i=r.length-1,s=We.closest(r,e),o=s.mpos,a=(o-1)/i,l=(o+1)/i,c=.1/i;let u=s.mdist,f=a,d=f,h;u+=1;for(let p;f<l+c;f+=c)h=this.compute(f),p=We.dist(e,h),p<u&&(u=p,d=f);return d=d<0?0:d>1?1:d,h=this.compute(d),h.t=d,h.d=u,h}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?We.computeWithRatios(e,this.points,this.ratios,this._3d):We.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,r=[e[0]],i=e.length;for(let s=1,o,a;s<i;s++)o=e[s],a=e[s-1],r[s]={x:(i-s)/i*o.x+s/i*a.x,y:(i-s)/i*o.y+s/i*a.y};return r[i]=e[i-1],new hn(r)}derivative(e){return We.compute(e,this.dpoints[0],this._3d)}dderivative(e){return We.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new hn(We.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return We.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return We.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const r=this.derivative(e),i=hp(r.x*r.x+r.y*r.y);return{t:e,x:-r.y/i,y:r.x/i}}__normal3(e){const r=this.derivative(e),i=this.derivative(e+.01),s=hp(r.x*r.x+r.y*r.y+r.z*r.z),o=hp(i.x*i.x+i.y*i.y+i.z*i.z);r.x/=s,r.y/=s,r.z/=s,i.x/=o,i.y/=o,i.z/=o;const a={x:i.y*r.z-i.z*r.y,y:i.z*r.x-i.x*r.z,z:i.x*r.y-i.y*r.x},l=hp(a.x*a.x+a.y*a.y+a.z*a.z);a.x/=l,a.y/=l,a.z/=l;const c=[a.x*a.x,a.x*a.y-a.z,a.x*a.z+a.y,a.x*a.y+a.z,a.y*a.y,a.y*a.z-a.x,a.x*a.z-a.y,a.y*a.z+a.x,a.z*a.z];return{t:e,x:c[0]*r.x+c[1]*r.y+c[2]*r.z,y:c[3]*r.x+c[4]*r.y+c[5]*r.z,z:c[6]*r.x+c[7]*r.y+c[8]*r.z}}hull(e){let r=this.points,i=[],s=[],o=0;for(s[o++]=r[0],s[o++]=r[1],s[o++]=r[2],this.order===3&&(s[o++]=r[3]);r.length>1;){i=[];for(let a=0,l,c=r.length-1;a<c;a++)l=We.lerp(e,r[a],r[a+1]),s[o++]=l,i.push(l);r=i}return s}split(e,r){if(e===0&&r)return this.split(r).left;if(r===1)return this.split(e).right;const i=this.hull(e),s={left:this.order===2?new hn([i[0],i[3],i[5]]):new hn([i[0],i[4],i[7],i[9]]),right:this.order===2?new hn([i[5],i[4],i[2]]):new hn([i[9],i[8],i[6],i[3]]),span:i};return s.left._t1=We.map(0,0,1,this._t1,this._t2),s.left._t2=We.map(e,0,1,this._t1,this._t2),s.right._t1=We.map(e,0,1,this._t1,this._t2),s.right._t2=We.map(1,0,1,this._t1,this._t2),r?(r=We.map(r,e,1,0,1),s.right.split(r).left):s}extrema(){const e={};let r=[];return this.dims.forEach((function(i){let s=function(a){return a[i]},o=this.dpoints[0].map(s);e[i]=We.droots(o),this.order===3&&(o=this.dpoints[1].map(s),e[i]=e[i].concat(We.droots(o))),e[i]=e[i].filter(function(a){return a>=0&&a<=1}),r=r.concat(e[i].sort(We.numberSort))}).bind(this)),e.values=r.sort(We.numberSort).filter(function(i,s){return r.indexOf(i)===s}),e}bbox(){const e=this.extrema(),r={};return this.dims.forEach((function(i){r[i]=We.getminmax(this,i,e[i])}).bind(this)),r}overlaps(e){const r=this.bbox(),i=e.bbox();return We.bboxoverlap(r,i)}offset(e,r){if(typeof r<"u"){const i=this.get(e),s=this.normal(e),o={c:i,n:s,x:i.x+s.x*r,y:i.y+s.y*r};return this._3d&&(o.z=i.z+s.z*r),o}if(this._linear){const i=this.normal(0),s=this.points.map(function(o){const a={x:o.x+e*i.x,y:o.y+e*i.y};return o.z&&i.z&&(a.z=o.z+e*i.z),a});return[new hn(s)]}return this.reduce().map(function(i){return i._linear?i.offset(e)[0]:i.scale(e)})}simple(){if(this.order===3){const s=We.angle(this.points[0],this.points[3],this.points[1]),o=We.angle(this.points[0],this.points[3],this.points[2]);if(s>0&&o<0||s<0&&o>0)return!1}const e=this.normal(0),r=this.normal(1);let i=e.x*r.x+e.y*r.y;return this._3d&&(i+=e.z*r.z),fp(x8e(i))<w8e/3}reduce(){let e,r=0,i=0,s=.01,o,a=[],l=[],c=this.extrema().values;for(c.indexOf(0)===-1&&(c=[0].concat(c)),c.indexOf(1)===-1&&c.push(1),r=c[0],e=1;e<c.length;e++)i=c[e],o=this.split(r,i),o._t1=r,o._t2=i,a.push(o),r=i;return a.forEach(function(u){for(r=0,i=0;i<=1;)for(i=r+s;i<=1+s;i+=s)if(o=u.split(r,i),!o.simple()){if(i-=s,fp(r-i)<s)return[];o=u.split(r,i),o._t1=We.map(r,0,1,u._t1,u._t2),o._t2=We.map(i,0,1,u._t1,u._t2),l.push(o),r=i;break}r<1&&(o=u.split(r,1),o._t1=We.map(r,0,1,u._t1,u._t2),o._t2=u._t2,l.push(o))}),l}translate(e,r,i){i=typeof i=="number"?i:r;const s=this.order;let o=this.points.map((a,l)=>(1-l/s)*r+l/s*i);return new hn(this.points.map((a,l)=>({x:a.x+e.x*o[l],y:a.y+e.y*o[l]})))}scale(e){const r=this.order;let i=!1;if(typeof e=="function"&&(i=e),i&&r===2)return this.raise().scale(i);const s=this.clockwise,o=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):e,i?i(1):e);const a=i?i(0):e,l=i?i(1):e,c=[this.offset(0,10),this.offset(1,10)],u=[],f=We.lli4(c[0],c[0].c,c[1],c[1].c);if(!f)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(d){const h=u[d*r]=We.copy(o[d*r]);h.x+=(d?l:a)*c[d].n.x,h.y+=(d?l:a)*c[d].n.y}),i?([0,1].forEach(function(d){if(!(r===2&&d)){var h=o[d+1],p={x:h.x-f.x,y:h.y-f.y},g=i?i((d+1)/r):e;i&&!s&&(g=-g);var v=hp(p.x*p.x+p.y*p.y);p.x/=v,p.y/=v,u[d+1]={x:h.x+g*p.x,y:h.y+g*p.y}}}),new hn(u)):([0,1].forEach(d=>{if(r===2&&d)return;const h=u[d*r],p=this.derivative(d),g={x:h.x+p.x,y:h.y+p.y};u[d+1]=We.lli4(h,g,f,o[d+1])}),new hn(u))}outline(e,r,i,s){if(r=r===void 0?e:r,this._linear){const S=this.normal(0),C=this.points[0],T=this.points[this.points.length-1];let D,O,P;i===void 0&&(i=e,s=r),D={x:C.x+S.x*e,y:C.y+S.y*e},P={x:T.x+S.x*i,y:T.y+S.y*i},O={x:(D.x+P.x)/2,y:(D.y+P.y)/2};const A=[D,O,P];D={x:C.x-S.x*r,y:C.y-S.y*r},P={x:T.x-S.x*s,y:T.y-S.y*s},O={x:(D.x+P.x)/2,y:(D.y+P.y)/2};const L=[P,O,D],B=We.makeline(L[2],A[0]),F=We.makeline(A[2],L[0]),$=[B,new hn(A),F,new hn(L)];return new om($)}const o=this.reduce(),a=o.length,l=[];let c=[],u,f=0,d=this.length();const h=typeof i<"u"&&typeof s<"u";function p(S,C,T,D,O){return function(P){const A=D/T,L=(D+O)/T,B=C-S;return We.map(P,0,1,S+A*B,S+L*B)}}o.forEach(function(S){const C=S.length();h?(l.push(S.scale(p(e,i,d,f,C))),c.push(S.scale(p(-r,-s,d,f,C)))):(l.push(S.scale(e)),c.push(S.scale(-r))),f+=C}),c=c.map(function(S){return u=S.points,u[3]?S.points=[u[3],u[2],u[1],u[0]]:S.points=[u[2],u[1],u[0]],S}).reverse();const g=l[0].points[0],v=l[a-1].points[l[a-1].points.length-1],y=c[a-1].points[c[a-1].points.length-1],b=c[0].points[0],w=We.makeline(y,g),k=We.makeline(v,b),_=[w].concat(l).concat([k]).concat(c);return new om(_)}outlineshapes(e,r,i){r=r||e;const s=this.outline(e,r).curves,o=[];for(let a=1,l=s.length;a<l/2;a++){const c=We.makeshape(s[a],s[l-a],i);c.startcap.virtual=a>1,c.endcap.virtual=a<l/2-1,o.push(c)}return o}intersects(e,r){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof hn&&(e=e.reduce()),this.curveintersects(this.reduce(),e,r)):this.selfintersects(r)}lineIntersects(e){const r=pH(e.p1.x,e.p2.x),i=pH(e.p1.y,e.p2.y),s=mH(e.p1.x,e.p2.x),o=mH(e.p1.y,e.p2.y);return We.roots(this.points,e).filter(a=>{var l=this.get(a);return We.between(l.x,r,s)&&We.between(l.y,i,o)})}selfintersects(e){const r=this.reduce(),i=r.length-2,s=[];for(let o=0,a,l,c;o<i;o++)l=r.slice(o,o+1),c=r.slice(o+2),a=this.curveintersects(l,c,e),s.push(...a);return s}curveintersects(e,r,i){const s=[];e.forEach(function(a){r.forEach(function(l){a.overlaps(l)&&s.push({left:a,right:l})})});let o=[];return s.forEach(function(a){const l=We.pairiteration(a.left,a.right,i);l.length>0&&(o=o.concat(l))}),o}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,r,i,s){const o=(s-i)/4,a=this.get(i+o),l=this.get(s-o),c=We.dist(e,r),u=We.dist(e,a),f=We.dist(e,l);return fp(u-c)+fp(f-c)}_iterate(e,r){let i=0,s=1,o;do{o=0,s=1;let a=this.get(i),l,c,u,f,d=!1,h=!1,p,g=s,v=1;do if(h=d,f=u,g=(i+s)/2,l=this.get(g),c=this.get(s),u=We.getccenter(a,l,c),u.interval={start:i,end:s},d=this._error(u,a,i,s)<=e,p=h&&!d,p||(v=s),d){if(s>=1){if(u.interval.end=v=1,f=u,s>1){let b={x:u.x+u.r*y8e(u.e),y:u.y+u.r*v8e(u.e)};u.e+=We.angle({x:u.x,y:u.y},b,this.get(1))}break}s=s+(s-i)/2}else s=g;while(!p&&o++<100);if(o>=100)break;f=f||u,r.push(f),i=v}while(s<1);return r}}function oO(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function _8e(n){if(Array.isArray(n))return n}function S8e(n){if(Array.isArray(n))return oO(n)}function k8e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function C8e(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function T8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D8e(n,e){if(n==null)return{};var r,i,s=P8e(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],e.includes(r)||{}.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function P8e(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;r[i]=n[i]}return r}function I8e(n,e){return _8e(n)||C8e(n,e)||cte(n,e)||T8e()}function O8e(n){return S8e(n)||k8e(n)||cte(n)||E8e()}function M8e(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function A8e(n){var e=M8e(n,"string");return typeof e=="symbol"?e:e+""}function cte(n,e){if(n){if(typeof n=="string")return oO(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oO(n,e):void 0}}var R8e=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(l){return{keyAccessor:l,isProp:!(l instanceof Function)}}),o=n.reduce(function(l,c){var u=l,f=c;return s.forEach(function(d,h){var p=d.keyAccessor,g=d.isProp,v;if(g){var y=f,b=y[p],w=D8e(y,[p].map(A8e));v=b,f=w}else v=p(f,h);h+1<s.length?(u.hasOwnProperty(v)||(u[v]={}),u=u[v]):r?(u.hasOwnProperty(v)||(u[v]=[]),u[v].push(f)):u[v]=f}),l},{});r instanceof Function&&function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;u===s.length?Object.keys(c).forEach(function(f){return c[f]=r(c[f])}):Object.values(c).forEach(function(f){return l(f,u+1)})}(o);var a=o;return i&&(a=[],function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];u.length===s.length?a.push({keys:u,vals:c}):Object.entries(c).forEach(function(f){var d=I8e(f,2),h=d[0],p=d[1];return l(p,[].concat(O8e(u),[h]))})}(o),e instanceof Array&&e.length===0&&a.length===1&&(a[0].keys=[])),a};function N8e(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}}var j8e=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;N8e(j8e);function aO(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function L8e(n){if(Array.isArray(n))return n}function F8e(n){if(Array.isArray(n))return aO(n)}function gH(n,e,r){if(ute())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var s=new(n.bind.apply(n,i));return s}function bg(n,e,r){return(e=W8e(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function ute(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ute=function(){return!!n})()}function $8e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function B8e(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,o,a,l=[],c=!0,u=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(c=(i=o.call(r)).done)&&(l.push(i.value),l.length!==e);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function z8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bH(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function td(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bH(Object(r),!0).forEach(function(i){bg(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):bH(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function am(n,e){return L8e(n)||B8e(n,e)||dte(n,e)||z8e()}function is(n){return F8e(n)||$8e(n)||dte(n)||U8e()}function q8e(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function W8e(n){var e=q8e(n,"string");return typeof e=="symbol"?e:e+""}function lO(n){"@babel/helpers - typeof";return lO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lO(n)}function dte(n,e){if(n){if(typeof n=="string")return aO(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?aO(n,e):void 0}}var H8e=TA(p1e);function yH(n,e,r){!e||typeof r!="string"||n.filter(function(i){return!i[r]}).forEach(function(i){i[r]=H8e(e(i))})}function G8e(n,e){var r=n.nodes,i=n.links,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=s.nodeFilter,a=o===void 0?function(){return!0}:o,l=s.onLoopError,c=l===void 0?function(p){throw"Invalid DAG structure! Found cycle in node path: ".concat(p.join(" -> "),".")}:l,u={};r.forEach(function(p){return u[e(p)]={data:p,out:[],depth:-1,skip:!a(p)}}),i.forEach(function(p){var g=p.source,v=p.target,y=_(g),b=_(v);if(!u.hasOwnProperty(y))throw"Missing source node with id: ".concat(y);if(!u.hasOwnProperty(b))throw"Missing target node with id: ".concat(b);var w=u[y],k=u[b];w.out.push(k);function _(S){return lO(S)==="object"?e(S):S}});var f=[];h(Object.values(u));var d=Object.assign.apply(Object,[{}].concat(is(Object.entries(u).filter(function(p){var g=am(p,2),v=g[1];return!v.skip}).map(function(p){var g=am(p,2),v=g[0],y=g[1];return bg({},v,y.depth)}))));return d;function h(p){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,y=function(){var _=p[b];if(g.indexOf(_)!==-1){var S=[].concat(is(g.slice(g.indexOf(_))),[_]).map(function(C){return e(C.data)});return f.some(function(C){return C.length===S.length&&C.every(function(T,D){return T===S[D]})})||(f.push(S),c(S)),1}v>_.depth&&(_.depth=v,h(_.out,[].concat(is(g),[_]),v+(_.skip?0:1)))},b=0,w=p.length;b<w;b++)y()}}var Y8e=2,Cr=function(e,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},vH=function(e,r){if(!r.isShadow){var i=Yt(r.linkDirectionalParticles);r.graphData.links.forEach(function(s){var o=Math.round(Math.abs(i(s)));o?s.__photons=is(Array(o)).map(function(){return{}}):delete s.__photons})}},sx=qR({props:{graphData:{default:{nodes:[],links:[]},onChange:function(e,r){r.engineRunning=!1,vH(e,r)}},dagMode:{onChange:function(e,r){!e&&(r.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:Cr},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:Cr},nodeColor:{default:"color",triggerUpdate:!1,onChange:Cr},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:Cr},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Cr},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:Cr},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:Cr},linkColor:{default:"color",triggerUpdate:!1,onChange:Cr},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:Cr},linkWidth:{default:1,triggerUpdate:!1,onChange:Cr},linkCurvature:{default:0,triggerUpdate:!1,onChange:Cr},linkCanvasObject:{triggerUpdate:!1,onChange:Cr},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Cr},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:Cr},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:Cr},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:Cr},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:vH},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(e,r,i){return i===void 0?e.forceLayout.force(r):(e.forceLayout.force(r,i),this)},d3ReheatSimulation:function(e){return e.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},isEngineRunning:function(e){return!!e.engineRunning},tickFrame:function(e){return!e.isShadow&&r(),s(),!e.isShadow&&o(),!e.isShadow&&a(),i(),this;function r(){e.engineRunning&&(++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.forceLayout.tick(),e.onEngineTick()))}function i(){var l=Yt(e.nodeVisibility),c=Yt(e.nodeVal),u=Yt(e.nodeColor),f=Yt(e.nodeCanvasObjectMode),d=e.ctx,h=e.isShadow/e.globalScale,p=e.graphData.nodes.filter(l);d.save(),p.forEach(function(g){var v=f(g);if(e.nodeCanvasObject&&(v==="before"||v==="replace")&&(e.nodeCanvasObject(g,d,e.globalScale),v==="replace")){d.restore();return}var y=Math.sqrt(Math.max(0,c(g)||1))*e.nodeRelSize+h;d.beginPath(),d.arc(g.x,g.y,y,0,2*Math.PI,!1),d.fillStyle=u(g)||"rgba(31, 120, 180, 0.92)",d.fill(),e.nodeCanvasObject&&v==="after"&&e.nodeCanvasObject(g,e.ctx,e.globalScale)}),d.restore()}function s(){var l=Yt(e.linkVisibility),c=Yt(e.linkColor),u=Yt(e.linkWidth),f=Yt(e.linkLineDash),d=Yt(e.linkCurvature),h=Yt(e.linkCanvasObjectMode),p=e.ctx,g=e.isShadow*2,v=e.graphData.links.filter(l);v.forEach(C);var y=[],b=[],w=v;if(e.linkCanvasObject){var k=[],_=[];v.forEach(function(T){return({before:y,after:b,replace:k}[h(T)]||_).push(T)}),w=[].concat(is(y),b,_),y=y.concat(k)}p.save(),y.forEach(function(T){return e.linkCanvasObject(T,p,e.globalScale)}),p.restore();var S=R8e(w,[c,u,f]);p.save(),Object.entries(S).forEach(function(T){var D=am(T,2),O=D[0],P=D[1],A=!O||O==="undefined"?"rgba(0,0,0,0.15)":O;Object.entries(P).forEach(function(L){var B=am(L,2),F=B[0],$=B[1],U=(F||1)/e.globalScale+g;Object.entries($).forEach(function(N){var q=am(N,2);q[0];var H=q[1],X=f(H[0]);p.beginPath(),H.forEach(function(Y){var W=Y.source,R=Y.target;if(!(!W||!R||!W.hasOwnProperty("x")||!R.hasOwnProperty("x"))){p.moveTo(W.x,W.y);var Z=Y.__controlPoints;Z?p[Z.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(p,is(Z).concat([R.x,R.y])):p.lineTo(R.x,R.y)}}),p.strokeStyle=A,p.lineWidth=U,p.setLineDash(X||[]),p.stroke()})})}),p.restore(),p.save(),b.forEach(function(T){return e.linkCanvasObject(T,p,e.globalScale)}),p.restore();function C(T){var D=d(T);if(!D){T.__controlPoints=null;return}var O=T.source,P=T.target;if(!(!O||!P||!O.hasOwnProperty("x")||!P.hasOwnProperty("x"))){var A=Math.sqrt(Math.pow(P.x-O.x,2)+Math.pow(P.y-O.y,2));if(A>0){var L=Math.atan2(P.y-O.y,P.x-O.x),B=A*D,F={x:(O.x+P.x)/2+B*Math.cos(L-Math.PI/2),y:(O.y+P.y)/2+B*Math.sin(L-Math.PI/2)};T.__controlPoints=[F.x,F.y]}else{var $=D*70;T.__controlPoints=[P.x,P.y-$,P.x+$,P.y]}}}}function o(){var l=1.6,c=.2,u=Yt(e.linkDirectionalArrowLength),f=Yt(e.linkDirectionalArrowRelPos),d=Yt(e.linkVisibility),h=Yt(e.linkDirectionalArrowColor||e.linkColor),p=Yt(e.nodeVal),g=e.ctx;g.save(),e.graphData.links.filter(d).forEach(function(v){var y=u(v);if(!(!y||y<0)){var b=v.source,w=v.target;if(!(!b||!w||!b.hasOwnProperty("x")||!w.hasOwnProperty("x"))){var k=Math.sqrt(Math.max(0,p(b)||1))*e.nodeRelSize,_=Math.sqrt(Math.max(0,p(w)||1))*e.nodeRelSize,S=Math.min(1,Math.max(0,f(v))),C=h(v)||"rgba(0,0,0,0.28)",T=y/l/2,D=v.__controlPoints&&gH(hn,[b.x,b.y].concat(is(v.__controlPoints),[w.x,w.y])),O=D?function(U){return D.get(U)}:function(U){return{x:b.x+(w.x-b.x)*U||0,y:b.y+(w.y-b.y)*U||0}},P=D?D.length():Math.sqrt(Math.pow(w.x-b.x,2)+Math.pow(w.y-b.y,2)),A=k+y+(P-k-_-y)*S,L=O(A/P),B=O((A-y)/P),F=O((A-y*(1-c))/P),$=Math.atan2(L.y-B.y,L.x-B.x)-Math.PI/2;g.beginPath(),g.moveTo(L.x,L.y),g.lineTo(B.x+T*Math.cos($),B.y+T*Math.sin($)),g.lineTo(F.x,F.y),g.lineTo(B.x-T*Math.cos($),B.y-T*Math.sin($)),g.fillStyle=C,g.fill()}}}),g.restore()}function a(){var l=Yt(e.linkDirectionalParticles),c=Yt(e.linkDirectionalParticleSpeed),u=Yt(e.linkDirectionalParticleOffset),f=Yt(e.linkDirectionalParticleWidth),d=Yt(e.linkVisibility),h=Yt(e.linkDirectionalParticleColor||e.linkColor),p=e.ctx;p.save(),e.graphData.links.filter(d).forEach(function(g){var v=l(g);if(!(!g.hasOwnProperty("__photons")||!g.__photons.length)){var y=g.source,b=g.target;if(!(!y||!b||!y.hasOwnProperty("x")||!b.hasOwnProperty("x"))){var w=c(g),k=Math.abs(u(g)),_=g.__photons||[],S=Math.max(0,f(g)/2)/Math.sqrt(e.globalScale),C=h(g)||"rgba(0,0,0,0.28)";p.fillStyle=C;var T=g.__controlPoints?gH(hn,[y.x,y.y].concat(is(g.__controlPoints),[b.x,b.y])):null,D=0,O=!1;_.forEach(function(P){var A=!!P.__singleHop;if(P.hasOwnProperty("__progressRatio")||(P.__progressRatio=A?0:(D+k)/v),!A&&D++,P.__progressRatio+=w,P.__progressRatio>=1)if(!A)P.__progressRatio=P.__progressRatio%1;else{O=!0;return}var L=P.__progressRatio,B=T?T.get(L):{x:y.x+(b.x-y.x)*L||0,y:y.y+(b.y-y.y)*L||0};e.linkDirectionalParticleCanvasObject?e.linkDirectionalParticleCanvasObject(B.x,B.y,g,p,e.globalScale):(p.beginPath(),p.arc(B.x,B.y,S,0,2*Math.PI,!1),p.fill())}),O&&(g.__photons=g.__photons.filter(function(P){return!P.__singleHop||P.__progressRatio<=1}))}}}),p.restore()}},emitParticle:function(e,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:f8e().force("link",i8e()).force("charge",h8e()).force("center",_je()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,r){r.ctx=e},update:function(e,r){e.engineRunning=!1,e.onUpdate(),e.nodeAutoColorBy!==null&&yH(e.graphData.nodes,Yt(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&yH(e.graphData.links,Yt(e.linkAutoColorBy),e.linkColor),e.graphData.links.forEach(function(h){h.source=h[e.linkSource],h.target=h[e.linkTarget]}),e.forceLayout.stop().alpha(1).nodes(e.graphData.nodes);var i=e.forceLayout.force("link");i&&i.id(function(h){return h[e.nodeId]}).links(e.graphData.links);var s=e.dagMode&&G8e(e.graphData,function(h){return h[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),o=Math.max.apply(Math,is(Object.values(s||[]))),a=e.dagLevelDistance||e.graphData.nodes.length/(o||1)*Y8e*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(r.dagMode)){var l=["lr","rl"].includes(r.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(h){return delete h[l]})}if(["lr","rl","td","bu"].includes(e.dagMode)){var c=["rl","bu"].includes(e.dagMode),u=function(p){return(s[p[e.nodeId]]-o/2)*a*(c?-1:1)},f=["lr","rl"].includes(e.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(h){return h[f]=u(h)})}e.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?p8e(function(h){var p=s[h[e.nodeId]]||-1;return(e.dagMode==="radialin"?o-p:p)*a}).strength(function(h){return e.dagNodeFilter(h)?1:0}):null);for(var d=0;d<e.warmupTicks&&!(e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin);d++)e.forceLayout.tick();this.resetCountdown(),e.onFinishUpdate()}});function fte(n,e){var r=n instanceof Array?n:[n],i=new e;return i._destructor&&i._destructor(),{linkProp:function(o){return{default:i[o](),onChange:function(l,c){r.forEach(function(u){return c[u][o](l)})},triggerUpdate:!1}},linkMethod:function(o){return function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];var f=[];return r.forEach(function(d){var h=a[d],p=h[o].apply(h,c);p!==h&&f.push(p)}),f.length?f[0]:this}}}}var V8e=800,K8e=4,X8e=5,hte=fte("forceGraph",sx),Q8e=fte(["forceGraph","shadowGraph"],sx),Z8e=Object.assign.apply(Object,is(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(n){return bg({},n,hte.linkProp(n))})).concat(is(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(n){return bg({},n,Q8e.linkProp(n))})))),J8e=Object.assign.apply(Object,is(["d3Force","d3ReheatSimulation","emitParticle"].map(function(n){return bg({},n,hte.linkMethod(n))})));function xD(n){if(n.canvas){var e=n.canvas.width,r=n.canvas.height;e===300&&r===150&&(e=r=0);var i=window.devicePixelRatio;e/=i,r/=i,[n.canvas,n.shadowCanvas].forEach(function(o){o.style.width="".concat(n.width,"px"),o.style.height="".concat(n.height,"px"),o.width=n.width*i,o.height=n.height*i,!e&&!r&&o.getContext("2d").scale(i,i)});var s=to(n.canvas).k;n.zoom.translateBy(n.zoom.__baseElem,(n.width-e)/2/s,(n.height-r)/2/s),n.needsRedraw=!0}}function pte(n){var e=window.devicePixelRatio;n.setTransform(e,0,0,e,0,0)}function xH(n,e,r){n.save(),pte(n),n.clearRect(0,0,e,r),n.restore()}var e6e=qR({props:td({width:{default:window.innerWidth,onChange:function(e,r){return xD(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(e,r){return xD(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,r){[e.nodes,e.links].every(function(s){return(s||[]).every(function(o){return!o.hasOwnProperty("__indexColor")})})&&r.colorTracker.reset(),[{type:"Node",objs:e.nodes},{type:"Link",objs:e.links}].forEach(i),r.forceGraph.graphData(e),r.shadowGraph.graphData(e);function i(s){var o=s.type,a=s.objs;a.filter(function(l){if(!l.hasOwnProperty("__indexColor"))return!0;var c=r.colorTracker.lookup(l.__indexColor);return!c||!c.hasOwnProperty("d")||c.d!==l}).forEach(function(l){l.__indexColor=r.colorTracker.register({type:o,d:l})})}},triggerUpdate:!1},backgroundColor:{onChange:function(e,r){r.canvas&&e&&(r.canvas.style.background=e)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(e,r){r.shadowGraph.nodeCanvasObject(e?function(i,s,o){return e(i,i.__indexColor,s,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(e,r){r.shadowGraph.linkCanvasObject(e?function(i,s,o){return e(i,i.__indexColor,s,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(e,r){r.zoom.scaleExtent([e,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(e,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],e])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(e,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},showPointerCursor:{default:!0,triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},Z8e),aliases:{stopAnimation:"pauseAnimation"},methods:td({graph2ScreenCoords:function(e,r,i){var s=to(e.canvas);return{x:r*s.k+s.x,y:i*s.k+s.y}},screen2GraphCoords:function(e,r,i){var s=to(e.canvas);return{x:(r-s.x)/s.k,y:(i-s.y)/s.k}},centerAt:function(e,r,i,s){if(!e.canvas)return null;if(r!==void 0||i!==void 0){var o=Object.assign({},r!==void 0?{x:r}:{},i!==void 0?{y:i}:{});return s?e.tweenGroup.add(new HW(a()).to(o,s).easing(Xc.Quadratic.Out).onUpdate(l).start()):l(o),this}return a();function a(){var c=to(e.canvas);return{x:(e.width/2-c.x)/c.k,y:(e.height/2-c.y)/c.k}}function l(c){var u=c.x,f=c.y;e.zoom.translateTo(e.zoom.__baseElem,u===void 0?a().x:u,f===void 0?a().y:f),e.needsRedraw=!0}},zoom:function(e,r,i){if(!e.canvas)return null;if(r!==void 0)return i?e.tweenGroup.add(new HW({k:s()}).to({k:r},i).easing(Xc.Quadratic.Out).onUpdate(function(a){var l=a.k;return o(l)}).start()):o(r),this;return s();function s(){return to(e.canvas).k}function o(a){e.zoom.scaleTo(e.zoom.__baseElem,a),e.needsRedraw=!0}},zoomToFit:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];var l=this.getGraphBbox.apply(this,o);if(l){var c={x:(l.x[0]+l.x[1])/2,y:(l.y[0]+l.y[1])/2},u=Math.max(1e-12,Math.min(1e12,(e.width-i*2)/(l.x[1]-l.x[0]),(e.height-i*2)/(l.y[1]-l.y[0])));this.centerAt(c.x,c.y,r),this.zoom(u,r)}return this},getGraphBbox:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=Yt(e.nodeVal),s=function(l){return Math.sqrt(Math.max(0,i(l)||1))*e.nodeRelSize},o=e.graphData.nodes.filter(r).map(function(a){return{x:a.x,y:a.y,r:s(a)}});return o.length?{x:[K4(o,function(a){return a.x-a.r}),XP(o,function(a){return a.x+a.r})],y:[K4(o,function(a){return a.y-a.r}),XP(o,function(a){return a.y+a.r})]}:null},pauseAnimation:function(e){return e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},J8e),stateInit:function(){return{lastSetZoom:1,zoom:w1e(),forceGraph:new sx,shadowGraph:new sx().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new eje,tweenGroup:new $ee}},init:function(e,r){var i=this;e.innerHTML="";var s=document.createElement("div");s.classList.add("force-graph-container"),s.style.position="relative",e.appendChild(s),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),s.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var o=r.canvas.getContext("2d"),a=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),l={x:-1e12,y:-1e12},c=function(){var d=null,h=window.devicePixelRatio,p=l.x>0&&l.y>0?a.getImageData(l.x*h,l.y*h,1,1):null;return p&&(d=r.colorTracker.lookup(p.data)),d};Dr(r.canvas).call(zve().subject(function(){if(!r.enableNodeDrag)return null;var f=c();return f&&f.type==="Node"?f.d:null}).on("start",function(f){var d=f.subject;d.__initialDragPos={x:d.x,y:d.y,fx:d.fx,fy:d.fy},f.active||(d.fx=d.x,d.fy=d.y),r.canvas.classList.add("grabbable")}).on("drag",function(f){var d=f.subject,h=d.__initialDragPos,p=f,g=to(r.canvas).k,v={x:h.x+(p.x-h.x)/g-d.x,y:h.y+(p.y-h.y)/g-d.y};["x","y"].forEach(function(y){return d["f".concat(y)]=d[y]=h[y]+(p[y]-h[y])/g}),!(!d.__dragged&&X8e>=Math.sqrt(Gbe(["x","y"].map(function(y){return Math.pow(f[y]-h[y],2)}))))&&(r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,d.__dragged=!0,r.onNodeDrag(d,v))}).on("end",function(f){var d=f.subject,h=d.__initialDragPos,p={x:d.x-h.x,y:d.y-h.y};h.fx===void 0&&(d.fx=void 0),h.fy===void 0&&(d.fy=void 0),delete d.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,d.__dragged&&(delete d.__dragged,r.onNodeDragEnd(d,p))})),r.zoom(r.zoom.__baseElem=Dr(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(f){return!f.button&&r.enableZoomPanInteraction&&(f.type!=="wheel"||Yt(r.enableZoomInteraction)(f))&&(f.type==="wheel"||Yt(r.enablePanInteraction)(f))}).on("zoom",function(f){var d=f.transform;[o,a].forEach(function(h){pte(h),h.translate(d.x,d.y),h.scale(d.k,d.k)}),r.isPointerDragging=!0,r.onZoom&&r.onZoom(td(td({},d),i.centerAt())),r.needsRedraw=!0}).on("end",function(f){r.isPointerDragging=!1,r.onZoomEnd&&r.onZoomEnd(td(td({},f.transform),i.centerAt()))}),xD(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){to(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=K8e/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)}),r.tooltip=new wje(s),["pointermove","pointerdown"].forEach(function(f){return s.addEventListener(f,function(d){f==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=d),!r.isPointerDragging&&d.type==="pointermove"&&r.onBackgroundClick&&(d.pressure>0||r.isPointerPressed)&&(d.pointerType==="mouse"||d.movementX===void 0||[d.movementX,d.movementY].some(function(g){return Math.abs(g)>1}))&&(r.isPointerDragging=!0);var h=p(s);l.x=d.pageX-h.left,l.y=d.pageY-h.top;function p(g){var v=g.getBoundingClientRect(),y=window.pageXOffset||document.documentElement.scrollLeft,b=window.pageYOffset||document.documentElement.scrollTop;return{top:v.top+b,left:v.left+y}}},{passive:!0})}),s.addEventListener("pointerup",function(f){if(r.isPointerPressed){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var d=[f,r.pointerDownEvent];requestAnimationFrame(function(){if(f.button===0)if(r.hoverObj){var h=r["on".concat(r.hoverObj.type,"Click")];h&&h.apply(void 0,[r.hoverObj.d].concat(d))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,d);if(f.button===2)if(r.hoverObj){var p=r["on".concat(r.hoverObj.type,"RightClick")];p&&p.apply(void 0,[r.hoverObj.d].concat(d))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,d)})}},{passive:!0}),s.addEventListener("contextmenu",function(f){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(f.preventDefault(),!1)}),r.forceGraph(o),r.shadowGraph(a);var u=a4e(function(){xH(a,r.width,r.height),r.shadowGraph.linkWidth(function(d){return Yt(r.linkWidth)(d)+r.linkHoverPrecision});var f=to(r.canvas);r.shadowGraph.globalScale(f.k).tickFrame()},V8e);r.flushShadowCanvas=u.flush,(this._animationCycle=function f(){var d=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(k){return k.__photons&&k.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var h=r.isPointerDragging?null:c();if(h!==r.hoverObj){var p=r.hoverObj,g=p?p.type:null,v=h?h.type:null;if(g&&g!==v){var y=r["on".concat(g,"Hover")];y&&y(null,p.d)}if(v){var b=r["on".concat(v,"Hover")];b&&b(h.d,g===v?p.d:null)}r.tooltip.content(h&&Yt(r["".concat(h.type.toLowerCase(),"Label")])(h.d)||null),r.canvas.classList[(h&&r["on".concat(v,"Click")]||!h&&r.onBackgroundClick)&&Yt(r.showPointerCursor)(h==null?void 0:h.d)?"add":"remove"]("clickable"),r.hoverObj=h}d&&u()}if(d){xH(o,r.width,r.height);var w=to(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(o,w),r.forceGraph.globalScale(w).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(o,w)}r.tweenGroup.update(),r.animationFrameRequestId=requestAnimationFrame(f)})()},update:function(e){}});const Uw={width:ae.number,height:ae.number,graphData:ae.shape({nodes:ae.arrayOf(ae.object).isRequired,links:ae.arrayOf(ae.object).isRequired}),backgroundColor:ae.string,nodeRelSize:ae.number,nodeId:ae.string,nodeLabel:ae.oneOfType([ae.string,ae.func]),nodeVal:ae.oneOfType([ae.number,ae.string,ae.func]),nodeVisibility:ae.oneOfType([ae.bool,ae.string,ae.func]),nodeColor:ae.oneOfType([ae.string,ae.func]),nodeAutoColorBy:ae.oneOfType([ae.string,ae.func]),onNodeHover:ae.func,onNodeClick:ae.func,linkSource:ae.string,linkTarget:ae.string,linkLabel:ae.oneOfType([ae.string,ae.func]),linkVisibility:ae.oneOfType([ae.bool,ae.string,ae.func]),linkColor:ae.oneOfType([ae.string,ae.func]),linkAutoColorBy:ae.oneOfType([ae.string,ae.func]),linkWidth:ae.oneOfType([ae.number,ae.string,ae.func]),linkCurvature:ae.oneOfType([ae.number,ae.string,ae.func]),linkDirectionalArrowLength:ae.oneOfType([ae.number,ae.string,ae.func]),linkDirectionalArrowColor:ae.oneOfType([ae.string,ae.func]),linkDirectionalArrowRelPos:ae.oneOfType([ae.number,ae.string,ae.func]),linkDirectionalParticles:ae.oneOfType([ae.number,ae.string,ae.func]),linkDirectionalParticleSpeed:ae.oneOfType([ae.number,ae.string,ae.func]),linkDirectionalParticleOffset:ae.oneOfType([ae.number,ae.string,ae.func]),linkDirectionalParticleWidth:ae.oneOfType([ae.number,ae.string,ae.func]),linkDirectionalParticleColor:ae.oneOfType([ae.string,ae.func]),onLinkHover:ae.func,onLinkClick:ae.func,dagMode:ae.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:ae.number,dagNodeFilter:ae.func,onDagError:ae.func,d3AlphaMin:ae.number,d3AlphaDecay:ae.number,d3VelocityDecay:ae.number,warmupTicks:ae.number,cooldownTicks:ae.number,cooldownTime:ae.number,onEngineTick:ae.func,onEngineStop:ae.func,getGraphBbox:ae.func},mte={zoomToFit:ae.func,onNodeRightClick:ae.func,onNodeDrag:ae.func,onNodeDragEnd:ae.func,onLinkRightClick:ae.func,linkHoverPrecision:ae.number,onBackgroundClick:ae.func,onBackgroundRightClick:ae.func,showPointerCursor:ae.oneOfType([ae.bool,ae.func]),enablePointerInteraction:ae.bool,enableNodeDrag:ae.bool},XR={showNavInfo:ae.bool,nodeOpacity:ae.number,nodeResolution:ae.number,nodeThreeObject:ae.oneOfType([ae.object,ae.string,ae.func]),nodeThreeObjectExtend:ae.oneOfType([ae.bool,ae.string,ae.func]),nodePositionUpdate:ae.func,linkOpacity:ae.number,linkResolution:ae.number,linkCurveRotation:ae.oneOfType([ae.number,ae.string,ae.func]),linkMaterial:ae.oneOfType([ae.object,ae.string,ae.func]),linkThreeObject:ae.oneOfType([ae.object,ae.string,ae.func]),linkThreeObjectExtend:ae.oneOfType([ae.bool,ae.string,ae.func]),linkPositionUpdate:ae.func,linkDirectionalArrowResolution:ae.number,linkDirectionalParticleResolution:ae.number,linkDirectionalParticleThreeObject:ae.oneOfType([ae.object,ae.string,ae.func]),forceEngine:ae.oneOf(["d3","ngraph"]),ngraphPhysics:ae.object,numDimensions:ae.oneOf([1,2,3])},t6e=Object.assign({},Uw,mte,{linkLineDash:ae.oneOfType([ae.arrayOf(ae.number),ae.string,ae.func]),nodeCanvasObjectMode:ae.oneOfType([ae.string,ae.func]),nodeCanvasObject:ae.func,nodePointerAreaPaint:ae.func,linkCanvasObjectMode:ae.oneOfType([ae.string,ae.func]),linkCanvasObject:ae.func,linkPointerAreaPaint:ae.func,linkDirectionalParticleCanvasObject:ae.func,autoPauseRedraw:ae.bool,minZoom:ae.number,maxZoom:ae.number,enableZoomInteraction:ae.oneOfType([ae.bool,ae.func]),enablePanInteraction:ae.oneOfType([ae.bool,ae.func]),onZoom:ae.func,onZoomEnd:ae.func,onRenderFramePre:ae.func,onRenderFramePost:ae.func});Object.assign({},Uw,mte,XR,{enableNavigationControls:ae.bool,controlType:ae.oneOf(["trackball","orbit","fly"]),rendererConfig:ae.object,extraRenderers:ae.arrayOf(ae.shape({render:ae.func.isRequired}))});Object.assign({},Uw,XR,{nodeDesc:ae.oneOfType([ae.string,ae.func]),linkDesc:ae.oneOfType([ae.string,ae.func])});Object.assign({},Uw,XR,{markerAttrs:ae.object,yOffset:ae.number,glScale:ae.number});const QR=R5e(e6e,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});QR.displayName="ForceGraph2D";QR.propTypes=t6e;function n6e(){const[n,e]=I.useState(Fg),[r,i]=I.useState(()=>localStorage.getItem("authToken")||""),[s,o]=I.useState(Wx),[a,l]=I.useState(""),[c,u]=I.useState(""),[f,d]=I.useState(!1),[h,p]=I.useState([]),[g,v]=I.useState(!1),[y,b]=I.useState(!1),[w,k]=I.useState("list"),[_,S]=I.useState(()=>e6()),[C,T]=I.useState([]),[D,O]=I.useState(null),P=I.useRef(null),A=I.useRef(0),L=I.useRef(null),B=I.useRef(null),F=I.useRef(null),$=I.useRef(!1),U=(te,se="success")=>{const ye={id:A.current++,timestamp:Date.now(),event:te,type:se};p(Re=>[ye,...Re].slice(0,1e3))},N=I.useRef(new Set);I.useEffect(()=>{if(h.length===0)return;const te=h.filter(Re=>!N.current.has(Re.id));if(te.length===0)return;te.forEach(Re=>N.current.add(Re.id));const se=te.map(Re=>Re.event);DTe(se,_,Re=>{T(Ke=>{const Ee=[...Ke,...Re].filter((z,ve,Ne)=>Ne.findIndex(ge=>ge.id===z.id)===ve),He=Date.now()/1e3-7200,nt=Ee.filter(z=>z.timestamp>=He);return nt.length>5e3?nt.slice(-5e3):nt})})},[h]),I.useEffect(()=>()=>{t6(_),B.current&&(B.current.destroy(),B.current=null),F.current&&(clearInterval(F.current),F.current=null),N.current.clear()},[]),I.useEffect(()=>(F.current=window.setInterval(()=>{xTe(_,3e4)},3e4),()=>{F.current&&(clearInterval(F.current),F.current=null)}),[]);const q=async()=>{if(!y){b(!0),U({event_type:"info",data:{id:"connection",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"connecting",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"info");try{const te=new URL(n);if(te.protocol!=="ws:"&&te.protocol!=="wss:")throw new Error("URL must use ws:// or wss:// protocol")}catch{U({event_type:"error",data:{id:"connection-error",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"error",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error"),b(!1);return}if(P.current)try{P.current.disconnect()}catch{}try{P.current=new tX({url:n,authToken:r||void 0,walletAddress:void 0,deviceID:s||void 0}),P.current.onStateChange(te=>{te===kt.Connected?(d(!0),$.current&&(console.warn("[ExplorerTestPage] Reconnected - history may be incomplete"),$.current=!1),U({event_type:"info",data:{id:"connection-success",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"connected",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"success")):(te===kt.Disconnected||te===kt.Reconnecting)&&(d(!1),v(!1),$.current=!0)}),await P.current.connect()}catch{U({event_type:"error",data:{id:"connection-error",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"error",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error"),d(!1)}finally{b(!1)}}},H=()=>{if(P.current)try{P.current.disconnect(),d(!1),v(!1),U({event_type:"info",data:{id:"disconnected",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"disconnected",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"info")}catch{U({event_type:"error",data:{id:"disconnect-error",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"error",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error")}},X=()=>{var se;if(!((se=P.current)!=null&&se.isConnected())){U({event_type:"error",data:{id:"subscription-error",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"error",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error");return}const te=ye=>{U(ye,"success")};try{const ye={};a&&(ye.shard_id=a),c&&(ye.event_type=c),P.current.subscribeConsensusFlat(te,Object.keys(ye).length>0?ye:void 0),v(!0),U({event_type:"info",data:{id:"subscription-success",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"subscribed",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"success")}catch{U({event_type:"error",data:{id:"subscription-error",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"error",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error")}},Y=()=>{var te;if((te=P.current)!=null&&te.isConnected())try{P.current.unsubscribeConsensusFlat(),v(!1),U({event_type:"info",data:{id:"unsubscribed",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"unsubscribed",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"info")}catch{U({event_type:"error",data:{id:"unsubscribe-error",type:"vertex",shard_id:0,timestamp:Math.floor(Date.now()/1e3),status:"error",original_proto_hash:""},source_shard:"system",event_time:Math.floor(Date.now()/1e3)},"error")}},W=()=>{p([]),T([]),t6(_),S(e6()),O(null),N.current.clear()};I.useEffect(()=>{if(w!=="timeline"){B.current&&(B.current.destroy(),B.current=null);return}if(!L.current||C.length===0)return;B.current&&(B.current.destroy(),B.current=null);const te=setTimeout(()=>{if(!L.current)return;const se=PTe(C),ye=Array.from(new Set(se.map(Ke=>Ke.group||"root"))).map(Ke=>({id:Ke,content:Ke})),Re={height:"500px",zoomable:!0,moveable:!0,selectable:!0,onSelect:Ke=>{Ke.items&&Ke.items.length>0&&O(Ke.items[0])}};B.current=new UR(L.current,se,ye,Re)},0);return()=>{clearTimeout(te),B.current&&(B.current.destroy(),B.current=null)}},[w,C]);const[R,Z]=I.useState(()=>typeof window<"u"?window.innerWidth-100:800);I.useEffect(()=>{if(w!=="graph")return;const te=()=>{Z(window.innerWidth-100)};return window.addEventListener("resize",te),()=>window.removeEventListener("resize",te)},[w]);const J=I.useMemo(()=>w!=="graph"?{nodes:[],links:[]}:ITe(C,D||void 0,5),[w,C,D]),V=I.useMemo(()=>D?C.find(te=>te.id===D):null,[D,C]);return m.jsxs("div",{className:"explorer-test-page",children:[m.jsxs("div",{className:"explorer-test-header",children:[m.jsx("h2",{children:"Consensus Explorer Test"}),m.jsx("p",{children:"Test the consensus_flat WebSocket channel to view flattened consensus events from Morpheum's DAG-based consensus system."})]}),m.jsx(aTe,{wsURL:n,setWsURL:e,authToken:r,setAuthToken:i,deviceID:s,setDeviceID:o,shardId:a,setShardId:l,eventType:c,setEventType:u}),m.jsxs("div",{className:"explorer-test-controls",children:[m.jsxs("div",{className:"control-buttons",children:[m.jsx(Fo,{onClick:q,disabled:y||f,variant:"primary",children:y?"Connecting...":"Connect"}),m.jsx(Fo,{onClick:H,disabled:!f,variant:"secondary",children:"Disconnect"}),m.jsx(Fo,{onClick:X,disabled:!f||g,variant:"primary",children:"Subscribe"}),m.jsx(Fo,{onClick:Y,disabled:!f||!g,variant:"secondary",children:"Unsubscribe"}),m.jsx(Fo,{onClick:W,variant:"secondary",children:"Clear Events"})]}),m.jsxs("div",{className:"connection-status",children:[m.jsx("span",{className:`status-indicator ${f?"connected":"disconnected"}`,children:f?" Connected":" Disconnected"}),g&&m.jsx("span",{className:"status-indicator subscribed",children:" Subscribed to consensus_flat"}),m.jsxs("span",{className:"event-count",children:["Events: ",h.length]}),m.jsxs("span",{className:"event-count",children:["DAG Nodes: ",C.length]})]})]}),m.jsxs("div",{className:"view-controls",children:[m.jsx(Fo,{onClick:()=>k("list"),variant:w==="list"?"primary":"secondary",children:"List View"}),m.jsx(Fo,{onClick:()=>k("timeline"),variant:w==="timeline"?"primary":"secondary",children:"Timeline View"}),m.jsxs(Fo,{onClick:()=>k("graph"),variant:w==="graph"?"primary":"secondary",disabled:C.length>100&&!D,children:["Graph View ",C.length>100&&!D?"(Select node first)":""]})]}),w==="timeline"&&m.jsxs("div",{className:"dag-timeline-container",children:[m.jsx("div",{ref:L,style:{height:"500px",border:"1px solid var(--border)"}}),C.length===0&&m.jsx("div",{className:"empty-state",children:m.jsx("p",{children:"No DAG nodes to display. Connect and subscribe to start receiving events."})})]}),w==="graph"&&m.jsx("div",{className:"dag-graph-container",children:m.jsx(I.Suspense,{fallback:m.jsx("div",{className:"loading-state",children:"Loading graph..."}),children:J.nodes.length>0?m.jsx(QR,{graphData:J,nodeLabel:te=>`${te.label}
Type: ${te.type}
Shard: ${te.shardId}`,nodeColor:te=>te.type==="vertex"?"#3b82f6":te.type==="tx"?"#10b981":"#f59e0b",linkDirectionalArrowLength:6,linkDirectionalArrowRelPos:1,linkColor:()=>"rgba(255, 255, 255, 0.3)",onNodeClick:te=>O(te.id),nodeCanvasObjectMode:()=>"after",nodeCanvasObject:(te,se)=>{te.id===D&&(se.beginPath(),se.arc(te.x||0,te.y||0,8,0,2*Math.PI),se.fillStyle="#f0f63b",se.fill(),se.strokeStyle="#f0f63b",se.lineWidth=2,se.stroke())},height:500,width:R}):m.jsx("div",{className:"empty-state",children:m.jsx("p",{children:C.length===0?"No DAG nodes to display. Connect and subscribe to start receiving events.":C.length>100?"Graph view requires node selection for large datasets. Click a node in timeline view first.":"No graph data available."})})})}),w==="list"&&m.jsx(pTe,{events:h}),D&&V&&m.jsxs("div",{className:"dag-details-pane",children:[m.jsxs("h3",{children:["Node Details: ",D]}),m.jsxs("div",{className:"detail-section",children:[m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Type:"}),m.jsx("span",{className:"detail-value",children:V.nodeType})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Timestamp:"}),m.jsx("span",{className:"detail-value",children:new Date(V.timestamp*1e3).toLocaleString()})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Shard ID:"}),m.jsx("span",{className:"detail-value",children:V.shardId})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Parents:"}),m.jsx("span",{className:"detail-value",children:V.parents.length})]}),m.jsxs("div",{className:"detail-row",children:[m.jsx("span",{className:"detail-label",children:"Children:"}),m.jsx("span",{className:"detail-value",children:V.children.length})]}),m.jsxs("details",{className:"raw-data-details",children:[m.jsx("summary",{children:"View Raw Data"}),m.jsx("pre",{className:"raw-data-pre",children:JSON.stringify(V.data,null,2)})]})]}),m.jsx("div",{style:{marginTop:"10px"},children:m.jsx(Fo,{onClick:()=>O(null),variant:"secondary",children:"Close Details"})})]})]})}const r6e=I.createContext(void 0),pp="onboard_mnemonic",mp="onboard_wallet_address",i6e=({children:n})=>{const[e,r]=I.useState(null),[i,s]=I.useState(null);I.useEffect(()=>{const c=localStorage.getItem(mp),u=localStorage.getItem(pp),f=localStorage.getItem("generatedAddress"),d=localStorage.getItem("mnemonic");c&&u?(r(c),s(u)):f&&d&&(r(f),s(d),localStorage.setItem(mp,f),localStorage.setItem(pp,d),localStorage.removeItem("generatedAddress"),localStorage.removeItem("mnemonic"))},[]),I.useEffect(()=>{const c=u=>{u.key===mp?r(u.newValue):u.key===pp&&s(u.newValue)};return window.addEventListener("storage",c),()=>window.removeEventListener("storage",c)},[]);const o=I.useCallback((c,u)=>{r(c),s(u),localStorage.setItem(mp,c),localStorage.setItem(pp,u)},[]),a=I.useCallback(()=>{r(null),s(null),localStorage.removeItem(mp),localStorage.removeItem(pp)},[]),l=I.useMemo(()=>({generatedAddress:e,mnemonic:i,setGeneratedData:o,clearGeneratedData:a}),[e,i,o,a]);return m.jsx(r6e.Provider,{value:l,children:n})};function s6e(){const{wasmStatus:n,isReady:e}=qhe(),[r,i]=I.useState("main");return I.useEffect(()=>{const s=()=>{i("websocket-test")};return window.addEventListener("navigateToWebSocketTest",s),()=>{window.removeEventListener("navigateToWebSocketTest",s)}},[]),m.jsxs(i6e,{children:[m.jsxs("div",{className:"App",children:[m.jsxs("header",{className:"App-header",children:[m.jsx("h3",{children:"SDK, Testing, QA"}),m.jsxs("nav",{children:[m.jsx("button",{onClick:()=>i("main"),className:`nav-button ${r==="main"?"active":""}`,children:"Morm Signer"}),m.jsx("button",{onClick:()=>i("sdk-test"),className:`nav-button ${r==="sdk-test"?"active":""}`,children:"SDK Trade API"}),m.jsx("button",{onClick:()=>i("websocket-test"),className:`nav-button ${r==="websocket-test"?"active":""}`,children:"WebSocket Test"}),m.jsx("button",{onClick:()=>i("hooks-test"),className:`nav-button ${r==="hooks-test"?"active":""}`,children:"Hooks Test"}),m.jsx("button",{onClick:()=>i("layout-test"),className:`nav-button ${r==="layout-test"?"active":""}`,children:"Layout Test"}),m.jsx("button",{onClick:()=>i("trading-test"),className:`nav-button ${r==="trading-test"?"active":""}`,children:"Trading Test"}),m.jsx("button",{onClick:()=>i("swap-test"),className:`nav-button ${r==="swap-test"?"active":""}`,children:"Swap Test"}),m.jsx("button",{onClick:()=>i("explorer-test"),className:`nav-button ${r==="explorer-test"?"active":""}`,children:"Explorer Test"})]})]}),m.jsx("main",{className:"App-main",children:r==="sdk-test"?m.jsx(yme,{}):r==="websocket-test"?m.jsx(Eme,{}):r==="layout-test"?m.jsx(Ibe,{}):r==="hooks-test"?m.jsx(_1e,{}):r==="trading-test"?m.jsx(sTe,{}):r==="swap-test"?m.jsx(oTe,{}):r==="explorer-test"?m.jsx(n6e,{}):m.jsxs(m.Fragment,{children:[m.jsx("h1",{children:"Morm SDK"}),m.jsx("p",{children:"Test WebAssembly integration for morm_signer with Agent Delegation"}),m.jsx(dme,{status:n}),e&&m.jsxs("div",{className:"App-content gridarrangement",children:[m.jsx("div",{className:"App-section",children:m.jsx(ame,{})}),m.jsx("div",{className:"App-section",children:m.jsx(lme,{})}),m.jsx("div",{className:"App-section",children:m.jsx(cme,{})}),m.jsx("div",{className:"App-section",children:m.jsx(ume,{})})]}),n.error&&m.jsxs("div",{className:"App-error",children:[m.jsx("h3",{children:"Error Loading WASM"}),m.jsx("p",{children:n.error}),m.jsx("p",{children:"Make sure the morm_signer.wasm file is available in the public directory."})]})]})})]}),m.jsx(bbe,{position:"bottom-right",toastOptions:{duration:4e3,style:{color:"var(--foreground)",border:"1px solid var(--border)"}}})]})}const wH=bV({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:23085558},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),_H=bV({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://11155111.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0}),o6e=zce({chains:[wH,_H],connectors:[Ex()],transports:{[wH.id]:p5(),[_H.id]:p5()}}),a6e=new Gae,l6e=wD.createRoot(document.getElementById("root"));l6e.render(m.jsx(Ae.StrictMode,{children:m.jsx(Wce,{config:o6e,children:m.jsx(Vae,{client:a6e,children:m.jsx(s6e,{})})})}));
//# sourceMappingURL=index-BDX8HDBt.js.map
